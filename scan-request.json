{
  "repository": "demo-vulnerable-app",
  "language": "javascript",
  "files": [
    {
      "path": "demo-vulnerable-app.js",
      "content": ""// Demo Vulnerable Application\n// This file contains intentional security vulnerabilities for demonstration purposes\n\nconst express = require('express');\nconst mysql = require('mysql');\nconst app = express();\n\n// VULNERABILITY 1: SQL Injection\napp.get('/user/:id', (req, res) => {\n    const userId = req.params.id;\n    // Vulnerable to SQL injection - user input directly concatenated\n    const query = \"SELECT * FROM users WHERE id = \" + userId;\n    db.query(query, (err, result) => {\n        res.json(result);\n    });\n});\n\n// VULNERABILITY 2: Command Injection\napp.post('/execute', (req, res) => {\n    const userCommand = req.body.command;\n    // Vulnerable to command injection - user input passed to eval\n    eval(userCommand);\n    res.send('Command executed');\n});\n\n// VULNERABILITY 3: XSS (Cross-Site Scripting)\napp.get('/search', (req, res) => {\n    const searchTerm = req.query.q;\n    // Vulnerable to XSS - user input rendered without sanitization\n    res.send(`<h1>Search results for: ${searchTerm}</h1>`);\n});\n\n// VULNERABILITY 4: Path Traversal\napp.get('/file', (req, res) => {\n    const filename = req.query.name;\n    // Vulnerable to path traversal - no validation of file path\n    const fs = require('fs');\n    fs.readFile('./uploads/' + filename, (err, data) => {\n        if (err) return res.status(404).send('File not found');\n        res.send(data);\n    });\n});\n\n// VULNERABILITY 5: Hardcoded Credentials\nconst API_KEY = \"sk-1234567890abcdef\";  // Hardcoded API key\nconst DB_PASSWORD = \"admin123\";         // Hardcoded database password\n\n// VULNERABILITY 6: Insecure Authentication\napp.post('/login', (req, res) => {\n    const username = req.body.username;\n    const password = req.body.password;\n    // Vulnerable to authentication bypass - weak comparison\n    if (username == 'admin' && password == 'password') {\n        res.json({ token: 'secret-token-123' });\n    }\n});\n\napp.listen(3000, () => {\n    console.log('Vulnerable demo app running on port 3000');\n});""
    }
  ]
}
