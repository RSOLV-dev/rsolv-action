import{createRequire as r6}from"node:module";var d6=Object.create;var{getPrototypeOf:c6,defineProperty:u0,getOwnPropertyNames:l6}=Object;var p6=Object.prototype.hasOwnProperty;var n6=($,J,X)=>{X=$!=null?d6(c6($)):{};let Q=J||!$||!$.__esModule?u0(X,"default",{value:$,enumerable:!0}):X;for(let G of l6($))if(!p6.call(Q,G))u0(Q,G,{get:()=>$[G],enumerable:!0});return Q};var d0=($,J)=>{for(var X in J)u0($,X,{get:J[X],enumerable:!0,configurable:!0,set:(Q)=>J[X]=()=>Q})};var D0=($,J)=>()=>($&&(J=$($=0)),J);var o6=r6(import.meta.url);class gJ{minLevel;defaultOptions;constructor($={}){this.minLevel=process.env.LOG_LEVEL?.toLowerCase()||"info",this.defaultOptions={timestamp:!0,...$}}debug($,J){this.log("debug",$,J)}info($,J){this.log("info",$,J)}warn($,J){this.log("warn",$,J)}error($,J){let X;if(J)X={error:J instanceof Error?{message:J.message,stack:J.stack}:J};this.log("error",$,X)}log($,J,X){if(!this.shouldLog($))return;let Q=this.formatLogEntry($,J,X);switch($){case"debug":console.debug(Q);break;case"info":console.info(Q);break;case"warn":console.warn(Q);break;case"error":console.error(Q);break}}shouldLog($){let J=["debug","info","warn","error"],X=J.indexOf(this.minLevel);return J.indexOf($)>=X}formatLogEntry($,J,X){let Q=this.defaultOptions.timestamp?`[${new Date().toISOString()}]`:"",G=`[${$.toUpperCase()}]`,W=`${Q}${G} ${J}`;if(X)try{let Y=JSON.stringify(X,null,2);W+=`
${Y}`}catch(Y){W+=`
[Error serializing metadata]`}return W}setMinLevel($){this.minLevel=$}getMinLevel(){return this.minLevel}}var z;var v=D0(()=>{z=new gJ});var N1={};d0(N1,{RSOLVCredentialManager:()=>x0});class x0{credentials=new Map;apiKey="";rsolvApiUrl;refreshTimers=new Map;constructor(){this.rsolvApiUrl=process.env.RSOLV_API_URL||"https://api.rsolv.dev"}async initialize($){this.apiKey=$,z.info("Initializing RSOLV credential manager");try{let J={api_key:$,providers:["anthropic","openai","openrouter"],ttl_minutes:60};z.info(`Requesting credential exchange from ${this.rsolvApiUrl}/api/v1/credentials/exchange`);let X=await fetch(`${this.rsolvApiUrl}/api/v1/credentials/exchange`,{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json","X-GitHub-Job":process.env.GITHUB_JOB||"","X-GitHub-Run":process.env.GITHUB_RUN_ID||""},body:JSON.stringify(J),signal:AbortSignal.timeout(15000)});if(!X.ok){let G=await X.json();throw z.error(`Credential exchange failed - Status: ${X.status}, Body:`,G),new Error(`Failed to exchange credentials: ${G.error||X.statusText}`)}let Q=await X.json();if(!Q||!Q.credentials)throw z.error("Invalid credential exchange response:",Q),new Error("Invalid response from credential exchange API");if(Object.entries(Q.credentials).forEach(([G,W])=>{z.debug(`Storing credential for ${G}`,{hasApiKey:!!W.api_key,apiKeyLength:W.api_key?.length||0,expiresAt:W.expires_at}),this.credentials.set(G,W)}),Q.usage)z.info(`Credentials initialized. Remaining fixes: ${Q.usage.remaining_fixes}`);else z.info("Credentials initialized");this.scheduleRefresh(Q.credentials)}catch(J){throw z.error("Failed to initialize credentials",J),J}}getCredential($){let J=this.credentials.get($);if(z.debug(`Getting credential for ${$}`,{hasCredential:!!J,hasApiKey:!!J?.api_key,apiKeyLength:J?.api_key?.length||0}),!J)throw new Error(`No valid credential for ${$}`);if(new Date(J.expires_at)<new Date)throw new Error(`Credential for ${$} has expired`);if(!J.api_key)throw new Error(`Credential for ${$} has no API key`);return J.api_key}async reportUsage($,J){try{let X=await fetch(`${this.rsolvApiUrl}/api/v1/usage/report`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({provider:$,tokens_used:J.tokensUsed,request_count:J.requestCount,job_id:process.env.GITHUB_JOB}),signal:AbortSignal.timeout(5000)});if(!X.ok){let Q=await X.json();throw new Error(`Failed to report usage: ${Q.error||X.statusText}`)}}catch(X){z.warn("Failed to report usage",X)}}cleanup(){this.credentials.clear(),this.refreshTimers.forEach(($)=>clearTimeout($)),this.refreshTimers.clear(),z.info("Credential manager cleaned up")}scheduleRefresh($){Object.entries($).forEach(([J,X])=>{let Q=new Date(X.expires_at),G=new Date,Y=Q.getTime()-G.getTime()-300000;if(Y>0){let H=setTimeout(()=>{this.refreshCredentials(J).catch((q)=>{z.error("Failed to refresh credentials",q)})},Y);this.refreshTimers.set(J,H),z.debug(`Scheduled refresh for ${J} in ${Y}ms`)}})}async refreshCredentials($){if(!this.credentials.get($)){z.warn(`No credential found for ${$} during refresh`);return}z.info(`Refreshing credentials for ${$}`);try{let X=await fetch(`${this.rsolvApiUrl}/api/v1/credentials/refresh`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"},body:JSON.stringify({api_key:this.apiKey,credential_id:$}),signal:AbortSignal.timeout(1e4)});if(!X.ok){let W=await X.json();throw new Error(`Failed to refresh credentials: ${W.error||X.statusText}`)}let G=(await X.json()).credentials[$];if(G)this.credentials.set($,G),z.info(`Successfully refreshed credentials for ${$}`),this.scheduleRefresh({[$]:G})}catch(X){throw z.error(`Failed to refresh credentials for ${$}`,X),X}}}var h0=D0(()=>{v()});function p($){let J=$;J=J.replace(/https?:\/\/api\.[a-zA-Z0-9.-]+\.(com|ai|dev|io)(\/[a-zA-Z0-9/\-._~:/?#[\]@!$&'()*+,;=]*)?/gi,"API endpoint"),J=J.replace(/\b(sk-proj-|sk-|ant_|key[:\s]+)[a-zA-Z0-9_\-]{8,}/gi,"API credential"),J=J.replace(/\b(api[_-]?key|token|secret|credential)([:\s]+)[a-zA-Z0-9_\-]{8,}/gi,"$1$2[REDACTED]"),J=J.replace(/\b[A-Z][A-Z0-9_]*_API_KEY\b/g,"API_KEY"),J=J.replace(/\b(claude-[0-9a-z\-\.]+|gpt-[0-9a-z\-\.]+|text-davinci-[0-9]+)\b/gi,"AI model");let Q=new RegExp(`\\b(${["anthropic","claude","openai","gpt","mistral","ollama","gemini","bard"].join("|")})\\b`,"gi");if(J=J.replace(Q,"AI provider"),J.includes("Failed to connect to"))J=J.replace(/Failed to connect to .+ API/g,"Failed to connect to AI provider API");return J=J.replace(/\/v\d+\/[a-zA-Z]+/g,"/api/endpoint"),J=J.replace(/\/chat\/completions/g,"/api/endpoint"),J=J.replace(/\s+/g," ").trim(),J=J.replace(/AI provider provider/gi,"AI provider"),J=J.replace(/API credential credential/gi,"API credential"),J}async function i$($){if($.useVendedCredentials&&!K$)try{let J=process.env.RSOLV_API_KEY;if(!J)throw new Error("RSOLV_API_KEY environment variable not set for vended credentials");z.info("Initializing credential manager for vended credentials"),K$=new x0,await K$.initialize(J),z.info("Credential manager initialized successfully")}catch(J){throw z.error("Failed to initialize credential vending",J),K$=null,J}switch($.provider.toLowerCase()){case"openai":return new L6($,K$);case"anthropic":case"claude-code":return new _6($,K$);case"mistral":return new N6($,K$);case"ollama":return new j6($,K$);default:throw new Error(`Unsupported AI provider: ${$.provider}`)}}class L6{config;credentialManager;constructor($,J){if(this.config=$,this.credentialManager=J,!$.useVendedCredentials&&!$.apiKey)throw new Error("AI provider API key is required")}async complete($,J={}){try{return z.debug("Sending request to AI provider",{prompt:$.substring(0,100)+"..."}),await this.makeApiCall($,J)}catch(X){throw z.error("AI provider API error",X),new Error(p(`AI provider error: ${X instanceof Error?X.message:String(X)}`))}}async makeApiCall($,J){try{let X=this.config.baseUrl||"https://api.openai.com/v1",Q=J.model||this.config.model||"gpt-4",G=J.temperature??this.config.temperature??0.2,W=J.maxTokens??this.config.maxTokens??2000,Y={model:Q,messages:[{role:"user",content:$}],temperature:G,max_tokens:W,top_p:J.topP??1,frequency_penalty:J.frequencyPenalty??0,presence_penalty:J.presencePenalty??0},H;try{H=this.config.useVendedCredentials?this.credentialManager?.getCredential("openai"):this.config.apiKey}catch(M){throw new Error("Failed to retrieve API key")}if(!H)throw new Error("Failed to retrieve API key");let q=await fetch(`${X}/chat/completions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H}`},body:JSON.stringify(Y)});if(!q.ok){let M=await q.json().catch(()=>({}));throw new Error(p(`AI provider error (${q.status}): ${M.error?.message||q.statusText}`))}let B=await q.json(),U=B.choices[0]?.message?.content||"";if(this.config.useVendedCredentials&&this.credentialManager){let M=B.usage?.total_tokens||0;await this.credentialManager.reportUsage("openai",{tokensUsed:M,requestCount:1})}return U}catch(X){throw z.error("Error calling AI provider API",X),X}}getMockResponse($){return`Analysis of the issue:

This appears to be a bug in the authentication system where token validation is failing for valid tokens that contain special characters. The issue is likely in the token parsing logic.

Files to modify:
- \`src/auth/tokenValidator.js\`
- \`src/utils/stringEscaping.js\`

Suggested Approach:
The token validator is not properly handling URL-encoded characters. We need to update the validation function to properly decode tokens before validation, and ensure that special characters are correctly handled throughout the authentication flow.`}}class _6{config;credentialManager;constructor($,J){if(this.config=$,this.credentialManager=J,!$.useVendedCredentials&&!$.apiKey)throw new Error("AI provider API key is required")}async complete($,J={}){try{return z.debug("Sending request to AI provider",{prompt:$.substring(0,100)+"..."}),await this.makeApiCall($,J)}catch(X){throw z.error("AI provider API error",X),new Error(p(`AI provider error: ${X instanceof Error?X.message:String(X)}`))}}async makeApiCall($,J){try{let X=this.config.baseUrl||"https://api.anthropic.com",Q=J.model||this.config.model||"claude-3-sonnet-20240229",G=J.temperature??this.config.temperature??0.2,W=J.maxTokens??this.config.maxTokens??2000,Y={model:Q,messages:[{role:"user",content:$}],temperature:G,max_tokens:W,top_p:J.topP??1},H;try{if(this.config.useVendedCredentials){if(z.debug(`Attempting to get vended credential - credentialManager exists: ${!!this.credentialManager}`),!this.credentialManager)throw new Error("Credential manager not initialized for vended credentials");H=this.credentialManager.getCredential("anthropic")}else H=this.config.apiKey}catch(M){throw z.error("Failed to get API key",{useVended:this.config.useVendedCredentials,hasCredentialManager:!!this.credentialManager,error:M instanceof Error?M.message:String(M)}),new Error(`Failed to retrieve API key: ${M instanceof Error?M.message:String(M)}`)}if(!H)throw new Error("Failed to retrieve API key - key is empty");let q=await fetch(`${X}/v1/messages`,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":H,"anthropic-version":"2023-06-01"},body:JSON.stringify(Y)});if(!q.ok){let M=await q.json().catch(()=>({}));throw new Error(p(`AI provider error (${q.status}): ${M.error?.message||q.statusText}`))}let B=await q.json(),U=B.content?.[0]?.text||"";if(this.config.useVendedCredentials&&this.credentialManager){let M=B.usage?.total_tokens||0;await this.credentialManager.reportUsage("anthropic",{tokensUsed:M,requestCount:1})}return U}catch(X){throw z.error("Error calling AI provider API",X),X}}getMockResponse($){return`Based on my analysis, this is a performance issue in the data processing pipeline.

The main bottleneck appears to be in the file processing function that's not properly streaming large files, leading to excessive memory usage.

Files that need modification:
- \`src/services/fileProcessor.js\`
- \`src/utils/streamHandler.js\`

This is a medium complexity issue that will require implementing proper stream processing instead of loading the entire file into memory. The fix should significantly reduce memory usage and improve processing speed.`}}class N6{config;credentialManager;constructor($,J){if(this.config=$,this.credentialManager=J,!$.useVendedCredentials&&!$.apiKey)throw new Error("AI provider API key is required")}async complete($,J={}){try{return z.debug("Sending request to AI provider",{prompt:$.substring(0,100)+"..."}),await this.simulateApiCall($,J)}catch(X){throw z.error("AI provider API error",X),new Error(p(`AI provider error: ${X instanceof Error?X.message:String(X)}`))}}async simulateApiCall($,J){return await new Promise((X)=>setTimeout(X,550)),`This is a documentation issue where the installation instructions are unclear for Windows users.

The documentation needs to be updated to include Windows-specific commands and requirements.

Files to modify:
- \`docs/installation.md\`
- \`README.md\`

This is a simple fix that involves adding a new section for Windows installation instructions, including how to set up the environment variables correctly and handle path differences.`}}class j6{config;credentialManager;constructor($,J){this.config=$,this.credentialManager=J}async complete($,J={}){try{return z.debug("Sending request to AI provider",{prompt:$.substring(0,100)+"..."}),await this.simulateApiCall($,J)}catch(X){throw z.error("AI provider API error",X),new Error(p(`AI provider error: ${X instanceof Error?X.message:String(X)}`))}}async simulateApiCall($,J){return await new Promise((X)=>setTimeout(X,1000)),`I've analyzed the feature request for adding pagination to the API endpoints.

This is a medium complexity task that will require modifying multiple files:
- \`src/controllers/userController.js\`
- \`src/services/queryService.js\`
- \`src/middleware/pagination.js\` (new file needed)

The approach should be to create a reusable pagination middleware that can be applied to all list endpoints. This will require updating the query service to support limit and offset parameters, and updating the controllers to use the new middleware.`}}var K$=null;var m0=D0(()=>{v();h0()});function S6($){return`I need you to analyze the following software issue and provide a technical assessment.

Issue Title: ${$.title}

Issue Description:
${$.body}

Repository: ${$.repository.fullName}
Primary Language: ${$.repository.language||"Unknown"}

Please provide:
1. A determination of what type of issue this is (bug, feature request, refactoring, etc.)
2. Which files are likely to need modification
3. An estimate of the complexity (simple, medium, complex)
4. A suggested approach to solve the issue

Focus on technical details and be specific about the implementation approach. If the issue description lacks critical information, note what additional context would be needed.`}function E6($,J,X){let Q=`I need you to generate a solution for the following software issue:

Issue Title: ${$.title}

Issue Description:
${$.body}

Repository: ${$.repository.fullName}
Primary Language: ${$.repository.language||"Unknown"}

Based on my analysis, this is a ${J.issueType} issue with ${J.estimatedComplexity} complexity.

The suggested approach is: ${J.suggestedApproach}

I need you to generate specific code changes to resolve this issue. Here are the relevant files with their current content:
`;for(let[G,W]of Object.entries(X))Q+=`
--- ${G} ---
\`\`\`
${W}
\`\`\`
`;return Q+=`
IMPORTANT: Format your response EXACTLY as shown below for proper parsing:

For each file that needs to be modified, use one of these formats:

Option 1 (preferred):
filename.ext:
\`\`\`language
[complete file content]
\`\`\`

Option 2:
--- filename.ext ---
\`\`\`language
[complete file content]
\`\`\`

Example:
src/auth/login.js:
\`\`\`javascript
function authenticateUser(username, password) {
  // secure implementation here
}
\`\`\`

CRITICAL: The parser requires EXACT formatting. Use one of the above formats or the solution will fail.

After all file changes, add:
1. Brief explanation of changes
2. How this fixes the issue
3. Any assumptions made

Provide complete, working code following existing patterns.`,Q}function I6($,J,X){let Q=Object.keys(X).join(", ");return`I need you to generate a clear, professional pull request description for the following changes.

Issue: ${$.title} (#${$.number})

Issue Type: ${J.issueType}
Complexity: ${J.estimatedComplexity}

Files modified: ${Q}

Approach taken: ${J.suggestedApproach}

Please generate a pull request description with:
1. A clear, concise title that summarizes the change
2. A detailed description explaining what was changed and why
3. Any testing instructions or considerations for reviewers
4. References to the original issue

Keep the tone professional but friendly, and focus on the technical details that would be relevant to code reviewers.`}function P6($){switch($){case"bug":return"For this bug fix, focus on identifying the root cause first before implementing a solution. Consider edge cases and ensure your fix doesn't introduce regressions. Include tests that verify the fix works as expected.";case"feature":return"For this feature implementation, ensure the solution is well-integrated with the existing architecture. Consider backward compatibility, error handling, and appropriate documentation. Include tests for the new functionality.";case"refactoring":return"For this refactoring task, maintain identical functionality while improving the code structure. Focus on readability, maintainability, and adherence to design principles. Ensure tests pass before and after your changes.";case"performance":return"For this performance improvement, focus on identifying bottlenecks and optimizing critical paths. Consider time and space complexity, and measure before/after metrics where possible. Be careful not to sacrifice code readability for marginal gains.";case"security":return"For this security issue, approach with extra caution. Ensure the fix addresses the root vulnerability completely without introducing new attack vectors. Consider all possible exploit scenarios and follow security best practices.";case"documentation":return"For this documentation task, focus on clarity, completeness, and accuracy. Ensure examples are working and up-to-date. Consider both beginner and advanced users, and follow any documentation style guidelines present in the project.";case"dependency":return"For this dependency update, carefully check for breaking changes and necessary adjustments to the codebase. Update any affected tests and documentation. Consider whether the update brings security fixes that should be highlighted.";case"test":return"For this testing task, ensure comprehensive coverage of edge cases and typical usage patterns. Follow existing testing patterns and naming conventions. Consider both unit and integration tests as appropriate for the code being tested.";default:return"For this task, ensure your solution is well-integrated with the existing codebase and follows the project's coding conventions. Include appropriate error handling, documentation, and tests."}}var C6={};d0(C6,{analyzeIssue:()=>S1});async function S1($,J,X){z.info(`Analyzing issue #${$.number} with AI`);let Q=X||await i$(J.aiProvider),G=S6($);try{let W=await Q.complete(G,{temperature:J.aiProvider.temperature||0.2,maxTokens:J.aiProvider.maxTokens||2000,model:J.aiProvider.model});return z.debug("AI analysis response received",{response:W}),k7(W,$)}catch(W){throw z.error("Error analyzing issue with AI",W),new Error(`AI analysis failed: ${W instanceof Error?W.message:String(W)}`)}}function k7($,J){try{z.info(`AI analysis response for issue #${J.number}:`,$.substring(0,500));let X=T7(J),Q=[],G="medium",W=/`([\w\-./]+\.[\w]+)`|"([\w\-./]+\.[\w]+)"|'([\w\-./]+\.[\w]+)'|([\w\-./]*\/[\w\-./]*\.(?:js|ts|py|java|rb|php|go|rs|cpp|c|h))/g,Y;while((Y=W.exec($))!==null){let U=Y[1]||Y[2]||Y[3]||Y[4];if(U&&!Q.includes(U))Q.push(U)}let H=["login.js","auth.js","login.ts","auth.ts","authentication.js","authentication.ts","security.js","security.ts"];for(let U of H)if($.toLowerCase().includes(U.toLowerCase())&&!Q.includes(U))Q.push(U);if($.toLowerCase().includes("simple")||$.toLowerCase().includes("straightforward"))G="simple";else if($.toLowerCase().includes("complex")||$.toLowerCase().includes("challenging"))G="complex";let q="",B=["Suggested Approach:","Approach:","Solution:","Fix:","Recommendation:","To fix this"];for(let U of B)if($.includes(U)){if(q=$.split(U)[1]?.split(`

`)[0]?.trim()||"",q)break}if(!q&&$.length>50)if($.length>500)q=$.trim();else q=$.split(`

`).filter((M)=>M.trim().length>20)[0]?.trim()||"";return z.info(`Parsed analysis for issue #${J.number}:`,{filesToModify:Q,suggestedApproach:q.substring(0,100),canBeFixed:Q.length>0&&q.length>0}),{issueType:X,filesToModify:Q,estimatedComplexity:G,requiredContext:[],suggestedApproach:q,confidenceScore:0.7,canBeFixed:(Q.length>0||q.length>50)&&q.length>0}}catch(X){return z.error("Error parsing AI analysis response",X),{issueType:"other",filesToModify:[],estimatedComplexity:"medium",requiredContext:[],suggestedApproach:"Unable to determine approach from AI analysis.",canBeFixed:!1}}}function T7($){let J=$.title.toLowerCase(),X=$.body.toLowerCase(),Q=`${J} ${X}`;for(let G of $.labels){if(G.toLowerCase().includes("bug"))return"bug";if(G.toLowerCase().includes("feature"))return"feature";if(G.toLowerCase().includes("refactor"))return"refactoring";if(G.toLowerCase().includes("performance"))return"performance";if(G.toLowerCase().includes("security"))return"security";if(G.toLowerCase().includes("documentation"))return"documentation";if(G.toLowerCase().includes("dependency"))return"dependency";if(G.toLowerCase().includes("test"))return"test"}if(Q.includes("fix")||Q.includes("bug")||Q.includes("issue")||Q.includes("crash")||Q.includes("error"))return"bug";else if(Q.includes("add")||Q.includes("new")||Q.includes("feature")||Q.includes("implement"))return"feature";else if(Q.includes("refactor")||Q.includes("clean")||Q.includes("improve code"))return"refactoring";else if(Q.includes("performance")||Q.includes("slow")||Q.includes("optimize")||Q.includes("speed"))return"performance";else if(Q.includes("secur")||Q.includes("vulnerab")||Q.includes("hack")||Q.includes("attack"))return"security";else if(Q.includes("document")||Q.includes("readme")||Q.includes("wiki")||Q.includes("comment"))return"documentation";else if(Q.includes("dependency")||Q.includes("upgrade")||Q.includes("update")||Q.includes("package"))return"dependency";else if(Q.includes("test")||Q.includes("spec")||Q.includes("unit test")||Q.includes("coverage"))return"test";return"other"}var E1=D0(()=>{v();m0()});import*as k0 from"fs";/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function XJ($){return typeof $==="undefined"||$===null}function i6($){return typeof $==="object"&&$!==null}function a6($){if(Array.isArray($))return $;else if(XJ($))return[];return[$]}function s6($,J){var X,Q,G,W;if(J){W=Object.keys(J);for(X=0,Q=W.length;X<Q;X+=1)G=W[X],$[G]=J[G]}return $}function t6($,J){var X="",Q;for(Q=0;Q<J;Q+=1)X+=$;return X}function e6($){return $===0&&Number.NEGATIVE_INFINITY===1/$}var $8=XJ,J8=i6,X8=a6,Q8=t6,G8=e6,Y8=s6,x={isNothing:$8,isObject:J8,toArray:X8,repeat:Q8,isNegativeZero:G8,extend:Y8};function QJ($,J){var X="",Q=$.reason||"(unknown reason)";if(!$.mark)return Q;if($.mark.name)X+='in "'+$.mark.name+'" ';if(X+="("+($.mark.line+1)+":"+($.mark.column+1)+")",!J&&$.mark.snippet)X+=`

`+$.mark.snippet;return Q+" "+X}function t$($,J){if(Error.call(this),this.name="YAMLException",this.reason=$,this.mark=J,this.message=QJ(this,!1),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack||""}t$.prototype=Object.create(Error.prototype);t$.prototype.constructor=t$;t$.prototype.toString=function $(J){return this.name+": "+QJ(this,J)};var u=t$;function c0($,J,X,Q,G){var W="",Y="",H=Math.floor(G/2)-1;if(Q-J>H)W=" ... ",J=Q-H+W.length;if(X-Q>H)Y=" ...",X=Q+H-Y.length;return{str:W+$.slice(J,X).replace(/\t/g,"→")+Y,pos:Q-J+W.length}}function l0($,J){return x.repeat(" ",J-$.length)+$}function W8($,J){if(J=Object.create(J||null),!$.buffer)return null;if(!J.maxLength)J.maxLength=79;if(typeof J.indent!=="number")J.indent=1;if(typeof J.linesBefore!=="number")J.linesBefore=3;if(typeof J.linesAfter!=="number")J.linesAfter=2;var X=/\r?\n|\r|\0/g,Q=[0],G=[],W,Y=-1;while(W=X.exec($.buffer))if(G.push(W.index),Q.push(W.index+W[0].length),$.position<=W.index&&Y<0)Y=Q.length-2;if(Y<0)Y=Q.length-1;var H="",q,B,U=Math.min($.line+J.linesAfter,G.length).toString().length,M=J.maxLength-(J.indent+U+3);for(q=1;q<=J.linesBefore;q++){if(Y-q<0)break;B=c0($.buffer,Q[Y-q],G[Y-q],$.position-(Q[Y]-Q[Y-q]),M),H=x.repeat(" ",J.indent)+l0(($.line-q+1).toString(),U)+" | "+B.str+`
`+H}B=c0($.buffer,Q[Y],G[Y],$.position,M),H+=x.repeat(" ",J.indent)+l0(($.line+1).toString(),U)+" | "+B.str+`
`,H+=x.repeat("-",J.indent+U+3+B.pos)+`^
`;for(q=1;q<=J.linesAfter;q++){if(Y+q>=G.length)break;B=c0($.buffer,Q[Y+q],G[Y+q],$.position-(Q[Y]-Q[Y+q]),M),H+=x.repeat(" ",J.indent)+l0(($.line+q+1).toString(),U)+" | "+B.str+`
`}return H.replace(/\n$/,"")}var H8=W8,z8=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],q8=["scalar","sequence","mapping"];function B8($){var J={};if($!==null)Object.keys($).forEach(function(X){$[X].forEach(function(Q){J[String(Q)]=X})});return J}function U8($,J){if(J=J||{},Object.keys(J).forEach(function(X){if(z8.indexOf(X)===-1)throw new u('Unknown option "'+X+'" is met in definition of "'+$+'" YAML type.')}),this.options=J,this.tag=$,this.kind=J.kind||null,this.resolve=J.resolve||function(){return!0},this.construct=J.construct||function(X){return X},this.instanceOf=J.instanceOf||null,this.predicate=J.predicate||null,this.represent=J.represent||null,this.representName=J.representName||null,this.defaultStyle=J.defaultStyle||null,this.multi=J.multi||!1,this.styleAliases=B8(J.styleAliases||null),q8.indexOf(this.kind)===-1)throw new u('Unknown kind "'+this.kind+'" is specified for "'+$+'" YAML type.')}var m=U8;function u1($,J){var X=[];return $[J].forEach(function(Q){var G=X.length;X.forEach(function(W,Y){if(W.tag===Q.tag&&W.kind===Q.kind&&W.multi===Q.multi)G=Y}),X[G]=Q}),X}function M8(){var $={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},J,X;function Q(G){if(G.multi)$.multi[G.kind].push(G),$.multi.fallback.push(G);else $[G.kind][G.tag]=$.fallback[G.tag]=G}for(J=0,X=arguments.length;J<X;J+=1)arguments[J].forEach(Q);return $}function n0($){return this.extend($)}n0.prototype.extend=function $(J){var X=[],Q=[];if(J instanceof m)Q.push(J);else if(Array.isArray(J))Q=Q.concat(J);else if(J&&(Array.isArray(J.implicit)||Array.isArray(J.explicit))){if(J.implicit)X=X.concat(J.implicit);if(J.explicit)Q=Q.concat(J.explicit)}else throw new u("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");X.forEach(function(W){if(!(W instanceof m))throw new u("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(W.loadKind&&W.loadKind!=="scalar")throw new u("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(W.multi)throw new u("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),Q.forEach(function(W){if(!(W instanceof m))throw new u("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var G=Object.create(n0.prototype);return G.implicit=(this.implicit||[]).concat(X),G.explicit=(this.explicit||[]).concat(Q),G.compiledImplicit=u1(G,"implicit"),G.compiledExplicit=u1(G,"explicit"),G.compiledTypeMap=M8(G.compiledImplicit,G.compiledExplicit),G};var V8=n0,F8=new m("tag:yaml.org,2002:str",{kind:"scalar",construct:function($){return $!==null?$:""}}),K8=new m("tag:yaml.org,2002:seq",{kind:"sequence",construct:function($){return $!==null?$:[]}}),w8=new m("tag:yaml.org,2002:map",{kind:"mapping",construct:function($){return $!==null?$:{}}}),R8=new V8({explicit:[F8,K8,w8]});function O8($){if($===null)return!0;var J=$.length;return J===1&&$==="~"||J===4&&($==="null"||$==="Null"||$==="NULL")}function D8(){return null}function A8($){return $===null}var L8=new m("tag:yaml.org,2002:null",{kind:"scalar",resolve:O8,construct:D8,predicate:A8,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function _8($){if($===null)return!1;var J=$.length;return J===4&&($==="true"||$==="True"||$==="TRUE")||J===5&&($==="false"||$==="False"||$==="FALSE")}function N8($){return $==="true"||$==="True"||$==="TRUE"}function j8($){return Object.prototype.toString.call($)==="[object Boolean]"}var S8=new m("tag:yaml.org,2002:bool",{kind:"scalar",resolve:_8,construct:N8,predicate:j8,represent:{lowercase:function($){return $?"true":"false"},uppercase:function($){return $?"TRUE":"FALSE"},camelcase:function($){return $?"True":"False"}},defaultStyle:"lowercase"});function E8($){return 48<=$&&$<=57||65<=$&&$<=70||97<=$&&$<=102}function I8($){return 48<=$&&$<=55}function P8($){return 48<=$&&$<=57}function C8($){if($===null)return!1;var J=$.length,X=0,Q=!1,G;if(!J)return!1;if(G=$[X],G==="-"||G==="+")G=$[++X];if(G==="0"){if(X+1===J)return!0;if(G=$[++X],G==="b"){X++;for(;X<J;X++){if(G=$[X],G==="_")continue;if(G!=="0"&&G!=="1")return!1;Q=!0}return Q&&G!=="_"}if(G==="x"){X++;for(;X<J;X++){if(G=$[X],G==="_")continue;if(!E8($.charCodeAt(X)))return!1;Q=!0}return Q&&G!=="_"}if(G==="o"){X++;for(;X<J;X++){if(G=$[X],G==="_")continue;if(!I8($.charCodeAt(X)))return!1;Q=!0}return Q&&G!=="_"}}if(G==="_")return!1;for(;X<J;X++){if(G=$[X],G==="_")continue;if(!P8($.charCodeAt(X)))return!1;Q=!0}if(!Q||G==="_")return!1;return!0}function Z8($){var J=$,X=1,Q;if(J.indexOf("_")!==-1)J=J.replace(/_/g,"");if(Q=J[0],Q==="-"||Q==="+"){if(Q==="-")X=-1;J=J.slice(1),Q=J[0]}if(J==="0")return 0;if(Q==="0"){if(J[1]==="b")return X*parseInt(J.slice(2),2);if(J[1]==="x")return X*parseInt(J.slice(2),16);if(J[1]==="o")return X*parseInt(J.slice(2),8)}return X*parseInt(J,10)}function k8($){return Object.prototype.toString.call($)==="[object Number]"&&($%1===0&&!x.isNegativeZero($))}var T8=new m("tag:yaml.org,2002:int",{kind:"scalar",resolve:C8,construct:Z8,predicate:k8,represent:{binary:function($){return $>=0?"0b"+$.toString(2):"-0b"+$.toString(2).slice(1)},octal:function($){return $>=0?"0o"+$.toString(8):"-0o"+$.toString(8).slice(1)},decimal:function($){return $.toString(10)},hexadecimal:function($){return $>=0?"0x"+$.toString(16).toUpperCase():"-0x"+$.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),v8=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function b8($){if($===null)return!1;if(!v8.test($)||$[$.length-1]==="_")return!1;return!0}function f8($){var J,X;if(J=$.replace(/_/g,"").toLowerCase(),X=J[0]==="-"?-1:1,"+-".indexOf(J[0])>=0)J=J.slice(1);if(J===".inf")return X===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;else if(J===".nan")return NaN;return X*parseFloat(J,10)}var x8=/^[-+]?[0-9]+e/;function h8($,J){var X;if(isNaN($))switch(J){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===$)switch(J){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===$)switch(J){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(x.isNegativeZero($))return"-0.0";return X=$.toString(10),x8.test(X)?X.replace("e",".e"):X}function m8($){return Object.prototype.toString.call($)==="[object Number]"&&($%1!==0||x.isNegativeZero($))}var y8=new m("tag:yaml.org,2002:float",{kind:"scalar",resolve:b8,construct:f8,predicate:m8,represent:h8,defaultStyle:"lowercase"}),g8=R8.extend({implicit:[L8,S8,T8,y8]}),u8=g8,GJ=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YJ=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function d8($){if($===null)return!1;if(GJ.exec($)!==null)return!0;if(YJ.exec($)!==null)return!0;return!1}function c8($){var J,X,Q,G,W,Y,H,q=0,B=null,U,M,F;if(J=GJ.exec($),J===null)J=YJ.exec($);if(J===null)throw new Error("Date resolve error");if(X=+J[1],Q=+J[2]-1,G=+J[3],!J[4])return new Date(Date.UTC(X,Q,G));if(W=+J[4],Y=+J[5],H=+J[6],J[7]){q=J[7].slice(0,3);while(q.length<3)q+="0";q=+q}if(J[9]){if(U=+J[10],M=+(J[11]||0),B=(U*60+M)*60000,J[9]==="-")B=-B}if(F=new Date(Date.UTC(X,Q,G,W,Y,H,q)),B)F.setTime(F.getTime()-B);return F}function l8($){return $.toISOString()}var p8=new m("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:d8,construct:c8,instanceOf:Date,represent:l8});function n8($){return $==="<<"||$===null}var r8=new m("tag:yaml.org,2002:merge",{kind:"scalar",resolve:n8}),s0=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function o8($){if($===null)return!1;var J,X,Q=0,G=$.length,W=s0;for(X=0;X<G;X++){if(J=W.indexOf($.charAt(X)),J>64)continue;if(J<0)return!1;Q+=6}return Q%8===0}function i8($){var J,X,Q=$.replace(/[\r\n=]/g,""),G=Q.length,W=s0,Y=0,H=[];for(J=0;J<G;J++){if(J%4===0&&J)H.push(Y>>16&255),H.push(Y>>8&255),H.push(Y&255);Y=Y<<6|W.indexOf(Q.charAt(J))}if(X=G%4*6,X===0)H.push(Y>>16&255),H.push(Y>>8&255),H.push(Y&255);else if(X===18)H.push(Y>>10&255),H.push(Y>>2&255);else if(X===12)H.push(Y>>4&255);return new Uint8Array(H)}function a8($){var J="",X=0,Q,G,W=$.length,Y=s0;for(Q=0;Q<W;Q++){if(Q%3===0&&Q)J+=Y[X>>18&63],J+=Y[X>>12&63],J+=Y[X>>6&63],J+=Y[X&63];X=(X<<8)+$[Q]}if(G=W%3,G===0)J+=Y[X>>18&63],J+=Y[X>>12&63],J+=Y[X>>6&63],J+=Y[X&63];else if(G===2)J+=Y[X>>10&63],J+=Y[X>>4&63],J+=Y[X<<2&63],J+=Y[64];else if(G===1)J+=Y[X>>2&63],J+=Y[X<<4&63],J+=Y[64],J+=Y[64];return J}function s8($){return Object.prototype.toString.call($)==="[object Uint8Array]"}var t8=new m("tag:yaml.org,2002:binary",{kind:"scalar",resolve:o8,construct:i8,predicate:s8,represent:a8}),e8=Object.prototype.hasOwnProperty,$9=Object.prototype.toString;function J9($){if($===null)return!0;var J=[],X,Q,G,W,Y,H=$;for(X=0,Q=H.length;X<Q;X+=1){if(G=H[X],Y=!1,$9.call(G)!=="[object Object]")return!1;for(W in G)if(e8.call(G,W))if(!Y)Y=!0;else return!1;if(!Y)return!1;if(J.indexOf(W)===-1)J.push(W);else return!1}return!0}function X9($){return $!==null?$:[]}var Q9=new m("tag:yaml.org,2002:omap",{kind:"sequence",resolve:J9,construct:X9}),G9=Object.prototype.toString;function Y9($){if($===null)return!0;var J,X,Q,G,W,Y=$;W=new Array(Y.length);for(J=0,X=Y.length;J<X;J+=1){if(Q=Y[J],G9.call(Q)!=="[object Object]")return!1;if(G=Object.keys(Q),G.length!==1)return!1;W[J]=[G[0],Q[G[0]]]}return!0}function W9($){if($===null)return[];var J,X,Q,G,W,Y=$;W=new Array(Y.length);for(J=0,X=Y.length;J<X;J+=1)Q=Y[J],G=Object.keys(Q),W[J]=[G[0],Q[G[0]]];return W}var H9=new m("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Y9,construct:W9}),z9=Object.prototype.hasOwnProperty;function q9($){if($===null)return!0;var J,X=$;for(J in X)if(z9.call(X,J)){if(X[J]!==null)return!1}return!0}function B9($){return $!==null?$:{}}var U9=new m("tag:yaml.org,2002:set",{kind:"mapping",resolve:q9,construct:B9}),WJ=u8.extend({implicit:[p8,r8],explicit:[t8,Q9,H9,U9]}),z$=Object.prototype.hasOwnProperty,A0=1,HJ=2,zJ=3,L0=4,p0=1,M9=2,d1=3,V9=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,F9=/[\x85\u2028\u2029]/,K9=/[,\[\]\{\}]/,qJ=/^(?:!|!!|![a-z\-]+!)$/i,BJ=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function c1($){return Object.prototype.toString.call($)}function t($){return $===10||$===13}function R$($){return $===9||$===32}function d($){return $===9||$===32||$===10||$===13}function I$($){return $===44||$===91||$===93||$===123||$===125}function w9($){var J;if(48<=$&&$<=57)return $-48;if(J=$|32,97<=J&&J<=102)return J-97+10;return-1}function R9($){if($===120)return 2;if($===117)return 4;if($===85)return 8;return 0}function O9($){if(48<=$&&$<=57)return $-48;return-1}function l1($){return $===48?"\x00":$===97?"\x07":$===98?"\b":$===116?"\t":$===9?"\t":$===110?`
`:$===118?"\v":$===102?"\f":$===114?"\r":$===101?"\x1B":$===32?" ":$===34?'"':$===47?"/":$===92?"\\":$===78?"":$===95?" ":$===76?"\u2028":$===80?"\u2029":""}function D9($){if($<=65535)return String.fromCharCode($);return String.fromCharCode(($-65536>>10)+55296,($-65536&1023)+56320)}var UJ=new Array(256),MJ=new Array(256);for(W$=0;W$<256;W$++)UJ[W$]=l1(W$)?1:0,MJ[W$]=l1(W$);var W$;function A9($,J){this.input=$,this.filename=J.filename||null,this.schema=J.schema||WJ,this.onWarning=J.onWarning||null,this.legacy=J.legacy||!1,this.json=J.json||!1,this.listener=J.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=$.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function VJ($,J){var X={name:$.filename,buffer:$.input.slice(0,-1),position:$.position,line:$.line,column:$.position-$.lineStart};return X.snippet=H8(X),new u(J,X)}function L($,J){throw VJ($,J)}function _0($,J){if($.onWarning)$.onWarning.call(null,VJ($,J))}var p1={YAML:function $(J,X,Q){var G,W,Y;if(J.version!==null)L(J,"duplication of %YAML directive");if(Q.length!==1)L(J,"YAML directive accepts exactly one argument");if(G=/^([0-9]+)\.([0-9]+)$/.exec(Q[0]),G===null)L(J,"ill-formed argument of the YAML directive");if(W=parseInt(G[1],10),Y=parseInt(G[2],10),W!==1)L(J,"unacceptable YAML version of the document");if(J.version=Q[0],J.checkLineBreaks=Y<2,Y!==1&&Y!==2)_0(J,"unsupported YAML version of the document")},TAG:function $(J,X,Q){var G,W;if(Q.length!==2)L(J,"TAG directive accepts exactly two arguments");if(G=Q[0],W=Q[1],!qJ.test(G))L(J,"ill-formed tag handle (first argument) of the TAG directive");if(z$.call(J.tagMap,G))L(J,'there is a previously declared suffix for "'+G+'" tag handle');if(!BJ.test(W))L(J,"ill-formed tag prefix (second argument) of the TAG directive");try{W=decodeURIComponent(W)}catch(Y){L(J,"tag prefix is malformed: "+W)}J.tagMap[G]=W}};function H$($,J,X,Q){var G,W,Y,H;if(J<X){if(H=$.input.slice(J,X),Q){for(G=0,W=H.length;G<W;G+=1)if(Y=H.charCodeAt(G),!(Y===9||32<=Y&&Y<=1114111))L($,"expected valid JSON character")}else if(V9.test(H))L($,"the stream contains non-printable characters");$.result+=H}}function n1($,J,X,Q){var G,W,Y,H;if(!x.isObject(X))L($,"cannot merge mappings; the provided source object is unacceptable");G=Object.keys(X);for(Y=0,H=G.length;Y<H;Y+=1)if(W=G[Y],!z$.call(J,W))J[W]=X[W],Q[W]=!0}function P$($,J,X,Q,G,W,Y,H,q){var B,U;if(Array.isArray(G)){G=Array.prototype.slice.call(G);for(B=0,U=G.length;B<U;B+=1){if(Array.isArray(G[B]))L($,"nested arrays are not supported inside keys");if(typeof G==="object"&&c1(G[B])==="[object Object]")G[B]="[object Object]"}}if(typeof G==="object"&&c1(G)==="[object Object]")G="[object Object]";if(G=String(G),J===null)J={};if(Q==="tag:yaml.org,2002:merge")if(Array.isArray(W))for(B=0,U=W.length;B<U;B+=1)n1($,J,W[B],X);else n1($,J,W,X);else{if(!$.json&&!z$.call(X,G)&&z$.call(J,G))$.line=Y||$.line,$.lineStart=H||$.lineStart,$.position=q||$.position,L($,"duplicated mapping key");if(G==="__proto__")Object.defineProperty(J,G,{configurable:!0,enumerable:!0,writable:!0,value:W});else J[G]=W;delete X[G]}return J}function t0($){var J=$.input.charCodeAt($.position);if(J===10)$.position++;else if(J===13){if($.position++,$.input.charCodeAt($.position)===10)$.position++}else L($,"a line break is expected");$.line+=1,$.lineStart=$.position,$.firstTabInLine=-1}function f($,J,X){var Q=0,G=$.input.charCodeAt($.position);while(G!==0){while(R$(G)){if(G===9&&$.firstTabInLine===-1)$.firstTabInLine=$.position;G=$.input.charCodeAt(++$.position)}if(J&&G===35)do G=$.input.charCodeAt(++$.position);while(G!==10&&G!==13&&G!==0);if(t(G)){t0($),G=$.input.charCodeAt($.position),Q++,$.lineIndent=0;while(G===32)$.lineIndent++,G=$.input.charCodeAt(++$.position)}else break}if(X!==-1&&Q!==0&&$.lineIndent<X)_0($,"deficient indentation");return Q}function S0($){var J=$.position,X;if(X=$.input.charCodeAt(J),(X===45||X===46)&&X===$.input.charCodeAt(J+1)&&X===$.input.charCodeAt(J+2)){if(J+=3,X=$.input.charCodeAt(J),X===0||d(X))return!0}return!1}function e0($,J){if(J===1)$.result+=" ";else if(J>1)$.result+=x.repeat(`
`,J-1)}function L9($,J,X){var Q,G,W,Y,H,q,B,U,M=$.kind,F=$.result,O;if(O=$.input.charCodeAt($.position),d(O)||I$(O)||O===35||O===38||O===42||O===33||O===124||O===62||O===39||O===34||O===37||O===64||O===96)return!1;if(O===63||O===45){if(G=$.input.charCodeAt($.position+1),d(G)||X&&I$(G))return!1}$.kind="scalar",$.result="",W=Y=$.position,H=!1;while(O!==0){if(O===58){if(G=$.input.charCodeAt($.position+1),d(G)||X&&I$(G))break}else if(O===35){if(Q=$.input.charCodeAt($.position-1),d(Q))break}else if($.position===$.lineStart&&S0($)||X&&I$(O))break;else if(t(O))if(q=$.line,B=$.lineStart,U=$.lineIndent,f($,!1,-1),$.lineIndent>=J){H=!0,O=$.input.charCodeAt($.position);continue}else{$.position=Y,$.line=q,$.lineStart=B,$.lineIndent=U;break}if(H)H$($,W,Y,!1),e0($,$.line-q),W=Y=$.position,H=!1;if(!R$(O))Y=$.position+1;O=$.input.charCodeAt(++$.position)}if(H$($,W,Y,!1),$.result)return!0;return $.kind=M,$.result=F,!1}function _9($,J){var X,Q,G;if(X=$.input.charCodeAt($.position),X!==39)return!1;$.kind="scalar",$.result="",$.position++,Q=G=$.position;while((X=$.input.charCodeAt($.position))!==0)if(X===39)if(H$($,Q,$.position,!0),X=$.input.charCodeAt(++$.position),X===39)Q=$.position,$.position++,G=$.position;else return!0;else if(t(X))H$($,Q,G,!0),e0($,f($,!1,J)),Q=G=$.position;else if($.position===$.lineStart&&S0($))L($,"unexpected end of the document within a single quoted scalar");else $.position++,G=$.position;L($,"unexpected end of the stream within a single quoted scalar")}function N9($,J){var X,Q,G,W,Y,H;if(H=$.input.charCodeAt($.position),H!==34)return!1;$.kind="scalar",$.result="",$.position++,X=Q=$.position;while((H=$.input.charCodeAt($.position))!==0)if(H===34)return H$($,X,$.position,!0),$.position++,!0;else if(H===92){if(H$($,X,$.position,!0),H=$.input.charCodeAt(++$.position),t(H))f($,!1,J);else if(H<256&&UJ[H])$.result+=MJ[H],$.position++;else if((Y=R9(H))>0){G=Y,W=0;for(;G>0;G--)if(H=$.input.charCodeAt(++$.position),(Y=w9(H))>=0)W=(W<<4)+Y;else L($,"expected hexadecimal character");$.result+=D9(W),$.position++}else L($,"unknown escape sequence");X=Q=$.position}else if(t(H))H$($,X,Q,!0),e0($,f($,!1,J)),X=Q=$.position;else if($.position===$.lineStart&&S0($))L($,"unexpected end of the document within a double quoted scalar");else $.position++,Q=$.position;L($,"unexpected end of the stream within a double quoted scalar")}function j9($,J){var X=!0,Q,G,W,Y=$.tag,H,q=$.anchor,B,U,M,F,O,I=Object.create(null),S,_,T,A;if(A=$.input.charCodeAt($.position),A===91)U=93,O=!1,H=[];else if(A===123)U=125,O=!0,H={};else return!1;if($.anchor!==null)$.anchorMap[$.anchor]=H;A=$.input.charCodeAt(++$.position);while(A!==0){if(f($,!0,J),A=$.input.charCodeAt($.position),A===U)return $.position++,$.tag=Y,$.anchor=q,$.kind=O?"mapping":"sequence",$.result=H,!0;else if(!X)L($,"missed comma between flow collection entries");else if(A===44)L($,"expected the node content, but found ','");if(_=S=T=null,M=F=!1,A===63){if(B=$.input.charCodeAt($.position+1),d(B))M=F=!0,$.position++,f($,!0,J)}if(Q=$.line,G=$.lineStart,W=$.position,C$($,J,A0,!1,!0),_=$.tag,S=$.result,f($,!0,J),A=$.input.charCodeAt($.position),(F||$.line===Q)&&A===58)M=!0,A=$.input.charCodeAt(++$.position),f($,!0,J),C$($,J,A0,!1,!0),T=$.result;if(O)P$($,H,I,_,S,T,Q,G,W);else if(M)H.push(P$($,null,I,_,S,T,Q,G,W));else H.push(S);if(f($,!0,J),A=$.input.charCodeAt($.position),A===44)X=!0,A=$.input.charCodeAt(++$.position);else X=!1}L($,"unexpected end of the stream within a flow collection")}function S9($,J){var X,Q,G=p0,W=!1,Y=!1,H=J,q=0,B=!1,U,M;if(M=$.input.charCodeAt($.position),M===124)Q=!1;else if(M===62)Q=!0;else return!1;$.kind="scalar",$.result="";while(M!==0)if(M=$.input.charCodeAt(++$.position),M===43||M===45)if(p0===G)G=M===43?d1:M9;else L($,"repeat of a chomping mode identifier");else if((U=O9(M))>=0)if(U===0)L($,"bad explicit indentation width of a block scalar; it cannot be less than one");else if(!Y)H=J+U-1,Y=!0;else L($,"repeat of an indentation width identifier");else break;if(R$(M)){do M=$.input.charCodeAt(++$.position);while(R$(M));if(M===35)do M=$.input.charCodeAt(++$.position);while(!t(M)&&M!==0)}while(M!==0){t0($),$.lineIndent=0,M=$.input.charCodeAt($.position);while((!Y||$.lineIndent<H)&&M===32)$.lineIndent++,M=$.input.charCodeAt(++$.position);if(!Y&&$.lineIndent>H)H=$.lineIndent;if(t(M)){q++;continue}if($.lineIndent<H){if(G===d1)$.result+=x.repeat(`
`,W?1+q:q);else if(G===p0){if(W)$.result+=`
`}break}if(Q)if(R$(M))B=!0,$.result+=x.repeat(`
`,W?1+q:q);else if(B)B=!1,$.result+=x.repeat(`
`,q+1);else if(q===0){if(W)$.result+=" "}else $.result+=x.repeat(`
`,q);else $.result+=x.repeat(`
`,W?1+q:q);W=!0,Y=!0,q=0,X=$.position;while(!t(M)&&M!==0)M=$.input.charCodeAt(++$.position);H$($,X,$.position,!1)}return!0}function r1($,J){var X,Q=$.tag,G=$.anchor,W=[],Y,H=!1,q;if($.firstTabInLine!==-1)return!1;if($.anchor!==null)$.anchorMap[$.anchor]=W;q=$.input.charCodeAt($.position);while(q!==0){if($.firstTabInLine!==-1)$.position=$.firstTabInLine,L($,"tab characters must not be used in indentation");if(q!==45)break;if(Y=$.input.charCodeAt($.position+1),!d(Y))break;if(H=!0,$.position++,f($,!0,-1)){if($.lineIndent<=J){W.push(null),q=$.input.charCodeAt($.position);continue}}if(X=$.line,C$($,J,zJ,!1,!0),W.push($.result),f($,!0,-1),q=$.input.charCodeAt($.position),($.line===X||$.lineIndent>J)&&q!==0)L($,"bad indentation of a sequence entry");else if($.lineIndent<J)break}if(H)return $.tag=Q,$.anchor=G,$.kind="sequence",$.result=W,!0;return!1}function E9($,J,X){var Q,G,W,Y,H,q,B=$.tag,U=$.anchor,M={},F=Object.create(null),O=null,I=null,S=null,_=!1,T=!1,A;if($.firstTabInLine!==-1)return!1;if($.anchor!==null)$.anchorMap[$.anchor]=M;A=$.input.charCodeAt($.position);while(A!==0){if(!_&&$.firstTabInLine!==-1)$.position=$.firstTabInLine,L($,"tab characters must not be used in indentation");if(Q=$.input.charCodeAt($.position+1),W=$.line,(A===63||A===58)&&d(Q)){if(A===63){if(_)P$($,M,F,O,I,null,Y,H,q),O=I=S=null;T=!0,_=!0,G=!0}else if(_)_=!1,G=!0;else L($,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line");$.position+=1,A=Q}else{if(Y=$.line,H=$.lineStart,q=$.position,!C$($,X,HJ,!1,!0))break;if($.line===W){A=$.input.charCodeAt($.position);while(R$(A))A=$.input.charCodeAt(++$.position);if(A===58){if(A=$.input.charCodeAt(++$.position),!d(A))L($,"a whitespace character is expected after the key-value separator within a block mapping");if(_)P$($,M,F,O,I,null,Y,H,q),O=I=S=null;T=!0,_=!1,G=!1,O=$.tag,I=$.result}else if(T)L($,"can not read an implicit mapping pair; a colon is missed");else return $.tag=B,$.anchor=U,!0}else if(T)L($,"can not read a block mapping entry; a multiline key may not be an implicit key");else return $.tag=B,$.anchor=U,!0}if($.line===W||$.lineIndent>J){if(_)Y=$.line,H=$.lineStart,q=$.position;if(C$($,J,L0,!0,G))if(_)I=$.result;else S=$.result;if(!_)P$($,M,F,O,I,S,Y,H,q),O=I=S=null;f($,!0,-1),A=$.input.charCodeAt($.position)}if(($.line===W||$.lineIndent>J)&&A!==0)L($,"bad indentation of a mapping entry");else if($.lineIndent<J)break}if(_)P$($,M,F,O,I,null,Y,H,q);if(T)$.tag=B,$.anchor=U,$.kind="mapping",$.result=M;return T}function I9($){var J,X=!1,Q=!1,G,W,Y;if(Y=$.input.charCodeAt($.position),Y!==33)return!1;if($.tag!==null)L($,"duplication of a tag property");if(Y=$.input.charCodeAt(++$.position),Y===60)X=!0,Y=$.input.charCodeAt(++$.position);else if(Y===33)Q=!0,G="!!",Y=$.input.charCodeAt(++$.position);else G="!";if(J=$.position,X){do Y=$.input.charCodeAt(++$.position);while(Y!==0&&Y!==62);if($.position<$.length)W=$.input.slice(J,$.position),Y=$.input.charCodeAt(++$.position);else L($,"unexpected end of the stream within a verbatim tag")}else{while(Y!==0&&!d(Y)){if(Y===33)if(!Q){if(G=$.input.slice(J-1,$.position+1),!qJ.test(G))L($,"named tag handle cannot contain such characters");Q=!0,J=$.position+1}else L($,"tag suffix cannot contain exclamation marks");Y=$.input.charCodeAt(++$.position)}if(W=$.input.slice(J,$.position),K9.test(W))L($,"tag suffix cannot contain flow indicator characters")}if(W&&!BJ.test(W))L($,"tag name cannot contain such characters: "+W);try{W=decodeURIComponent(W)}catch(H){L($,"tag name is malformed: "+W)}if(X)$.tag=W;else if(z$.call($.tagMap,G))$.tag=$.tagMap[G]+W;else if(G==="!")$.tag="!"+W;else if(G==="!!")$.tag="tag:yaml.org,2002:"+W;else L($,'undeclared tag handle "'+G+'"');return!0}function P9($){var J,X;if(X=$.input.charCodeAt($.position),X!==38)return!1;if($.anchor!==null)L($,"duplication of an anchor property");X=$.input.charCodeAt(++$.position),J=$.position;while(X!==0&&!d(X)&&!I$(X))X=$.input.charCodeAt(++$.position);if($.position===J)L($,"name of an anchor node must contain at least one character");return $.anchor=$.input.slice(J,$.position),!0}function C9($){var J,X,Q;if(Q=$.input.charCodeAt($.position),Q!==42)return!1;Q=$.input.charCodeAt(++$.position),J=$.position;while(Q!==0&&!d(Q)&&!I$(Q))Q=$.input.charCodeAt(++$.position);if($.position===J)L($,"name of an alias node must contain at least one character");if(X=$.input.slice(J,$.position),!z$.call($.anchorMap,X))L($,'unidentified alias "'+X+'"');return $.result=$.anchorMap[X],f($,!0,-1),!0}function C$($,J,X,Q,G){var W,Y,H,q=1,B=!1,U=!1,M,F,O,I,S,_;if($.listener!==null)$.listener("open",$);if($.tag=null,$.anchor=null,$.kind=null,$.result=null,W=Y=H=L0===X||zJ===X,Q){if(f($,!0,-1)){if(B=!0,$.lineIndent>J)q=1;else if($.lineIndent===J)q=0;else if($.lineIndent<J)q=-1}}if(q===1)while(I9($)||P9($))if(f($,!0,-1)){if(B=!0,H=W,$.lineIndent>J)q=1;else if($.lineIndent===J)q=0;else if($.lineIndent<J)q=-1}else H=!1;if(H)H=B||G;if(q===1||L0===X){if(A0===X||HJ===X)S=J;else S=J+1;if(_=$.position-$.lineStart,q===1)if(H&&(r1($,_)||E9($,_,S))||j9($,S))U=!0;else{if(Y&&S9($,S)||_9($,S)||N9($,S))U=!0;else if(C9($)){if(U=!0,$.tag!==null||$.anchor!==null)L($,"alias node should not have any properties")}else if(L9($,S,A0===X)){if(U=!0,$.tag===null)$.tag="?"}if($.anchor!==null)$.anchorMap[$.anchor]=$.result}else if(q===0)U=H&&r1($,_)}if($.tag===null){if($.anchor!==null)$.anchorMap[$.anchor]=$.result}else if($.tag==="?"){if($.result!==null&&$.kind!=="scalar")L($,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+$.kind+'"');for(M=0,F=$.implicitTypes.length;M<F;M+=1)if(I=$.implicitTypes[M],I.resolve($.result)){if($.result=I.construct($.result),$.tag=I.tag,$.anchor!==null)$.anchorMap[$.anchor]=$.result;break}}else if($.tag!=="!"){if(z$.call($.typeMap[$.kind||"fallback"],$.tag))I=$.typeMap[$.kind||"fallback"][$.tag];else{I=null,O=$.typeMap.multi[$.kind||"fallback"];for(M=0,F=O.length;M<F;M+=1)if($.tag.slice(0,O[M].tag.length)===O[M].tag){I=O[M];break}}if(!I)L($,"unknown tag !<"+$.tag+">");if($.result!==null&&I.kind!==$.kind)L($,"unacceptable node kind for !<"+$.tag+'> tag; it should be "'+I.kind+'", not "'+$.kind+'"');if(!I.resolve($.result,$.tag))L($,"cannot resolve a node with !<"+$.tag+"> explicit tag");else if($.result=I.construct($.result,$.tag),$.anchor!==null)$.anchorMap[$.anchor]=$.result}if($.listener!==null)$.listener("close",$);return $.tag!==null||$.anchor!==null||U}function Z9($){var J=$.position,X,Q,G,W=!1,Y;$.version=null,$.checkLineBreaks=$.legacy,$.tagMap=Object.create(null),$.anchorMap=Object.create(null);while((Y=$.input.charCodeAt($.position))!==0){if(f($,!0,-1),Y=$.input.charCodeAt($.position),$.lineIndent>0||Y!==37)break;W=!0,Y=$.input.charCodeAt(++$.position),X=$.position;while(Y!==0&&!d(Y))Y=$.input.charCodeAt(++$.position);if(Q=$.input.slice(X,$.position),G=[],Q.length<1)L($,"directive name must not be less than one character in length");while(Y!==0){while(R$(Y))Y=$.input.charCodeAt(++$.position);if(Y===35){do Y=$.input.charCodeAt(++$.position);while(Y!==0&&!t(Y));break}if(t(Y))break;X=$.position;while(Y!==0&&!d(Y))Y=$.input.charCodeAt(++$.position);G.push($.input.slice(X,$.position))}if(Y!==0)t0($);if(z$.call(p1,Q))p1[Q]($,Q,G);else _0($,'unknown document directive "'+Q+'"')}if(f($,!0,-1),$.lineIndent===0&&$.input.charCodeAt($.position)===45&&$.input.charCodeAt($.position+1)===45&&$.input.charCodeAt($.position+2)===45)$.position+=3,f($,!0,-1);else if(W)L($,"directives end mark is expected");if(C$($,$.lineIndent-1,L0,!1,!0),f($,!0,-1),$.checkLineBreaks&&F9.test($.input.slice(J,$.position)))_0($,"non-ASCII line breaks are interpreted as content");if($.documents.push($.result),$.position===$.lineStart&&S0($)){if($.input.charCodeAt($.position)===46)$.position+=3,f($,!0,-1);return}if($.position<$.length-1)L($,"end of the stream or a document separator is expected");else return}function FJ($,J){if($=String($),J=J||{},$.length!==0){if($.charCodeAt($.length-1)!==10&&$.charCodeAt($.length-1)!==13)$+=`
`;if($.charCodeAt(0)===65279)$=$.slice(1)}var X=new A9($,J),Q=$.indexOf("\x00");if(Q!==-1)X.position=Q,L(X,"null byte is not allowed in input");X.input+="\x00";while(X.input.charCodeAt(X.position)===32)X.lineIndent+=1,X.position+=1;while(X.position<X.length-1)Z9(X);return X.documents}function k9($,J,X){if(J!==null&&typeof J==="object"&&typeof X==="undefined")X=J,J=null;var Q=FJ($,X);if(typeof J!=="function")return Q;for(var G=0,W=Q.length;G<W;G+=1)J(Q[G])}function T9($,J){var X=FJ($,J);if(X.length===0)return;else if(X.length===1)return X[0];throw new u("expected a single document in the stream, but found more")}var v9=k9,b9=T9,KJ={loadAll:v9,load:b9},wJ=Object.prototype.toString,RJ=Object.prototype.hasOwnProperty,$1=65279,f9=9,e$=10,x9=13,h9=32,m9=33,y9=34,r0=35,g9=37,u9=38,d9=39,c9=42,OJ=44,l9=45,N0=58,p9=61,n9=62,r9=63,o9=64,DJ=91,AJ=93,i9=96,LJ=123,a9=124,_J=125,y={};y[0]="\\0";y[7]="\\a";y[8]="\\b";y[9]="\\t";y[10]="\\n";y[11]="\\v";y[12]="\\f";y[13]="\\r";y[27]="\\e";y[34]="\\\"";y[92]="\\\\";y[133]="\\N";y[160]="\\_";y[8232]="\\L";y[8233]="\\P";var s9=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],t9=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function e9($,J){var X,Q,G,W,Y,H,q;if(J===null)return{};X={},Q=Object.keys(J);for(G=0,W=Q.length;G<W;G+=1){if(Y=Q[G],H=String(J[Y]),Y.slice(0,2)==="!!")Y="tag:yaml.org,2002:"+Y.slice(2);if(q=$.compiledTypeMap.fallback[Y],q&&RJ.call(q.styleAliases,H))H=q.styleAliases[H];X[Y]=H}return X}function $4($){var J,X,Q;if(J=$.toString(16).toUpperCase(),$<=255)X="x",Q=2;else if($<=65535)X="u",Q=4;else if($<=4294967295)X="U",Q=8;else throw new u("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+X+x.repeat("0",Q-J.length)+J}var J4=1,$0=2;function X4($){this.schema=$.schema||WJ,this.indent=Math.max(1,$.indent||2),this.noArrayIndent=$.noArrayIndent||!1,this.skipInvalid=$.skipInvalid||!1,this.flowLevel=x.isNothing($.flowLevel)?-1:$.flowLevel,this.styleMap=e9(this.schema,$.styles||null),this.sortKeys=$.sortKeys||!1,this.lineWidth=$.lineWidth||80,this.noRefs=$.noRefs||!1,this.noCompatMode=$.noCompatMode||!1,this.condenseFlow=$.condenseFlow||!1,this.quotingType=$.quotingType==='"'?$0:J4,this.forceQuotes=$.forceQuotes||!1,this.replacer=typeof $.replacer==="function"?$.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function o1($,J){var X=x.repeat(" ",J),Q=0,G=-1,W="",Y,H=$.length;while(Q<H){if(G=$.indexOf(`
`,Q),G===-1)Y=$.slice(Q),Q=H;else Y=$.slice(Q,G+1),Q=G+1;if(Y.length&&Y!==`
`)W+=X;W+=Y}return W}function o0($,J){return`
`+x.repeat(" ",$.indent*J)}function Q4($,J){var X,Q,G;for(X=0,Q=$.implicitTypes.length;X<Q;X+=1)if(G=$.implicitTypes[X],G.resolve(J))return!0;return!1}function j0($){return $===h9||$===f9}function J0($){return 32<=$&&$<=126||161<=$&&$<=55295&&$!==8232&&$!==8233||57344<=$&&$<=65533&&$!==$1||65536<=$&&$<=1114111}function i1($){return J0($)&&$!==$1&&$!==x9&&$!==e$}function a1($,J,X){var Q=i1($),G=Q&&!j0($);return(X?Q:Q&&$!==OJ&&$!==DJ&&$!==AJ&&$!==LJ&&$!==_J)&&$!==r0&&!(J===N0&&!G)||i1(J)&&!j0(J)&&$===r0||J===N0&&G}function G4($){return J0($)&&$!==$1&&!j0($)&&$!==l9&&$!==r9&&$!==N0&&$!==OJ&&$!==DJ&&$!==AJ&&$!==LJ&&$!==_J&&$!==r0&&$!==u9&&$!==c9&&$!==m9&&$!==a9&&$!==p9&&$!==n9&&$!==d9&&$!==y9&&$!==g9&&$!==o9&&$!==i9}function Y4($){return!j0($)&&$!==N0}function s$($,J){var X=$.charCodeAt(J),Q;if(X>=55296&&X<=56319&&J+1<$.length){if(Q=$.charCodeAt(J+1),Q>=56320&&Q<=57343)return(X-55296)*1024+Q-56320+65536}return X}function NJ($){var J=/^\n* /;return J.test($)}var jJ=1,i0=2,SJ=3,EJ=4,E$=5;function W4($,J,X,Q,G,W,Y,H){var q,B=0,U=null,M=!1,F=!1,O=Q!==-1,I=-1,S=G4(s$($,0))&&Y4(s$($,$.length-1));if(J||Y)for(q=0;q<$.length;B>=65536?q+=2:q++){if(B=s$($,q),!J0(B))return E$;S=S&&a1(B,U,H),U=B}else{for(q=0;q<$.length;B>=65536?q+=2:q++){if(B=s$($,q),B===e$){if(M=!0,O)F=F||q-I-1>Q&&$[I+1]!==" ",I=q}else if(!J0(B))return E$;S=S&&a1(B,U,H),U=B}F=F||O&&(q-I-1>Q&&$[I+1]!==" ")}if(!M&&!F){if(S&&!Y&&!G($))return jJ;return W===$0?E$:i0}if(X>9&&NJ($))return E$;if(!Y)return F?EJ:SJ;return W===$0?E$:i0}function H4($,J,X,Q,G){$.dump=function(){if(J.length===0)return $.quotingType===$0?'""':"''";if(!$.noCompatMode){if(s9.indexOf(J)!==-1||t9.test(J))return $.quotingType===$0?'"'+J+'"':"'"+J+"'"}var W=$.indent*Math.max(1,X),Y=$.lineWidth===-1?-1:Math.max(Math.min($.lineWidth,40),$.lineWidth-W),H=Q||$.flowLevel>-1&&X>=$.flowLevel;function q(B){return Q4($,B)}switch(W4(J,H,$.indent,Y,q,$.quotingType,$.forceQuotes&&!Q,G)){case jJ:return J;case i0:return"'"+J.replace(/'/g,"''")+"'";case SJ:return"|"+s1(J,$.indent)+t1(o1(J,W));case EJ:return">"+s1(J,$.indent)+t1(o1(z4(J,Y),W));case E$:return'"'+q4(J)+'"';default:throw new u("impossible error: invalid scalar style")}}()}function s1($,J){var X=NJ($)?String(J):"",Q=$[$.length-1]===`
`,G=Q&&($[$.length-2]===`
`||$===`
`),W=G?"+":Q?"":"-";return X+W+`
`}function t1($){return $[$.length-1]===`
`?$.slice(0,-1):$}function z4($,J){var X=/(\n+)([^\n]*)/g,Q=function(){var B=$.indexOf(`
`);return B=B!==-1?B:$.length,X.lastIndex=B,e1($.slice(0,B),J)}(),G=$[0]===`
`||$[0]===" ",W,Y;while(Y=X.exec($)){var H=Y[1],q=Y[2];W=q[0]===" ",Q+=H+(!G&&!W&&q!==""?`
`:"")+e1(q,J),G=W}return Q}function e1($,J){if($===""||$[0]===" ")return $;var X=/ [^ ]/g,Q,G=0,W,Y=0,H=0,q="";while(Q=X.exec($)){if(H=Q.index,H-G>J)W=Y>G?Y:H,q+=`
`+$.slice(G,W),G=W+1;Y=H}if(q+=`
`,$.length-G>J&&Y>G)q+=$.slice(G,Y)+`
`+$.slice(Y+1);else q+=$.slice(G);return q.slice(1)}function q4($){var J="",X=0,Q;for(var G=0;G<$.length;X>=65536?G+=2:G++)if(X=s$($,G),Q=y[X],!Q&&J0(X)){if(J+=$[G],X>=65536)J+=$[G+1]}else J+=Q||$4(X);return J}function B4($,J,X){var Q="",G=$.tag,W,Y,H;for(W=0,Y=X.length;W<Y;W+=1){if(H=X[W],$.replacer)H=$.replacer.call(X,String(W),H);if(X$($,J,H,!1,!1)||typeof H==="undefined"&&X$($,J,null,!1,!1)){if(Q!=="")Q+=","+(!$.condenseFlow?" ":"");Q+=$.dump}}$.tag=G,$.dump="["+Q+"]"}function $J($,J,X,Q){var G="",W=$.tag,Y,H,q;for(Y=0,H=X.length;Y<H;Y+=1){if(q=X[Y],$.replacer)q=$.replacer.call(X,String(Y),q);if(X$($,J+1,q,!0,!0,!1,!0)||typeof q==="undefined"&&X$($,J+1,null,!0,!0,!1,!0)){if(!Q||G!=="")G+=o0($,J);if($.dump&&e$===$.dump.charCodeAt(0))G+="-";else G+="- ";G+=$.dump}}$.tag=W,$.dump=G||"[]"}function U4($,J,X){var Q="",G=$.tag,W=Object.keys(X),Y,H,q,B,U;for(Y=0,H=W.length;Y<H;Y+=1){if(U="",Q!=="")U+=", ";if($.condenseFlow)U+='"';if(q=W[Y],B=X[q],$.replacer)B=$.replacer.call(X,q,B);if(!X$($,J,q,!1,!1))continue;if($.dump.length>1024)U+="? ";if(U+=$.dump+($.condenseFlow?'"':"")+":"+($.condenseFlow?"":" "),!X$($,J,B,!1,!1))continue;U+=$.dump,Q+=U}$.tag=G,$.dump="{"+Q+"}"}function M4($,J,X,Q){var G="",W=$.tag,Y=Object.keys(X),H,q,B,U,M,F;if($.sortKeys===!0)Y.sort();else if(typeof $.sortKeys==="function")Y.sort($.sortKeys);else if($.sortKeys)throw new u("sortKeys must be a boolean or a function");for(H=0,q=Y.length;H<q;H+=1){if(F="",!Q||G!=="")F+=o0($,J);if(B=Y[H],U=X[B],$.replacer)U=$.replacer.call(X,B,U);if(!X$($,J+1,B,!0,!0,!0))continue;if(M=$.tag!==null&&$.tag!=="?"||$.dump&&$.dump.length>1024,M)if($.dump&&e$===$.dump.charCodeAt(0))F+="?";else F+="? ";if(F+=$.dump,M)F+=o0($,J);if(!X$($,J+1,U,!0,M))continue;if($.dump&&e$===$.dump.charCodeAt(0))F+=":";else F+=": ";F+=$.dump,G+=F}$.tag=W,$.dump=G||"{}"}function JJ($,J,X){var Q,G,W,Y,H,q;G=X?$.explicitTypes:$.implicitTypes;for(W=0,Y=G.length;W<Y;W+=1)if(H=G[W],(H.instanceOf||H.predicate)&&(!H.instanceOf||typeof J==="object"&&J instanceof H.instanceOf)&&(!H.predicate||H.predicate(J))){if(X)if(H.multi&&H.representName)$.tag=H.representName(J);else $.tag=H.tag;else $.tag="?";if(H.represent){if(q=$.styleMap[H.tag]||H.defaultStyle,wJ.call(H.represent)==="[object Function]")Q=H.represent(J,q);else if(RJ.call(H.represent,q))Q=H.represent[q](J,q);else throw new u("!<"+H.tag+'> tag resolver accepts not "'+q+'" style');$.dump=Q}return!0}return!1}function X$($,J,X,Q,G,W,Y){if($.tag=null,$.dump=X,!JJ($,X,!1))JJ($,X,!0);var H=wJ.call($.dump),q=Q,B;if(Q)Q=$.flowLevel<0||$.flowLevel>J;var U=H==="[object Object]"||H==="[object Array]",M,F;if(U)M=$.duplicates.indexOf(X),F=M!==-1;if($.tag!==null&&$.tag!=="?"||F||$.indent!==2&&J>0)G=!1;if(F&&$.usedDuplicates[M])$.dump="*ref_"+M;else{if(U&&F&&!$.usedDuplicates[M])$.usedDuplicates[M]=!0;if(H==="[object Object]"){if(Q&&Object.keys($.dump).length!==0){if(M4($,J,$.dump,G),F)$.dump="&ref_"+M+$.dump}else if(U4($,J,$.dump),F)$.dump="&ref_"+M+" "+$.dump}else if(H==="[object Array]"){if(Q&&$.dump.length!==0){if($.noArrayIndent&&!Y&&J>0)$J($,J-1,$.dump,G);else $J($,J,$.dump,G);if(F)$.dump="&ref_"+M+$.dump}else if(B4($,J,$.dump),F)$.dump="&ref_"+M+" "+$.dump}else if(H==="[object String]"){if($.tag!=="?")H4($,$.dump,J,W,q)}else if(H==="[object Undefined]")return!1;else{if($.skipInvalid)return!1;throw new u("unacceptable kind of an object to dump "+H)}if($.tag!==null&&$.tag!=="?"){if(B=encodeURI($.tag[0]==="!"?$.tag.slice(1):$.tag).replace(/!/g,"%21"),$.tag[0]==="!")B="!"+B;else if(B.slice(0,18)==="tag:yaml.org,2002:")B="!!"+B.slice(18);else B="!<"+B+">";$.dump=B+" "+$.dump}}return!0}function V4($,J){var X=[],Q=[],G,W;a0($,X,Q);for(G=0,W=Q.length;G<W;G+=1)J.duplicates.push(X[Q[G]]);J.usedDuplicates=new Array(W)}function a0($,J,X){var Q,G,W;if($!==null&&typeof $==="object")if(G=J.indexOf($),G!==-1){if(X.indexOf(G)===-1)X.push(G)}else if(J.push($),Array.isArray($))for(G=0,W=$.length;G<W;G+=1)a0($[G],J,X);else{Q=Object.keys($);for(G=0,W=Q.length;G<W;G+=1)a0($[Q[G]],J,X)}}function F4($,J){J=J||{};var X=new X4(J);if(!X.noRefs)V4($,X);var Q=$;if(X.replacer)Q=X.replacer.call({"":Q},"",Q);if(X$(X,0,Q,!0,!0))return X.dump+`
`;return""}var K4=F4,w4={dump:K4};function J1($,J){return function(){throw new Error("Function yaml."+$+" is removed in js-yaml 4. Use yaml."+J+" instead, which is now safe by default.")}}var{load:IJ,loadAll:WX}=KJ,HX=w4.dump;var zX=J1("safeLoad","load"),qX=J1("safeLoadAll","loadAll"),BX=J1("safeDump","dump");var E={};d0(E,{void:()=>J5,util:()=>Z,unknown:()=>e4,union:()=>Y5,undefined:()=>a4,tuple:()=>z5,transformer:()=>O5,symbol:()=>i4,string:()=>hJ,strictObject:()=>G5,setErrorMap:()=>A4,set:()=>U5,record:()=>q5,quotelessJson:()=>O4,promise:()=>R5,preprocess:()=>L5,pipeline:()=>_5,ostring:()=>N5,optional:()=>D5,onumber:()=>j5,oboolean:()=>S5,objectUtil:()=>X1,object:()=>Q5,number:()=>mJ,nullable:()=>A5,null:()=>s4,never:()=>$5,nativeEnum:()=>w5,nan:()=>n4,map:()=>B5,makeIssue:()=>X0,literal:()=>F5,lazy:()=>V5,late:()=>l4,isValid:()=>q$,isDirty:()=>I0,isAsync:()=>k$,isAborted:()=>E0,intersection:()=>H5,instanceof:()=>p4,getParsedType:()=>e,getErrorMap:()=>Z$,function:()=>M5,enum:()=>K5,effect:()=>O5,discriminatedUnion:()=>W5,defaultErrorMap:()=>Q$,datetimeRegex:()=>bJ,date:()=>o4,custom:()=>xJ,coerce:()=>E5,boolean:()=>yJ,bigint:()=>r4,array:()=>X5,any:()=>t4,addIssueToContext:()=>R,ZodVoid:()=>W0,ZodUnknown:()=>B$,ZodUnion:()=>h$,ZodUndefined:()=>f$,ZodType:()=>C,ZodTuple:()=>J$,ZodTransformer:()=>a,ZodSymbol:()=>Y0,ZodString:()=>n,ZodSet:()=>L$,ZodSchema:()=>C,ZodRecord:()=>H0,ZodReadonly:()=>l$,ZodPromise:()=>_$,ZodPipeline:()=>B0,ZodParsedType:()=>w,ZodOptional:()=>o,ZodObject:()=>b,ZodNumber:()=>U$,ZodNullable:()=>Y$,ZodNull:()=>x$,ZodNever:()=>$$,ZodNativeEnum:()=>u$,ZodNaN:()=>q0,ZodMap:()=>z0,ZodLiteral:()=>g$,ZodLazy:()=>y$,ZodIssueCode:()=>K,ZodIntersection:()=>m$,ZodFunction:()=>v$,ZodFirstPartyTypeKind:()=>j,ZodError:()=>c,ZodEnum:()=>V$,ZodEffects:()=>a,ZodDiscriminatedUnion:()=>C0,ZodDefault:()=>d$,ZodDate:()=>D$,ZodCatch:()=>c$,ZodBranded:()=>Z0,ZodBoolean:()=>b$,ZodBigInt:()=>M$,ZodArray:()=>r,ZodAny:()=>A$,Schema:()=>C,ParseStatus:()=>h,OK:()=>g,NEVER:()=>I5,INVALID:()=>N,EMPTY_PATH:()=>L4,DIRTY:()=>O$,BRAND:()=>c4});var Z;(function($){$.assertEqual=(G)=>{};function J(G){}$.assertIs=J;function X(G){throw new Error}$.assertNever=X,$.arrayToEnum=(G)=>{let W={};for(let Y of G)W[Y]=Y;return W},$.getValidEnumValues=(G)=>{let W=$.objectKeys(G).filter((H)=>typeof G[G[H]]!=="number"),Y={};for(let H of W)Y[H]=G[H];return $.objectValues(Y)},$.objectValues=(G)=>{return $.objectKeys(G).map(function(W){return G[W]})},$.objectKeys=typeof Object.keys==="function"?(G)=>Object.keys(G):(G)=>{let W=[];for(let Y in G)if(Object.prototype.hasOwnProperty.call(G,Y))W.push(Y);return W},$.find=(G,W)=>{for(let Y of G)if(W(Y))return Y;return},$.isInteger=typeof Number.isInteger==="function"?(G)=>Number.isInteger(G):(G)=>typeof G==="number"&&Number.isFinite(G)&&Math.floor(G)===G;function Q(G,W=" | "){return G.map((Y)=>typeof Y==="string"?`'${Y}'`:Y).join(W)}$.joinValues=Q,$.jsonStringifyReplacer=(G,W)=>{if(typeof W==="bigint")return W.toString();return W}})(Z||(Z={}));var X1;(function($){$.mergeShapes=(J,X)=>{return{...J,...X}}})(X1||(X1={}));var w=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),e=($)=>{switch(typeof $){case"undefined":return w.undefined;case"string":return w.string;case"number":return Number.isNaN($)?w.nan:w.number;case"boolean":return w.boolean;case"function":return w.function;case"bigint":return w.bigint;case"symbol":return w.symbol;case"object":if(Array.isArray($))return w.array;if($===null)return w.null;if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return w.promise;if(typeof Map!=="undefined"&&$ instanceof Map)return w.map;if(typeof Set!=="undefined"&&$ instanceof Set)return w.set;if(typeof Date!=="undefined"&&$ instanceof Date)return w.date;return w.object;default:return w.unknown}};var K=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),O4=($)=>{return JSON.stringify($,null,2).replace(/"([^"]+)":/g,"$1:")};class c extends Error{get errors(){return this.issues}constructor($){super();this.issues=[],this.addIssue=(X)=>{this.issues=[...this.issues,X]},this.addIssues=(X=[])=>{this.issues=[...this.issues,...X]};let J=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,J);else this.__proto__=J;this.name="ZodError",this.issues=$}format($){let J=$||function(G){return G.message},X={_errors:[]},Q=(G)=>{for(let W of G.issues)if(W.code==="invalid_union")W.unionErrors.map(Q);else if(W.code==="invalid_return_type")Q(W.returnTypeError);else if(W.code==="invalid_arguments")Q(W.argumentsError);else if(W.path.length===0)X._errors.push(J(W));else{let Y=X,H=0;while(H<W.path.length){let q=W.path[H];if(H!==W.path.length-1)Y[q]=Y[q]||{_errors:[]};else Y[q]=Y[q]||{_errors:[]},Y[q]._errors.push(J(W));Y=Y[q],H++}}};return Q(this),X}static assert($){if(!($ instanceof c))throw new Error(`Not a ZodError: ${$}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten($=(J)=>J.message){let J={},X=[];for(let Q of this.issues)if(Q.path.length>0)J[Q.path[0]]=J[Q.path[0]]||[],J[Q.path[0]].push($(Q));else X.push($(Q));return{formErrors:X,fieldErrors:J}}get formErrors(){return this.flatten()}}c.create=($)=>{return new c($)};var D4=($,J)=>{let X;switch($.code){case K.invalid_type:if($.received===w.undefined)X="Required";else X=`Expected ${$.expected}, received ${$.received}`;break;case K.invalid_literal:X=`Invalid literal value, expected ${JSON.stringify($.expected,Z.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:X=`Unrecognized key(s) in object: ${Z.joinValues($.keys,", ")}`;break;case K.invalid_union:X="Invalid input";break;case K.invalid_union_discriminator:X=`Invalid discriminator value. Expected ${Z.joinValues($.options)}`;break;case K.invalid_enum_value:X=`Invalid enum value. Expected ${Z.joinValues($.options)}, received '${$.received}'`;break;case K.invalid_arguments:X="Invalid function arguments";break;case K.invalid_return_type:X="Invalid function return type";break;case K.invalid_date:X="Invalid date";break;case K.invalid_string:if(typeof $.validation==="object")if("includes"in $.validation){if(X=`Invalid input: must include "${$.validation.includes}"`,typeof $.validation.position==="number")X=`${X} at one or more positions greater than or equal to ${$.validation.position}`}else if("startsWith"in $.validation)X=`Invalid input: must start with "${$.validation.startsWith}"`;else if("endsWith"in $.validation)X=`Invalid input: must end with "${$.validation.endsWith}"`;else Z.assertNever($.validation);else if($.validation!=="regex")X=`Invalid ${$.validation}`;else X="Invalid";break;case K.too_small:if($.type==="array")X=`Array must contain ${$.exact?"exactly":$.inclusive?"at least":"more than"} ${$.minimum} element(s)`;else if($.type==="string")X=`String must contain ${$.exact?"exactly":$.inclusive?"at least":"over"} ${$.minimum} character(s)`;else if($.type==="number")X=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="date")X=`Date must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${new Date(Number($.minimum))}`;else X="Invalid input";break;case K.too_big:if($.type==="array")X=`Array must contain ${$.exact?"exactly":$.inclusive?"at most":"less than"} ${$.maximum} element(s)`;else if($.type==="string")X=`String must contain ${$.exact?"exactly":$.inclusive?"at most":"under"} ${$.maximum} character(s)`;else if($.type==="number")X=`Number must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="bigint")X=`BigInt must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="date")X=`Date must be ${$.exact?"exactly":$.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number($.maximum))}`;else X="Invalid input";break;case K.custom:X="Invalid input";break;case K.invalid_intersection_types:X="Intersection results could not be merged";break;case K.not_multiple_of:X=`Number must be a multiple of ${$.multipleOf}`;break;case K.not_finite:X="Number must be finite";break;default:X=J.defaultError,Z.assertNever($)}return{message:X}},Q$=D4;var PJ=Q$;function A4($){PJ=$}function Z$(){return PJ}var X0=($)=>{let{data:J,path:X,errorMaps:Q,issueData:G}=$,W=[...X,...G.path||[]],Y={...G,path:W};if(G.message!==void 0)return{...G,path:W,message:G.message};let H="",q=Q.filter((B)=>!!B).slice().reverse();for(let B of q)H=B(Y,{data:J,defaultError:H}).message;return{...G,path:W,message:H}},L4=[];function R($,J){let X=Z$(),Q=X0({issueData:J,data:$.data,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,X,X===Q$?void 0:Q$].filter((G)=>!!G)});$.common.issues.push(Q)}class h{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray($,J){let X=[];for(let Q of J){if(Q.status==="aborted")return N;if(Q.status==="dirty")$.dirty();X.push(Q.value)}return{status:$.value,value:X}}static async mergeObjectAsync($,J){let X=[];for(let Q of J){let G=await Q.key,W=await Q.value;X.push({key:G,value:W})}return h.mergeObjectSync($,X)}static mergeObjectSync($,J){let X={};for(let Q of J){let{key:G,value:W}=Q;if(G.status==="aborted")return N;if(W.status==="aborted")return N;if(G.status==="dirty")$.dirty();if(W.status==="dirty")$.dirty();if(G.value!=="__proto__"&&(typeof W.value!=="undefined"||Q.alwaysSet))X[G.value]=W.value}return{status:$.value,value:X}}}var N=Object.freeze({status:"aborted"}),O$=($)=>({status:"dirty",value:$}),g=($)=>({status:"valid",value:$}),E0=($)=>$.status==="aborted",I0=($)=>$.status==="dirty",q$=($)=>$.status==="valid",k$=($)=>typeof Promise!=="undefined"&&$ instanceof Promise;var D;(function($){$.errToObj=(J)=>typeof J==="string"?{message:J}:J||{},$.toString=(J)=>typeof J==="string"?J:J?.message})(D||(D={}));var P0=function($,J,X,Q){if(X==="a"&&!Q)throw new TypeError("Private accessor was defined without a getter");if(typeof J==="function"?$!==J||!Q:!J.has($))throw new TypeError("Cannot read private member from an object whose class did not declare it");return X==="m"?Q:X==="a"?Q.call($):Q?Q.value:J.get($)},kJ=function($,J,X,Q,G){if(Q==="m")throw new TypeError("Private method is not writable");if(Q==="a"&&!G)throw new TypeError("Private accessor was defined without a setter");if(typeof J==="function"?$!==J||!G:!J.has($))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Q==="a"?G.call($,X):G?G.value=X:J.set($,X),X},Q0,G0;class i{constructor($,J,X,Q){this._cachedPath=[],this.parent=$,this.data=J,this._path=X,this._key=Q}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var CJ=($,J)=>{if(q$(J))return{success:!0,data:J.value};else{if(!$.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let X=new c($.common.issues);return this._error=X,this._error}}}};function P($){if(!$)return{};let{errorMap:J,invalid_type_error:X,required_error:Q,description:G}=$;if(J&&(X||Q))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(J)return{errorMap:J,description:G};return{errorMap:(Y,H)=>{let{message:q}=$;if(Y.code==="invalid_enum_value")return{message:q??H.defaultError};if(typeof H.data==="undefined")return{message:q??Q??H.defaultError};if(Y.code!=="invalid_type")return{message:H.defaultError};return{message:q??X??H.defaultError}},description:G}}class C{get description(){return this._def.description}_getType($){return e($.data)}_getOrReturnCtx($,J){return J||{common:$.parent.common,data:$.data,parsedType:e($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}_processInputParams($){return{status:new h,ctx:{common:$.parent.common,data:$.data,parsedType:e($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}}_parseSync($){let J=this._parse($);if(k$(J))throw new Error("Synchronous parse encountered promise.");return J}_parseAsync($){let J=this._parse($);return Promise.resolve(J)}parse($,J){let X=this.safeParse($,J);if(X.success)return X.data;throw X.error}safeParse($,J){let X={common:{issues:[],async:J?.async??!1,contextualErrorMap:J?.errorMap},path:J?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:e($)},Q=this._parseSync({data:$,path:X.path,parent:X});return CJ(X,Q)}"~validate"($){let J={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:e($)};if(!this["~standard"].async)try{let X=this._parseSync({data:$,path:[],parent:J});return q$(X)?{value:X.value}:{issues:J.common.issues}}catch(X){if(X?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;J.common={issues:[],async:!0}}return this._parseAsync({data:$,path:[],parent:J}).then((X)=>q$(X)?{value:X.value}:{issues:J.common.issues})}async parseAsync($,J){let X=await this.safeParseAsync($,J);if(X.success)return X.data;throw X.error}async safeParseAsync($,J){let X={common:{issues:[],contextualErrorMap:J?.errorMap,async:!0},path:J?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:e($)},Q=this._parse({data:$,path:X.path,parent:X}),G=await(k$(Q)?Q:Promise.resolve(Q));return CJ(X,G)}refine($,J){let X=(Q)=>{if(typeof J==="string"||typeof J==="undefined")return{message:J};else if(typeof J==="function")return J(Q);else return J};return this._refinement((Q,G)=>{let W=$(Q),Y=()=>G.addIssue({code:K.custom,...X(Q)});if(typeof Promise!=="undefined"&&W instanceof Promise)return W.then((H)=>{if(!H)return Y(),!1;else return!0});if(!W)return Y(),!1;else return!0})}refinement($,J){return this._refinement((X,Q)=>{if(!$(X))return Q.addIssue(typeof J==="function"?J(X,Q):J),!1;else return!0})}_refinement($){return new a({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:$}})}superRefine($){return this._refinement($)}constructor($){this.spa=this.safeParseAsync,this._def=$,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(J)=>this["~validate"](J)}}optional(){return o.create(this,this._def)}nullable(){return Y$.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return r.create(this)}promise(){return _$.create(this,this._def)}or($){return h$.create([this,$],this._def)}and($){return m$.create(this,$,this._def)}transform($){return new a({...P(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:$}})}default($){let J=typeof $==="function"?$:()=>$;return new d$({...P(this._def),innerType:this,defaultValue:J,typeName:j.ZodDefault})}brand(){return new Z0({typeName:j.ZodBranded,type:this,...P(this._def)})}catch($){let J=typeof $==="function"?$:()=>$;return new c$({...P(this._def),innerType:this,catchValue:J,typeName:j.ZodCatch})}describe($){return new this.constructor({...this._def,description:$})}pipe($){return B0.create(this,$)}readonly(){return l$.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var _4=/^c[^\s-]{8,}$/i,N4=/^[0-9a-z]+$/,j4=/^[0-9A-HJKMNP-TV-Z]{26}$/i,S4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,E4=/^[a-z0-9_-]{21}$/i,I4=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Z4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Q1,k4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,v4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,b4=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,f4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,x4=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,TJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",h4=new RegExp(`^${TJ}$`);function vJ($){let J="[0-5]\\d";if($.precision)J=`${J}\\.\\d{${$.precision}}`;else if($.precision==null)J=`${J}(\\.\\d+)?`;let X=$.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${J})${X}`}function m4($){return new RegExp(`^${vJ($)}$`)}function bJ($){let J=`${TJ}T${vJ($)}`,X=[];if(X.push($.local?"Z?":"Z"),$.offset)X.push("([+-]\\d{2}:?\\d{2})");return J=`${J}(${X.join("|")})`,new RegExp(`^${J}$`)}function y4($,J){if((J==="v4"||!J)&&k4.test($))return!0;if((J==="v6"||!J)&&v4.test($))return!0;return!1}function g4($,J){if(!I4.test($))return!1;try{let[X]=$.split("."),Q=X.replace(/-/g,"+").replace(/_/g,"/").padEnd(X.length+(4-X.length%4)%4,"="),G=JSON.parse(atob(Q));if(typeof G!=="object"||G===null)return!1;if("typ"in G&&G?.typ!=="JWT")return!1;if(!G.alg)return!1;if(J&&G.alg!==J)return!1;return!0}catch{return!1}}function u4($,J){if((J==="v4"||!J)&&T4.test($))return!0;if((J==="v6"||!J)&&b4.test($))return!0;return!1}class n extends C{_parse($){if(this._def.coerce)$.data=String($.data);if(this._getType($)!==w.string){let G=this._getOrReturnCtx($);return R(G,{code:K.invalid_type,expected:w.string,received:G.parsedType}),N}let X=new h,Q=void 0;for(let G of this._def.checks)if(G.kind==="min"){if($.data.length<G.value)Q=this._getOrReturnCtx($,Q),R(Q,{code:K.too_small,minimum:G.value,type:"string",inclusive:!0,exact:!1,message:G.message}),X.dirty()}else if(G.kind==="max"){if($.data.length>G.value)Q=this._getOrReturnCtx($,Q),R(Q,{code:K.too_big,maximum:G.value,type:"string",inclusive:!0,exact:!1,message:G.message}),X.dirty()}else if(G.kind==="length"){let W=$.data.length>G.value,Y=$.data.length<G.value;if(W||Y){if(Q=this._getOrReturnCtx($,Q),W)R(Q,{code:K.too_big,maximum:G.value,type:"string",inclusive:!0,exact:!0,message:G.message});else if(Y)R(Q,{code:K.too_small,minimum:G.value,type:"string",inclusive:!0,exact:!0,message:G.message});X.dirty()}}else if(G.kind==="email"){if(!C4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"email",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="emoji"){if(!Q1)Q1=new RegExp(Z4,"u");if(!Q1.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"emoji",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="uuid"){if(!S4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"uuid",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="nanoid"){if(!E4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"nanoid",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="cuid"){if(!_4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"cuid",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="cuid2"){if(!N4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"cuid2",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="ulid"){if(!j4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"ulid",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="url")try{new URL($.data)}catch{Q=this._getOrReturnCtx($,Q),R(Q,{validation:"url",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="regex"){if(G.regex.lastIndex=0,!G.regex.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"regex",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="trim")$.data=$.data.trim();else if(G.kind==="includes"){if(!$.data.includes(G.value,G.position))Q=this._getOrReturnCtx($,Q),R(Q,{code:K.invalid_string,validation:{includes:G.value,position:G.position},message:G.message}),X.dirty()}else if(G.kind==="toLowerCase")$.data=$.data.toLowerCase();else if(G.kind==="toUpperCase")$.data=$.data.toUpperCase();else if(G.kind==="startsWith"){if(!$.data.startsWith(G.value))Q=this._getOrReturnCtx($,Q),R(Q,{code:K.invalid_string,validation:{startsWith:G.value},message:G.message}),X.dirty()}else if(G.kind==="endsWith"){if(!$.data.endsWith(G.value))Q=this._getOrReturnCtx($,Q),R(Q,{code:K.invalid_string,validation:{endsWith:G.value},message:G.message}),X.dirty()}else if(G.kind==="datetime"){if(!bJ(G).test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{code:K.invalid_string,validation:"datetime",message:G.message}),X.dirty()}else if(G.kind==="date"){if(!h4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{code:K.invalid_string,validation:"date",message:G.message}),X.dirty()}else if(G.kind==="time"){if(!m4(G).test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{code:K.invalid_string,validation:"time",message:G.message}),X.dirty()}else if(G.kind==="duration"){if(!P4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"duration",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="ip"){if(!y4($.data,G.version))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"ip",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="jwt"){if(!g4($.data,G.alg))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"jwt",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="cidr"){if(!u4($.data,G.version))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"cidr",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="base64"){if(!f4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"base64",code:K.invalid_string,message:G.message}),X.dirty()}else if(G.kind==="base64url"){if(!x4.test($.data))Q=this._getOrReturnCtx($,Q),R(Q,{validation:"base64url",code:K.invalid_string,message:G.message}),X.dirty()}else Z.assertNever(G);return{status:X.value,value:$.data}}_regex($,J,X){return this.refinement((Q)=>$.test(Q),{validation:J,code:K.invalid_string,...D.errToObj(X)})}_addCheck($){return new n({...this._def,checks:[...this._def.checks,$]})}email($){return this._addCheck({kind:"email",...D.errToObj($)})}url($){return this._addCheck({kind:"url",...D.errToObj($)})}emoji($){return this._addCheck({kind:"emoji",...D.errToObj($)})}uuid($){return this._addCheck({kind:"uuid",...D.errToObj($)})}nanoid($){return this._addCheck({kind:"nanoid",...D.errToObj($)})}cuid($){return this._addCheck({kind:"cuid",...D.errToObj($)})}cuid2($){return this._addCheck({kind:"cuid2",...D.errToObj($)})}ulid($){return this._addCheck({kind:"ulid",...D.errToObj($)})}base64($){return this._addCheck({kind:"base64",...D.errToObj($)})}base64url($){return this._addCheck({kind:"base64url",...D.errToObj($)})}jwt($){return this._addCheck({kind:"jwt",...D.errToObj($)})}ip($){return this._addCheck({kind:"ip",...D.errToObj($)})}cidr($){return this._addCheck({kind:"cidr",...D.errToObj($)})}datetime($){if(typeof $==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:$});return this._addCheck({kind:"datetime",precision:typeof $?.precision==="undefined"?null:$?.precision,offset:$?.offset??!1,local:$?.local??!1,...D.errToObj($?.message)})}date($){return this._addCheck({kind:"date",message:$})}time($){if(typeof $==="string")return this._addCheck({kind:"time",precision:null,message:$});return this._addCheck({kind:"time",precision:typeof $?.precision==="undefined"?null:$?.precision,...D.errToObj($?.message)})}duration($){return this._addCheck({kind:"duration",...D.errToObj($)})}regex($,J){return this._addCheck({kind:"regex",regex:$,...D.errToObj(J)})}includes($,J){return this._addCheck({kind:"includes",value:$,position:J?.position,...D.errToObj(J?.message)})}startsWith($,J){return this._addCheck({kind:"startsWith",value:$,...D.errToObj(J)})}endsWith($,J){return this._addCheck({kind:"endsWith",value:$,...D.errToObj(J)})}min($,J){return this._addCheck({kind:"min",value:$,...D.errToObj(J)})}max($,J){return this._addCheck({kind:"max",value:$,...D.errToObj(J)})}length($,J){return this._addCheck({kind:"length",value:$,...D.errToObj(J)})}nonempty($){return this.min(1,D.errToObj($))}trim(){return new n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(($)=>$.kind==="datetime")}get isDate(){return!!this._def.checks.find(($)=>$.kind==="date")}get isTime(){return!!this._def.checks.find(($)=>$.kind==="time")}get isDuration(){return!!this._def.checks.find(($)=>$.kind==="duration")}get isEmail(){return!!this._def.checks.find(($)=>$.kind==="email")}get isURL(){return!!this._def.checks.find(($)=>$.kind==="url")}get isEmoji(){return!!this._def.checks.find(($)=>$.kind==="emoji")}get isUUID(){return!!this._def.checks.find(($)=>$.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(($)=>$.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(($)=>$.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(($)=>$.kind==="cuid2")}get isULID(){return!!this._def.checks.find(($)=>$.kind==="ulid")}get isIP(){return!!this._def.checks.find(($)=>$.kind==="ip")}get isCIDR(){return!!this._def.checks.find(($)=>$.kind==="cidr")}get isBase64(){return!!this._def.checks.find(($)=>$.kind==="base64")}get isBase64url(){return!!this._def.checks.find(($)=>$.kind==="base64url")}get minLength(){let $=null;for(let J of this._def.checks)if(J.kind==="min"){if($===null||J.value>$)$=J.value}return $}get maxLength(){let $=null;for(let J of this._def.checks)if(J.kind==="max"){if($===null||J.value<$)$=J.value}return $}}n.create=($)=>{return new n({checks:[],typeName:j.ZodString,coerce:$?.coerce??!1,...P($)})};function d4($,J){let X=($.toString().split(".")[1]||"").length,Q=(J.toString().split(".")[1]||"").length,G=X>Q?X:Q,W=Number.parseInt($.toFixed(G).replace(".","")),Y=Number.parseInt(J.toFixed(G).replace(".",""));return W%Y/10**G}class U$ extends C{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse($){if(this._def.coerce)$.data=Number($.data);if(this._getType($)!==w.number){let G=this._getOrReturnCtx($);return R(G,{code:K.invalid_type,expected:w.number,received:G.parsedType}),N}let X=void 0,Q=new h;for(let G of this._def.checks)if(G.kind==="int"){if(!Z.isInteger($.data))X=this._getOrReturnCtx($,X),R(X,{code:K.invalid_type,expected:"integer",received:"float",message:G.message}),Q.dirty()}else if(G.kind==="min"){if(G.inclusive?$.data<G.value:$.data<=G.value)X=this._getOrReturnCtx($,X),R(X,{code:K.too_small,minimum:G.value,type:"number",inclusive:G.inclusive,exact:!1,message:G.message}),Q.dirty()}else if(G.kind==="max"){if(G.inclusive?$.data>G.value:$.data>=G.value)X=this._getOrReturnCtx($,X),R(X,{code:K.too_big,maximum:G.value,type:"number",inclusive:G.inclusive,exact:!1,message:G.message}),Q.dirty()}else if(G.kind==="multipleOf"){if(d4($.data,G.value)!==0)X=this._getOrReturnCtx($,X),R(X,{code:K.not_multiple_of,multipleOf:G.value,message:G.message}),Q.dirty()}else if(G.kind==="finite"){if(!Number.isFinite($.data))X=this._getOrReturnCtx($,X),R(X,{code:K.not_finite,message:G.message}),Q.dirty()}else Z.assertNever(G);return{status:Q.value,value:$.data}}gte($,J){return this.setLimit("min",$,!0,D.toString(J))}gt($,J){return this.setLimit("min",$,!1,D.toString(J))}lte($,J){return this.setLimit("max",$,!0,D.toString(J))}lt($,J){return this.setLimit("max",$,!1,D.toString(J))}setLimit($,J,X,Q){return new U$({...this._def,checks:[...this._def.checks,{kind:$,value:J,inclusive:X,message:D.toString(Q)}]})}_addCheck($){return new U$({...this._def,checks:[...this._def.checks,$]})}int($){return this._addCheck({kind:"int",message:D.toString($)})}positive($){return this._addCheck({kind:"min",value:0,inclusive:!1,message:D.toString($)})}negative($){return this._addCheck({kind:"max",value:0,inclusive:!1,message:D.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:0,inclusive:!0,message:D.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:0,inclusive:!0,message:D.toString($)})}multipleOf($,J){return this._addCheck({kind:"multipleOf",value:$,message:D.toString(J)})}finite($){return this._addCheck({kind:"finite",message:D.toString($)})}safe($){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:D.toString($)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:D.toString($)})}get minValue(){let $=null;for(let J of this._def.checks)if(J.kind==="min"){if($===null||J.value>$)$=J.value}return $}get maxValue(){let $=null;for(let J of this._def.checks)if(J.kind==="max"){if($===null||J.value<$)$=J.value}return $}get isInt(){return!!this._def.checks.find(($)=>$.kind==="int"||$.kind==="multipleOf"&&Z.isInteger($.value))}get isFinite(){let $=null,J=null;for(let X of this._def.checks)if(X.kind==="finite"||X.kind==="int"||X.kind==="multipleOf")return!0;else if(X.kind==="min"){if(J===null||X.value>J)J=X.value}else if(X.kind==="max"){if($===null||X.value<$)$=X.value}return Number.isFinite(J)&&Number.isFinite($)}}U$.create=($)=>{return new U$({checks:[],typeName:j.ZodNumber,coerce:$?.coerce||!1,...P($)})};class M$ extends C{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse($){if(this._def.coerce)try{$.data=BigInt($.data)}catch{return this._getInvalidInput($)}if(this._getType($)!==w.bigint)return this._getInvalidInput($);let X=void 0,Q=new h;for(let G of this._def.checks)if(G.kind==="min"){if(G.inclusive?$.data<G.value:$.data<=G.value)X=this._getOrReturnCtx($,X),R(X,{code:K.too_small,type:"bigint",minimum:G.value,inclusive:G.inclusive,message:G.message}),Q.dirty()}else if(G.kind==="max"){if(G.inclusive?$.data>G.value:$.data>=G.value)X=this._getOrReturnCtx($,X),R(X,{code:K.too_big,type:"bigint",maximum:G.value,inclusive:G.inclusive,message:G.message}),Q.dirty()}else if(G.kind==="multipleOf"){if($.data%G.value!==BigInt(0))X=this._getOrReturnCtx($,X),R(X,{code:K.not_multiple_of,multipleOf:G.value,message:G.message}),Q.dirty()}else Z.assertNever(G);return{status:Q.value,value:$.data}}_getInvalidInput($){let J=this._getOrReturnCtx($);return R(J,{code:K.invalid_type,expected:w.bigint,received:J.parsedType}),N}gte($,J){return this.setLimit("min",$,!0,D.toString(J))}gt($,J){return this.setLimit("min",$,!1,D.toString(J))}lte($,J){return this.setLimit("max",$,!0,D.toString(J))}lt($,J){return this.setLimit("max",$,!1,D.toString(J))}setLimit($,J,X,Q){return new M$({...this._def,checks:[...this._def.checks,{kind:$,value:J,inclusive:X,message:D.toString(Q)}]})}_addCheck($){return new M$({...this._def,checks:[...this._def.checks,$]})}positive($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:D.toString($)})}negative($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:D.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:D.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:D.toString($)})}multipleOf($,J){return this._addCheck({kind:"multipleOf",value:$,message:D.toString(J)})}get minValue(){let $=null;for(let J of this._def.checks)if(J.kind==="min"){if($===null||J.value>$)$=J.value}return $}get maxValue(){let $=null;for(let J of this._def.checks)if(J.kind==="max"){if($===null||J.value<$)$=J.value}return $}}M$.create=($)=>{return new M$({checks:[],typeName:j.ZodBigInt,coerce:$?.coerce??!1,...P($)})};class b$ extends C{_parse($){if(this._def.coerce)$.data=Boolean($.data);if(this._getType($)!==w.boolean){let X=this._getOrReturnCtx($);return R(X,{code:K.invalid_type,expected:w.boolean,received:X.parsedType}),N}return g($.data)}}b$.create=($)=>{return new b$({typeName:j.ZodBoolean,coerce:$?.coerce||!1,...P($)})};class D$ extends C{_parse($){if(this._def.coerce)$.data=new Date($.data);if(this._getType($)!==w.date){let G=this._getOrReturnCtx($);return R(G,{code:K.invalid_type,expected:w.date,received:G.parsedType}),N}if(Number.isNaN($.data.getTime())){let G=this._getOrReturnCtx($);return R(G,{code:K.invalid_date}),N}let X=new h,Q=void 0;for(let G of this._def.checks)if(G.kind==="min"){if($.data.getTime()<G.value)Q=this._getOrReturnCtx($,Q),R(Q,{code:K.too_small,message:G.message,inclusive:!0,exact:!1,minimum:G.value,type:"date"}),X.dirty()}else if(G.kind==="max"){if($.data.getTime()>G.value)Q=this._getOrReturnCtx($,Q),R(Q,{code:K.too_big,message:G.message,inclusive:!0,exact:!1,maximum:G.value,type:"date"}),X.dirty()}else Z.assertNever(G);return{status:X.value,value:new Date($.data.getTime())}}_addCheck($){return new D$({...this._def,checks:[...this._def.checks,$]})}min($,J){return this._addCheck({kind:"min",value:$.getTime(),message:D.toString(J)})}max($,J){return this._addCheck({kind:"max",value:$.getTime(),message:D.toString(J)})}get minDate(){let $=null;for(let J of this._def.checks)if(J.kind==="min"){if($===null||J.value>$)$=J.value}return $!=null?new Date($):null}get maxDate(){let $=null;for(let J of this._def.checks)if(J.kind==="max"){if($===null||J.value<$)$=J.value}return $!=null?new Date($):null}}D$.create=($)=>{return new D$({checks:[],coerce:$?.coerce||!1,typeName:j.ZodDate,...P($)})};class Y0 extends C{_parse($){if(this._getType($)!==w.symbol){let X=this._getOrReturnCtx($);return R(X,{code:K.invalid_type,expected:w.symbol,received:X.parsedType}),N}return g($.data)}}Y0.create=($)=>{return new Y0({typeName:j.ZodSymbol,...P($)})};class f$ extends C{_parse($){if(this._getType($)!==w.undefined){let X=this._getOrReturnCtx($);return R(X,{code:K.invalid_type,expected:w.undefined,received:X.parsedType}),N}return g($.data)}}f$.create=($)=>{return new f$({typeName:j.ZodUndefined,...P($)})};class x$ extends C{_parse($){if(this._getType($)!==w.null){let X=this._getOrReturnCtx($);return R(X,{code:K.invalid_type,expected:w.null,received:X.parsedType}),N}return g($.data)}}x$.create=($)=>{return new x$({typeName:j.ZodNull,...P($)})};class A$ extends C{constructor(){super(...arguments);this._any=!0}_parse($){return g($.data)}}A$.create=($)=>{return new A$({typeName:j.ZodAny,...P($)})};class B$ extends C{constructor(){super(...arguments);this._unknown=!0}_parse($){return g($.data)}}B$.create=($)=>{return new B$({typeName:j.ZodUnknown,...P($)})};class $$ extends C{_parse($){let J=this._getOrReturnCtx($);return R(J,{code:K.invalid_type,expected:w.never,received:J.parsedType}),N}}$$.create=($)=>{return new $$({typeName:j.ZodNever,...P($)})};class W0 extends C{_parse($){if(this._getType($)!==w.undefined){let X=this._getOrReturnCtx($);return R(X,{code:K.invalid_type,expected:w.void,received:X.parsedType}),N}return g($.data)}}W0.create=($)=>{return new W0({typeName:j.ZodVoid,...P($)})};class r extends C{_parse($){let{ctx:J,status:X}=this._processInputParams($),Q=this._def;if(J.parsedType!==w.array)return R(J,{code:K.invalid_type,expected:w.array,received:J.parsedType}),N;if(Q.exactLength!==null){let W=J.data.length>Q.exactLength.value,Y=J.data.length<Q.exactLength.value;if(W||Y)R(J,{code:W?K.too_big:K.too_small,minimum:Y?Q.exactLength.value:void 0,maximum:W?Q.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Q.exactLength.message}),X.dirty()}if(Q.minLength!==null){if(J.data.length<Q.minLength.value)R(J,{code:K.too_small,minimum:Q.minLength.value,type:"array",inclusive:!0,exact:!1,message:Q.minLength.message}),X.dirty()}if(Q.maxLength!==null){if(J.data.length>Q.maxLength.value)R(J,{code:K.too_big,maximum:Q.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Q.maxLength.message}),X.dirty()}if(J.common.async)return Promise.all([...J.data].map((W,Y)=>{return Q.type._parseAsync(new i(J,W,J.path,Y))})).then((W)=>{return h.mergeArray(X,W)});let G=[...J.data].map((W,Y)=>{return Q.type._parseSync(new i(J,W,J.path,Y))});return h.mergeArray(X,G)}get element(){return this._def.type}min($,J){return new r({...this._def,minLength:{value:$,message:D.toString(J)}})}max($,J){return new r({...this._def,maxLength:{value:$,message:D.toString(J)}})}length($,J){return new r({...this._def,exactLength:{value:$,message:D.toString(J)}})}nonempty($){return this.min(1,$)}}r.create=($,J)=>{return new r({type:$,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...P(J)})};function T$($){if($ instanceof b){let J={};for(let X in $.shape){let Q=$.shape[X];J[X]=o.create(T$(Q))}return new b({...$._def,shape:()=>J})}else if($ instanceof r)return new r({...$._def,type:T$($.element)});else if($ instanceof o)return o.create(T$($.unwrap()));else if($ instanceof Y$)return Y$.create(T$($.unwrap()));else if($ instanceof J$)return J$.create($.items.map((J)=>T$(J)));else return $}class b extends C{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let $=this._def.shape(),J=Z.objectKeys($);return this._cached={shape:$,keys:J},this._cached}_parse($){if(this._getType($)!==w.object){let q=this._getOrReturnCtx($);return R(q,{code:K.invalid_type,expected:w.object,received:q.parsedType}),N}let{status:X,ctx:Q}=this._processInputParams($),{shape:G,keys:W}=this._getCached(),Y=[];if(!(this._def.catchall instanceof $$&&this._def.unknownKeys==="strip")){for(let q in Q.data)if(!W.includes(q))Y.push(q)}let H=[];for(let q of W){let B=G[q],U=Q.data[q];H.push({key:{status:"valid",value:q},value:B._parse(new i(Q,U,Q.path,q)),alwaysSet:q in Q.data})}if(this._def.catchall instanceof $$){let q=this._def.unknownKeys;if(q==="passthrough")for(let B of Y)H.push({key:{status:"valid",value:B},value:{status:"valid",value:Q.data[B]}});else if(q==="strict"){if(Y.length>0)R(Q,{code:K.unrecognized_keys,keys:Y}),X.dirty()}else if(q==="strip");else throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let q=this._def.catchall;for(let B of Y){let U=Q.data[B];H.push({key:{status:"valid",value:B},value:q._parse(new i(Q,U,Q.path,B)),alwaysSet:B in Q.data})}}if(Q.common.async)return Promise.resolve().then(async()=>{let q=[];for(let B of H){let U=await B.key,M=await B.value;q.push({key:U,value:M,alwaysSet:B.alwaysSet})}return q}).then((q)=>{return h.mergeObjectSync(X,q)});else return h.mergeObjectSync(X,H)}get shape(){return this._def.shape()}strict($){return D.errToObj,new b({...this._def,unknownKeys:"strict",...$!==void 0?{errorMap:(J,X)=>{let Q=this._def.errorMap?.(J,X).message??X.defaultError;if(J.code==="unrecognized_keys")return{message:D.errToObj($).message??Q};return{message:Q}}}:{}})}strip(){return new b({...this._def,unknownKeys:"strip"})}passthrough(){return new b({...this._def,unknownKeys:"passthrough"})}extend($){return new b({...this._def,shape:()=>({...this._def.shape(),...$})})}merge($){return new b({unknownKeys:$._def.unknownKeys,catchall:$._def.catchall,shape:()=>({...this._def.shape(),...$._def.shape()}),typeName:j.ZodObject})}setKey($,J){return this.augment({[$]:J})}catchall($){return new b({...this._def,catchall:$})}pick($){let J={};for(let X of Z.objectKeys($))if($[X]&&this.shape[X])J[X]=this.shape[X];return new b({...this._def,shape:()=>J})}omit($){let J={};for(let X of Z.objectKeys(this.shape))if(!$[X])J[X]=this.shape[X];return new b({...this._def,shape:()=>J})}deepPartial(){return T$(this)}partial($){let J={};for(let X of Z.objectKeys(this.shape)){let Q=this.shape[X];if($&&!$[X])J[X]=Q;else J[X]=Q.optional()}return new b({...this._def,shape:()=>J})}required($){let J={};for(let X of Z.objectKeys(this.shape))if($&&!$[X])J[X]=this.shape[X];else{let G=this.shape[X];while(G instanceof o)G=G._def.innerType;J[X]=G}return new b({...this._def,shape:()=>J})}keyof(){return fJ(Z.objectKeys(this.shape))}}b.create=($,J)=>{return new b({shape:()=>$,unknownKeys:"strip",catchall:$$.create(),typeName:j.ZodObject,...P(J)})};b.strictCreate=($,J)=>{return new b({shape:()=>$,unknownKeys:"strict",catchall:$$.create(),typeName:j.ZodObject,...P(J)})};b.lazycreate=($,J)=>{return new b({shape:$,unknownKeys:"strip",catchall:$$.create(),typeName:j.ZodObject,...P(J)})};class h$ extends C{_parse($){let{ctx:J}=this._processInputParams($),X=this._def.options;function Q(G){for(let Y of G)if(Y.result.status==="valid")return Y.result;for(let Y of G)if(Y.result.status==="dirty")return J.common.issues.push(...Y.ctx.common.issues),Y.result;let W=G.map((Y)=>new c(Y.ctx.common.issues));return R(J,{code:K.invalid_union,unionErrors:W}),N}if(J.common.async)return Promise.all(X.map(async(G)=>{let W={...J,common:{...J.common,issues:[]},parent:null};return{result:await G._parseAsync({data:J.data,path:J.path,parent:W}),ctx:W}})).then(Q);else{let G=void 0,W=[];for(let H of X){let q={...J,common:{...J.common,issues:[]},parent:null},B=H._parseSync({data:J.data,path:J.path,parent:q});if(B.status==="valid")return B;else if(B.status==="dirty"&&!G)G={result:B,ctx:q};if(q.common.issues.length)W.push(q.common.issues)}if(G)return J.common.issues.push(...G.ctx.common.issues),G.result;let Y=W.map((H)=>new c(H));return R(J,{code:K.invalid_union,unionErrors:Y}),N}}get options(){return this._def.options}}h$.create=($,J)=>{return new h$({options:$,typeName:j.ZodUnion,...P(J)})};var G$=($)=>{if($ instanceof y$)return G$($.schema);else if($ instanceof a)return G$($.innerType());else if($ instanceof g$)return[$.value];else if($ instanceof V$)return $.options;else if($ instanceof u$)return Z.objectValues($.enum);else if($ instanceof d$)return G$($._def.innerType);else if($ instanceof f$)return[void 0];else if($ instanceof x$)return[null];else if($ instanceof o)return[void 0,...G$($.unwrap())];else if($ instanceof Y$)return[null,...G$($.unwrap())];else if($ instanceof Z0)return G$($.unwrap());else if($ instanceof l$)return G$($.unwrap());else if($ instanceof c$)return G$($._def.innerType);else return[]};class C0 extends C{_parse($){let{ctx:J}=this._processInputParams($);if(J.parsedType!==w.object)return R(J,{code:K.invalid_type,expected:w.object,received:J.parsedType}),N;let X=this.discriminator,Q=J.data[X],G=this.optionsMap.get(Q);if(!G)return R(J,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[X]}),N;if(J.common.async)return G._parseAsync({data:J.data,path:J.path,parent:J});else return G._parseSync({data:J.data,path:J.path,parent:J})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create($,J,X){let Q=new Map;for(let G of J){let W=G$(G.shape[$]);if(!W.length)throw new Error(`A discriminator value for key \`${$}\` could not be extracted from all schema options`);for(let Y of W){if(Q.has(Y))throw new Error(`Discriminator property ${String($)} has duplicate value ${String(Y)}`);Q.set(Y,G)}}return new C0({typeName:j.ZodDiscriminatedUnion,discriminator:$,options:J,optionsMap:Q,...P(X)})}}function G1($,J){let X=e($),Q=e(J);if($===J)return{valid:!0,data:$};else if(X===w.object&&Q===w.object){let G=Z.objectKeys(J),W=Z.objectKeys($).filter((H)=>G.indexOf(H)!==-1),Y={...$,...J};for(let H of W){let q=G1($[H],J[H]);if(!q.valid)return{valid:!1};Y[H]=q.data}return{valid:!0,data:Y}}else if(X===w.array&&Q===w.array){if($.length!==J.length)return{valid:!1};let G=[];for(let W=0;W<$.length;W++){let Y=$[W],H=J[W],q=G1(Y,H);if(!q.valid)return{valid:!1};G.push(q.data)}return{valid:!0,data:G}}else if(X===w.date&&Q===w.date&&+$===+J)return{valid:!0,data:$};else return{valid:!1}}class m$ extends C{_parse($){let{status:J,ctx:X}=this._processInputParams($),Q=(G,W)=>{if(E0(G)||E0(W))return N;let Y=G1(G.value,W.value);if(!Y.valid)return R(X,{code:K.invalid_intersection_types}),N;if(I0(G)||I0(W))J.dirty();return{status:J.value,value:Y.data}};if(X.common.async)return Promise.all([this._def.left._parseAsync({data:X.data,path:X.path,parent:X}),this._def.right._parseAsync({data:X.data,path:X.path,parent:X})]).then(([G,W])=>Q(G,W));else return Q(this._def.left._parseSync({data:X.data,path:X.path,parent:X}),this._def.right._parseSync({data:X.data,path:X.path,parent:X}))}}m$.create=($,J,X)=>{return new m$({left:$,right:J,typeName:j.ZodIntersection,...P(X)})};class J$ extends C{_parse($){let{status:J,ctx:X}=this._processInputParams($);if(X.parsedType!==w.array)return R(X,{code:K.invalid_type,expected:w.array,received:X.parsedType}),N;if(X.data.length<this._def.items.length)return R(X,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),N;if(!this._def.rest&&X.data.length>this._def.items.length)R(X,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),J.dirty();let G=[...X.data].map((W,Y)=>{let H=this._def.items[Y]||this._def.rest;if(!H)return null;return H._parse(new i(X,W,X.path,Y))}).filter((W)=>!!W);if(X.common.async)return Promise.all(G).then((W)=>{return h.mergeArray(J,W)});else return h.mergeArray(J,G)}get items(){return this._def.items}rest($){return new J$({...this._def,rest:$})}}J$.create=($,J)=>{if(!Array.isArray($))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new J$({items:$,typeName:j.ZodTuple,rest:null,...P(J)})};class H0 extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:J,ctx:X}=this._processInputParams($);if(X.parsedType!==w.object)return R(X,{code:K.invalid_type,expected:w.object,received:X.parsedType}),N;let Q=[],G=this._def.keyType,W=this._def.valueType;for(let Y in X.data)Q.push({key:G._parse(new i(X,Y,X.path,Y)),value:W._parse(new i(X,X.data[Y],X.path,Y)),alwaysSet:Y in X.data});if(X.common.async)return h.mergeObjectAsync(J,Q);else return h.mergeObjectSync(J,Q)}get element(){return this._def.valueType}static create($,J,X){if(J instanceof C)return new H0({keyType:$,valueType:J,typeName:j.ZodRecord,...P(X)});return new H0({keyType:n.create(),valueType:$,typeName:j.ZodRecord,...P(J)})}}class z0 extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:J,ctx:X}=this._processInputParams($);if(X.parsedType!==w.map)return R(X,{code:K.invalid_type,expected:w.map,received:X.parsedType}),N;let Q=this._def.keyType,G=this._def.valueType,W=[...X.data.entries()].map(([Y,H],q)=>{return{key:Q._parse(new i(X,Y,X.path,[q,"key"])),value:G._parse(new i(X,H,X.path,[q,"value"]))}});if(X.common.async){let Y=new Map;return Promise.resolve().then(async()=>{for(let H of W){let q=await H.key,B=await H.value;if(q.status==="aborted"||B.status==="aborted")return N;if(q.status==="dirty"||B.status==="dirty")J.dirty();Y.set(q.value,B.value)}return{status:J.value,value:Y}})}else{let Y=new Map;for(let H of W){let{key:q,value:B}=H;if(q.status==="aborted"||B.status==="aborted")return N;if(q.status==="dirty"||B.status==="dirty")J.dirty();Y.set(q.value,B.value)}return{status:J.value,value:Y}}}}z0.create=($,J,X)=>{return new z0({valueType:J,keyType:$,typeName:j.ZodMap,...P(X)})};class L$ extends C{_parse($){let{status:J,ctx:X}=this._processInputParams($);if(X.parsedType!==w.set)return R(X,{code:K.invalid_type,expected:w.set,received:X.parsedType}),N;let Q=this._def;if(Q.minSize!==null){if(X.data.size<Q.minSize.value)R(X,{code:K.too_small,minimum:Q.minSize.value,type:"set",inclusive:!0,exact:!1,message:Q.minSize.message}),J.dirty()}if(Q.maxSize!==null){if(X.data.size>Q.maxSize.value)R(X,{code:K.too_big,maximum:Q.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Q.maxSize.message}),J.dirty()}let G=this._def.valueType;function W(H){let q=new Set;for(let B of H){if(B.status==="aborted")return N;if(B.status==="dirty")J.dirty();q.add(B.value)}return{status:J.value,value:q}}let Y=[...X.data.values()].map((H,q)=>G._parse(new i(X,H,X.path,q)));if(X.common.async)return Promise.all(Y).then((H)=>W(H));else return W(Y)}min($,J){return new L$({...this._def,minSize:{value:$,message:D.toString(J)}})}max($,J){return new L$({...this._def,maxSize:{value:$,message:D.toString(J)}})}size($,J){return this.min($,J).max($,J)}nonempty($){return this.min(1,$)}}L$.create=($,J)=>{return new L$({valueType:$,minSize:null,maxSize:null,typeName:j.ZodSet,...P(J)})};class v$ extends C{constructor(){super(...arguments);this.validate=this.implement}_parse($){let{ctx:J}=this._processInputParams($);if(J.parsedType!==w.function)return R(J,{code:K.invalid_type,expected:w.function,received:J.parsedType}),N;function X(Y,H){return X0({data:Y,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,Z$(),Q$].filter((q)=>!!q),issueData:{code:K.invalid_arguments,argumentsError:H}})}function Q(Y,H){return X0({data:Y,path:J.path,errorMaps:[J.common.contextualErrorMap,J.schemaErrorMap,Z$(),Q$].filter((q)=>!!q),issueData:{code:K.invalid_return_type,returnTypeError:H}})}let G={errorMap:J.common.contextualErrorMap},W=J.data;if(this._def.returns instanceof _$){let Y=this;return g(async function(...H){let q=new c([]),B=await Y._def.args.parseAsync(H,G).catch((F)=>{throw q.addIssue(X(H,F)),q}),U=await Reflect.apply(W,this,B);return await Y._def.returns._def.type.parseAsync(U,G).catch((F)=>{throw q.addIssue(Q(U,F)),q})})}else{let Y=this;return g(function(...H){let q=Y._def.args.safeParse(H,G);if(!q.success)throw new c([X(H,q.error)]);let B=Reflect.apply(W,this,q.data),U=Y._def.returns.safeParse(B,G);if(!U.success)throw new c([Q(B,U.error)]);return U.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...$){return new v$({...this._def,args:J$.create($).rest(B$.create())})}returns($){return new v$({...this._def,returns:$})}implement($){return this.parse($)}strictImplement($){return this.parse($)}static create($,J,X){return new v$({args:$?$:J$.create([]).rest(B$.create()),returns:J||B$.create(),typeName:j.ZodFunction,...P(X)})}}class y$ extends C{get schema(){return this._def.getter()}_parse($){let{ctx:J}=this._processInputParams($);return this._def.getter()._parse({data:J.data,path:J.path,parent:J})}}y$.create=($,J)=>{return new y$({getter:$,typeName:j.ZodLazy,...P(J)})};class g$ extends C{_parse($){if($.data!==this._def.value){let J=this._getOrReturnCtx($);return R(J,{received:J.data,code:K.invalid_literal,expected:this._def.value}),N}return{status:"valid",value:$.data}}get value(){return this._def.value}}g$.create=($,J)=>{return new g$({value:$,typeName:j.ZodLiteral,...P(J)})};function fJ($,J){return new V$({values:$,typeName:j.ZodEnum,...P(J)})}class V$ extends C{constructor(){super(...arguments);Q0.set(this,void 0)}_parse($){if(typeof $.data!=="string"){let J=this._getOrReturnCtx($),X=this._def.values;return R(J,{expected:Z.joinValues(X),received:J.parsedType,code:K.invalid_type}),N}if(!P0(this,Q0,"f"))kJ(this,Q0,new Set(this._def.values),"f");if(!P0(this,Q0,"f").has($.data)){let J=this._getOrReturnCtx($),X=this._def.values;return R(J,{received:J.data,code:K.invalid_enum_value,options:X}),N}return g($.data)}get options(){return this._def.values}get enum(){let $={};for(let J of this._def.values)$[J]=J;return $}get Values(){let $={};for(let J of this._def.values)$[J]=J;return $}get Enum(){let $={};for(let J of this._def.values)$[J]=J;return $}extract($,J=this._def){return V$.create($,{...this._def,...J})}exclude($,J=this._def){return V$.create(this.options.filter((X)=>!$.includes(X)),{...this._def,...J})}}Q0=new WeakMap;V$.create=fJ;class u$ extends C{constructor(){super(...arguments);G0.set(this,void 0)}_parse($){let J=Z.getValidEnumValues(this._def.values),X=this._getOrReturnCtx($);if(X.parsedType!==w.string&&X.parsedType!==w.number){let Q=Z.objectValues(J);return R(X,{expected:Z.joinValues(Q),received:X.parsedType,code:K.invalid_type}),N}if(!P0(this,G0,"f"))kJ(this,G0,new Set(Z.getValidEnumValues(this._def.values)),"f");if(!P0(this,G0,"f").has($.data)){let Q=Z.objectValues(J);return R(X,{received:X.data,code:K.invalid_enum_value,options:Q}),N}return g($.data)}get enum(){return this._def.values}}G0=new WeakMap;u$.create=($,J)=>{return new u$({values:$,typeName:j.ZodNativeEnum,...P(J)})};class _$ extends C{unwrap(){return this._def.type}_parse($){let{ctx:J}=this._processInputParams($);if(J.parsedType!==w.promise&&J.common.async===!1)return R(J,{code:K.invalid_type,expected:w.promise,received:J.parsedType}),N;let X=J.parsedType===w.promise?J.data:Promise.resolve(J.data);return g(X.then((Q)=>{return this._def.type.parseAsync(Q,{path:J.path,errorMap:J.common.contextualErrorMap})}))}}_$.create=($,J)=>{return new _$({type:$,typeName:j.ZodPromise,...P(J)})};class a extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse($){let{status:J,ctx:X}=this._processInputParams($),Q=this._def.effect||null,G={addIssue:(W)=>{if(R(X,W),W.fatal)J.abort();else J.dirty()},get path(){return X.path}};if(G.addIssue=G.addIssue.bind(G),Q.type==="preprocess"){let W=Q.transform(X.data,G);if(X.common.async)return Promise.resolve(W).then(async(Y)=>{if(J.value==="aborted")return N;let H=await this._def.schema._parseAsync({data:Y,path:X.path,parent:X});if(H.status==="aborted")return N;if(H.status==="dirty")return O$(H.value);if(J.value==="dirty")return O$(H.value);return H});else{if(J.value==="aborted")return N;let Y=this._def.schema._parseSync({data:W,path:X.path,parent:X});if(Y.status==="aborted")return N;if(Y.status==="dirty")return O$(Y.value);if(J.value==="dirty")return O$(Y.value);return Y}}if(Q.type==="refinement"){let W=(Y)=>{let H=Q.refinement(Y,G);if(X.common.async)return Promise.resolve(H);if(H instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return Y};if(X.common.async===!1){let Y=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});if(Y.status==="aborted")return N;if(Y.status==="dirty")J.dirty();return W(Y.value),{status:J.value,value:Y.value}}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then((Y)=>{if(Y.status==="aborted")return N;if(Y.status==="dirty")J.dirty();return W(Y.value).then(()=>{return{status:J.value,value:Y.value}})})}if(Q.type==="transform")if(X.common.async===!1){let W=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});if(!q$(W))return W;let Y=Q.transform(W.value,G);if(Y instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:J.value,value:Y}}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then((W)=>{if(!q$(W))return W;return Promise.resolve(Q.transform(W.value,G)).then((Y)=>({status:J.value,value:Y}))});Z.assertNever(Q)}}a.create=($,J,X)=>{return new a({schema:$,typeName:j.ZodEffects,effect:J,...P(X)})};a.createWithPreprocess=($,J,X)=>{return new a({schema:J,effect:{type:"preprocess",transform:$},typeName:j.ZodEffects,...P(X)})};class o extends C{_parse($){if(this._getType($)===w.undefined)return g(void 0);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}o.create=($,J)=>{return new o({innerType:$,typeName:j.ZodOptional,...P(J)})};class Y$ extends C{_parse($){if(this._getType($)===w.null)return g(null);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}Y$.create=($,J)=>{return new Y$({innerType:$,typeName:j.ZodNullable,...P(J)})};class d$ extends C{_parse($){let{ctx:J}=this._processInputParams($),X=J.data;if(J.parsedType===w.undefined)X=this._def.defaultValue();return this._def.innerType._parse({data:X,path:J.path,parent:J})}removeDefault(){return this._def.innerType}}d$.create=($,J)=>{return new d$({innerType:$,typeName:j.ZodDefault,defaultValue:typeof J.default==="function"?J.default:()=>J.default,...P(J)})};class c$ extends C{_parse($){let{ctx:J}=this._processInputParams($),X={...J,common:{...J.common,issues:[]}},Q=this._def.innerType._parse({data:X.data,path:X.path,parent:{...X}});if(k$(Q))return Q.then((G)=>{return{status:"valid",value:G.status==="valid"?G.value:this._def.catchValue({get error(){return new c(X.common.issues)},input:X.data})}});else return{status:"valid",value:Q.status==="valid"?Q.value:this._def.catchValue({get error(){return new c(X.common.issues)},input:X.data})}}removeCatch(){return this._def.innerType}}c$.create=($,J)=>{return new c$({innerType:$,typeName:j.ZodCatch,catchValue:typeof J.catch==="function"?J.catch:()=>J.catch,...P(J)})};class q0 extends C{_parse($){if(this._getType($)!==w.nan){let X=this._getOrReturnCtx($);return R(X,{code:K.invalid_type,expected:w.nan,received:X.parsedType}),N}return{status:"valid",value:$.data}}}q0.create=($)=>{return new q0({typeName:j.ZodNaN,...P($)})};var c4=Symbol("zod_brand");class Z0 extends C{_parse($){let{ctx:J}=this._processInputParams($),X=J.data;return this._def.type._parse({data:X,path:J.path,parent:J})}unwrap(){return this._def.type}}class B0 extends C{_parse($){let{status:J,ctx:X}=this._processInputParams($);if(X.common.async)return(async()=>{let G=await this._def.in._parseAsync({data:X.data,path:X.path,parent:X});if(G.status==="aborted")return N;if(G.status==="dirty")return J.dirty(),O$(G.value);else return this._def.out._parseAsync({data:G.value,path:X.path,parent:X})})();else{let Q=this._def.in._parseSync({data:X.data,path:X.path,parent:X});if(Q.status==="aborted")return N;if(Q.status==="dirty")return J.dirty(),{status:"dirty",value:Q.value};else return this._def.out._parseSync({data:Q.value,path:X.path,parent:X})}}static create($,J){return new B0({in:$,out:J,typeName:j.ZodPipeline})}}class l$ extends C{_parse($){let J=this._def.innerType._parse($),X=(Q)=>{if(q$(Q))Q.value=Object.freeze(Q.value);return Q};return k$(J)?J.then((Q)=>X(Q)):X(J)}unwrap(){return this._def.innerType}}l$.create=($,J)=>{return new l$({innerType:$,typeName:j.ZodReadonly,...P(J)})};function ZJ($,J){let X=typeof $==="function"?$(J):typeof $==="string"?{message:$}:$;return typeof X==="string"?{message:X}:X}function xJ($,J={},X){if($)return A$.create().superRefine((Q,G)=>{let W=$(Q);if(W instanceof Promise)return W.then((Y)=>{if(!Y){let H=ZJ(J,Q),q=H.fatal??X??!0;G.addIssue({code:"custom",...H,fatal:q})}});if(!W){let Y=ZJ(J,Q),H=Y.fatal??X??!0;G.addIssue({code:"custom",...Y,fatal:H})}return});return A$.create()}var l4={object:b.lazycreate},j;(function($){$.ZodString="ZodString",$.ZodNumber="ZodNumber",$.ZodNaN="ZodNaN",$.ZodBigInt="ZodBigInt",$.ZodBoolean="ZodBoolean",$.ZodDate="ZodDate",$.ZodSymbol="ZodSymbol",$.ZodUndefined="ZodUndefined",$.ZodNull="ZodNull",$.ZodAny="ZodAny",$.ZodUnknown="ZodUnknown",$.ZodNever="ZodNever",$.ZodVoid="ZodVoid",$.ZodArray="ZodArray",$.ZodObject="ZodObject",$.ZodUnion="ZodUnion",$.ZodDiscriminatedUnion="ZodDiscriminatedUnion",$.ZodIntersection="ZodIntersection",$.ZodTuple="ZodTuple",$.ZodRecord="ZodRecord",$.ZodMap="ZodMap",$.ZodSet="ZodSet",$.ZodFunction="ZodFunction",$.ZodLazy="ZodLazy",$.ZodLiteral="ZodLiteral",$.ZodEnum="ZodEnum",$.ZodEffects="ZodEffects",$.ZodNativeEnum="ZodNativeEnum",$.ZodOptional="ZodOptional",$.ZodNullable="ZodNullable",$.ZodDefault="ZodDefault",$.ZodCatch="ZodCatch",$.ZodPromise="ZodPromise",$.ZodBranded="ZodBranded",$.ZodPipeline="ZodPipeline",$.ZodReadonly="ZodReadonly"})(j||(j={}));var p4=($,J={message:`Input not instance of ${$.name}`})=>xJ((X)=>X instanceof $,J),hJ=n.create,mJ=U$.create,n4=q0.create,r4=M$.create,yJ=b$.create,o4=D$.create,i4=Y0.create,a4=f$.create,s4=x$.create,t4=A$.create,e4=B$.create,$5=$$.create,J5=W0.create,X5=r.create,Q5=b.create,G5=b.strictCreate,Y5=h$.create,W5=C0.create,H5=m$.create,z5=J$.create,q5=H0.create,B5=z0.create,U5=L$.create,M5=v$.create,V5=y$.create,F5=g$.create,K5=V$.create,w5=u$.create,R5=_$.create,O5=a.create,D5=o.create,A5=Y$.create,L5=a.createWithPreprocess,_5=B0.create,N5=()=>hJ().optional(),j5=()=>mJ().optional(),S5=()=>yJ().optional(),E5={string:($)=>n.create({...$,coerce:!0}),number:($)=>U$.create({...$,coerce:!0}),boolean:($)=>b$.create({...$,coerce:!0}),bigint:($)=>M$.create({...$,coerce:!0}),date:($)=>D$.create({...$,coerce:!0})};var I5=N;v();var P5=E.object({provider:E.string(),apiKey:E.string().optional(),model:E.string(),baseUrl:E.string().optional(),maxTokens:E.number().optional(),temperature:E.number().optional(),contextLimit:E.number().optional(),timeout:E.number().optional(),useVendedCredentials:E.boolean().optional()}),C5=E.object({enabled:E.boolean(),image:E.string().optional(),memoryLimit:E.string().optional(),cpuLimit:E.string().optional(),timeout:E.number().optional(),securityProfile:E.enum(["default","strict","relaxed"]).optional(),environmentVariables:E.record(E.string(),E.string()).optional()}),Z5=E.object({disableNetworkAccess:E.boolean().optional(),allowedDomains:E.array(E.string()).optional(),scanDependencies:E.boolean().optional(),preventSecretLeakage:E.boolean().optional(),maxFileSize:E.number().optional(),timeoutSeconds:E.number().optional(),requireCodeReview:E.boolean().optional()}),k5=E.object({apiKey:E.string(),configPath:E.string(),issueLabel:E.string(),enableSecurityAnalysis:E.boolean().optional(),environmentVariables:E.record(E.string(),E.string()).optional(),repoToken:E.string().optional(),aiProvider:P5,containerConfig:C5,securitySettings:Z5,rsolvApiKey:E.string().optional(),maxIssues:E.number().min(1).optional()});async function uJ(){try{z.info("Loading configuration");let $=T5(),J=process.env.RSOLV_CONFIG_PATH||".github/rsolv.yml",X=await v5(J),Q=b5(),G={...$,...X,...Q,aiProvider:{...$.aiProvider,...X.aiProvider,...Q.aiProvider},containerConfig:{...$.containerConfig,...X.containerConfig,...Q.containerConfig},securitySettings:{...$.securitySettings,...X.securitySettings,...Q.securitySettings}},W=f5(G);return z.debug("Configuration loaded successfully"),z.info(`Final config - rsolvApiKey: ${W.rsolvApiKey?"present":"not set"}`),W}catch($){throw z.error("Failed to load configuration",$),new Error(`Configuration error: ${$ instanceof Error?$.message:String($)}`)}}function T5(){return{configPath:".github/rsolv.yml",issueLabel:"rsolv:automate",enableSecurityAnalysis:!0,maxIssues:void 0,aiProvider:{provider:"claude-code",model:"claude-sonnet-4-20250514",temperature:0.2,maxTokens:4000,contextLimit:1e5,timeout:900000,useVendedCredentials:!0},containerConfig:{enabled:!0,image:"rsolv/code-analysis:latest",memoryLimit:"2g",cpuLimit:"1",timeout:300,securityProfile:"default"},securitySettings:{disableNetworkAccess:!0,scanDependencies:!0,preventSecretLeakage:!0,maxFileSize:1048576,timeoutSeconds:300,requireCodeReview:!0}}}async function v5($){try{if(!k0.existsSync($))return z.info(`Configuration file not found at ${$}, using defaults`),{};z.info(`Loading configuration from ${$}`);let J=k0.readFileSync($,"utf8"),X=IJ(J);return z.debug("Configuration file loaded successfully"),X||{}}catch(J){return z.error(`Error loading configuration from file ${$}`,J),{}}}function b5(){z.info("Loading configuration from environment variables"),z.info(`Environment RSOLV_API_KEY: ${process.env.RSOLV_API_KEY?"present":"not set"}`);let $={apiKey:process.env.RSOLV_API_KEY,rsolvApiKey:process.env.RSOLV_API_KEY,configPath:process.env.RSOLV_CONFIG_PATH,issueLabel:process.env.RSOLV_ISSUE_LABEL,repoToken:process.env.GITHUB_TOKEN,maxIssues:process.env.RSOLV_MAX_ISSUES?parseInt(process.env.RSOLV_MAX_ISSUES,10):void 0};if(process.env.RSOLV_ENVIRONMENT_VARIABLES)try{$.environmentVariables=JSON.parse(process.env.RSOLV_ENVIRONMENT_VARIABLES)}catch(J){z.error("Error parsing RSOLV_ENVIRONMENT_VARIABLES",J)}if(process.env.RSOLV_AI_PROVIDER){if($.aiProvider={provider:process.env.RSOLV_AI_PROVIDER,apiKey:process.env.RSOLV_AI_API_KEY,model:process.env.RSOLV_AI_MODEL||"claude-3-sonnet-20240229",baseUrl:process.env.RSOLV_AI_BASE_URL},process.env.RSOLV_AI_TEMPERATURE)$.aiProvider.temperature=parseFloat(process.env.RSOLV_AI_TEMPERATURE);if(process.env.RSOLV_AI_MAX_TOKENS)$.aiProvider.maxTokens=parseInt(process.env.RSOLV_AI_MAX_TOKENS,10)}if(process.env.RSOLV_CONTAINER_ENABLED!==void 0){if($.containerConfig={enabled:process.env.RSOLV_CONTAINER_ENABLED==="true",image:process.env.RSOLV_CONTAINER_IMAGE,memoryLimit:process.env.RSOLV_CONTAINER_MEMORY_LIMIT,cpuLimit:process.env.RSOLV_CONTAINER_CPU_LIMIT},process.env.RSOLV_CONTAINER_TIMEOUT)$.containerConfig.timeout=parseInt(process.env.RSOLV_CONTAINER_TIMEOUT,10)}return Object.keys($).forEach((J)=>{if($[J]===void 0)delete $[J]}),$}function f5($){z.debug("Validating configuration");try{if(!$.apiKey&&!$.rsolvApiKey)throw new Error("API key or RSOLV API key is required");let J=k5.parse($);return z.debug("Configuration validation successful"),J}catch(J){if(J instanceof E.ZodError){let X=J.errors.map((Q)=>`${Q.path.join(".")}: ${Q.message}`).join(", ");throw z.error(`Configuration validation failed: ${X}`),new Error(`Invalid configuration: ${X}`)}throw J}}v();v();function F$(){if(typeof navigator==="object"&&"userAgent"in navigator)return navigator.userAgent;if(typeof process==="object"&&process.version!==void 0)return`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`;return"<environment undetectable>"}function T0($,J,X,Q){if(typeof X!=="function")throw new Error("method for before hook must be a function");if(!Q)Q={};if(Array.isArray(J))return J.reverse().reduce((G,W)=>{return T0.bind(null,$,W,G,Q)},X)();return Promise.resolve().then(()=>{if(!$.registry[J])return X(Q);return $.registry[J].reduce((G,W)=>{return W.hook.bind(null,G,Q)},X)()})}function dJ($,J,X,Q){let G=Q;if(!$.registry[X])$.registry[X]=[];if(J==="before")Q=(W,Y)=>{return Promise.resolve().then(G.bind(null,Y)).then(W.bind(null,Y))};if(J==="after")Q=(W,Y)=>{let H;return Promise.resolve().then(W.bind(null,Y)).then((q)=>{return H=q,G(H,Y)}).then(()=>{return H})};if(J==="error")Q=(W,Y)=>{return Promise.resolve().then(W.bind(null,Y)).catch((H)=>{return G(H,Y)})};$.registry[X].push({hook:Q,orig:G})}function cJ($,J,X){if(!$.registry[J])return;let Q=$.registry[J].map((G)=>{return G.orig}).indexOf(X);if(Q===-1)return;$.registry[J].splice(Q,1)}var lJ=Function.bind,pJ=lJ.bind(lJ);function nJ($,J,X){let Q=pJ(cJ,null).apply(null,X?[J,X]:[J]);$.api={remove:Q},$.remove=Q,["before","error","after","wrap"].forEach((G)=>{let W=X?[J,G,X]:[J,G];$[G]=$.api[G]=pJ(dJ,null).apply(null,W)})}function x5(){let $=Symbol("Singular"),J={registry:{}},X=T0.bind(null,J,$);return nJ(X,J,$),X}function h5(){let $={registry:{}},J=T0.bind(null,$);return nJ(J,$),J}var rJ={Singular:x5,Collection:h5};var m5="0.0.0-development",y5=`octokit-endpoint.js/${m5} ${F$()}`,g5={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":y5},mediaType:{format:""}};function u5($){if(!$)return{};return Object.keys($).reduce((J,X)=>{return J[X.toLowerCase()]=$[X],J},{})}function d5($){if(typeof $!=="object"||$===null)return!1;if(Object.prototype.toString.call($)!=="[object Object]")return!1;let J=Object.getPrototypeOf($);if(J===null)return!0;let X=Object.prototype.hasOwnProperty.call(J,"constructor")&&J.constructor;return typeof X==="function"&&X instanceof X&&Function.prototype.call(X)===Function.prototype.call($)}function aJ($,J){let X=Object.assign({},$);return Object.keys(J).forEach((Q)=>{if(d5(J[Q]))if(!(Q in $))Object.assign(X,{[Q]:J[Q]});else X[Q]=aJ($[Q],J[Q]);else Object.assign(X,{[Q]:J[Q]})}),X}function oJ($){for(let J in $)if($[J]===void 0)delete $[J];return $}function W1($,J,X){if(typeof J==="string"){let[G,W]=J.split(" ");X=Object.assign(W?{method:G,url:W}:{url:G},X)}else X=Object.assign({},J);X.headers=u5(X.headers),oJ(X),oJ(X.headers);let Q=aJ($||{},X);if(X.url==="/graphql"){if($&&$.mediaType.previews?.length)Q.mediaType.previews=$.mediaType.previews.filter((G)=>!Q.mediaType.previews.includes(G)).concat(Q.mediaType.previews);Q.mediaType.previews=(Q.mediaType.previews||[]).map((G)=>G.replace(/-preview/,""))}return Q}function c5($,J){let X=/\?/.test($)?"&":"?",Q=Object.keys(J);if(Q.length===0)return $;return $+X+Q.map((G)=>{if(G==="q")return"q="+J.q.split("+").map(encodeURIComponent).join("+");return`${G}=${encodeURIComponent(J[G])}`}).join("&")}var l5=/\{[^{}}]+\}/g;function p5($){return $.replace(/(?:^\W+)|(?:(?<!\W)\W+$)/g,"").split(/,/)}function n5($){let J=$.match(l5);if(!J)return[];return J.map(p5).reduce((X,Q)=>X.concat(Q),[])}function iJ($,J){let X={__proto__:null};for(let Q of Object.keys($))if(J.indexOf(Q)===-1)X[Q]=$[Q];return X}function sJ($){return $.split(/(%[0-9A-Fa-f]{2})/g).map(function(J){if(!/%[0-9A-Fa-f]/.test(J))J=encodeURI(J).replace(/%5B/g,"[").replace(/%5D/g,"]");return J}).join("")}function n$($){return encodeURIComponent($).replace(/[!'()*]/g,function(J){return"%"+J.charCodeAt(0).toString(16).toUpperCase()})}function U0($,J,X){if(J=$==="+"||$==="#"?sJ(J):n$(J),X)return n$(X)+"="+J;else return J}function p$($){return $!==void 0&&$!==null}function Y1($){return $===";"||$==="&"||$==="?"}function r5($,J,X,Q){var G=$[X],W=[];if(p$(G)&&G!=="")if(typeof G==="string"||typeof G==="number"||typeof G==="boolean"){if(G=G.toString(),Q&&Q!=="*")G=G.substring(0,parseInt(Q,10));W.push(U0(J,G,Y1(J)?X:""))}else if(Q==="*")if(Array.isArray(G))G.filter(p$).forEach(function(Y){W.push(U0(J,Y,Y1(J)?X:""))});else Object.keys(G).forEach(function(Y){if(p$(G[Y]))W.push(U0(J,G[Y],Y))});else{let Y=[];if(Array.isArray(G))G.filter(p$).forEach(function(H){Y.push(U0(J,H))});else Object.keys(G).forEach(function(H){if(p$(G[H]))Y.push(n$(H)),Y.push(U0(J,G[H].toString()))});if(Y1(J))W.push(n$(X)+"="+Y.join(","));else if(Y.length!==0)W.push(Y.join(","))}else if(J===";"){if(p$(G))W.push(n$(X))}else if(G===""&&(J==="&"||J==="?"))W.push(n$(X)+"=");else if(G==="")W.push("");return W}function o5($){return{expand:i5.bind(null,$)}}function i5($,J){var X=["+","#",".","/",";","?","&"];if($=$.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(Q,G,W){if(G){let H="",q=[];if(X.indexOf(G.charAt(0))!==-1)H=G.charAt(0),G=G.substr(1);if(G.split(/,/g).forEach(function(B){var U=/([^:\*]*)(?::(\d+)|(\*))?/.exec(B);q.push(r5(J,H,U[1],U[2]||U[3]))}),H&&H!=="+"){var Y=",";if(H==="?")Y="&";else if(H!=="#")Y=H;return(q.length!==0?H:"")+q.join(Y)}else return q.join(",")}else return sJ(W)}),$==="/")return $;else return $.replace(/\/$/,"")}function tJ($){let J=$.method.toUpperCase(),X=($.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),Q=Object.assign({},$.headers),G,W=iJ($,["method","baseUrl","url","headers","request","mediaType"]),Y=n5(X);if(X=o5(X).expand(W),!/^http/.test(X))X=$.baseUrl+X;let H=Object.keys($).filter((U)=>Y.includes(U)).concat("baseUrl"),q=iJ(W,H);if(!/application\/octet-stream/i.test(Q.accept)){if($.mediaType.format)Q.accept=Q.accept.split(/,/).map((U)=>U.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${$.mediaType.format}`)).join(",");if(X.endsWith("/graphql")){if($.mediaType.previews?.length){let U=Q.accept.match(/(?<![\w-])[\w-]+(?=-preview)/g)||[];Q.accept=U.concat($.mediaType.previews).map((M)=>{let F=$.mediaType.format?`.${$.mediaType.format}`:"+json";return`application/vnd.github.${M}-preview${F}`}).join(",")}}}if(["GET","HEAD"].includes(J))X=c5(X,q);else if("data"in q)G=q.data;else if(Object.keys(q).length)G=q;if(!Q["content-type"]&&typeof G!=="undefined")Q["content-type"]="application/json; charset=utf-8";if(["PATCH","PUT"].includes(J)&&typeof G==="undefined")G="";return Object.assign({method:J,url:X,headers:Q},typeof G!=="undefined"?{body:G}:null,$.request?{request:$.request}:null)}function a5($,J,X){return tJ(W1($,J,X))}function eJ($,J){let X=W1($,J),Q=a5.bind(null,X);return Object.assign(Q,{DEFAULTS:X,defaults:eJ.bind(null,X),merge:W1.bind(null,X),parse:tJ})}var $6=eJ(null,g5);var H1=function $(){};H1.prototype=Object.create(null);var J6=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,X6=/\\([\v\u0020-\u00ff])/gu,s5=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,r$={type:"",parameters:new H1};Object.freeze(r$.parameters);Object.freeze(r$);function t5($){if(typeof $!=="string")return r$;let J=$.indexOf(";"),X=J!==-1?$.slice(0,J).trim():$.trim();if(s5.test(X)===!1)return r$;let Q={type:X.toLowerCase(),parameters:new H1};if(J===-1)return Q;let G,W,Y;J6.lastIndex=J;while(W=J6.exec($)){if(W.index!==J)return r$;if(J+=W[0].length,G=W[1].toLowerCase(),Y=W[2],Y[0]==='"')Y=Y.slice(1,Y.length-1),X6.test(Y)&&(Y=Y.replace(X6,"$1"));Q.parameters[G]=Y}if(J!==$.length)return r$;return Q}var z1=t5;class o$ extends Error{name;status;request;response;constructor($,J,X){super($);if(this.name="HttpError",this.status=Number.parseInt(J),Number.isNaN(this.status))this.status=0;if("response"in X)this.response=X.response;let Q=Object.assign({},X.request);if(X.request.headers.authorization)Q.headers=Object.assign({},X.request.headers,{authorization:X.request.headers.authorization.replace(/(?<! ) .*$/," [REDACTED]")});Q.url=Q.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=Q}}var $7="0.0.0-development",J7={headers:{"user-agent":`octokit-request.js/${$7} ${F$()}`}};function X7($){if(typeof $!=="object"||$===null)return!1;if(Object.prototype.toString.call($)!=="[object Object]")return!1;let J=Object.getPrototypeOf($);if(J===null)return!0;let X=Object.prototype.hasOwnProperty.call(J,"constructor")&&J.constructor;return typeof X==="function"&&X instanceof X&&Function.prototype.call(X)===Function.prototype.call($)}async function Q6($){let J=$.request?.fetch||globalThis.fetch;if(!J)throw new Error("fetch is not set. Please pass a fetch implementation as new Octokit({ request: { fetch }}). Learn more at https://github.com/octokit/octokit.js/#fetch-missing");let X=$.request?.log||console,Q=$.request?.parseSuccessResponseBody!==!1,G=X7($.body)||Array.isArray($.body)?JSON.stringify($.body):$.body,W=Object.fromEntries(Object.entries($.headers).map(([M,F])=>[M,String(F)])),Y;try{Y=await J($.url,{method:$.method,body:G,redirect:$.request?.redirect,headers:W,signal:$.request?.signal,...$.body&&{duplex:"half"}})}catch(M){let F="Unknown Error";if(M instanceof Error){if(M.name==="AbortError")throw M.status=500,M;if(F=M.message,M.name==="TypeError"&&"cause"in M){if(M.cause instanceof Error)F=M.cause.message;else if(typeof M.cause==="string")F=M.cause}}let O=new o$(F,500,{request:$});throw O.cause=M,O}let{status:H,url:q}=Y,B={};for(let[M,F]of Y.headers)B[M]=F;let U={url:q,status:H,headers:B,data:""};if("deprecation"in B){let M=B.link&&B.link.match(/<([^<>]+)>; rel="deprecation"/),F=M&&M.pop();X.warn(`[@octokit/request] "${$.method} ${$.url}" is deprecated. It is scheduled to be removed on ${B.sunset}${F?`. See ${F}`:""}`)}if(H===204||H===205)return U;if($.method==="HEAD"){if(H<400)return U;throw new o$(Y.statusText,H,{response:U,request:$})}if(H===304)throw U.data=await q1(Y),new o$("Not modified",H,{response:U,request:$});if(H>=400)throw U.data=await q1(Y),new o$(G7(U.data),H,{response:U,request:$});return U.data=Q?await q1(Y):Y.body,U}async function q1($){let J=$.headers.get("content-type");if(!J)return $.text().catch(()=>"");let X=z1(J);if(Q7(X)){let Q="";try{return Q=await $.text(),JSON.parse(Q)}catch(G){return Q}}else if(X.type.startsWith("text/")||X.parameters.charset?.toLowerCase()==="utf-8")return $.text().catch(()=>"");else return $.arrayBuffer().catch(()=>new ArrayBuffer(0))}function Q7($){return $.type==="application/json"||$.type==="application/scim+json"}function G7($){if(typeof $==="string")return $;if($ instanceof ArrayBuffer)return"Unknown error";if("message"in $){let J="documentation_url"in $?` - ${$.documentation_url}`:"";return Array.isArray($.errors)?`${$.message}: ${$.errors.map((X)=>JSON.stringify(X)).join(", ")}${J}`:`${$.message}${J}`}return`Unknown error: ${JSON.stringify($)}`}function B1($,J){let X=$.defaults(J);return Object.assign(function(G,W){let Y=X.merge(G,W);if(!Y.request||!Y.request.hook)return Q6(X.parse(Y));let H=(q,B)=>{return Q6(X.parse(X.merge(q,B)))};return Object.assign(H,{endpoint:X,defaults:B1.bind(null,X)}),Y.request.hook(H,Y)},{endpoint:X,defaults:B1.bind(null,X)})}var M0=B1($6,J7);var Y7="0.0.0-development";function W7($){return`Request failed due to following response errors:
`+$.errors.map((J)=>` - ${J.message}`).join(`
`)}var H7=class extends Error{constructor($,J,X){super(W7(X));if(this.request=$,this.headers=J,this.response=X,this.errors=X.errors,this.data=X.data,Error.captureStackTrace)Error.captureStackTrace(this,this.constructor)}name="GraphqlResponseError";errors;data},z7=["method","baseUrl","url","headers","request","query","mediaType","operationName"],q7=["query","method","url"],G6=/\/api\/v3\/?$/;function B7($,J,X){if(X){if(typeof J==="string"&&"query"in X)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let Y in X){if(!q7.includes(Y))continue;return Promise.reject(new Error(`[@octokit/graphql] "${Y}" cannot be used as variable name`))}}let Q=typeof J==="string"?Object.assign({query:J},X):J,G=Object.keys(Q).reduce((Y,H)=>{if(z7.includes(H))return Y[H]=Q[H],Y;if(!Y.variables)Y.variables={};return Y.variables[H]=Q[H],Y},{}),W=Q.baseUrl||$.endpoint.DEFAULTS.baseUrl;if(G6.test(W))G.url=W.replace(G6,"/api/graphql");return $(G).then((Y)=>{if(Y.data.errors){let H={};for(let q of Object.keys(Y.headers))H[q]=Y.headers[q];throw new H7(G,H,Y.data)}return Y.data.data})}function U1($,J){let X=$.defaults(J);return Object.assign((G,W)=>{return B7(X,G,W)},{defaults:U1.bind(null,X),endpoint:X.endpoint})}var W2=U1(M0,{headers:{"user-agent":`octokit-graphql.js/${Y7} ${F$()}`},method:"POST",url:"/graphql"});function Y6($){return U1($,{method:"POST",url:"/graphql"})}var M1="(?:[a-zA-Z0-9_-]+)",W6="\\.",H6=new RegExp(`^${M1}${W6}${M1}${W6}${M1}$`),U7=H6.test.bind(H6);async function M7($){let J=U7($),X=$.startsWith("v1.")||$.startsWith("ghs_"),Q=$.startsWith("ghu_");return{type:"token",token:$,tokenType:J?"app":X?"installation":Q?"user-to-server":"oauth"}}function V7($){if($.split(/\./).length===3)return`bearer ${$}`;return`token ${$}`}async function F7($,J,X,Q){let G=J.endpoint.merge(X,Q);return G.headers.authorization=V7($),J(G)}var z6=function $(J){if(!J)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof J!=="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return J=J.replace(/^(token|bearer) +/i,""),Object.assign(M7.bind(null,J),{hook:F7.bind(null,J)})};var V1="6.1.5";var q6=()=>{},K7=console.warn.bind(console),w7=console.error.bind(console),B6=`octokit-core.js/${V1} ${F$()}`;class F1{static VERSION=V1;static defaults($){return class extends this{constructor(...X){let Q=X[0]||{};if(typeof $==="function"){super($(Q));return}super(Object.assign({},$,Q,Q.userAgent&&$.userAgent?{userAgent:`${Q.userAgent} ${$.userAgent}`}:null))}}}static plugins=[];static plugin(...$){let J=this.plugins;return class extends this{static plugins=J.concat($.filter((Q)=>!J.includes(Q)))}}constructor($={}){let J=new rJ.Collection,X={baseUrl:M0.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},$.request,{hook:J.bind(null,"request")}),mediaType:{previews:[],format:""}};if(X.headers["user-agent"]=$.userAgent?`${$.userAgent} ${B6}`:B6,$.baseUrl)X.baseUrl=$.baseUrl;if($.previews)X.mediaType.previews=$.previews;if($.timeZone)X.headers["time-zone"]=$.timeZone;if(this.request=M0.defaults(X),this.graphql=Y6(this.request).defaults(X),this.log=Object.assign({debug:q6,info:q6,warn:K7,error:w7},$.log),this.hook=J,!$.authStrategy)if(!$.auth)this.auth=async()=>({type:"unauthenticated"});else{let G=z6($.auth);J.wrap("request",G.hook),this.auth=G}else{let{authStrategy:G,...W}=$,Y=G(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:W},$.auth));J.wrap("request",Y.hook),this.auth=Y}let Q=this.constructor;for(let G=0;G<Q.plugins.length;++G)Object.assign(this,Q.plugins[G](this,$))}request;graphql;log;hook;auth}var U6="5.3.1";function K1($){$.hook.wrap("request",(J,X)=>{$.log.debug("request",X);let Q=Date.now(),G=$.request.endpoint.parse(X),W=G.url.replace(X.baseUrl,"");return J(X).then((Y)=>{let H=Y.headers["x-github-request-id"];return $.log.info(`${G.method} ${W} - ${Y.status} with id ${H} in ${Date.now()-Q}ms`),Y}).catch((Y)=>{let H=Y.response?.headers["x-github-request-id"]||"UNKNOWN";throw $.log.error(`${G.method} ${W} - ${Y.status} with id ${H} in ${Date.now()-Q}ms`),Y})})}K1.VERSION=U6;var R7="0.0.0-development";function O7($){if(!$.data)return{...$,data:[]};if(!(("total_count"in $.data)&&!("url"in $.data)))return $;let X=$.data.incomplete_results,Q=$.data.repository_selection,G=$.data.total_count;delete $.data.incomplete_results,delete $.data.repository_selection,delete $.data.total_count;let W=Object.keys($.data)[0],Y=$.data[W];if($.data=Y,typeof X!=="undefined")$.data.incomplete_results=X;if(typeof Q!=="undefined")$.data.repository_selection=Q;return $.data.total_count=G,$}function w1($,J,X){let Q=typeof J==="function"?J.endpoint(X):$.request.endpoint(J,X),G=typeof J==="function"?J:$.request,W=Q.method,Y=Q.headers,H=Q.url;return{[Symbol.asyncIterator]:()=>({async next(){if(!H)return{done:!0};try{let q=await G({method:W,url:H,headers:Y}),B=O7(q);return H=((B.headers.link||"").match(/<([^<>]+)>;\s*rel="next"/)||[])[1],{value:B}}catch(q){if(q.status!==409)throw q;return H="",{value:{status:200,headers:{},data:[]}}}}})}}function M6($,J,X,Q){if(typeof X==="function")Q=X,X=void 0;return V6($,[],w1($,J,X)[Symbol.asyncIterator](),Q)}function V6($,J,X,Q){return X.next().then((G)=>{if(G.done)return J;let W=!1;function Y(){W=!0}if(J=J.concat(Q?Q(G.value,Y):G.value.data),W)return J;return V6($,J,X,Q)})}var N2=Object.assign(M6,{iterator:w1});function R1($){return{paginate:Object.assign(M6.bind(null,$),{iterator:w1.bind(null,$)})}}R1.VERSION=R7;var O1="13.5.0";var D7={actions:{addCustomLabelsToSelfHostedRunnerForOrg:["POST /orgs/{org}/actions/runners/{runner_id}/labels"],addCustomLabelsToSelfHostedRunnerForRepo:["POST /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],addRepoAccessToSelfHostedRunnerGroupInOrg:["PUT /orgs/{org}/actions/runner-groups/{runner_group_id}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],approveWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/approve"],cancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/cancel"],createEnvironmentVariable:["POST /repos/{owner}/{repo}/environments/{environment_name}/variables"],createHostedRunnerForOrg:["POST /orgs/{org}/actions/hosted-runners"],createOrUpdateEnvironmentSecret:["PUT /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/actions/secrets/{secret_name}"],createOrgVariable:["POST /orgs/{org}/actions/variables"],createRegistrationTokenForOrg:["POST /orgs/{org}/actions/runners/registration-token"],createRegistrationTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/registration-token"],createRemoveTokenForOrg:["POST /orgs/{org}/actions/runners/remove-token"],createRemoveTokenForRepo:["POST /repos/{owner}/{repo}/actions/runners/remove-token"],createRepoVariable:["POST /repos/{owner}/{repo}/actions/variables"],createWorkflowDispatch:["POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches"],deleteActionsCacheById:["DELETE /repos/{owner}/{repo}/actions/caches/{cache_id}"],deleteActionsCacheByKey:["DELETE /repos/{owner}/{repo}/actions/caches{?key,ref}"],deleteArtifact:["DELETE /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],deleteEnvironmentSecret:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],deleteEnvironmentVariable:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],deleteHostedRunnerForOrg:["DELETE /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],deleteOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}"],deleteOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/actions/secrets/{secret_name}"],deleteRepoVariable:["DELETE /repos/{owner}/{repo}/actions/variables/{name}"],deleteSelfHostedRunnerFromOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}"],deleteSelfHostedRunnerFromRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}"],deleteWorkflowRun:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}"],deleteWorkflowRunLogs:["DELETE /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],disableSelectedRepositoryGithubActionsOrganization:["DELETE /orgs/{org}/actions/permissions/repositories/{repository_id}"],disableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/disable"],downloadArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}/{archive_format}"],downloadJobLogsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}/logs"],downloadWorkflowRunAttemptLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/logs"],downloadWorkflowRunLogs:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/logs"],enableSelectedRepositoryGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories/{repository_id}"],enableWorkflow:["PUT /repos/{owner}/{repo}/actions/workflows/{workflow_id}/enable"],forceCancelWorkflowRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/force-cancel"],generateRunnerJitconfigForOrg:["POST /orgs/{org}/actions/runners/generate-jitconfig"],generateRunnerJitconfigForRepo:["POST /repos/{owner}/{repo}/actions/runners/generate-jitconfig"],getActionsCacheList:["GET /repos/{owner}/{repo}/actions/caches"],getActionsCacheUsage:["GET /repos/{owner}/{repo}/actions/cache/usage"],getActionsCacheUsageByRepoForOrg:["GET /orgs/{org}/actions/cache/usage-by-repository"],getActionsCacheUsageForOrg:["GET /orgs/{org}/actions/cache/usage"],getAllowedActionsOrganization:["GET /orgs/{org}/actions/permissions/selected-actions"],getAllowedActionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/selected-actions"],getArtifact:["GET /repos/{owner}/{repo}/actions/artifacts/{artifact_id}"],getCustomOidcSubClaimForRepo:["GET /repos/{owner}/{repo}/actions/oidc/customization/sub"],getEnvironmentPublicKey:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/public-key"],getEnvironmentSecret:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets/{secret_name}"],getEnvironmentVariable:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],getGithubActionsDefaultWorkflowPermissionsOrganization:["GET /orgs/{org}/actions/permissions/workflow"],getGithubActionsDefaultWorkflowPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions/workflow"],getGithubActionsPermissionsOrganization:["GET /orgs/{org}/actions/permissions"],getGithubActionsPermissionsRepository:["GET /repos/{owner}/{repo}/actions/permissions"],getHostedRunnerForOrg:["GET /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],getHostedRunnersGithubOwnedImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/github-owned"],getHostedRunnersLimitsForOrg:["GET /orgs/{org}/actions/hosted-runners/limits"],getHostedRunnersMachineSpecsForOrg:["GET /orgs/{org}/actions/hosted-runners/machine-sizes"],getHostedRunnersPartnerImagesForOrg:["GET /orgs/{org}/actions/hosted-runners/images/partner"],getHostedRunnersPlatformsForOrg:["GET /orgs/{org}/actions/hosted-runners/platforms"],getJobForWorkflowRun:["GET /repos/{owner}/{repo}/actions/jobs/{job_id}"],getOrgPublicKey:["GET /orgs/{org}/actions/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}"],getOrgVariable:["GET /orgs/{org}/actions/variables/{name}"],getPendingDeploymentsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],getRepoPermissions:["GET /repos/{owner}/{repo}/actions/permissions",{},{renamed:["actions","getGithubActionsPermissionsRepository"]}],getRepoPublicKey:["GET /repos/{owner}/{repo}/actions/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/actions/secrets/{secret_name}"],getRepoVariable:["GET /repos/{owner}/{repo}/actions/variables/{name}"],getReviewsForRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/approvals"],getSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}"],getSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}"],getWorkflow:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}"],getWorkflowAccessToRepository:["GET /repos/{owner}/{repo}/actions/permissions/access"],getWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}"],getWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}"],getWorkflowRunUsage:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/timing"],getWorkflowUsage:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/timing"],listArtifactsForRepo:["GET /repos/{owner}/{repo}/actions/artifacts"],listEnvironmentSecrets:["GET /repos/{owner}/{repo}/environments/{environment_name}/secrets"],listEnvironmentVariables:["GET /repos/{owner}/{repo}/environments/{environment_name}/variables"],listGithubHostedRunnersInGroupForOrg:["GET /orgs/{org}/actions/runner-groups/{runner_group_id}/hosted-runners"],listHostedRunnersForOrg:["GET /orgs/{org}/actions/hosted-runners"],listJobsForWorkflowRun:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/jobs"],listJobsForWorkflowRunAttempt:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/attempts/{attempt_number}/jobs"],listLabelsForSelfHostedRunnerForOrg:["GET /orgs/{org}/actions/runners/{runner_id}/labels"],listLabelsForSelfHostedRunnerForRepo:["GET /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],listOrgSecrets:["GET /orgs/{org}/actions/secrets"],listOrgVariables:["GET /orgs/{org}/actions/variables"],listRepoOrganizationSecrets:["GET /repos/{owner}/{repo}/actions/organization-secrets"],listRepoOrganizationVariables:["GET /repos/{owner}/{repo}/actions/organization-variables"],listRepoSecrets:["GET /repos/{owner}/{repo}/actions/secrets"],listRepoVariables:["GET /repos/{owner}/{repo}/actions/variables"],listRepoWorkflows:["GET /repos/{owner}/{repo}/actions/workflows"],listRunnerApplicationsForOrg:["GET /orgs/{org}/actions/runners/downloads"],listRunnerApplicationsForRepo:["GET /repos/{owner}/{repo}/actions/runners/downloads"],listSelectedReposForOrgSecret:["GET /orgs/{org}/actions/secrets/{secret_name}/repositories"],listSelectedReposForOrgVariable:["GET /orgs/{org}/actions/variables/{name}/repositories"],listSelectedRepositoriesEnabledGithubActionsOrganization:["GET /orgs/{org}/actions/permissions/repositories"],listSelfHostedRunnersForOrg:["GET /orgs/{org}/actions/runners"],listSelfHostedRunnersForRepo:["GET /repos/{owner}/{repo}/actions/runners"],listWorkflowRunArtifacts:["GET /repos/{owner}/{repo}/actions/runs/{run_id}/artifacts"],listWorkflowRuns:["GET /repos/{owner}/{repo}/actions/workflows/{workflow_id}/runs"],listWorkflowRunsForRepo:["GET /repos/{owner}/{repo}/actions/runs"],reRunJobForWorkflowRun:["POST /repos/{owner}/{repo}/actions/jobs/{job_id}/rerun"],reRunWorkflow:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun"],reRunWorkflowFailedJobs:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/rerun-failed-jobs"],removeAllCustomLabelsFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels"],removeAllCustomLabelsFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],removeCustomLabelFromSelfHostedRunnerForOrg:["DELETE /orgs/{org}/actions/runners/{runner_id}/labels/{name}"],removeCustomLabelFromSelfHostedRunnerForRepo:["DELETE /repos/{owner}/{repo}/actions/runners/{runner_id}/labels/{name}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/actions/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgVariable:["DELETE /orgs/{org}/actions/variables/{name}/repositories/{repository_id}"],reviewCustomGatesForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/deployment_protection_rule"],reviewPendingDeploymentsForRun:["POST /repos/{owner}/{repo}/actions/runs/{run_id}/pending_deployments"],setAllowedActionsOrganization:["PUT /orgs/{org}/actions/permissions/selected-actions"],setAllowedActionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/selected-actions"],setCustomLabelsForSelfHostedRunnerForOrg:["PUT /orgs/{org}/actions/runners/{runner_id}/labels"],setCustomLabelsForSelfHostedRunnerForRepo:["PUT /repos/{owner}/{repo}/actions/runners/{runner_id}/labels"],setCustomOidcSubClaimForRepo:["PUT /repos/{owner}/{repo}/actions/oidc/customization/sub"],setGithubActionsDefaultWorkflowPermissionsOrganization:["PUT /orgs/{org}/actions/permissions/workflow"],setGithubActionsDefaultWorkflowPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions/workflow"],setGithubActionsPermissionsOrganization:["PUT /orgs/{org}/actions/permissions"],setGithubActionsPermissionsRepository:["PUT /repos/{owner}/{repo}/actions/permissions"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/actions/secrets/{secret_name}/repositories"],setSelectedReposForOrgVariable:["PUT /orgs/{org}/actions/variables/{name}/repositories"],setSelectedRepositoriesEnabledGithubActionsOrganization:["PUT /orgs/{org}/actions/permissions/repositories"],setWorkflowAccessToRepository:["PUT /repos/{owner}/{repo}/actions/permissions/access"],updateEnvironmentVariable:["PATCH /repos/{owner}/{repo}/environments/{environment_name}/variables/{name}"],updateHostedRunnerForOrg:["PATCH /orgs/{org}/actions/hosted-runners/{hosted_runner_id}"],updateOrgVariable:["PATCH /orgs/{org}/actions/variables/{name}"],updateRepoVariable:["PATCH /repos/{owner}/{repo}/actions/variables/{name}"]},activity:{checkRepoIsStarredByAuthenticatedUser:["GET /user/starred/{owner}/{repo}"],deleteRepoSubscription:["DELETE /repos/{owner}/{repo}/subscription"],deleteThreadSubscription:["DELETE /notifications/threads/{thread_id}/subscription"],getFeeds:["GET /feeds"],getRepoSubscription:["GET /repos/{owner}/{repo}/subscription"],getThread:["GET /notifications/threads/{thread_id}"],getThreadSubscriptionForAuthenticatedUser:["GET /notifications/threads/{thread_id}/subscription"],listEventsForAuthenticatedUser:["GET /users/{username}/events"],listNotificationsForAuthenticatedUser:["GET /notifications"],listOrgEventsForAuthenticatedUser:["GET /users/{username}/events/orgs/{org}"],listPublicEvents:["GET /events"],listPublicEventsForRepoNetwork:["GET /networks/{owner}/{repo}/events"],listPublicEventsForUser:["GET /users/{username}/events/public"],listPublicOrgEvents:["GET /orgs/{org}/events"],listReceivedEventsForUser:["GET /users/{username}/received_events"],listReceivedPublicEventsForUser:["GET /users/{username}/received_events/public"],listRepoEvents:["GET /repos/{owner}/{repo}/events"],listRepoNotificationsForAuthenticatedUser:["GET /repos/{owner}/{repo}/notifications"],listReposStarredByAuthenticatedUser:["GET /user/starred"],listReposStarredByUser:["GET /users/{username}/starred"],listReposWatchedByUser:["GET /users/{username}/subscriptions"],listStargazersForRepo:["GET /repos/{owner}/{repo}/stargazers"],listWatchedReposForAuthenticatedUser:["GET /user/subscriptions"],listWatchersForRepo:["GET /repos/{owner}/{repo}/subscribers"],markNotificationsAsRead:["PUT /notifications"],markRepoNotificationsAsRead:["PUT /repos/{owner}/{repo}/notifications"],markThreadAsDone:["DELETE /notifications/threads/{thread_id}"],markThreadAsRead:["PATCH /notifications/threads/{thread_id}"],setRepoSubscription:["PUT /repos/{owner}/{repo}/subscription"],setThreadSubscription:["PUT /notifications/threads/{thread_id}/subscription"],starRepoForAuthenticatedUser:["PUT /user/starred/{owner}/{repo}"],unstarRepoForAuthenticatedUser:["DELETE /user/starred/{owner}/{repo}"]},apps:{addRepoToInstallation:["PUT /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","addRepoToInstallationForAuthenticatedUser"]}],addRepoToInstallationForAuthenticatedUser:["PUT /user/installations/{installation_id}/repositories/{repository_id}"],checkToken:["POST /applications/{client_id}/token"],createFromManifest:["POST /app-manifests/{code}/conversions"],createInstallationAccessToken:["POST /app/installations/{installation_id}/access_tokens"],deleteAuthorization:["DELETE /applications/{client_id}/grant"],deleteInstallation:["DELETE /app/installations/{installation_id}"],deleteToken:["DELETE /applications/{client_id}/token"],getAuthenticated:["GET /app"],getBySlug:["GET /apps/{app_slug}"],getInstallation:["GET /app/installations/{installation_id}"],getOrgInstallation:["GET /orgs/{org}/installation"],getRepoInstallation:["GET /repos/{owner}/{repo}/installation"],getSubscriptionPlanForAccount:["GET /marketplace_listing/accounts/{account_id}"],getSubscriptionPlanForAccountStubbed:["GET /marketplace_listing/stubbed/accounts/{account_id}"],getUserInstallation:["GET /users/{username}/installation"],getWebhookConfigForApp:["GET /app/hook/config"],getWebhookDelivery:["GET /app/hook/deliveries/{delivery_id}"],listAccountsForPlan:["GET /marketplace_listing/plans/{plan_id}/accounts"],listAccountsForPlanStubbed:["GET /marketplace_listing/stubbed/plans/{plan_id}/accounts"],listInstallationReposForAuthenticatedUser:["GET /user/installations/{installation_id}/repositories"],listInstallationRequestsForAuthenticatedApp:["GET /app/installation-requests"],listInstallations:["GET /app/installations"],listInstallationsForAuthenticatedUser:["GET /user/installations"],listPlans:["GET /marketplace_listing/plans"],listPlansStubbed:["GET /marketplace_listing/stubbed/plans"],listReposAccessibleToInstallation:["GET /installation/repositories"],listSubscriptionsForAuthenticatedUser:["GET /user/marketplace_purchases"],listSubscriptionsForAuthenticatedUserStubbed:["GET /user/marketplace_purchases/stubbed"],listWebhookDeliveries:["GET /app/hook/deliveries"],redeliverWebhookDelivery:["POST /app/hook/deliveries/{delivery_id}/attempts"],removeRepoFromInstallation:["DELETE /user/installations/{installation_id}/repositories/{repository_id}",{},{renamed:["apps","removeRepoFromInstallationForAuthenticatedUser"]}],removeRepoFromInstallationForAuthenticatedUser:["DELETE /user/installations/{installation_id}/repositories/{repository_id}"],resetToken:["PATCH /applications/{client_id}/token"],revokeInstallationAccessToken:["DELETE /installation/token"],scopeToken:["POST /applications/{client_id}/token/scoped"],suspendInstallation:["PUT /app/installations/{installation_id}/suspended"],unsuspendInstallation:["DELETE /app/installations/{installation_id}/suspended"],updateWebhookConfigForApp:["PATCH /app/hook/config"]},billing:{getGithubActionsBillingOrg:["GET /orgs/{org}/settings/billing/actions"],getGithubActionsBillingUser:["GET /users/{username}/settings/billing/actions"],getGithubBillingUsageReportOrg:["GET /organizations/{org}/settings/billing/usage"],getGithubPackagesBillingOrg:["GET /orgs/{org}/settings/billing/packages"],getGithubPackagesBillingUser:["GET /users/{username}/settings/billing/packages"],getSharedStorageBillingOrg:["GET /orgs/{org}/settings/billing/shared-storage"],getSharedStorageBillingUser:["GET /users/{username}/settings/billing/shared-storage"]},checks:{create:["POST /repos/{owner}/{repo}/check-runs"],createSuite:["POST /repos/{owner}/{repo}/check-suites"],get:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}"],getSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}"],listAnnotations:["GET /repos/{owner}/{repo}/check-runs/{check_run_id}/annotations"],listForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-runs"],listForSuite:["GET /repos/{owner}/{repo}/check-suites/{check_suite_id}/check-runs"],listSuitesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/check-suites"],rerequestRun:["POST /repos/{owner}/{repo}/check-runs/{check_run_id}/rerequest"],rerequestSuite:["POST /repos/{owner}/{repo}/check-suites/{check_suite_id}/rerequest"],setSuitesPreferences:["PATCH /repos/{owner}/{repo}/check-suites/preferences"],update:["PATCH /repos/{owner}/{repo}/check-runs/{check_run_id}"]},codeScanning:{commitAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix/commits"],createAutofix:["POST /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],createVariantAnalysis:["POST /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses"],deleteAnalysis:["DELETE /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}{?confirm_delete}"],deleteCodeqlDatabase:["DELETE /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getAlert:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}",{},{renamedParameters:{alert_id:"alert_number"}}],getAnalysis:["GET /repos/{owner}/{repo}/code-scanning/analyses/{analysis_id}"],getAutofix:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/autofix"],getCodeqlDatabase:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases/{language}"],getDefaultSetup:["GET /repos/{owner}/{repo}/code-scanning/default-setup"],getSarif:["GET /repos/{owner}/{repo}/code-scanning/sarifs/{sarif_id}"],getVariantAnalysis:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}"],getVariantAnalysisRepoTask:["GET /repos/{owner}/{repo}/code-scanning/codeql/variant-analyses/{codeql_variant_analysis_id}/repos/{repo_owner}/{repo_name}"],listAlertInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances"],listAlertsForOrg:["GET /orgs/{org}/code-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/code-scanning/alerts"],listAlertsInstances:["GET /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}/instances",{},{renamed:["codeScanning","listAlertInstances"]}],listCodeqlDatabases:["GET /repos/{owner}/{repo}/code-scanning/codeql/databases"],listRecentAnalyses:["GET /repos/{owner}/{repo}/code-scanning/analyses"],updateAlert:["PATCH /repos/{owner}/{repo}/code-scanning/alerts/{alert_number}"],updateDefaultSetup:["PATCH /repos/{owner}/{repo}/code-scanning/default-setup"],uploadSarif:["POST /repos/{owner}/{repo}/code-scanning/sarifs"]},codeSecurity:{attachConfiguration:["POST /orgs/{org}/code-security/configurations/{configuration_id}/attach"],attachEnterpriseConfiguration:["POST /enterprises/{enterprise}/code-security/configurations/{configuration_id}/attach"],createConfiguration:["POST /orgs/{org}/code-security/configurations"],createConfigurationForEnterprise:["POST /enterprises/{enterprise}/code-security/configurations"],deleteConfiguration:["DELETE /orgs/{org}/code-security/configurations/{configuration_id}"],deleteConfigurationForEnterprise:["DELETE /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],detachConfiguration:["DELETE /orgs/{org}/code-security/configurations/detach"],getConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}"],getConfigurationForRepository:["GET /repos/{owner}/{repo}/code-security-configuration"],getConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations"],getConfigurationsForOrg:["GET /orgs/{org}/code-security/configurations"],getDefaultConfigurations:["GET /orgs/{org}/code-security/configurations/defaults"],getDefaultConfigurationsForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/defaults"],getRepositoriesForConfiguration:["GET /orgs/{org}/code-security/configurations/{configuration_id}/repositories"],getRepositoriesForEnterpriseConfiguration:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}/repositories"],getSingleConfigurationForEnterprise:["GET /enterprises/{enterprise}/code-security/configurations/{configuration_id}"],setConfigurationAsDefault:["PUT /orgs/{org}/code-security/configurations/{configuration_id}/defaults"],setConfigurationAsDefaultForEnterprise:["PUT /enterprises/{enterprise}/code-security/configurations/{configuration_id}/defaults"],updateConfiguration:["PATCH /orgs/{org}/code-security/configurations/{configuration_id}"],updateEnterpriseConfiguration:["PATCH /enterprises/{enterprise}/code-security/configurations/{configuration_id}"]},codesOfConduct:{getAllCodesOfConduct:["GET /codes_of_conduct"],getConductCode:["GET /codes_of_conduct/{key}"]},codespaces:{addRepositoryForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],addSelectedRepoToOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],checkPermissionsForDevcontainer:["GET /repos/{owner}/{repo}/codespaces/permissions_check"],codespaceMachinesForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/machines"],createForAuthenticatedUser:["POST /user/codespaces"],createOrUpdateOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],createOrUpdateSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}"],createWithPrForAuthenticatedUser:["POST /repos/{owner}/{repo}/pulls/{pull_number}/codespaces"],createWithRepoForAuthenticatedUser:["POST /repos/{owner}/{repo}/codespaces"],deleteForAuthenticatedUser:["DELETE /user/codespaces/{codespace_name}"],deleteFromOrganization:["DELETE /orgs/{org}/members/{username}/codespaces/{codespace_name}"],deleteOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],deleteSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}"],exportForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/exports"],getCodespacesForUserInOrg:["GET /orgs/{org}/members/{username}/codespaces"],getExportDetailsForAuthenticatedUser:["GET /user/codespaces/{codespace_name}/exports/{export_id}"],getForAuthenticatedUser:["GET /user/codespaces/{codespace_name}"],getOrgPublicKey:["GET /orgs/{org}/codespaces/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}"],getPublicKeyForAuthenticatedUser:["GET /user/codespaces/secrets/public-key"],getRepoPublicKey:["GET /repos/{owner}/{repo}/codespaces/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/codespaces/secrets/{secret_name}"],getSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}"],listDevcontainersInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/devcontainers"],listForAuthenticatedUser:["GET /user/codespaces"],listInOrganization:["GET /orgs/{org}/codespaces",{},{renamedParameters:{org_id:"org"}}],listInRepositoryForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces"],listOrgSecrets:["GET /orgs/{org}/codespaces/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/codespaces/secrets"],listRepositoriesForSecretForAuthenticatedUser:["GET /user/codespaces/secrets/{secret_name}/repositories"],listSecretsForAuthenticatedUser:["GET /user/codespaces/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],preFlightWithRepoForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/new"],publishForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/publish"],removeRepositoryForSecretForAuthenticatedUser:["DELETE /user/codespaces/secrets/{secret_name}/repositories/{repository_id}"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/codespaces/secrets/{secret_name}/repositories/{repository_id}"],repoMachinesForAuthenticatedUser:["GET /repos/{owner}/{repo}/codespaces/machines"],setRepositoriesForSecretForAuthenticatedUser:["PUT /user/codespaces/secrets/{secret_name}/repositories"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/codespaces/secrets/{secret_name}/repositories"],startForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/start"],stopForAuthenticatedUser:["POST /user/codespaces/{codespace_name}/stop"],stopInOrganization:["POST /orgs/{org}/members/{username}/codespaces/{codespace_name}/stop"],updateForAuthenticatedUser:["PATCH /user/codespaces/{codespace_name}"]},copilot:{addCopilotSeatsForTeams:["POST /orgs/{org}/copilot/billing/selected_teams"],addCopilotSeatsForUsers:["POST /orgs/{org}/copilot/billing/selected_users"],cancelCopilotSeatAssignmentForTeams:["DELETE /orgs/{org}/copilot/billing/selected_teams"],cancelCopilotSeatAssignmentForUsers:["DELETE /orgs/{org}/copilot/billing/selected_users"],copilotMetricsForOrganization:["GET /orgs/{org}/copilot/metrics"],copilotMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/metrics"],getCopilotOrganizationDetails:["GET /orgs/{org}/copilot/billing"],getCopilotSeatDetailsForUser:["GET /orgs/{org}/members/{username}/copilot"],listCopilotSeats:["GET /orgs/{org}/copilot/billing/seats"],usageMetricsForOrg:["GET /orgs/{org}/copilot/usage"],usageMetricsForTeam:["GET /orgs/{org}/team/{team_slug}/copilot/usage"]},dependabot:{addSelectedRepoToOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],createOrUpdateOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}"],createOrUpdateRepoSecret:["PUT /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],deleteOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}"],deleteRepoSecret:["DELETE /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],getAlert:["GET /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"],getOrgPublicKey:["GET /orgs/{org}/dependabot/secrets/public-key"],getOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}"],getRepoPublicKey:["GET /repos/{owner}/{repo}/dependabot/secrets/public-key"],getRepoSecret:["GET /repos/{owner}/{repo}/dependabot/secrets/{secret_name}"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/dependabot/alerts"],listAlertsForOrg:["GET /orgs/{org}/dependabot/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/dependabot/alerts"],listOrgSecrets:["GET /orgs/{org}/dependabot/secrets"],listRepoSecrets:["GET /repos/{owner}/{repo}/dependabot/secrets"],listSelectedReposForOrgSecret:["GET /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],removeSelectedRepoFromOrgSecret:["DELETE /orgs/{org}/dependabot/secrets/{secret_name}/repositories/{repository_id}"],setSelectedReposForOrgSecret:["PUT /orgs/{org}/dependabot/secrets/{secret_name}/repositories"],updateAlert:["PATCH /repos/{owner}/{repo}/dependabot/alerts/{alert_number}"]},dependencyGraph:{createRepositorySnapshot:["POST /repos/{owner}/{repo}/dependency-graph/snapshots"],diffRange:["GET /repos/{owner}/{repo}/dependency-graph/compare/{basehead}"],exportSbom:["GET /repos/{owner}/{repo}/dependency-graph/sbom"]},emojis:{get:["GET /emojis"]},gists:{checkIsStarred:["GET /gists/{gist_id}/star"],create:["POST /gists"],createComment:["POST /gists/{gist_id}/comments"],delete:["DELETE /gists/{gist_id}"],deleteComment:["DELETE /gists/{gist_id}/comments/{comment_id}"],fork:["POST /gists/{gist_id}/forks"],get:["GET /gists/{gist_id}"],getComment:["GET /gists/{gist_id}/comments/{comment_id}"],getRevision:["GET /gists/{gist_id}/{sha}"],list:["GET /gists"],listComments:["GET /gists/{gist_id}/comments"],listCommits:["GET /gists/{gist_id}/commits"],listForUser:["GET /users/{username}/gists"],listForks:["GET /gists/{gist_id}/forks"],listPublic:["GET /gists/public"],listStarred:["GET /gists/starred"],star:["PUT /gists/{gist_id}/star"],unstar:["DELETE /gists/{gist_id}/star"],update:["PATCH /gists/{gist_id}"],updateComment:["PATCH /gists/{gist_id}/comments/{comment_id}"]},git:{createBlob:["POST /repos/{owner}/{repo}/git/blobs"],createCommit:["POST /repos/{owner}/{repo}/git/commits"],createRef:["POST /repos/{owner}/{repo}/git/refs"],createTag:["POST /repos/{owner}/{repo}/git/tags"],createTree:["POST /repos/{owner}/{repo}/git/trees"],deleteRef:["DELETE /repos/{owner}/{repo}/git/refs/{ref}"],getBlob:["GET /repos/{owner}/{repo}/git/blobs/{file_sha}"],getCommit:["GET /repos/{owner}/{repo}/git/commits/{commit_sha}"],getRef:["GET /repos/{owner}/{repo}/git/ref/{ref}"],getTag:["GET /repos/{owner}/{repo}/git/tags/{tag_sha}"],getTree:["GET /repos/{owner}/{repo}/git/trees/{tree_sha}"],listMatchingRefs:["GET /repos/{owner}/{repo}/git/matching-refs/{ref}"],updateRef:["PATCH /repos/{owner}/{repo}/git/refs/{ref}"]},gitignore:{getAllTemplates:["GET /gitignore/templates"],getTemplate:["GET /gitignore/templates/{name}"]},hostedCompute:{createNetworkConfigurationForOrg:["POST /orgs/{org}/settings/network-configurations"],deleteNetworkConfigurationFromOrg:["DELETE /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkConfigurationForOrg:["GET /orgs/{org}/settings/network-configurations/{network_configuration_id}"],getNetworkSettingsForOrg:["GET /orgs/{org}/settings/network-settings/{network_settings_id}"],listNetworkConfigurationsForOrg:["GET /orgs/{org}/settings/network-configurations"],updateNetworkConfigurationForOrg:["PATCH /orgs/{org}/settings/network-configurations/{network_configuration_id}"]},interactions:{getRestrictionsForAuthenticatedUser:["GET /user/interaction-limits"],getRestrictionsForOrg:["GET /orgs/{org}/interaction-limits"],getRestrictionsForRepo:["GET /repos/{owner}/{repo}/interaction-limits"],getRestrictionsForYourPublicRepos:["GET /user/interaction-limits",{},{renamed:["interactions","getRestrictionsForAuthenticatedUser"]}],removeRestrictionsForAuthenticatedUser:["DELETE /user/interaction-limits"],removeRestrictionsForOrg:["DELETE /orgs/{org}/interaction-limits"],removeRestrictionsForRepo:["DELETE /repos/{owner}/{repo}/interaction-limits"],removeRestrictionsForYourPublicRepos:["DELETE /user/interaction-limits",{},{renamed:["interactions","removeRestrictionsForAuthenticatedUser"]}],setRestrictionsForAuthenticatedUser:["PUT /user/interaction-limits"],setRestrictionsForOrg:["PUT /orgs/{org}/interaction-limits"],setRestrictionsForRepo:["PUT /repos/{owner}/{repo}/interaction-limits"],setRestrictionsForYourPublicRepos:["PUT /user/interaction-limits",{},{renamed:["interactions","setRestrictionsForAuthenticatedUser"]}]},issues:{addAssignees:["POST /repos/{owner}/{repo}/issues/{issue_number}/assignees"],addLabels:["POST /repos/{owner}/{repo}/issues/{issue_number}/labels"],addSubIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],checkUserCanBeAssigned:["GET /repos/{owner}/{repo}/assignees/{assignee}"],checkUserCanBeAssignedToIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/assignees/{assignee}"],create:["POST /repos/{owner}/{repo}/issues"],createComment:["POST /repos/{owner}/{repo}/issues/{issue_number}/comments"],createLabel:["POST /repos/{owner}/{repo}/labels"],createMilestone:["POST /repos/{owner}/{repo}/milestones"],deleteComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}"],deleteLabel:["DELETE /repos/{owner}/{repo}/labels/{name}"],deleteMilestone:["DELETE /repos/{owner}/{repo}/milestones/{milestone_number}"],get:["GET /repos/{owner}/{repo}/issues/{issue_number}"],getComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}"],getEvent:["GET /repos/{owner}/{repo}/issues/events/{event_id}"],getLabel:["GET /repos/{owner}/{repo}/labels/{name}"],getMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}"],list:["GET /issues"],listAssignees:["GET /repos/{owner}/{repo}/assignees"],listComments:["GET /repos/{owner}/{repo}/issues/{issue_number}/comments"],listCommentsForRepo:["GET /repos/{owner}/{repo}/issues/comments"],listEvents:["GET /repos/{owner}/{repo}/issues/{issue_number}/events"],listEventsForRepo:["GET /repos/{owner}/{repo}/issues/events"],listEventsForTimeline:["GET /repos/{owner}/{repo}/issues/{issue_number}/timeline"],listForAuthenticatedUser:["GET /user/issues"],listForOrg:["GET /orgs/{org}/issues"],listForRepo:["GET /repos/{owner}/{repo}/issues"],listLabelsForMilestone:["GET /repos/{owner}/{repo}/milestones/{milestone_number}/labels"],listLabelsForRepo:["GET /repos/{owner}/{repo}/labels"],listLabelsOnIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/labels"],listMilestones:["GET /repos/{owner}/{repo}/milestones"],listSubIssues:["GET /repos/{owner}/{repo}/issues/{issue_number}/sub_issues"],lock:["PUT /repos/{owner}/{repo}/issues/{issue_number}/lock"],removeAllLabels:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels"],removeAssignees:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/assignees"],removeLabel:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/labels/{name}"],removeSubIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/sub_issue"],reprioritizeSubIssue:["PATCH /repos/{owner}/{repo}/issues/{issue_number}/sub_issues/priority"],setLabels:["PUT /repos/{owner}/{repo}/issues/{issue_number}/labels"],unlock:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/lock"],update:["PATCH /repos/{owner}/{repo}/issues/{issue_number}"],updateComment:["PATCH /repos/{owner}/{repo}/issues/comments/{comment_id}"],updateLabel:["PATCH /repos/{owner}/{repo}/labels/{name}"],updateMilestone:["PATCH /repos/{owner}/{repo}/milestones/{milestone_number}"]},licenses:{get:["GET /licenses/{license}"],getAllCommonlyUsed:["GET /licenses"],getForRepo:["GET /repos/{owner}/{repo}/license"]},markdown:{render:["POST /markdown"],renderRaw:["POST /markdown/raw",{headers:{"content-type":"text/plain; charset=utf-8"}}]},meta:{get:["GET /meta"],getAllVersions:["GET /versions"],getOctocat:["GET /octocat"],getZen:["GET /zen"],root:["GET /"]},migrations:{deleteArchiveForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/archive"],deleteArchiveForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/archive"],downloadArchiveForOrg:["GET /orgs/{org}/migrations/{migration_id}/archive"],getArchiveForAuthenticatedUser:["GET /user/migrations/{migration_id}/archive"],getStatusForAuthenticatedUser:["GET /user/migrations/{migration_id}"],getStatusForOrg:["GET /orgs/{org}/migrations/{migration_id}"],listForAuthenticatedUser:["GET /user/migrations"],listForOrg:["GET /orgs/{org}/migrations"],listReposForAuthenticatedUser:["GET /user/migrations/{migration_id}/repositories"],listReposForOrg:["GET /orgs/{org}/migrations/{migration_id}/repositories"],listReposForUser:["GET /user/migrations/{migration_id}/repositories",{},{renamed:["migrations","listReposForAuthenticatedUser"]}],startForAuthenticatedUser:["POST /user/migrations"],startForOrg:["POST /orgs/{org}/migrations"],unlockRepoForAuthenticatedUser:["DELETE /user/migrations/{migration_id}/repos/{repo_name}/lock"],unlockRepoForOrg:["DELETE /orgs/{org}/migrations/{migration_id}/repos/{repo_name}/lock"]},oidc:{getOidcCustomSubTemplateForOrg:["GET /orgs/{org}/actions/oidc/customization/sub"],updateOidcCustomSubTemplateForOrg:["PUT /orgs/{org}/actions/oidc/customization/sub"]},orgs:{addSecurityManagerTeam:["PUT /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.addSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#add-a-security-manager-team"}],assignTeamToOrgRole:["PUT /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],assignUserToOrgRole:["PUT /orgs/{org}/organization-roles/users/{username}/{role_id}"],blockUser:["PUT /orgs/{org}/blocks/{username}"],cancelInvitation:["DELETE /orgs/{org}/invitations/{invitation_id}"],checkBlockedUser:["GET /orgs/{org}/blocks/{username}"],checkMembershipForUser:["GET /orgs/{org}/members/{username}"],checkPublicMembershipForUser:["GET /orgs/{org}/public_members/{username}"],convertMemberToOutsideCollaborator:["PUT /orgs/{org}/outside_collaborators/{username}"],createInvitation:["POST /orgs/{org}/invitations"],createIssueType:["POST /orgs/{org}/issue-types"],createOrUpdateCustomProperties:["PATCH /orgs/{org}/properties/schema"],createOrUpdateCustomPropertiesValuesForRepos:["PATCH /orgs/{org}/properties/values"],createOrUpdateCustomProperty:["PUT /orgs/{org}/properties/schema/{custom_property_name}"],createWebhook:["POST /orgs/{org}/hooks"],delete:["DELETE /orgs/{org}"],deleteIssueType:["DELETE /orgs/{org}/issue-types/{issue_type_id}"],deleteWebhook:["DELETE /orgs/{org}/hooks/{hook_id}"],enableOrDisableSecurityProductOnAllOrgRepos:["POST /orgs/{org}/{security_product}/{enablement}",{},{deprecated:"octokit.rest.orgs.enableOrDisableSecurityProductOnAllOrgRepos() is deprecated, see https://docs.github.com/rest/orgs/orgs#enable-or-disable-a-security-feature-for-an-organization"}],get:["GET /orgs/{org}"],getAllCustomProperties:["GET /orgs/{org}/properties/schema"],getCustomProperty:["GET /orgs/{org}/properties/schema/{custom_property_name}"],getMembershipForAuthenticatedUser:["GET /user/memberships/orgs/{org}"],getMembershipForUser:["GET /orgs/{org}/memberships/{username}"],getOrgRole:["GET /orgs/{org}/organization-roles/{role_id}"],getOrgRulesetHistory:["GET /orgs/{org}/rulesets/{ruleset_id}/history"],getOrgRulesetVersion:["GET /orgs/{org}/rulesets/{ruleset_id}/history/{version_id}"],getWebhook:["GET /orgs/{org}/hooks/{hook_id}"],getWebhookConfigForOrg:["GET /orgs/{org}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}"],list:["GET /organizations"],listAppInstallations:["GET /orgs/{org}/installations"],listAttestations:["GET /orgs/{org}/attestations/{subject_digest}"],listBlockedUsers:["GET /orgs/{org}/blocks"],listCustomPropertiesValuesForRepos:["GET /orgs/{org}/properties/values"],listFailedInvitations:["GET /orgs/{org}/failed_invitations"],listForAuthenticatedUser:["GET /user/orgs"],listForUser:["GET /users/{username}/orgs"],listInvitationTeams:["GET /orgs/{org}/invitations/{invitation_id}/teams"],listIssueTypes:["GET /orgs/{org}/issue-types"],listMembers:["GET /orgs/{org}/members"],listMembershipsForAuthenticatedUser:["GET /user/memberships/orgs"],listOrgRoleTeams:["GET /orgs/{org}/organization-roles/{role_id}/teams"],listOrgRoleUsers:["GET /orgs/{org}/organization-roles/{role_id}/users"],listOrgRoles:["GET /orgs/{org}/organization-roles"],listOrganizationFineGrainedPermissions:["GET /orgs/{org}/organization-fine-grained-permissions"],listOutsideCollaborators:["GET /orgs/{org}/outside_collaborators"],listPatGrantRepositories:["GET /orgs/{org}/personal-access-tokens/{pat_id}/repositories"],listPatGrantRequestRepositories:["GET /orgs/{org}/personal-access-token-requests/{pat_request_id}/repositories"],listPatGrantRequests:["GET /orgs/{org}/personal-access-token-requests"],listPatGrants:["GET /orgs/{org}/personal-access-tokens"],listPendingInvitations:["GET /orgs/{org}/invitations"],listPublicMembers:["GET /orgs/{org}/public_members"],listSecurityManagerTeams:["GET /orgs/{org}/security-managers",{},{deprecated:"octokit.rest.orgs.listSecurityManagerTeams() is deprecated, see https://docs.github.com/rest/orgs/security-managers#list-security-manager-teams"}],listWebhookDeliveries:["GET /orgs/{org}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /orgs/{org}/hooks"],pingWebhook:["POST /orgs/{org}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /orgs/{org}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeCustomProperty:["DELETE /orgs/{org}/properties/schema/{custom_property_name}"],removeMember:["DELETE /orgs/{org}/members/{username}"],removeMembershipForUser:["DELETE /orgs/{org}/memberships/{username}"],removeOutsideCollaborator:["DELETE /orgs/{org}/outside_collaborators/{username}"],removePublicMembershipForAuthenticatedUser:["DELETE /orgs/{org}/public_members/{username}"],removeSecurityManagerTeam:["DELETE /orgs/{org}/security-managers/teams/{team_slug}",{},{deprecated:"octokit.rest.orgs.removeSecurityManagerTeam() is deprecated, see https://docs.github.com/rest/orgs/security-managers#remove-a-security-manager-team"}],reviewPatGrantRequest:["POST /orgs/{org}/personal-access-token-requests/{pat_request_id}"],reviewPatGrantRequestsInBulk:["POST /orgs/{org}/personal-access-token-requests"],revokeAllOrgRolesTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}"],revokeAllOrgRolesUser:["DELETE /orgs/{org}/organization-roles/users/{username}"],revokeOrgRoleTeam:["DELETE /orgs/{org}/organization-roles/teams/{team_slug}/{role_id}"],revokeOrgRoleUser:["DELETE /orgs/{org}/organization-roles/users/{username}/{role_id}"],setMembershipForUser:["PUT /orgs/{org}/memberships/{username}"],setPublicMembershipForAuthenticatedUser:["PUT /orgs/{org}/public_members/{username}"],unblockUser:["DELETE /orgs/{org}/blocks/{username}"],update:["PATCH /orgs/{org}"],updateIssueType:["PUT /orgs/{org}/issue-types/{issue_type_id}"],updateMembershipForAuthenticatedUser:["PATCH /user/memberships/orgs/{org}"],updatePatAccess:["POST /orgs/{org}/personal-access-tokens/{pat_id}"],updatePatAccesses:["POST /orgs/{org}/personal-access-tokens"],updateWebhook:["PATCH /orgs/{org}/hooks/{hook_id}"],updateWebhookConfigForOrg:["PATCH /orgs/{org}/hooks/{hook_id}/config"]},packages:{deletePackageForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}"],deletePackageForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}"],deletePackageForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}"],deletePackageVersionForAuthenticatedUser:["DELETE /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForOrg:["DELETE /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],deletePackageVersionForUser:["DELETE /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getAllPackageVersionsForAPackageOwnedByAnOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByOrg"]}],getAllPackageVersionsForAPackageOwnedByTheAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions",{},{renamed:["packages","getAllPackageVersionsForPackageOwnedByAuthenticatedUser"]}],getAllPackageVersionsForPackageOwnedByAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByOrg:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions"],getAllPackageVersionsForPackageOwnedByUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions"],getPackageForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}"],getPackageForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}"],getPackageForUser:["GET /users/{username}/packages/{package_type}/{package_name}"],getPackageVersionForAuthenticatedUser:["GET /user/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForOrganization:["GET /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}"],getPackageVersionForUser:["GET /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}"],listDockerMigrationConflictingPackagesForAuthenticatedUser:["GET /user/docker/conflicts"],listDockerMigrationConflictingPackagesForOrganization:["GET /orgs/{org}/docker/conflicts"],listDockerMigrationConflictingPackagesForUser:["GET /users/{username}/docker/conflicts"],listPackagesForAuthenticatedUser:["GET /user/packages"],listPackagesForOrganization:["GET /orgs/{org}/packages"],listPackagesForUser:["GET /users/{username}/packages"],restorePackageForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageForUser:["POST /users/{username}/packages/{package_type}/{package_name}/restore{?token}"],restorePackageVersionForAuthenticatedUser:["POST /user/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForOrg:["POST /orgs/{org}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"],restorePackageVersionForUser:["POST /users/{username}/packages/{package_type}/{package_name}/versions/{package_version_id}/restore"]},privateRegistries:{createOrgPrivateRegistry:["POST /orgs/{org}/private-registries"],deleteOrgPrivateRegistry:["DELETE /orgs/{org}/private-registries/{secret_name}"],getOrgPrivateRegistry:["GET /orgs/{org}/private-registries/{secret_name}"],getOrgPublicKey:["GET /orgs/{org}/private-registries/public-key"],listOrgPrivateRegistries:["GET /orgs/{org}/private-registries"],updateOrgPrivateRegistry:["PATCH /orgs/{org}/private-registries/{secret_name}"]},projects:{addCollaborator:["PUT /projects/{project_id}/collaborators/{username}",{},{deprecated:"octokit.rest.projects.addCollaborator() is deprecated, see https://docs.github.com/rest/projects/collaborators#add-project-collaborator"}],createCard:["POST /projects/columns/{column_id}/cards",{},{deprecated:"octokit.rest.projects.createCard() is deprecated, see https://docs.github.com/rest/projects/cards#create-a-project-card"}],createColumn:["POST /projects/{project_id}/columns",{},{deprecated:"octokit.rest.projects.createColumn() is deprecated, see https://docs.github.com/rest/projects/columns#create-a-project-column"}],createForAuthenticatedUser:["POST /user/projects",{},{deprecated:"octokit.rest.projects.createForAuthenticatedUser() is deprecated, see https://docs.github.com/rest/projects/projects#create-a-user-project"}],createForOrg:["POST /orgs/{org}/projects",{},{deprecated:"octokit.rest.projects.createForOrg() is deprecated, see https://docs.github.com/rest/projects/projects#create-an-organization-project"}],createForRepo:["POST /repos/{owner}/{repo}/projects",{},{deprecated:"octokit.rest.projects.createForRepo() is deprecated, see https://docs.github.com/rest/projects/projects#create-a-repository-project"}],delete:["DELETE /projects/{project_id}",{},{deprecated:"octokit.rest.projects.delete() is deprecated, see https://docs.github.com/rest/projects/projects#delete-a-project"}],deleteCard:["DELETE /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.deleteCard() is deprecated, see https://docs.github.com/rest/projects/cards#delete-a-project-card"}],deleteColumn:["DELETE /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.deleteColumn() is deprecated, see https://docs.github.com/rest/projects/columns#delete-a-project-column"}],get:["GET /projects/{project_id}",{},{deprecated:"octokit.rest.projects.get() is deprecated, see https://docs.github.com/rest/projects/projects#get-a-project"}],getCard:["GET /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.getCard() is deprecated, see https://docs.github.com/rest/projects/cards#get-a-project-card"}],getColumn:["GET /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.getColumn() is deprecated, see https://docs.github.com/rest/projects/columns#get-a-project-column"}],getPermissionForUser:["GET /projects/{project_id}/collaborators/{username}/permission",{},{deprecated:"octokit.rest.projects.getPermissionForUser() is deprecated, see https://docs.github.com/rest/projects/collaborators#get-project-permission-for-a-user"}],listCards:["GET /projects/columns/{column_id}/cards",{},{deprecated:"octokit.rest.projects.listCards() is deprecated, see https://docs.github.com/rest/projects/cards#list-project-cards"}],listCollaborators:["GET /projects/{project_id}/collaborators",{},{deprecated:"octokit.rest.projects.listCollaborators() is deprecated, see https://docs.github.com/rest/projects/collaborators#list-project-collaborators"}],listColumns:["GET /projects/{project_id}/columns",{},{deprecated:"octokit.rest.projects.listColumns() is deprecated, see https://docs.github.com/rest/projects/columns#list-project-columns"}],listForOrg:["GET /orgs/{org}/projects",{},{deprecated:"octokit.rest.projects.listForOrg() is deprecated, see https://docs.github.com/rest/projects/projects#list-organization-projects"}],listForRepo:["GET /repos/{owner}/{repo}/projects",{},{deprecated:"octokit.rest.projects.listForRepo() is deprecated, see https://docs.github.com/rest/projects/projects#list-repository-projects"}],listForUser:["GET /users/{username}/projects",{},{deprecated:"octokit.rest.projects.listForUser() is deprecated, see https://docs.github.com/rest/projects/projects#list-user-projects"}],moveCard:["POST /projects/columns/cards/{card_id}/moves",{},{deprecated:"octokit.rest.projects.moveCard() is deprecated, see https://docs.github.com/rest/projects/cards#move-a-project-card"}],moveColumn:["POST /projects/columns/{column_id}/moves",{},{deprecated:"octokit.rest.projects.moveColumn() is deprecated, see https://docs.github.com/rest/projects/columns#move-a-project-column"}],removeCollaborator:["DELETE /projects/{project_id}/collaborators/{username}",{},{deprecated:"octokit.rest.projects.removeCollaborator() is deprecated, see https://docs.github.com/rest/projects/collaborators#remove-user-as-a-collaborator"}],update:["PATCH /projects/{project_id}",{},{deprecated:"octokit.rest.projects.update() is deprecated, see https://docs.github.com/rest/projects/projects#update-a-project"}],updateCard:["PATCH /projects/columns/cards/{card_id}",{},{deprecated:"octokit.rest.projects.updateCard() is deprecated, see https://docs.github.com/rest/projects/cards#update-an-existing-project-card"}],updateColumn:["PATCH /projects/columns/{column_id}",{},{deprecated:"octokit.rest.projects.updateColumn() is deprecated, see https://docs.github.com/rest/projects/columns#update-an-existing-project-column"}]},pulls:{checkIfMerged:["GET /repos/{owner}/{repo}/pulls/{pull_number}/merge"],create:["POST /repos/{owner}/{repo}/pulls"],createReplyForReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments/{comment_id}/replies"],createReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],createReviewComment:["POST /repos/{owner}/{repo}/pulls/{pull_number}/comments"],deletePendingReview:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],deleteReviewComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}"],dismissReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/dismissals"],get:["GET /repos/{owner}/{repo}/pulls/{pull_number}"],getReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],getReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}"],list:["GET /repos/{owner}/{repo}/pulls"],listCommentsForReview:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/comments"],listCommits:["GET /repos/{owner}/{repo}/pulls/{pull_number}/commits"],listFiles:["GET /repos/{owner}/{repo}/pulls/{pull_number}/files"],listRequestedReviewers:["GET /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],listReviewComments:["GET /repos/{owner}/{repo}/pulls/{pull_number}/comments"],listReviewCommentsForRepo:["GET /repos/{owner}/{repo}/pulls/comments"],listReviews:["GET /repos/{owner}/{repo}/pulls/{pull_number}/reviews"],merge:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge"],removeRequestedReviewers:["DELETE /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],requestReviewers:["POST /repos/{owner}/{repo}/pulls/{pull_number}/requested_reviewers"],submitReview:["POST /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}/events"],update:["PATCH /repos/{owner}/{repo}/pulls/{pull_number}"],updateBranch:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/update-branch"],updateReview:["PUT /repos/{owner}/{repo}/pulls/{pull_number}/reviews/{review_id}"],updateReviewComment:["PATCH /repos/{owner}/{repo}/pulls/comments/{comment_id}"]},rateLimit:{get:["GET /rate_limit"]},reactions:{createForCommitComment:["POST /repos/{owner}/{repo}/comments/{comment_id}/reactions"],createForIssue:["POST /repos/{owner}/{repo}/issues/{issue_number}/reactions"],createForIssueComment:["POST /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],createForPullRequestReviewComment:["POST /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],createForRelease:["POST /repos/{owner}/{repo}/releases/{release_id}/reactions"],createForTeamDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],createForTeamDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"],deleteForCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}/reactions/{reaction_id}"],deleteForIssue:["DELETE /repos/{owner}/{repo}/issues/{issue_number}/reactions/{reaction_id}"],deleteForIssueComment:["DELETE /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions/{reaction_id}"],deleteForPullRequestComment:["DELETE /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions/{reaction_id}"],deleteForRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}/reactions/{reaction_id}"],deleteForTeamDiscussion:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions/{reaction_id}"],deleteForTeamDiscussionComment:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions/{reaction_id}"],listForCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}/reactions"],listForIssue:["GET /repos/{owner}/{repo}/issues/{issue_number}/reactions"],listForIssueComment:["GET /repos/{owner}/{repo}/issues/comments/{comment_id}/reactions"],listForPullRequestReviewComment:["GET /repos/{owner}/{repo}/pulls/comments/{comment_id}/reactions"],listForRelease:["GET /repos/{owner}/{repo}/releases/{release_id}/reactions"],listForTeamDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}/reactions"],listForTeamDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/reactions"]},repos:{acceptInvitation:["PATCH /user/repository_invitations/{invitation_id}",{},{renamed:["repos","acceptInvitationForAuthenticatedUser"]}],acceptInvitationForAuthenticatedUser:["PATCH /user/repository_invitations/{invitation_id}"],addAppAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],addCollaborator:["PUT /repos/{owner}/{repo}/collaborators/{username}"],addStatusCheckContexts:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],addTeamAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],addUserAccessRestrictions:["POST /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],cancelPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}/cancel"],checkAutomatedSecurityFixes:["GET /repos/{owner}/{repo}/automated-security-fixes"],checkCollaborator:["GET /repos/{owner}/{repo}/collaborators/{username}"],checkPrivateVulnerabilityReporting:["GET /repos/{owner}/{repo}/private-vulnerability-reporting"],checkVulnerabilityAlerts:["GET /repos/{owner}/{repo}/vulnerability-alerts"],codeownersErrors:["GET /repos/{owner}/{repo}/codeowners/errors"],compareCommits:["GET /repos/{owner}/{repo}/compare/{base}...{head}"],compareCommitsWithBasehead:["GET /repos/{owner}/{repo}/compare/{basehead}"],createAttestation:["POST /repos/{owner}/{repo}/attestations"],createAutolink:["POST /repos/{owner}/{repo}/autolinks"],createCommitComment:["POST /repos/{owner}/{repo}/commits/{commit_sha}/comments"],createCommitSignatureProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],createCommitStatus:["POST /repos/{owner}/{repo}/statuses/{sha}"],createDeployKey:["POST /repos/{owner}/{repo}/keys"],createDeployment:["POST /repos/{owner}/{repo}/deployments"],createDeploymentBranchPolicy:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],createDeploymentProtectionRule:["POST /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],createDeploymentStatus:["POST /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],createDispatchEvent:["POST /repos/{owner}/{repo}/dispatches"],createForAuthenticatedUser:["POST /user/repos"],createFork:["POST /repos/{owner}/{repo}/forks"],createInOrg:["POST /orgs/{org}/repos"],createOrUpdateCustomPropertiesValues:["PATCH /repos/{owner}/{repo}/properties/values"],createOrUpdateEnvironment:["PUT /repos/{owner}/{repo}/environments/{environment_name}"],createOrUpdateFileContents:["PUT /repos/{owner}/{repo}/contents/{path}"],createOrgRuleset:["POST /orgs/{org}/rulesets"],createPagesDeployment:["POST /repos/{owner}/{repo}/pages/deployments"],createPagesSite:["POST /repos/{owner}/{repo}/pages"],createRelease:["POST /repos/{owner}/{repo}/releases"],createRepoRuleset:["POST /repos/{owner}/{repo}/rulesets"],createUsingTemplate:["POST /repos/{template_owner}/{template_repo}/generate"],createWebhook:["POST /repos/{owner}/{repo}/hooks"],declineInvitation:["DELETE /user/repository_invitations/{invitation_id}",{},{renamed:["repos","declineInvitationForAuthenticatedUser"]}],declineInvitationForAuthenticatedUser:["DELETE /user/repository_invitations/{invitation_id}"],delete:["DELETE /repos/{owner}/{repo}"],deleteAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],deleteAdminBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],deleteAnEnvironment:["DELETE /repos/{owner}/{repo}/environments/{environment_name}"],deleteAutolink:["DELETE /repos/{owner}/{repo}/autolinks/{autolink_id}"],deleteBranchProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection"],deleteCommitComment:["DELETE /repos/{owner}/{repo}/comments/{comment_id}"],deleteCommitSignatureProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],deleteDeployKey:["DELETE /repos/{owner}/{repo}/keys/{key_id}"],deleteDeployment:["DELETE /repos/{owner}/{repo}/deployments/{deployment_id}"],deleteDeploymentBranchPolicy:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],deleteFile:["DELETE /repos/{owner}/{repo}/contents/{path}"],deleteInvitation:["DELETE /repos/{owner}/{repo}/invitations/{invitation_id}"],deleteOrgRuleset:["DELETE /orgs/{org}/rulesets/{ruleset_id}"],deletePagesSite:["DELETE /repos/{owner}/{repo}/pages"],deletePullRequestReviewProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],deleteRelease:["DELETE /repos/{owner}/{repo}/releases/{release_id}"],deleteReleaseAsset:["DELETE /repos/{owner}/{repo}/releases/assets/{asset_id}"],deleteRepoRuleset:["DELETE /repos/{owner}/{repo}/rulesets/{ruleset_id}"],deleteWebhook:["DELETE /repos/{owner}/{repo}/hooks/{hook_id}"],disableAutomatedSecurityFixes:["DELETE /repos/{owner}/{repo}/automated-security-fixes"],disableDeploymentProtectionRule:["DELETE /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],disablePrivateVulnerabilityReporting:["DELETE /repos/{owner}/{repo}/private-vulnerability-reporting"],disableVulnerabilityAlerts:["DELETE /repos/{owner}/{repo}/vulnerability-alerts"],downloadArchive:["GET /repos/{owner}/{repo}/zipball/{ref}",{},{renamed:["repos","downloadZipballArchive"]}],downloadTarballArchive:["GET /repos/{owner}/{repo}/tarball/{ref}"],downloadZipballArchive:["GET /repos/{owner}/{repo}/zipball/{ref}"],enableAutomatedSecurityFixes:["PUT /repos/{owner}/{repo}/automated-security-fixes"],enablePrivateVulnerabilityReporting:["PUT /repos/{owner}/{repo}/private-vulnerability-reporting"],enableVulnerabilityAlerts:["PUT /repos/{owner}/{repo}/vulnerability-alerts"],generateReleaseNotes:["POST /repos/{owner}/{repo}/releases/generate-notes"],get:["GET /repos/{owner}/{repo}"],getAccessRestrictions:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions"],getAdminBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],getAllDeploymentProtectionRules:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules"],getAllEnvironments:["GET /repos/{owner}/{repo}/environments"],getAllStatusCheckContexts:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts"],getAllTopics:["GET /repos/{owner}/{repo}/topics"],getAppsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps"],getAutolink:["GET /repos/{owner}/{repo}/autolinks/{autolink_id}"],getBranch:["GET /repos/{owner}/{repo}/branches/{branch}"],getBranchProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection"],getBranchRules:["GET /repos/{owner}/{repo}/rules/branches/{branch}"],getClones:["GET /repos/{owner}/{repo}/traffic/clones"],getCodeFrequencyStats:["GET /repos/{owner}/{repo}/stats/code_frequency"],getCollaboratorPermissionLevel:["GET /repos/{owner}/{repo}/collaborators/{username}/permission"],getCombinedStatusForRef:["GET /repos/{owner}/{repo}/commits/{ref}/status"],getCommit:["GET /repos/{owner}/{repo}/commits/{ref}"],getCommitActivityStats:["GET /repos/{owner}/{repo}/stats/commit_activity"],getCommitComment:["GET /repos/{owner}/{repo}/comments/{comment_id}"],getCommitSignatureProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_signatures"],getCommunityProfileMetrics:["GET /repos/{owner}/{repo}/community/profile"],getContent:["GET /repos/{owner}/{repo}/contents/{path}"],getContributorsStats:["GET /repos/{owner}/{repo}/stats/contributors"],getCustomDeploymentProtectionRule:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/{protection_rule_id}"],getCustomPropertiesValues:["GET /repos/{owner}/{repo}/properties/values"],getDeployKey:["GET /repos/{owner}/{repo}/keys/{key_id}"],getDeployment:["GET /repos/{owner}/{repo}/deployments/{deployment_id}"],getDeploymentBranchPolicy:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],getDeploymentStatus:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses/{status_id}"],getEnvironment:["GET /repos/{owner}/{repo}/environments/{environment_name}"],getLatestPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/latest"],getLatestRelease:["GET /repos/{owner}/{repo}/releases/latest"],getOrgRuleSuite:["GET /orgs/{org}/rulesets/rule-suites/{rule_suite_id}"],getOrgRuleSuites:["GET /orgs/{org}/rulesets/rule-suites"],getOrgRuleset:["GET /orgs/{org}/rulesets/{ruleset_id}"],getOrgRulesets:["GET /orgs/{org}/rulesets"],getPages:["GET /repos/{owner}/{repo}/pages"],getPagesBuild:["GET /repos/{owner}/{repo}/pages/builds/{build_id}"],getPagesDeployment:["GET /repos/{owner}/{repo}/pages/deployments/{pages_deployment_id}"],getPagesHealthCheck:["GET /repos/{owner}/{repo}/pages/health"],getParticipationStats:["GET /repos/{owner}/{repo}/stats/participation"],getPullRequestReviewProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],getPunchCardStats:["GET /repos/{owner}/{repo}/stats/punch_card"],getReadme:["GET /repos/{owner}/{repo}/readme"],getReadmeInDirectory:["GET /repos/{owner}/{repo}/readme/{dir}"],getRelease:["GET /repos/{owner}/{repo}/releases/{release_id}"],getReleaseAsset:["GET /repos/{owner}/{repo}/releases/assets/{asset_id}"],getReleaseByTag:["GET /repos/{owner}/{repo}/releases/tags/{tag}"],getRepoRuleSuite:["GET /repos/{owner}/{repo}/rulesets/rule-suites/{rule_suite_id}"],getRepoRuleSuites:["GET /repos/{owner}/{repo}/rulesets/rule-suites"],getRepoRuleset:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}"],getRepoRulesetHistory:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history"],getRepoRulesetVersion:["GET /repos/{owner}/{repo}/rulesets/{ruleset_id}/history/{version_id}"],getRepoRulesets:["GET /repos/{owner}/{repo}/rulesets"],getStatusChecksProtection:["GET /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],getTeamsWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams"],getTopPaths:["GET /repos/{owner}/{repo}/traffic/popular/paths"],getTopReferrers:["GET /repos/{owner}/{repo}/traffic/popular/referrers"],getUsersWithAccessToProtectedBranch:["GET /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users"],getViews:["GET /repos/{owner}/{repo}/traffic/views"],getWebhook:["GET /repos/{owner}/{repo}/hooks/{hook_id}"],getWebhookConfigForRepo:["GET /repos/{owner}/{repo}/hooks/{hook_id}/config"],getWebhookDelivery:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}"],listActivities:["GET /repos/{owner}/{repo}/activity"],listAttestations:["GET /repos/{owner}/{repo}/attestations/{subject_digest}"],listAutolinks:["GET /repos/{owner}/{repo}/autolinks"],listBranches:["GET /repos/{owner}/{repo}/branches"],listBranchesForHeadCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/branches-where-head"],listCollaborators:["GET /repos/{owner}/{repo}/collaborators"],listCommentsForCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/comments"],listCommitCommentsForRepo:["GET /repos/{owner}/{repo}/comments"],listCommitStatusesForRef:["GET /repos/{owner}/{repo}/commits/{ref}/statuses"],listCommits:["GET /repos/{owner}/{repo}/commits"],listContributors:["GET /repos/{owner}/{repo}/contributors"],listCustomDeploymentRuleIntegrations:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment_protection_rules/apps"],listDeployKeys:["GET /repos/{owner}/{repo}/keys"],listDeploymentBranchPolicies:["GET /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies"],listDeploymentStatuses:["GET /repos/{owner}/{repo}/deployments/{deployment_id}/statuses"],listDeployments:["GET /repos/{owner}/{repo}/deployments"],listForAuthenticatedUser:["GET /user/repos"],listForOrg:["GET /orgs/{org}/repos"],listForUser:["GET /users/{username}/repos"],listForks:["GET /repos/{owner}/{repo}/forks"],listInvitations:["GET /repos/{owner}/{repo}/invitations"],listInvitationsForAuthenticatedUser:["GET /user/repository_invitations"],listLanguages:["GET /repos/{owner}/{repo}/languages"],listPagesBuilds:["GET /repos/{owner}/{repo}/pages/builds"],listPublic:["GET /repositories"],listPullRequestsAssociatedWithCommit:["GET /repos/{owner}/{repo}/commits/{commit_sha}/pulls"],listReleaseAssets:["GET /repos/{owner}/{repo}/releases/{release_id}/assets"],listReleases:["GET /repos/{owner}/{repo}/releases"],listTags:["GET /repos/{owner}/{repo}/tags"],listTeams:["GET /repos/{owner}/{repo}/teams"],listWebhookDeliveries:["GET /repos/{owner}/{repo}/hooks/{hook_id}/deliveries"],listWebhooks:["GET /repos/{owner}/{repo}/hooks"],merge:["POST /repos/{owner}/{repo}/merges"],mergeUpstream:["POST /repos/{owner}/{repo}/merge-upstream"],pingWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/pings"],redeliverWebhookDelivery:["POST /repos/{owner}/{repo}/hooks/{hook_id}/deliveries/{delivery_id}/attempts"],removeAppAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],removeCollaborator:["DELETE /repos/{owner}/{repo}/collaborators/{username}"],removeStatusCheckContexts:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],removeStatusCheckProtection:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],removeTeamAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],removeUserAccessRestrictions:["DELETE /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],renameBranch:["POST /repos/{owner}/{repo}/branches/{branch}/rename"],replaceAllTopics:["PUT /repos/{owner}/{repo}/topics"],requestPagesBuild:["POST /repos/{owner}/{repo}/pages/builds"],setAdminBranchProtection:["POST /repos/{owner}/{repo}/branches/{branch}/protection/enforce_admins"],setAppAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/apps",{},{mapToData:"apps"}],setStatusCheckContexts:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks/contexts",{},{mapToData:"contexts"}],setTeamAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/teams",{},{mapToData:"teams"}],setUserAccessRestrictions:["PUT /repos/{owner}/{repo}/branches/{branch}/protection/restrictions/users",{},{mapToData:"users"}],testPushWebhook:["POST /repos/{owner}/{repo}/hooks/{hook_id}/tests"],transfer:["POST /repos/{owner}/{repo}/transfer"],update:["PATCH /repos/{owner}/{repo}"],updateBranchProtection:["PUT /repos/{owner}/{repo}/branches/{branch}/protection"],updateCommitComment:["PATCH /repos/{owner}/{repo}/comments/{comment_id}"],updateDeploymentBranchPolicy:["PUT /repos/{owner}/{repo}/environments/{environment_name}/deployment-branch-policies/{branch_policy_id}"],updateInformationAboutPagesSite:["PUT /repos/{owner}/{repo}/pages"],updateInvitation:["PATCH /repos/{owner}/{repo}/invitations/{invitation_id}"],updateOrgRuleset:["PUT /orgs/{org}/rulesets/{ruleset_id}"],updatePullRequestReviewProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_pull_request_reviews"],updateRelease:["PATCH /repos/{owner}/{repo}/releases/{release_id}"],updateReleaseAsset:["PATCH /repos/{owner}/{repo}/releases/assets/{asset_id}"],updateRepoRuleset:["PUT /repos/{owner}/{repo}/rulesets/{ruleset_id}"],updateStatusCheckPotection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks",{},{renamed:["repos","updateStatusCheckProtection"]}],updateStatusCheckProtection:["PATCH /repos/{owner}/{repo}/branches/{branch}/protection/required_status_checks"],updateWebhook:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}"],updateWebhookConfigForRepo:["PATCH /repos/{owner}/{repo}/hooks/{hook_id}/config"],uploadReleaseAsset:["POST /repos/{owner}/{repo}/releases/{release_id}/assets{?name,label}",{baseUrl:"https://uploads.github.com"}]},search:{code:["GET /search/code"],commits:["GET /search/commits"],issuesAndPullRequests:["GET /search/issues",{},{deprecated:"octokit.rest.search.issuesAndPullRequests() is deprecated, see https://docs.github.com/rest/search/search#search-issues-and-pull-requests"}],labels:["GET /search/labels"],repos:["GET /search/repositories"],topics:["GET /search/topics"],users:["GET /search/users"]},secretScanning:{createPushProtectionBypass:["POST /repos/{owner}/{repo}/secret-scanning/push-protection-bypasses"],getAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"],getScanHistory:["GET /repos/{owner}/{repo}/secret-scanning/scan-history"],listAlertsForEnterprise:["GET /enterprises/{enterprise}/secret-scanning/alerts"],listAlertsForOrg:["GET /orgs/{org}/secret-scanning/alerts"],listAlertsForRepo:["GET /repos/{owner}/{repo}/secret-scanning/alerts"],listLocationsForAlert:["GET /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}/locations"],updateAlert:["PATCH /repos/{owner}/{repo}/secret-scanning/alerts/{alert_number}"]},securityAdvisories:{createFork:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/forks"],createPrivateVulnerabilityReport:["POST /repos/{owner}/{repo}/security-advisories/reports"],createRepositoryAdvisory:["POST /repos/{owner}/{repo}/security-advisories"],createRepositoryAdvisoryCveRequest:["POST /repos/{owner}/{repo}/security-advisories/{ghsa_id}/cve"],getGlobalAdvisory:["GET /advisories/{ghsa_id}"],getRepositoryAdvisory:["GET /repos/{owner}/{repo}/security-advisories/{ghsa_id}"],listGlobalAdvisories:["GET /advisories"],listOrgRepositoryAdvisories:["GET /orgs/{org}/security-advisories"],listRepositoryAdvisories:["GET /repos/{owner}/{repo}/security-advisories"],updateRepositoryAdvisory:["PATCH /repos/{owner}/{repo}/security-advisories/{ghsa_id}"]},teams:{addOrUpdateMembershipForUserInOrg:["PUT /orgs/{org}/teams/{team_slug}/memberships/{username}"],addOrUpdateProjectPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.addOrUpdateProjectPermissionsInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#add-or-update-team-project-permissions"}],addOrUpdateProjectPermissionsLegacy:["PUT /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.addOrUpdateProjectPermissionsLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#add-or-update-team-project-permissions-legacy"}],addOrUpdateRepoPermissionsInOrg:["PUT /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],checkPermissionsForProjectInOrg:["GET /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.checkPermissionsForProjectInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#check-team-permissions-for-a-project"}],checkPermissionsForProjectLegacy:["GET /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.checkPermissionsForProjectLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#check-team-permissions-for-a-project-legacy"}],checkPermissionsForRepoInOrg:["GET /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],create:["POST /orgs/{org}/teams"],createDiscussionCommentInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],createDiscussionInOrg:["POST /orgs/{org}/teams/{team_slug}/discussions"],deleteDiscussionCommentInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],deleteDiscussionInOrg:["DELETE /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],deleteInOrg:["DELETE /orgs/{org}/teams/{team_slug}"],getByName:["GET /orgs/{org}/teams/{team_slug}"],getDiscussionCommentInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],getDiscussionInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],getMembershipForUserInOrg:["GET /orgs/{org}/teams/{team_slug}/memberships/{username}"],list:["GET /orgs/{org}/teams"],listChildInOrg:["GET /orgs/{org}/teams/{team_slug}/teams"],listDiscussionCommentsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments"],listDiscussionsInOrg:["GET /orgs/{org}/teams/{team_slug}/discussions"],listForAuthenticatedUser:["GET /user/teams"],listMembersInOrg:["GET /orgs/{org}/teams/{team_slug}/members"],listPendingInvitationsInOrg:["GET /orgs/{org}/teams/{team_slug}/invitations"],listProjectsInOrg:["GET /orgs/{org}/teams/{team_slug}/projects",{},{deprecated:"octokit.rest.teams.listProjectsInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#list-team-projects"}],listProjectsLegacy:["GET /teams/{team_id}/projects",{},{deprecated:"octokit.rest.teams.listProjectsLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#list-team-projects-legacy"}],listReposInOrg:["GET /orgs/{org}/teams/{team_slug}/repos"],removeMembershipForUserInOrg:["DELETE /orgs/{org}/teams/{team_slug}/memberships/{username}"],removeProjectInOrg:["DELETE /orgs/{org}/teams/{team_slug}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.removeProjectInOrg() is deprecated, see https://docs.github.com/rest/teams/teams#remove-a-project-from-a-team"}],removeProjectLegacy:["DELETE /teams/{team_id}/projects/{project_id}",{},{deprecated:"octokit.rest.teams.removeProjectLegacy() is deprecated, see https://docs.github.com/rest/teams/teams#remove-a-project-from-a-team-legacy"}],removeRepoInOrg:["DELETE /orgs/{org}/teams/{team_slug}/repos/{owner}/{repo}"],updateDiscussionCommentInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}/comments/{comment_number}"],updateDiscussionInOrg:["PATCH /orgs/{org}/teams/{team_slug}/discussions/{discussion_number}"],updateInOrg:["PATCH /orgs/{org}/teams/{team_slug}"]},users:{addEmailForAuthenticated:["POST /user/emails",{},{renamed:["users","addEmailForAuthenticatedUser"]}],addEmailForAuthenticatedUser:["POST /user/emails"],addSocialAccountForAuthenticatedUser:["POST /user/social_accounts"],block:["PUT /user/blocks/{username}"],checkBlocked:["GET /user/blocks/{username}"],checkFollowingForUser:["GET /users/{username}/following/{target_user}"],checkPersonIsFollowedByAuthenticated:["GET /user/following/{username}"],createGpgKeyForAuthenticated:["POST /user/gpg_keys",{},{renamed:["users","createGpgKeyForAuthenticatedUser"]}],createGpgKeyForAuthenticatedUser:["POST /user/gpg_keys"],createPublicSshKeyForAuthenticated:["POST /user/keys",{},{renamed:["users","createPublicSshKeyForAuthenticatedUser"]}],createPublicSshKeyForAuthenticatedUser:["POST /user/keys"],createSshSigningKeyForAuthenticatedUser:["POST /user/ssh_signing_keys"],deleteEmailForAuthenticated:["DELETE /user/emails",{},{renamed:["users","deleteEmailForAuthenticatedUser"]}],deleteEmailForAuthenticatedUser:["DELETE /user/emails"],deleteGpgKeyForAuthenticated:["DELETE /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","deleteGpgKeyForAuthenticatedUser"]}],deleteGpgKeyForAuthenticatedUser:["DELETE /user/gpg_keys/{gpg_key_id}"],deletePublicSshKeyForAuthenticated:["DELETE /user/keys/{key_id}",{},{renamed:["users","deletePublicSshKeyForAuthenticatedUser"]}],deletePublicSshKeyForAuthenticatedUser:["DELETE /user/keys/{key_id}"],deleteSocialAccountForAuthenticatedUser:["DELETE /user/social_accounts"],deleteSshSigningKeyForAuthenticatedUser:["DELETE /user/ssh_signing_keys/{ssh_signing_key_id}"],follow:["PUT /user/following/{username}"],getAuthenticated:["GET /user"],getById:["GET /user/{account_id}"],getByUsername:["GET /users/{username}"],getContextForUser:["GET /users/{username}/hovercard"],getGpgKeyForAuthenticated:["GET /user/gpg_keys/{gpg_key_id}",{},{renamed:["users","getGpgKeyForAuthenticatedUser"]}],getGpgKeyForAuthenticatedUser:["GET /user/gpg_keys/{gpg_key_id}"],getPublicSshKeyForAuthenticated:["GET /user/keys/{key_id}",{},{renamed:["users","getPublicSshKeyForAuthenticatedUser"]}],getPublicSshKeyForAuthenticatedUser:["GET /user/keys/{key_id}"],getSshSigningKeyForAuthenticatedUser:["GET /user/ssh_signing_keys/{ssh_signing_key_id}"],list:["GET /users"],listAttestations:["GET /users/{username}/attestations/{subject_digest}"],listBlockedByAuthenticated:["GET /user/blocks",{},{renamed:["users","listBlockedByAuthenticatedUser"]}],listBlockedByAuthenticatedUser:["GET /user/blocks"],listEmailsForAuthenticated:["GET /user/emails",{},{renamed:["users","listEmailsForAuthenticatedUser"]}],listEmailsForAuthenticatedUser:["GET /user/emails"],listFollowedByAuthenticated:["GET /user/following",{},{renamed:["users","listFollowedByAuthenticatedUser"]}],listFollowedByAuthenticatedUser:["GET /user/following"],listFollowersForAuthenticatedUser:["GET /user/followers"],listFollowersForUser:["GET /users/{username}/followers"],listFollowingForUser:["GET /users/{username}/following"],listGpgKeysForAuthenticated:["GET /user/gpg_keys",{},{renamed:["users","listGpgKeysForAuthenticatedUser"]}],listGpgKeysForAuthenticatedUser:["GET /user/gpg_keys"],listGpgKeysForUser:["GET /users/{username}/gpg_keys"],listPublicEmailsForAuthenticated:["GET /user/public_emails",{},{renamed:["users","listPublicEmailsForAuthenticatedUser"]}],listPublicEmailsForAuthenticatedUser:["GET /user/public_emails"],listPublicKeysForUser:["GET /users/{username}/keys"],listPublicSshKeysForAuthenticated:["GET /user/keys",{},{renamed:["users","listPublicSshKeysForAuthenticatedUser"]}],listPublicSshKeysForAuthenticatedUser:["GET /user/keys"],listSocialAccountsForAuthenticatedUser:["GET /user/social_accounts"],listSocialAccountsForUser:["GET /users/{username}/social_accounts"],listSshSigningKeysForAuthenticatedUser:["GET /user/ssh_signing_keys"],listSshSigningKeysForUser:["GET /users/{username}/ssh_signing_keys"],setPrimaryEmailVisibilityForAuthenticated:["PATCH /user/email/visibility",{},{renamed:["users","setPrimaryEmailVisibilityForAuthenticatedUser"]}],setPrimaryEmailVisibilityForAuthenticatedUser:["PATCH /user/email/visibility"],unblock:["DELETE /user/blocks/{username}"],unfollow:["DELETE /user/following/{username}"],updateAuthenticated:["PATCH /user"]}},F6=D7;var N$=new Map;for(let[$,J]of Object.entries(F6))for(let[X,Q]of Object.entries(J)){let[G,W,Y]=Q,[H,q]=G.split(/ /),B=Object.assign({method:H,url:q},W);if(!N$.has($))N$.set($,new Map);N$.get($).set(X,{scope:$,methodName:X,endpointDefaults:B,decorations:Y})}var A7={has({scope:$},J){return N$.get($).has(J)},getOwnPropertyDescriptor($,J){return{value:this.get($,J),configurable:!0,writable:!0,enumerable:!0}},defineProperty($,J,X){return Object.defineProperty($.cache,J,X),!0},deleteProperty($,J){return delete $.cache[J],!0},ownKeys({scope:$}){return[...N$.get($).keys()]},set($,J,X){return $.cache[J]=X},get({octokit:$,scope:J,cache:X},Q){if(X[Q])return X[Q];let G=N$.get(J).get(Q);if(!G)return;let{endpointDefaults:W,decorations:Y}=G;if(Y)X[Q]=L7($,J,Q,W,Y);else X[Q]=$.request.defaults(W);return X[Q]}};function D1($){let J={};for(let X of N$.keys())J[X]=new Proxy({octokit:$,scope:X,cache:{}},A7);return J}function L7($,J,X,Q,G){let W=$.request.defaults(Q);function Y(...H){let q=W.endpoint.merge(...H);if(G.mapToData)return q=Object.assign({},q,{data:q[G.mapToData],[G.mapToData]:void 0}),W(q);if(G.renamed){let[B,U]=G.renamed;$.log.warn(`octokit.${J}.${X}() has been renamed to octokit.${B}.${U}()`)}if(G.deprecated)$.log.warn(G.deprecated);if(G.renamedParameters){let B=W.endpoint.merge(...H);for(let[U,M]of Object.entries(G.renamedParameters))if(U in B){if($.log.warn(`"${U}" parameter is deprecated for "octokit.${J}.${X}()". Use "${M}" instead`),!(M in B))B[M]=B[U];delete B[U]}return W(B)}return W(...H)}return Object.assign(Y,W)}function _7($){return{rest:D1($)}}_7.VERSION=O1;function A1($){let J=D1($);return{...J,rest:J}}A1.VERSION=O1;var K6="21.1.1";var w6=F1.plugin(K1,A1,R1).defaults({userAgent:`octokit-rest.js/${K6}`});v();var v0=null;function l($){if(v0)return v0;let J=$?.repoToken||process.env.GITHUB_TOKEN;if(!J)throw z.error("No GitHub token found"),new Error("No GitHub token found. Please set GITHUB_TOKEN environment variable or provide repoToken in config.");return v0=new w6({auth:J,timeZone:"UTC"}),z.debug("GitHub API client created"),v0}async function b0($,J){try{let X=l(),{data:Q}=await X.repos.get({owner:$,repo:J});return{id:Q.id,name:Q.name,fullName:Q.full_name,owner:Q.owner.login,defaultBranch:Q.default_branch,language:Q.language,private:Q.private}}catch(X){throw z.error(`Error getting repository details for ${$}/${J}`,X),new Error(`Failed to get repository details: ${X instanceof Error?X.message:String(X)}`)}}async function R6($){try{z.info("Detecting issues for automation");let J=process.env.GITHUB_REPOSITORY||"",[X,Q]=J.split("/");if(!X||!Q)throw new Error("Repository information not available in environment variables");let G=await b0(X,Q),W=[$.issueLabel];if(!$.issueLabel.includes("rsolv"))W.push("rsolv");let Y=[],H=new Set;for(let B of W){let U=await N7(X,Q,B);for(let M of U)if(!H.has(M.id))H.add(M.id),Y.push(M)}return z.info(`Found ${Y.length} issues with labels: ${W.join(" or ")}`),Y.map((B)=>({id:`github-${B.id}`,number:B.number,title:B.title,body:B.body||"",labels:B.labels.map((U)=>typeof U==="string"?U:U.name),assignees:B.assignees?.map((U)=>U.login)||[],repository:{owner:X,name:Q,fullName:J,defaultBranch:G.defaultBranch,language:G.language},source:"github",createdAt:B.created_at,updatedAt:B.updated_at,metadata:{htmlUrl:B.html_url,state:B.state,locked:B.locked,draft:B.draft}}))}catch(J){throw z.error("Error detecting issues",J),new Error(`Failed to detect issues: ${J instanceof Error?J.message:String(J)}`)}}async function N7($,J,X){try{let Q=l(),{data:G}=await Q.issues.listForRepo({owner:$,repo:J,labels:X,state:"open",per_page:100});return G.filter((Y)=>!Y.pull_request)}catch(Q){throw z.error(`Error getting issues with label ${X}`,Q),new Error(`Failed to get issues with label: ${Q instanceof Error?Q.message:String(Q)}`)}}v();class V0{autofixLabel;rsolvLabel;constructor($){this.autofixLabel=$.autofixLabel||"autofix",this.rsolvLabel=$.rsolvLabel||"rsolv"}validateConfig($,J){let X=J.filter((Q)=>!$[Q]);if(X.length>0)throw new Error(`Missing required configuration fields: ${X.join(", ")}`)}async makeRequest($,J={}){try{let X=await fetch($,{...J,headers:{...this.getAuthHeaders(),...J.headers}});if(!X.ok)throw new Error(`HTTP ${X.status}: ${X.statusText}`);return X}catch(X){throw z.error(`Platform API request failed: ${$}`,X),X}}hasRsolvLabels($){let J=$.map((X)=>X.toLowerCase());return J.includes(this.autofixLabel.toLowerCase())||J.includes(this.rsolvLabel.toLowerCase())}extractIssueId($){let J=[/^#?(\d+)$/,/^([A-Z]+-\d+)$/,/^([A-Z]+-\d+)$/i,/\/(\d+)\/?$/,/\/([A-Z]+-\d+)\/?$/i];for(let X of J){let Q=$.match(X);if(Q)return Q[1]}return $}formatError($,J){let X=J?.message||J?.toString()||"Unknown error";return`${$} failed: ${X}`}}v();class L1 extends V0{config;baseUrl;authHeader;constructor($){super($);this.config=$;this.validateConfig($,["host","email","apiToken"]),this.baseUrl=`https://${$.host}/rest/api/3`,this.authHeader=`Basic ${Buffer.from(`${$.email}:${$.apiToken}`).toString("base64")}`}getAuthHeaders(){return{Authorization:this.authHeader,Accept:"application/json","Content-Type":"application/json"}}async authenticate(){try{await this.makeRequest(`${this.baseUrl}/myself`),z.info("Successfully authenticated with Jira")}catch($){throw new Error(this.formatError("Jira authentication",$))}}async searchIssues($){try{return(await(await this.makeRequest(`${this.baseUrl}/search`,{method:"POST",body:JSON.stringify({jql:$,fields:["summary","description","labels","status","created","updated","assignee","reporter"]})})).json()).issues.map((Q)=>this.convertToUnifiedIssue(Q))}catch(J){throw new Error(this.formatError("Jira issue search",J))}}async getIssue($){try{let J=this.extractIssueId($),Q=await(await this.makeRequest(`${this.baseUrl}/issue/${J}`)).json();return this.convertToUnifiedIssue(Q)}catch(J){if(J.message?.includes("404"))return null;throw new Error(this.formatError("Get Jira issue",J))}}async createComment($,J){try{let X=this.extractIssueId($),G=await(await this.makeRequest(`${this.baseUrl}/issue/${X}/comment`,{method:"POST",body:JSON.stringify({body:{type:"doc",version:1,content:[{type:"paragraph",content:[{type:"text",text:J}]}]}})})).json();return{id:G.id,body:J,author:G.author?.displayName||"Unknown",createdAt:new Date(G.created)}}catch(X){return z.error("Failed to create Jira comment",X),null}}async updateIssueStatus($,J){try{let X=this.extractIssueId($),Q=await this.makeRequest(`${this.baseUrl}/issue/${X}/transitions`),{transitions:G}=await Q.json(),W=G.find((Y)=>Y.name===J);if(!W)return z.warn(`Status '${J}' not available for issue ${$}`),!1;return await this.makeRequest(`${this.baseUrl}/issue/${X}/transitions`,{method:"POST",body:JSON.stringify({transition:{id:W.id}})}),!0}catch(X){return z.error("Failed to update Jira issue status",X),!1}}async addLink($,J,X){try{let Q=this.extractIssueId($),G=X||J;return{id:(await(await this.makeRequest(`${this.baseUrl}/issue/${Q}/remotelink`,{method:"POST",body:JSON.stringify({object:{url:J,title:G,icon:{url16x16:J.includes("github.com")?"https://github.com/favicon.ico":void 0,title:J.includes("github.com")?"GitHub Pull Request":"External Link"}}})})).json()).id,url:J,title:G,type:"external"}}catch(Q){return z.error("Failed to add link to Jira issue",Q),null}}async addLabel($,J){try{let X=this.extractIssueId($),W=(await(await this.makeRequest(`${this.baseUrl}/issue/${X}?fields=labels`)).json()).fields.labels||[];if(!W.includes(J))await this.makeRequest(`${this.baseUrl}/issue/${X}`,{method:"PUT",body:JSON.stringify({fields:{labels:[...W,J]}})});return!0}catch(X){return z.error("Failed to add label to Jira issue",X),!1}}convertToUnifiedIssue($){return{id:$.id,platform:"jira",key:$.key,title:$.fields.summary,description:$.fields.description||"",labels:$.fields.labels||[],status:$.fields.status.name,url:`https://${this.config.host}/browse/${$.key}`,createdAt:new Date($.fields.created),updatedAt:new Date($.fields.updated),assignee:$.fields.assignee?{id:$.fields.assignee.accountId,name:$.fields.assignee.displayName,email:$.fields.assignee.emailAddress}:void 0,reporter:$.fields.reporter?{id:$.fields.reporter.accountId,name:$.fields.reporter.displayName,email:$.fields.reporter.emailAddress}:void 0}}async searchAutofixIssues(){return this.searchIssues(`labels = "${this.autofixLabel}"`)}async searchRsolvIssues(){let $=`labels in ("${this.autofixLabel}", "${this.rsolvLabel}")`;return this.searchIssues($)}}v();class _1 extends V0{apiKey;baseUrl="https://api.linear.app/graphql";teamId;constructor($){super($);this.validateConfig($,["apiKey"]),this.apiKey=$.apiKey,this.teamId=$.teamId}getAuthHeaders(){return{Authorization:this.apiKey,"Content-Type":"application/json"}}async graphqlRequest($,J){try{let Q=await(await this.makeRequest(this.baseUrl,{method:"POST",body:JSON.stringify({query:$,variables:J})})).json();if(Q.errors)throw new Error(`Linear GraphQL error: ${JSON.stringify(Q.errors)}`);return Q.data}catch(X){throw new Error(this.formatError("Linear GraphQL request",X))}}async searchRsolvIssues(){let J={labels:{or:[{name:{eq:this.autofixLabel}},{name:{eq:this.rsolvLabel}}]}};if(this.teamId)J.team={id:{eq:this.teamId}};try{return(await this.graphqlRequest(`
      query SearchIssues($filter: IssueFilter) {
        issues(filter: $filter) {
          nodes {
            id
            identifier
            title
            description
            state {
              name
              type
            }
            labels {
              nodes {
                name
              }
            }
            assignee {
              name
              email
            }
            createdAt
            updatedAt
            url
          }
        }
      }
    `,{filter:J})).issues.nodes.map((Q)=>this.convertToUnifiedIssue(Q))}catch(X){throw z.error("Failed to search Linear issues:",X),X}}async getIssue($){try{let X=await this.graphqlRequest(`
      query GetIssue($id: String!) {
        issue(id: $id) {
          id
          identifier
          title
          description
          state {
            name
            type
          }
          labels {
            nodes {
              name
            }
          }
          assignee {
            name
            email
          }
          createdAt
          updatedAt
          url
        }
      }
    `,{id:$});return X.issue?this.convertToUnifiedIssue(X.issue):null}catch(X){return z.error(`Failed to get Linear issue ${$}:`,X),null}}async createComment($,J){try{let Q=await this.graphqlRequest(`
      mutation CreateComment($issueId: String!, $body: String!) {
        commentCreate(
          input: {
            issueId: $issueId
            body: $body
          }
        ) {
          success
          comment {
            id
            body
            user {
              name
              email
            }
            createdAt
          }
        }
      }
    `,{issueId:$,body:J});if(!Q.commentCreate.success)throw new Error("Failed to create comment");let G=Q.commentCreate.comment;return{id:G.id,body:G.body,author:G.user.name,createdAt:new Date(G.createdAt)}}catch(Q){return z.error(`Failed to create comment on Linear issue ${$}:`,Q),null}}async addLink($,J,X){let G=`\uD83D\uDD17 Related: ${X?`[${X}](${J})`:J}`,W=await this.createComment($,G);if(!W)return null;return{id:W.id,url:J,title:X||J,type:"external"}}async updateIssueStatus($,J){try{let Q=await this.graphqlRequest(`
      query GetStates($name: String!) {
        workflowStates(filter: { name: { eq: $name } }) {
          nodes {
            id
            name
            type
          }
        }
      }
    `,{name:J});if(Q.workflowStates.nodes.length===0)return z.error(`No Linear state found with name: ${J}`),!1;let G=Q.workflowStates.nodes[0].id,W=`
        mutation UpdateIssue($issueId: String!, $stateId: String!) {
          issueUpdate(
            id: $issueId
            input: { stateId: $stateId }
          ) {
            success
          }
        }
      `;return(await this.graphqlRequest(W,{issueId:$,stateId:G})).issueUpdate.success}catch(Q){return z.error(`Failed to update Linear issue ${$} status:`,Q),!1}}async addLabel($,J){try{let Q=await this.graphqlRequest(`
      query GetLabel($name: String!) {
        issueLabels(filter: { name: { eq: $name } }) {
          nodes {
            id
            name
          }
        }
      }
    `,{name:J}),G;if(Q.issueLabels.nodes.length===0){let q=await this.graphqlRequest(`
          mutation CreateLabel($name: String!) {
            issueLabelCreate(
              input: { name: $name }
            ) {
              success
              issueLabel {
                id
              }
            }
          }
        `,{name:J});if(!q.issueLabelCreate.success)return!1;G=q.issueLabelCreate.issueLabel.id}else G=Q.issueLabels.nodes[0].id;let W=`
        mutation AddLabel($issueId: String!, $labelId: String!) {
          issueAddLabel(
            id: $issueId
            labelId: $labelId
          ) {
            success
          }
        }
      `;return(await this.graphqlRequest(W,{issueId:$,labelId:G})).issueAddLabel.success}catch(Q){return z.error(`Failed to add label to Linear issue ${$}:`,Q),!1}}convertToUnifiedIssue($){return{id:$.id,platform:"linear",key:$.identifier,title:$.title,description:$.description||"",labels:$.labels.nodes.map((J)=>J.name),status:$.state.name,statusCategory:this.mapLinearStateType($.state.type),assignee:$.assignee?.name,createdAt:new Date($.createdAt),updatedAt:new Date($.updatedAt),url:$.url}}mapLinearStateType($){switch($.toLowerCase()){case"backlog":case"unstarted":return"todo";case"started":case"in_progress":return"in_progress";case"completed":case"done":case"canceled":return"done";default:return"todo"}}}class f0{static create($,J){switch($){case"jira":if(!J.jira)throw new Error("Jira configuration is required");return new L1(J.jira);case"linear":if(!J.linear)throw new Error("Linear configuration is required");return new _1(J.linear);case"gitlab":throw new Error("GitLab integration not yet implemented");default:throw new Error(`Unsupported platform: ${$}`)}}}async function O6($){let J=[];try{let X=await R6($);J.push(...X),z.info(`Found ${X.length} GitHub issues`)}catch(X){z.error("Error detecting GitHub issues",X)}if(process.env.JIRA_HOST&&process.env.JIRA_EMAIL&&process.env.JIRA_API_TOKEN)try{let X=await j7($);J.push(...X),z.info(`Found ${X.length} Jira issues`)}catch(X){z.error("Error detecting Jira issues",X)}if(process.env.LINEAR_API_KEY)try{let X=await S7($);J.push(...X),z.info(`Found ${X.length} Linear issues`)}catch(X){z.error("Error detecting Linear issues",X)}if(process.env.GITLAB_TOKEN)z.info("GitLab integration not yet implemented");return z.info(`Total issues found across all platforms: ${J.length}`),J}async function j7($){let J={jira:{host:process.env.JIRA_HOST,email:process.env.JIRA_EMAIL,apiToken:process.env.JIRA_API_TOKEN,autofixLabel:process.env.JIRA_AUTOFIX_LABEL||"autofix",rsolvLabel:process.env.JIRA_RSOLV_LABEL||"rsolv"}},X=f0.create("jira",J),Q;if(process.env.JIRA_JQL)Q=await X.searchIssues(process.env.JIRA_JQL);else Q=await X.searchRsolvIssues();return z.info(`Found ${Q.length} Jira issues with rsolv/autofix labels`),Q.map((G)=>D6(G))}async function S7($){let J={linear:{apiKey:process.env.LINEAR_API_KEY,teamId:process.env.LINEAR_TEAM_ID,autofixLabel:process.env.LINEAR_AUTOFIX_LABEL||"autofix",rsolvLabel:process.env.LINEAR_RSOLV_LABEL||"rsolv"}},Q=await f0.create("linear",J).searchRsolvIssues();return z.info(`Found ${Q.length} Linear issues with rsolv/autofix labels`),Q.map((G)=>D6(G))}function D6($){let J=E7($);return{id:$.id,number:parseInt($.key?.split("-")[1]||"0"),title:$.title,body:$.description,labels:$.labels,assignees:$.assignee?[typeof $.assignee==="string"?$.assignee:$.assignee.name]:[],repository:J||{owner:"unknown",name:"unknown",fullName:"unknown/unknown",defaultBranch:"main",language:"unknown"},source:$.platform,createdAt:$.createdAt.toISOString(),updatedAt:$.updatedAt.toISOString(),metadata:{htmlUrl:$.url,state:$.status,locked:!1,draft:!1,platformKey:$.key}}}function E7($){let X=/https?:\/\/github\.com\/([^/]+)\/([^/\s]+)/g.exec($.description);if(X){let[,Q,G]=X;return{owner:Q,name:G,fullName:`${Q}/${G}`,defaultBranch:"main",language:"unknown"}}if($.customFields?.githubRepository){let[Q,G]=$.customFields.githubRepository.split("/");return{owner:Q,name:G,fullName:$.customFields.githubRepository,defaultBranch:$.customFields.githubDefaultBranch||"main",language:$.customFields.githubLanguage||"unknown"}}return null}v();async function A6($){try{if(z.info("Performing security checks"),!I7($.apiKey))throw new Error("Invalid API key");return z.debug("API key validated"),await P7(),z.debug("Repository permissions verified"),C7($),z.debug("No sensitive data found in configuration"),Z7($.securitySettings),z.debug("Security settings validated"),z.info("All security checks passed"),!0}catch(J){throw z.error("Security check failed",J),new Error(`Security check failed: ${J instanceof Error?J.message:String(J)}`)}}function I7($){if(!$)return z.error("API key is missing"),!1;if($==="rsolv-dev-key-123456789")return z.warn("Using development API key - not secure for production"),!0;let J=/^rsolv_(live|internal|test|prod)_[a-zA-Z0-9_-]+$/,X=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;if(!J.test($)&&!X.test($))return z.error("API key has invalid format"),!1;return!0}async function P7(){try{z.debug("Checking repository permissions"),await new Promise(($)=>setTimeout($,100)),z.debug("Repository permissions verified")}catch($){throw z.error("Repository permission check failed",$),new Error("Failed to verify repository permissions")}}function C7($){let J=JSON.stringify($),X=[/password\s*[:=]\s*["'](?!\\$).*["']/i,/secret\s*[:=]\s*["'](?!\\$).*["']/i,/access[_-]?token\s*[:=]\s*["'](?!\\$).*["']/i,/api[_-]?key\s*[:=]\s*["'](?!\\$).*["']/i,/private[_-]?key\s*[:=]\s*["'](?!\\$).*["']/i];for(let Q of X)if(Q.test(J))z.warn("Potential sensitive data found in configuration")}function Z7($){if(!$){z.warn("No security settings provided, using defaults");return}if($.disableNetworkAccess===void 0)z.warn("Network access control not specified, defaulting to restricted");if($.preventSecretLeakage===!1)z.warn("Secret leakage prevention is disabled, this is not recommended");if($.timeoutSeconds&&(typeof $.timeoutSeconds!=="number"||$.timeoutSeconds<=0))throw z.error("Invalid timeout value in security settings"),new Error("Invalid timeout value in security settings");if($.maxFileSize&&(typeof $.maxFileSize!=="number"||$.maxFileSize<=0))throw z.error("Invalid max file size in security settings"),new Error("Invalid max file size in security settings")}v();v();E1();v();var V;((k)=>{k.SQL_INJECTION="sql_injection";k.XSS="xss";k.BROKEN_AUTHENTICATION="broken_authentication";k.SENSITIVE_DATA_EXPOSURE="sensitive_data_exposure";k.XML_EXTERNAL_ENTITIES="xml_external_entities";k.BROKEN_ACCESS_CONTROL="broken_access_control";k.SECURITY_MISCONFIGURATION="security_misconfiguration";k.INSECURE_DESERIALIZATION="insecure_deserialization";k.VULNERABLE_COMPONENTS="vulnerable_components";k.INSUFFICIENT_LOGGING="insufficient_logging";k.COMMAND_INJECTION="command_injection";k.PATH_TRAVERSAL="path_traversal";k.WEAK_CRYPTOGRAPHY="weak_cryptography";k.DEBUG_MODE="debug_mode";k.MASS_ASSIGNMENT="mass_assignment";k.OPEN_REDIRECT="open_redirect";k.HARDCODED_SECRETS="hardcoded_secrets";k.XPATH_INJECTION="xpath_injection";k.LDAP_INJECTION="ldap_injection";k.INSECURE_TRANSPORT="insecure_transport";k.UNVALIDATED_REDIRECT="unvalidated_redirect";k.PROTOTYPE_POLLUTION="prototype_pollution";k.SSRF="server_side_request_forgery";k.TYPE_CONFUSION="type_confusion";k.NULL_POINTER_DEREFERENCE="null_pointer_dereference";k.CSRF="cross_site_request_forgery";k.DENIAL_OF_SERVICE="denial_of_service";k.NOSQL_INJECTION="nosql_injection";k.INFORMATION_DISCLOSURE="information_disclosure";k.IMPROPER_INPUT_VALIDATION="improper_input_validation";k.TEMPLATE_INJECTION="template_injection"})(V||={});v();class y0{apiUrl;apiKey;cache=new Map;cacheTTL;fallbackToLocal;constructor($={}){let X=($.apiUrl||process.env.RSOLV_API_URL||"https://api.rsolv.dev").replace(/\/$/,"");if(this.apiUrl=X.includes("/api/v1/patterns")?X:`${X}/api/v1/patterns`,this.apiKey=$.apiKey||process.env.RSOLV_API_KEY,this.cacheTTL=($.cacheTTL||3600)*1000,this.fallbackToLocal=$.fallbackToLocal??!0,!this.apiKey)z.warn("No RSOLV API key provided - only demo patterns available")}async fetchPatterns($){let J=`${$}-${this.apiKey||"demo"}`,X=this.cache.get(J);if(X&&Date.now()-X.timestamp<this.cacheTTL)return z.info(`Using cached patterns for ${$} (${X.patterns.length} patterns)`),X.patterns;try{let Q={"Content-Type":"application/json"};if(this.apiKey)Q.Authorization=`Bearer ${this.apiKey}`;let G=await fetch(`${this.apiUrl}?language=${$}&format=enhanced`,{headers:Q});if(!G.ok)throw new Error(`Failed to fetch patterns: ${G.status} ${G.statusText}`);let W=await G.json(),Y=W.metadata?.count||W.count||W.patterns.length;z.info(`Fetched ${Y} ${$} patterns from API`);let H=W.patterns.map((q)=>this.convertToSecurityPattern(q));return this.cache.set(J,{patterns:H,timestamp:Date.now()}),H}catch(Q){if(z.error(`Failed to fetch ${$} patterns from API:`,Q),this.fallbackToLocal)return z.warn(`Falling back to local patterns for ${$}`),[];throw Q}}async fetchPatternsByTier($,J){if(z.warn(`fetchPatternsByTier is deprecated. Tier '${$}' is ignored. Use fetchPatterns() instead.`),J)return this.fetchPatterns(J);try{return z.warn("fetchPatternsByTier called without language parameter. Returning empty array."),[]}catch(X){throw z.error("Failed to fetch patterns from API:",X),X}}convertToSecurityPattern($){let J=[];if(Array.isArray($.regex_patterns))J=$.regex_patterns;else if(Array.isArray($.patterns))J=$.patterns;else if($.patterns&&typeof $.patterns==="object"&&"regex"in $.patterns&&Array.isArray($.patterns.regex))J=$.patterns.regex;else z.warn(`Unexpected patterns format for ${$.id}:`,$.patterns),J=[];let X=J.map((G)=>{try{let W=G.match(/^\/(.*)\/([gimsuvy]*)$/);if(W)return new RegExp(W[1],W[2]);return new RegExp(G)}catch(W){return z.warn(`Failed to compile regex for pattern ${$.id}: ${G}`,W),null}}).filter(Boolean),Q=$.context_rules||void 0;return{id:$.id,name:$.name,type:this.mapVulnerabilityType($.type),severity:$.severity,description:$.description,patterns:{regex:X,ast:$.ast_rules?[JSON.stringify($.ast_rules)]:void 0},languages:$.languages,frameworks:$.frameworks||[],cweId:$.cwe_id||$.cweId||"",owaspCategory:$.owasp_category||$.owaspCategory||"",remediation:$.recommendation,examples:{vulnerable:$.test_cases?.vulnerable?.[0]||$.testCases?.vulnerable?.[0]||"",secure:$.test_cases?.safe?.[0]||$.testCases?.safe?.[0]||""},astRules:$.ast_rules,contextRules:Q,confidenceRules:$.confidence_rules,minConfidence:$.min_confidence}}mapVulnerabilityType($){return{sql_injection:"sql_injection",xss:"xss",command_injection:"command_injection",path_traversal:"path_traversal",xxe:V.XXE,ssrf:"server_side_request_forgery",insecure_deserialization:"insecure_deserialization",deserialization:"insecure_deserialization",weak_crypto:V.WEAK_CRYPTO,hardcoded_secret:V.HARDCODED_SECRET,insecure_random:V.INSECURE_RANDOM,open_redirect:"open_redirect",ldap_injection:"ldap_injection",xpath_injection:"xpath_injection",nosql_injection:"nosql_injection",rce:V.RCE,dos:V.DOS,denial_of_service:V.DOS,timing_attack:V.TIMING_ATTACK,csrf:"cross_site_request_forgery",jwt:V.JWT,authentication:V.JWT,debug:"information_disclosure",information_disclosure:"information_disclosure",cve:V.CVE,file_upload:"path_traversal",input_validation:"xss",session_management:"cross_site_request_forgery",resource_exhaustion:V.DOS}[$]||V.UNKNOWN}clearCache(){this.cache.clear(),z.info("Pattern cache cleared")}async checkHealth(){try{let $=await fetch(`${this.apiUrl}/health`,{method:"GET",headers:{"User-Agent":"RSOLV-Action/1.0"}});if($.ok)return{status:"healthy"};else return{status:"unhealthy",message:`API returned status ${$.status}`}}catch($){return{status:"unhealthy",message:$ instanceof Error?$.message:"Unknown error"}}}}var I1=[{id:"basic-sql-injection",name:"Basic SQL Injection",type:"sql_injection",severity:"high",description:"Potential SQL injection via string concatenation",patterns:{regex:[/["'`].*?(SELECT|INSERT|UPDATE|DELETE|DROP|CREATE|ALTER).*?["'`]\s*\+/gi,/execute\s*\(\s*['"`].*\+/gi]},languages:["javascript","typescript"],frameworks:[],cweId:"CWE-89",owaspCategory:"A03:2021",remediation:"Use parameterized queries or prepared statements",testCases:{vulnerable:[],safe:[]}},{id:"basic-xss",name:"Basic Cross-Site Scripting",type:"xss",severity:"high",description:"Potential XSS via innerHTML",patterns:{regex:[/innerHTML\s*=\s*[^'"`;]*(?:req\.|request\.)/gi,/document\.write\s*\(/gi]},languages:["javascript","typescript"],frameworks:[],cweId:"CWE-79",owaspCategory:"A03:2021",remediation:"Use textContent or proper encoding",testCases:{vulnerable:[],safe:[]}},{id:"basic-command-injection",name:"Basic Command Injection",type:"command_injection",severity:"critical",description:"Potential command injection",patterns:{regex:[/exec\s*\(\s*['"`].*\+/gi,/system\s*\(\s*['"`].*\+/gi]},languages:["javascript","python","ruby"],frameworks:[],cweId:"CWE-78",owaspCategory:"A03:2021",remediation:"Validate and sanitize all user input",testCases:{vulnerable:[],safe:[]}},{id:"basic-path-traversal",name:"Basic Path Traversal",type:"path_traversal",severity:"high",description:"Potential path traversal vulnerability",patterns:{regex:[/readFile\s*\([^)]*\.\.\/[^)]*\)/gi,/path\.join\s*\([^)]*req\./gi]},languages:["javascript","typescript"],frameworks:[],cweId:"CWE-22",owaspCategory:"A01:2021",remediation:"Validate and sanitize file paths",testCases:{vulnerable:[],safe:[]}},{id:"python-eval",name:"Python Eval Usage",type:V.RCE,severity:"critical",description:"Use of eval() with user input",patterns:{regex:[/eval\s*\(/gi,/exec\s*\(/gi]},languages:["python"],frameworks:[],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid eval(), use ast.literal_eval() for safe evaluation",testCases:{vulnerable:[],safe:[]}},{id:"python-pickle",name:"Insecure Deserialization",type:"insecure_deserialization",severity:"high",description:"Use of pickle with untrusted data",patterns:{regex:[/pickle\.loads?\s*\(/gi,/cPickle\.loads?\s*\(/gi]},languages:["python"],frameworks:[],cweId:"CWE-502",owaspCategory:"A08:2021",remediation:"Use JSON or other safe serialization formats",testCases:{vulnerable:[],safe:[]}},{id:"ruby-eval",name:"Ruby Eval Usage",type:V.RCE,severity:"critical",description:"Use of eval with user input",patterns:{regex:[/eval\s*\(/gi,/instance_eval\s*\(/gi]},languages:["ruby"],frameworks:[],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid eval, use safe alternatives",testCases:{vulnerable:[],safe:[]}},{id:"ruby-yaml",name:"YAML Deserialization",type:"insecure_deserialization",severity:"high",description:"Unsafe YAML loading",patterns:{regex:[/YAML\.load\s*\(/gi,/Psych\.load\s*\(/gi]},languages:["ruby"],frameworks:[],cweId:"CWE-502",owaspCategory:"A08:2021",remediation:"Use YAML.safe_load instead",testCases:{vulnerable:[],safe:[]}},{id:"java-sql-injection",name:"Java SQL Injection",type:"sql_injection",severity:"high",description:"SQL injection via string concatenation",patterns:{regex:[/createStatement\s*\(\s*\).*executeQuery\s*\(/gi,/"SELECT.*"\s*\+/gi]},languages:["java"],frameworks:[],cweId:"CWE-89",owaspCategory:"A03:2021",remediation:"Use PreparedStatement with parameters",testCases:{vulnerable:[],safe:[]}},{id:"java-xxe",name:"XML External Entity",type:V.XXE,severity:"high",description:"XML parser vulnerable to XXE",patterns:{regex:[/DocumentBuilderFactory\.newInstance\s*\(\s*\)/gi,/SAXParserFactory\.newInstance\s*\(\s*\)/gi]},languages:["java"],frameworks:[],cweId:"CWE-611",owaspCategory:"A05:2021",remediation:"Disable external entities and DTD processing",testCases:{vulnerable:[],safe:[]}},{id:"php-eval",name:"PHP Eval Usage",type:V.RCE,severity:"critical",description:"Use of eval() function",patterns:{regex:[/eval\s*\(/gi,/assert\s*\(/gi]},languages:["php"],frameworks:[],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid eval(), use safe alternatives",testCases:{vulnerable:[],safe:[]}},{id:"php-file-inclusion",name:"File Inclusion",type:"path_traversal",severity:"high",description:"Dynamic file inclusion",patterns:{regex:[/include\s*\(\s*\$_(?:GET|POST|REQUEST)/gi,/require\s*\(\s*\$_(?:GET|POST|REQUEST)/gi]},languages:["php"],frameworks:[],cweId:"CWE-98",owaspCategory:"A03:2021",remediation:"Validate and whitelist file paths",testCases:{vulnerable:[],safe:[]}},{id:"elixir-code-eval",name:"Elixir Code Evaluation",type:V.RCE,severity:"critical",description:"Dynamic code evaluation",patterns:{regex:[/Code\.eval_string\s*\(/gi,/Code\.eval_quoted\s*\(/gi]},languages:["elixir"],frameworks:[],cweId:"CWE-94",owaspCategory:"A03:2021",remediation:"Avoid dynamic code evaluation",testCases:{vulnerable:[],safe:[]}},{id:"elixir-atom-dos",name:"Atom DoS",type:V.DOS,severity:"medium",description:"Creating atoms from user input",patterns:{regex:[/String\.to_atom\s*\(/gi,/binary_to_atom\s*\(/gi]},languages:["elixir"],frameworks:[],cweId:"CWE-400",owaspCategory:"A06:2021",remediation:"Use String.to_existing_atom instead",testCases:{vulnerable:[],safe:[]}},{id:"hardcoded-secret",name:"Hardcoded Secret",type:V.HARDCODED_SECRET,severity:"high",description:"Hardcoded password or API key",patterns:{regex:[/password\s*=\s*["'][^"']{8,}["']/gi,/api_key\s*=\s*["'][^"']{20,}["']/gi]},languages:["javascript","typescript","python","ruby","java","php","elixir"],frameworks:[],cweId:"CWE-798",owaspCategory:"A07:2021",remediation:"Use environment variables or secure key management",testCases:{vulnerable:[],safe:[]}},{id:"weak-crypto",name:"Weak Cryptography",type:V.WEAK_CRYPTO,severity:"medium",description:"Use of weak cryptographic algorithms",patterns:{regex:[/MD5\s*\(/gi,/SHA1\s*\(/gi]},languages:["javascript","typescript","python","ruby","java","php"],frameworks:[],cweId:"CWE-327",owaspCategory:"A02:2021",remediation:"Use SHA-256 or stronger algorithms",testCases:{vulnerable:[],safe:[]}},{id:"jwt-none-algorithm",name:"JWT None Algorithm",type:V.JWT,severity:"critical",description:"JWT allowing none algorithm",patterns:{regex:[/algorithm\s*:\s*["']none["']/gi,/verify\s*:\s*false/gi]},languages:["javascript","typescript","python","ruby"],frameworks:[],cweId:"CWE-347",owaspCategory:"A02:2021",remediation:"Always verify JWT signatures",testCases:{vulnerable:[],safe:[]}},{id:"open-redirect",name:"Open Redirect",type:"open_redirect",severity:"medium",description:"Unvalidated redirect",patterns:{regex:[/redirect\s*\(\s*req\./gi,/location\.href\s*=\s*req\./gi]},languages:["javascript","typescript"],frameworks:[],cweId:"CWE-601",owaspCategory:"A03:2021",remediation:"Validate redirect URLs against whitelist",testCases:{vulnerable:[],safe:[]}},{id:"nosql-injection",name:"NoSQL Injection",type:"nosql_injection",severity:"high",description:"MongoDB injection vulnerability",patterns:{regex:[/\$where\s*:/gi,/find\s*\(\s*{[^}]*\$ne\s*:/gi]},languages:["javascript","typescript"],frameworks:[],cweId:"CWE-943",owaspCategory:"A03:2021",remediation:"Sanitize user input and use parameterized queries",testCases:{vulnerable:[],safe:[]}},{id:"log4j-jndi",name:"Log4j JNDI Injection (CVE-2021-44228)",type:V.CVE,severity:"critical",description:"Log4Shell vulnerability pattern",patterns:{regex:[/\$\{jndi:/gi,/logger\.(?:info|warn|error|debug)\s*\([^)]*\$\{/gi]},languages:["java"],frameworks:[],cweId:"CWE-502",owaspCategory:"A08:2021",remediation:"Update Log4j to version 2.17.0 or later",testCases:{vulnerable:[],safe:[]}}];function Z6($){let J=$.toLowerCase();return I1.filter((X)=>X.languages.includes(J)||J==="typescript"&&X.languages.includes("javascript"))}v();class F0{patterns=[];constructor(){this.initializePatterns()}initializePatterns(){this.patterns=I1,z.warn("Using minimal fallback patterns - API connection recommended for full pattern coverage")}async getPatternsByLanguage($){let J=Z6($);return z.info(`LocalPatternSource: Returning ${J.length} minimal ${$} patterns`),J}async getPatternsByType($){let J=this.patterns.filter((X)=>X.type===$);return z.info(`LocalPatternSource: Returning ${J.length} minimal patterns of type ${$}`),J}async getAllPatterns(){return z.info(`LocalPatternSource: Returning ${this.patterns.length} minimal patterns total`),this.patterns}}class P1{client;supportedLanguages=["javascript","typescript","python","ruby","java","php","elixir"];constructor($,J){this.client=new y0({apiKey:$,apiUrl:J,cacheEnabled:!0,cacheTTL:3600,fallbackToLocal:!1})}async getPatternsByLanguage($){try{let J=await this.client.fetchPatterns($.toLowerCase());return z.info(`ApiPatternSource: Fetched ${J.length} ${$} patterns from API`),J}catch(J){throw z.error(`ApiPatternSource: Failed to fetch ${$} patterns`,J),J}}async getPatternsByType($){let X=(await this.getAllPatterns()).filter((Q)=>Q.type===$);return z.info(`ApiPatternSource: Returning ${X.length} patterns of type ${$}`),X}async getAllPatterns(){let $=[];for(let J of this.supportedLanguages)try{let X=await this.client.fetchPatterns(J);$.push(...X)}catch(X){z.warn(`Failed to fetch ${J} patterns, continuing...`,X)}return z.info(`ApiPatternSource: Fetched ${$.length} total patterns from API`),$}}class C1{apiSource;localSource;constructor($,J){this.apiSource=new P1($,J),this.localSource=new F0}async getPatternsByLanguage($){try{return await this.apiSource.getPatternsByLanguage($)}catch(J){return z.warn(`Falling back to local patterns for ${$} due to API error`,J),await this.localSource.getPatternsByLanguage($)}}async getPatternsByType($){try{return await this.apiSource.getPatternsByType($)}catch(J){return z.warn(`Falling back to local patterns for type ${$} due to API error`,J),await this.localSource.getPatternsByType($)}}async getAllPatterns(){try{return await this.apiSource.getAllPatterns()}catch($){return z.warn("Falling back to local patterns due to API error",$),await this.localSource.getAllPatterns()}}}function j$(){let $=process.env.RSOLV_API_KEY,J=process.env.RSOLV_API_URL;if(process.env.USE_LOCAL_PATTERNS==="true")return z.info("Using local pattern source (USE_LOCAL_PATTERNS=true)"),new F0;if($)return z.info("Using hybrid pattern source with API key"),new C1($,J);return z.warn("No API key provided, using local pattern source only"),new F0}v();class w${patternSource;cachedPatterns=new Map;constructor($){this.patternSource=$||j$()}async detect($,J){let X=[],Q=$.split(`
`),G=new Set;try{let W=await this.patternSource.getPatternsByLanguage(J);z.info(`SecurityDetectorV2: Analyzing ${J} code with ${W.length} patterns`);for(let Y of W)if(Y.patterns.regex)for(let H of Y.patterns.regex){let q;H.lastIndex=0;while((q=H.exec($))!==null){let B=this.getLineNumber($,q.index),U=Q[B-1]?.trim()||"";if(this.isSafeUsage(U,Y.type))continue;let M=`${B}:${Y.type}`;if(G.has(M))continue;if(G.add(M),X.push({type:Y.type,severity:Y.severity,line:B,message:`${Y.name}: ${Y.description}`,description:Y.description,confidence:this.getConfidence(U,Y.type),cweId:Y.cweId,owaspCategory:Y.owaspCategory,remediation:Y.remediation}),!H.global)break}}}catch(W){z.error("Error detecting vulnerabilities:",W)}return X}async detectIssues($){return(await this.detect($.content,$.language)).map((X)=>({patternId:X.cweId||`${X.type}-001`,severity:X.severity,line:X.line,column:1,message:X.message,description:X.description,file:$.filePath,type:X.type,remediation:X.remediation,confidence:X.confidence}))}async scanDirectory($){return z.info(`SecurityDetectorV2: Starting directory scan of ${$}`),{vulnerabilities:[],fileCount:0,totalIssues:0,criticalCount:0,highCount:0,mediumCount:0,lowCount:0,byType:new Map,byFile:new Map}}getLineNumber($,J){return $.substring(0,J).split(`
`).length}isSafeUsage($,J){return({sql_injection:[/\?.+\?/,/\$\d+/,/:\w+/,/prepare\s*\(/i,/setParameter/i,/bindParam/i],xss:[/escape/i,/sanitize/i,/encode/i,/textContent/,/innerText/,/createTextNode/],command_injection:[/escapeshellarg/i,/escapeshellcmd/i,/quote/i]}[J]||[]).some((G)=>G.test($))}getConfidence($,J){if(({sql_injection:[/\+\s*req\./,/\+\s*request\./,/\$\{.*req\./,/`.*\$\{.*req\./],xss:[/innerHTML\s*=\s*[^'"]*req\./,/document\.write\s*\([^)]*req\./,/\$\([^)]+\)\.html\s*\([^)]*req\./]}[J]||[]).some((G)=>G.test($)))return"high";if(this.isSafeUsage($,J))return"low";return"medium"}}var fQ=new w$;class Z1{securityDetector;constructor(){let $=j$();this.securityDetector=new w$($)}async analyzeWithSecurity($,J,X){z.info(`Analyzing issue #${$.number} with security-aware analysis`);let Q=await this.performStandardAnalysis($,J),G;if(X&&X.size>0){if(G=await this.performSecurityAnalysis(X,$),G.hasSecurityIssues)Q.issueType="security",Q.estimatedComplexity=this.adjustComplexityForSecurity(Q.estimatedComplexity,G.riskLevel)}return{...Q,securityAnalysis:G}}async performSecurityAnalysis($,J){z.info("=== SECURITY ANALYSIS v2.0 ACTIVE ==="),z.info(`Performing security analysis on ${$.size} codebase files`);let X=[],Q=[];for(let[H,q]of $.entries()){let B=this.getLanguageFromPath(H);if(!B)continue;let U=await this.securityDetector.detect(q,B);if(U.length>0){let M=U.map((F)=>({...F,file:H}));X.push(...M),Q.push(H),z.info(`Found ${U.length} vulnerabilities in ${H}`)}}let G=this.calculateRiskLevel(X),W=this.generateSecurityRecommendations(X),Y={total:X.length,byType:{},bySeverity:{}};return X.forEach((H)=>{Y.byType[H.type]=(Y.byType[H.type]||0)+1,Y.bySeverity[H.severity]=(Y.bySeverity[H.severity]||0)+1}),{hasSecurityIssues:X.length>0,vulnerabilities:X,riskLevel:G,recommendations:W,affectedFiles:Q,summary:Y}}getLanguageFromPath($){switch($.split(".").pop()?.toLowerCase()){case"js":case"jsx":return"javascript";case"ts":case"tsx":return"typescript";case"py":return"python";case"rb":return"ruby";case"php":return"php";case"java":return"java";case"rs":return"rust";default:return null}}calculateRiskLevel($){if($.length===0)return"low";let J=$.filter((G)=>G.severity==="critical").length,X=$.filter((G)=>G.severity==="high").length,Q=$.filter((G)=>G.severity==="medium").length;if(J>0)return"critical";if(X>=3)return"critical";if(X>=1)return"high";if(Q>=3)return"high";if(Q>=1)return"medium";return"low"}generateSecurityRecommendations($){let J=new Set;for(let X of $){if(X.remediation)J.add(X.remediation);switch(X.type){case"sql_injection":J.add("Implement parameterized queries throughout the codebase"),J.add("Add input validation and sanitization");break;case"xss":J.add("Use secure DOM manipulation methods (textContent, not innerHTML)"),J.add("Implement Content Security Policy (CSP)");break;default:J.add("Review security best practices for this vulnerability type")}}return Array.from(J)}adjustComplexityForSecurity($,J){if(J==="critical")return"complex";if(J==="high"&&$==="simple")return"medium";if(J==="high"&&$==="medium")return"complex";return $}async performStandardAnalysis($,J){let{analyzeIssue:X}=await Promise.resolve().then(() => (E1(),C6));return await X($,J)}determineIssueType($){let J=$.title.toLowerCase(),X=$.body.toLowerCase(),Q=`${J} ${X}`;if(Q.includes("secur")||Q.includes("vulnerab")||Q.includes("hack")||Q.includes("attack")||Q.includes("xss")||Q.includes("sql injection"))return"security";if(Q.includes("fix")||Q.includes("bug"))return"bug";else if(Q.includes("add")||Q.includes("feature"))return"feature";else if(Q.includes("refactor"))return"refactoring";else if(Q.includes("performance"))return"performance";return"other"}}v();m0();class k1{generateLineLevelExplanation($,J){let X=`Line ${$.line}: ${this.getVulnerabilityDisplayName($.type)} Vulnerability`,Q=this.generateLineLevelContent($,J),G=this.generateSecureExample($.type,J);return{tier:"line",vulnerabilityId:`${$.type}-${$.line}`,title:X,content:Q,secureExample:G,riskLevel:$.severity,lineNumber:$.line,codeSnippet:J}}generateConceptLevelExplanation($,J){let X=`Understanding ${this.getVulnerabilityDisplayName($)}`,Q=this.generateConceptLevelContent($),G=this.getPreventionMethods($),W=this.getAttackScenarios($),Y=this.getRelatedConcepts($);return{tier:"concept",vulnerabilityType:$,title:X,content:Q,preventionMethods:G,attackScenarios:W,relatedConcepts:Y,affectedVulnerabilities:J.filter((H)=>H.type===$)}}generateBusinessLevelExplanation($){let J=this.calculateRiskScore($),X=this.analyzeBusinessImpact($),Q=this.analyzeComplianceImpact($),G=this.determinePriorities($),W=this.estimateTimeline($);return{tier:"business",title:"Security Risk Assessment and Business Impact",content:this.generateBusinessLevelContent($),businessImpact:X,complianceImpact:Q,riskScore:J,priorities:G,timeline:W}}generateCompleteExplanation($,J){let X=[];for(let H of $){let q=this.extractCodeSnippet(H,J);X.push(this.generateLineLevelExplanation(H,q))}let G=[...new Set($.map((H)=>H.type))].map((H)=>this.generateConceptLevelExplanation(H,$)),W=this.generateBusinessLevelExplanation($),Y=this.generateSummary($);return{lineLevelExplanations:X,conceptLevelExplanations:G,businessLevelExplanation:W,summary:Y,timestamp:new Date().toISOString()}}formatAsMarkdown($){if($.tier==="line")return this.formatLineLevelMarkdown($);else if($.tier==="concept")return this.formatConceptLevelMarkdown($);else return this.formatBusinessLevelMarkdown($)}generateMarkdownReport($){let J=`# Security Vulnerability Explanation

`;J+=`**Generated:** ${new Date($.timestamp).toLocaleDateString()}

`,J+=`## Summary

`,J+=`- **Total Vulnerabilities:** ${$.summary.totalVulnerabilities}
`,J+=`- **Estimated Fix Time:** ${$.summary.estimatedFixTime}
`,J+=`- **Risk Score:** ${$.businessLevelExplanation.riskScore}/100

`,J+=`## Line-Level Analysis

`;for(let X of $.lineLevelExplanations)J+=this.formatLineLevelMarkdown(X)+`
`;J+=`## Concept-Level Analysis

`;for(let X of $.conceptLevelExplanations)J+=this.formatConceptLevelMarkdown(X)+`
`;return J+=`## Business Impact Analysis

`,J+=this.formatBusinessLevelMarkdown($.businessLevelExplanation),J}generateLineLevelContent($,J){return{sql_injection:"This line contains a SQL injection vulnerability because it uses string concatenation to build a database query. User input is directly embedded into the SQL statement without proper sanitization, allowing attackers to manipulate the query logic.",xss:"This line contains a cross-site scripting (XSS) vulnerability because it directly assigns user-controlled content to innerHTML without sanitization. This allows attackers to inject malicious scripts that execute in other users' browsers.",broken_access_control:"This endpoint lacks proper access control checks, allowing unauthorized users to access restricted functionality or data.",sensitive_data_exposure:"This line exposes sensitive data in plain text, making it vulnerable to unauthorized access or accidental disclosure."}[$.type]||`This line contains a ${$.type} vulnerability that poses security risks.`}generateSecureExample($,J){return{sql_injection:`const query = "SELECT * FROM users WHERE id = ?";
db.query(query, [userId], callback);`,xss:`element.textContent = userInput;
// or use a sanitization library:
element.innerHTML = DOMPurify.sanitize(userInput);`,broken_access_control:`app.get("/admin/users", authenticateUser, authorizeAdmin, (req, res) => {
  // handler code
});`,sensitive_data_exposure:`const hashedPassword = await bcrypt.hash(password, 10);
// Never log sensitive data`}[$]||"Use secure coding practices for this vulnerability type."}generateConceptLevelContent($){return{sql_injection:"SQL injection is a code injection technique that exploits vulnerabilities in an application's database layer. Attackers insert malicious SQL code into application queries, potentially gaining unauthorized access to sensitive data, modifying database contents, or executing administrative operations.",xss:"Cross-Site Scripting (XSS) allows attackers to inject client-side scripts into web pages viewed by other users. When successful, XSS attacks can access sensitive page content, session tokens, or other sensitive information, and can perform actions on behalf of the victim.",broken_access_control:"Broken access control occurs when applications fail to properly restrict what authenticated users are allowed to do. This can lead to unauthorized information disclosure, modification, or destruction of data, or performing business functions outside the user's limits."}[$]||`${$} represents a security vulnerability that requires attention.`}getPreventionMethods($){return{sql_injection:["Use parameterized queries or prepared statements","Implement input validation and sanitization","Apply principle of least privilege for database accounts"],xss:["Output encoding and escaping","Input validation and sanitization","Content Security Policy (CSP) implementation"],broken_access_control:["Implement proper authentication mechanisms","Use role-based access control (RBAC)","Apply principle of least privilege"]}[$]||["Implement secure coding practices"]}getAttackScenarios($){return{sql_injection:["Data extraction through UNION-based attacks","Authentication bypass via boolean-based attacks"],xss:["Script injection to steal session cookies","Phishing attacks through content manipulation"],broken_access_control:["Privilege escalation to admin functions","Horizontal privilege escalation to other users' data"]}[$]||["Various attack vectors possible"]}getRelatedConcepts($){return{sql_injection:["Input validation","Database security","Query parameterization"],xss:["Content Security Policy","Input sanitization","Output encoding"],broken_access_control:["Authentication","Authorization","Session management"]}[$]||["Security fundamentals"]}calculateRiskScore($){let J=0;for(let X of $)switch(X.severity){case"critical":J+=25;break;case"high":J+=20;break;case"medium":J+=15;break;case"low":J+=10;break}return Math.min(100,J)}analyzeBusinessImpact($){let J=$.some((X)=>X.severity==="critical"||X.severity==="high");return{dataLoss:J?"High risk of sensitive data exposure or theft":"Moderate risk of data exposure",reputationalDamage:J?"Severe impact on customer trust and brand reputation":"Potential minor impact on reputation",financialImpact:J?"Significant costs from breaches, compliance fines, and recovery":"Minimal direct financial impact",operationalDisruption:J?"Potential system compromise affecting business operations":"Limited operational impact"}}analyzeComplianceImpact($){let J=[];if($.some((X)=>X.type==="sql_injection"||X.type==="xss"))J.push("OWASP Top 10 compliance violation");if($.some((X)=>X.type==="sensitive_data_exposure"))J.push("GDPR/CCPA data protection requirements at risk");return J.length>0?J:["Monitor compliance requirements"]}determinePriorities($){let J=[];if($.some((X)=>X.severity==="critical"))J.push("Immediate action required for critical vulnerabilities");if($.some((X)=>X.severity==="high"))J.push("High priority fixes should be completed within 24-48 hours");return J.push("Implement comprehensive security testing"),J}estimateTimeline($){let J=$.filter((Q)=>Q.severity==="critical").length,X=$.filter((Q)=>Q.severity==="high").length;if(J>0)return"Immediate (within 24 hours)";if(X>0)return"Urgent (within 48 hours)";return"Standard (within 1 week)"}generateBusinessLevelContent($){let J=this.calculateRiskScore($),X=this.groupBySeverity($);return`Your application has ${$.length} security vulnerabilities with a risk score of ${J}/100. 
    This includes ${X.critical} critical, ${X.high} high, ${X.medium} medium, 
    and ${X.low} low severity issues. These vulnerabilities pose significant risks to your business 
    operations, customer data, and regulatory compliance.`}extractCodeSnippet($,J){for(let X of Object.values(J)){let Q=X.split(`
`);if($.line<=Q.length)return Q[$.line-1]||"Code snippet not available"}return"Code snippet not available"}generateSummary($){let J=this.groupBySeverity($),X=this.identifyPrimaryRisks($),Q=this.estimateFixTime($);return{totalVulnerabilities:$.length,severityBreakdown:J,primaryRisks:X,estimatedFixTime:Q}}groupBySeverity($){let J={critical:0,high:0,medium:0,low:0};for(let X of $)J[X.severity]++;return J}identifyPrimaryRisks($){return[...new Set($.map((X)=>this.getVulnerabilityDisplayName(X.type)))].slice(0,3)}estimateFixTime($){let J=$.length*2;if(J<8)return`${J} hours`;return`${Math.ceil(J/8)} days`}getVulnerabilityDisplayName($){return{sql_injection:"SQL Injection",xss:"Cross-Site Scripting (XSS)",broken_access_control:"Broken Access Control",sensitive_data_exposure:"Sensitive Data Exposure",xml_external_entities:"XML External Entities (XXE)",security_misconfiguration:"Security Misconfiguration",vulnerable_components:"Vulnerable Components",broken_authentication:"Broken Authentication",insecure_deserialization:"Insecure Deserialization",insufficient_logging:"Insufficient Logging"}[$]||$}formatLineLevelMarkdown($){return`### ${$.title}

**Risk Level:** ${$.riskLevel}

${$.content}

**Vulnerable Code:**
\`\`\`javascript
${$.codeSnippet}
\`\`\`

**Secure Example:**
\`\`\`javascript
${$.secureExample}
\`\`\`

`}formatConceptLevelMarkdown($){let J=`### ${$.title}

${$.content}

**Prevention Methods:**
`;for(let X of $.preventionMethods)J+=`- ${X}
`;J+=`
**Common Attack Scenarios:**
`;for(let X of $.attackScenarios)J+=`- ${X}
`;return J+`
`}formatBusinessLevelMarkdown($){return`### ${$.title}

**Risk Score:** ${$.riskScore}/100

${$.content}

**Business Impact:**
- **Data Loss Risk:** ${$.businessImpact.dataLoss}
- **Reputational Damage:** ${$.businessImpact.reputationalDamage}  
- **Financial Impact:** ${$.businessImpact.financialImpact}
- **Operational Disruption:** ${$.businessImpact.operationalDisruption}

**Timeline:** ${$.timeline}

`}}import{spawn as v7}from"child_process";import{join as k6}from"path";import{fileURLToPath as b7}from"url";import{createInterface as f7}from"readline";import{existsSync as x7}from"fs";var h7=b7(import.meta.url),m7=k6(h7,"..");async function*T6({prompt:$,options:{abortController:J=new AbortController,allowedTools:X=[],appendSystemPrompt:Q,customSystemPrompt:G,cwd:W,disallowedTools:Y=[],executable:H=g7()?"bun":"node",executableArgs:q=[],maxTurns:B,mcpServers:U,pathToClaudeCodeExecutable:M=k6(m7,"cli.js"),permissionMode:F="default",permissionPromptToolName:O,continue:I,resume:S,model:_,fallbackModel:T}={}}){if(!process.env.CLAUDE_CODE_ENTRYPOINT)process.env.CLAUDE_CODE_ENTRYPOINT="sdk-ts";let A=["--output-format","stream-json","--verbose"];if(G)A.push("--system-prompt",G);if(Q)A.push("--append-system-prompt",Q);if(B)A.push("--max-turns",B.toString());if(_)A.push("--model",_);if(O)A.push("--permission-prompt-tool",O);if(I)A.push("--continue");if(S)A.push("--resume",S);if(X.length>0)A.push("--allowedTools",X.join(","));if(Y.length>0)A.push("--disallowedTools",Y.join(","));if(U&&Object.keys(U).length>0)A.push("--mcp-config",JSON.stringify({mcpServers:U}));if(F!=="default")A.push("--permission-mode",F);if(T){if(_&&T===_)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");A.push("--fallback-model",T)}if(!$.trim())throw new RangeError("Prompt is required");if(A.push("--print",$.trim()),!x7(M))throw new ReferenceError(`Claude Code executable not found at ${M}. Is options.pathToClaudeCodeExecutable set?`);y7(`Spawning Claude Code process: ${H} ${[...q,M,...A].join(" ")}`);let s=v7(H,[...q,M,...A],{cwd:W,stdio:["pipe","pipe","pipe"],signal:J.signal,env:{...process.env}});if(s.stdin.end(),process.env.DEBUG)s.stderr.on("data",(a$)=>{console.error("Claude Code stderr:",a$.toString())});let O0=()=>{if(!s.killed)s.kill("SIGTERM")};J.signal.addEventListener("abort",O0),process.on("exit",O0);try{let a$=null;s.on("error",(S$)=>{a$=new Error(`Failed to spawn Claude Code process: ${S$.message}`)});let u6=new Promise((S$,y1)=>{s.on("close",(g1)=>{if(J.signal.aborted)y1(new v6("Claude Code process aborted by user"));if(g1!==0)y1(new Error(`Claude Code process exited with code ${g1}`));else S$()})}),m1=f7({input:s.stdout});try{for await(let S$ of m1){if(a$)throw a$;if(S$.trim())yield JSON.parse(S$)}}finally{m1.close()}await u6}finally{if(O0(),J.signal.removeEventListener("abort",O0),process.env.CLAUDE_SDK_MCP_SERVERS)delete process.env.CLAUDE_SDK_MCP_SERVERS}}function y7($){if(process.env.DEBUG)console.debug($)}function g7(){return process.versions.bun!==void 0||process.env.BUN_INSTALL!==void 0}class v6 extends Error{}v();import b6 from"path";import K0 from"fs";class w0{repoPath;config;claudeConfig;tempDir;usageData=[];credentialManager;constructor($,J=process.cwd(),X){if(this.config=$,this.repoPath=J,this.credentialManager=X,this.claudeConfig=$.claudeCodeConfig||{},this.tempDir=this.claudeConfig.tempDir||b6.join(process.cwd(),"temp"),!K0.existsSync(this.tempDir))try{K0.mkdirSync(this.tempDir,{recursive:!0})}catch(Q){z.warn(`Failed to create temp directory: ${Q}`)}if(this.claudeConfig.verboseLogging)z.info("Claude Code SDK adapter initialized with config:",JSON.stringify({tempDir:this.tempDir,contextOptions:this.claudeConfig.contextOptions,retryOptions:this.claudeConfig.retryOptions,timeout:this.claudeConfig.timeout},null,2))}async isAvailable(){try{return!0}catch($){return z.error("Claude Code SDK not available",$),!1}}async generateSolution($,J,X){let Q=0,G=this.claudeConfig.retryOptions?.maxRetries??2,W=this.claudeConfig.timeout??1800000,Y={startTime:Date.now(),issueId:$.id,successful:!1};try{if(z.info(`Generating solution using Claude Code SDK for issue: ${$.id}`),!await this.isAvailable())return z.warn("Claude Code SDK not available"),Y.errorType="sdk_not_available",this.trackUsage(Y),{success:!1,message:"Claude Code SDK not available",error:"Claude Code SDK not available. Please ensure @anthropic-ai/claude-code is installed."};let q=this.constructPrompt($,J,X),B=this.config.apiKey;if(this.config.useVendedCredentials&&this.credentialManager)try{B=this.credentialManager.getCredential("anthropic"),z.info("Using vended Anthropic credential for Claude Code SDK")}catch(F){z.warn("Failed to get vended credential, falling back to config API key",F)}process.env.ANTHROPIC_API_KEY=B;let U=new AbortController,M=setTimeout(()=>{U.abort()},W);try{let F=[],O=null,I=!0,S=0;if(this.claudeConfig.verboseLogging)z.info(`Starting Claude Code exploration for issue: ${$.title}`);for await(let _ of T6({prompt:q,options:{abortController:U,cwd:this.repoPath,maxTurns:30,pathToClaudeCodeExecutable:"/app/node_modules/@anthropic-ai/claude-code/cli.js"}})){if(F.push(_),S++,this.claudeConfig.verboseLogging&&_.type==="assistant"){let T=_;if(T.message?.content){for(let A of T.message.content)if(A.type==="tool_use")z.debug(`Claude exploring: ${A.name} tool`),I=!0;else if(A.type==="text"&&A.text){if(A.text.includes("```json")||A.text.includes("ultimate solution")||A.text.includes("Final Output"))I=!1,z.info("Claude transitioning to solution generation phase")}}}if(_.type==="text"&&_.text){let T=this.extractSolutionFromText(_.text);if(T){if(O=T,this.claudeConfig.verboseLogging)z.info("Found solution in text message")}}if(_.type==="assistant"){let T=_;if(T.message?.content){for(let A of T.message.content)if(A.type==="text"&&A.text){let s=this.extractSolutionFromText(A.text);if(s){if(O=s,this.claudeConfig.verboseLogging)z.info("Found solution in assistant message")}}}}}if(clearTimeout(M),Y.endTime=Date.now(),Y.solutionGenerationTime=Y.endTime-Y.startTime,O){if(Y.successful=!0,this.trackUsage(Y),this.claudeConfig.verboseLogging)z.info(`Claude Code completed exploration with ${S} messages`),z.info(`Solution found with ${O.files.length} file(s) to change`);let _={};return O.files.forEach((T)=>{_[T.path]=T.changes}),{success:!0,message:`Solution generated with Claude Code SDK after ${S} exploration steps`,changes:_}}else{if(z.warn(`No solution found in Claude Code SDK response after ${S} messages`),Y.errorType="no_solution_found",this.trackUsage(Y),this.claudeConfig.verboseLogging&&F.length>0)z.debug("Last 3 messages:",F.slice(-3).map((_)=>({type:_.type,content:_.text||_.message?.content?.[0]?.text?.slice(0,100)||"N/A"})));return{success:!1,message:"No solution found in response",error:`Claude Code explored the repository (${S} steps) but did not generate a valid JSON solution. This might indicate the issue requires more context or manual intervention.`}}}catch(F){let O=F.message||String(F);if(F.name==="AbortError"||O.includes("AbortError"))return z.error(`Claude Code SDK execution timed out after ${W/1000} seconds`),Y.errorType="timeout",Y.endTime=Date.now(),this.trackUsage(Y),{success:!1,message:"Claude Code SDK execution failed",error:`Claude Code SDK execution timed out after ${W/1000} seconds`};else return z.error("Claude Code SDK query failed",F),Y.errorType="query_error",Y.endTime=Date.now(),this.trackUsage(Y),{success:!1,message:"Claude Code SDK execution failed",error:`Claude Code SDK execution failed: ${O}`}}finally{clearTimeout(M)}}catch(H){return z.error("Unexpected error generating solution with Claude Code SDK",H),Y.errorType="unexpected_error",Y.endTime=Date.now(),this.trackUsage(Y),{success:!1,message:"Unexpected error using Claude Code SDK",error:H instanceof Error?H.message:String(H)}}}trackUsage($){if(this.claudeConfig.trackUsage!==!1){this.usageData.push($);let J=b6.join(this.tempDir,"claude-code-analytics.json");try{if(this.claudeConfig.verboseLogging)z.debug(`Saving analytics to: ${J}`);let X=[];if(K0.existsSync(J))X=JSON.parse(K0.readFileSync(J,"utf-8"));if(X.push($),X.length>100)X=X.slice(-100);if(K0.writeFileSync(J,JSON.stringify(X,null,2)),this.claudeConfig.verboseLogging)z.debug(`Analytics saved successfully with ${X.length} entries`)}catch(X){z.warn("Error saving analytics data",X)}if(this.claudeConfig.verboseLogging){let X=$.endTime?($.endTime-$.startTime)/1000:0;z.info(`Usage stats for issue ${$.issueId}: ${$.successful?"Success":"Failed"} in ${X.toFixed(1)}s`)}}}constructPrompt($,J,X){if(X)return X;return`You are an expert developer tasked with fixing an issue in a codebase. I need you to explore the repository, understand the problem deeply, and create a comprehensive solution.

## Issue Details:
- **Title**: ${$.title}
- **Description**: ${$.body}
- **Complexity**: ${J.complexity}
- **Estimated Time**: ${J.estimatedTime} minutes
- **Initial Related Files**: ${J.relatedFiles?.join(", ")||"To be discovered through exploration"}

## Your Task:

### Phase 1: Repository Exploration
First, explore the repository structure to understand:
- The overall architecture and file organization
- Where the vulnerability or issue might be located
- Related components that might be affected
- Existing patterns and coding standards

Use tools like Grep, Glob, and Read to explore the codebase thoroughly.

### Phase 2: Deep Analysis
Once you understand the codebase:
- Locate the exact source of the issue
- Understand how the vulnerable code works
- Identify all files that need changes
- Consider security implications and edge cases

### Phase 3: Solution Development
Develop your solution iteratively:
- Start with the core fix
- Add necessary validation and error handling
- Ensure the fix follows existing code patterns
- Consider adding tests if appropriate

### Phase 4: Final Output
After you've completed your exploration and solution development, provide your ultimate solution as a JSON object with this EXACT structure:

\`\`\`json
{
  "title": "Brief title for the PR (e.g., 'Fix XSS vulnerability in login form')",
  "description": "Detailed description explaining what was vulnerable, why it was dangerous, and how your fix addresses it",
  "files": [
    {
      "path": "exact/path/to/file.js",
      "changes": "The COMPLETE new content for the file (not a diff, but the full file content after changes)"
    }
  ],
  "tests": [
    "Description of test case 1 to verify the fix",
    "Description of test case 2 for edge cases"
  ]
}
\`\`\`

Remember: Take your time to explore and understand the codebase thoroughly before implementing the solution. The final JSON must be properly formatted and include the complete file contents after your changes.`}extractSolutionFromText($){try{let J=$.match(/```(?:json)?\s*([\s\S]*?)\s*```/);if(J){let Q=JSON.parse(J[1]);if(Q.title&&Q.description&&Array.isArray(Q.files))return z.debug("Successfully extracted solution from JSON code block"),{title:Q.title,description:Q.description,files:Q.files,tests:Q.tests||[]}}let X=JSON.parse($);if(X.title&&X.description&&Array.isArray(X.files))return z.debug("Successfully parsed solution directly from text"),{title:X.title,description:X.description,files:X.files,tests:X.tests||[]}}catch(J){z.debug("Could not extract JSON solution from text")}return null}getUsageData(){return this.usageData}getAnalyticsSummary(){let $=this.usageData.length;if($===0)return{total:0};let J=this.usageData.filter((Y)=>Y.successful).length,X=J/$*100,Q=this.usageData.filter((Y)=>Y.endTime!==void 0).map((Y)=>(Y.endTime-Y.startTime)/1000).reduce((Y,H)=>Y+H,0)/$,G=this.usageData.filter((Y)=>Y.cost!==void 0).map((Y)=>Y.cost).reduce((Y,H)=>Y+H,0),W=this.usageData.filter((Y)=>Y.errorType).reduce((Y,H)=>{let q=H.errorType;return Y[q]=(Y[q]||0)+1,Y},{});return{total:$,successful:J,successRate:X.toFixed(1)+"%",avgDuration:Q.toFixed(1)+"s",totalCost:"$"+G.toFixed(4),errorTypes:W}}}async function T1($,J,X,Q,G,W){try{if(z.info(`Generating solution for issue #${$.number}`),X.aiProvider.provider==="claude-code"&&!Q){z.info("Using Claude Code for solution generation");let I;if(X.aiProvider.useVendedCredentials&&X.rsolvApiKey){let{RSOLVCredentialManager:T}=await Promise.resolve().then(() => (h0(),N1));I=new T,await I.initialize(X.rsolvApiKey)}let _=await new w0(X.aiProvider,process.cwd(),I).generateSolution($,J);if(_.success)return{success:!0,message:"Solution generated with Claude Code",changes:_.changes};if(_.error&&_.error.includes("Claude Code CLI not available"))z.info("Claude Code not available, falling back to standard AI provider API");else return{success:!1,message:_.message,error:_.error}}let Y=X.aiProvider.provider==="claude-code"?{...X.aiProvider,provider:"anthropic",model:"claude-3-5-sonnet-20241022"}:X.aiProvider,H=Q||await i$(Y),q=await u7($,J,G);if(Object.keys(q).length===0)return z.warn(`No files found for analysis in issue #${$.number}`),{success:!1,message:"No relevant files found for analysis"};let B=P6(J.issueType),U=`${E6($,J,q)}

${B}`,M;if(W&&W.vulnerabilities&&W.vulnerabilities.length>0)z.info(`Including ${W.vulnerabilities.length} security vulnerabilities in solution prompt`),M=new k1().generateCompleteExplanation(W.vulnerabilities,q),z.info(`Generated three-tier explanations for ${M.lineLevelExplanations.length} vulnerabilities`),U+=`

## Security Analysis Results

The following security vulnerabilities were detected and MUST be addressed in your solution:

${W.vulnerabilities.map((S)=>`- **${S.severity} Severity**: ${S.type} in ${S.file}:${S.line}
   Pattern: ${S.pattern}
   Risk: ${S.risk}
   Recommendation: ${S.recommendation}`).join(`

`)}

Please ensure your solution addresses these security issues as a priority.`;z.info(`Calling AI with prompt length: ${U.length} chars`),z.info("Prompt preview (first 500 chars):",U.substring(0,500)),z.info("Prompt preview (last 500 chars):",U.substring(U.length-500));let F=await H.complete(U,{temperature:0.2,maxTokens:4000,model:X.aiProvider.model||"claude-3-sonnet-20240229"});z.info(`AI response length: ${F.length} chars`),z.info("Raw AI solution response (first 1000 chars):",F.substring(0,1000));let O=d7(F);if(z.debug(`Parsed ${Object.keys(O).length} file changes from response`),Object.keys(O).length===0)return z.warn(`No changes extracted from solution for issue #${$.number}`),{success:!1,message:"Failed to extract file changes from AI solution"};return{success:!0,message:"Solution generated successfully",changes:O,explanations:M}}catch(Y){return z.error(`Error generating solution for issue #${$.number}`,Y),{success:!1,message:`Error generating solution: ${Y instanceof Error?Y.message:String(Y)}`,error:String(Y)}}}async function u7($,J,X){try{let Q=[...J.filesToModify||[]];if(Q.length===0){z.info("No files explicitly identified, inferring from issue content");let W=`${$.title} ${$.body}`,Y=/\.([a-zA-Z0-9]+)\b/g,H=[],q;while((q=Y.exec(W))!==null)if(!H.includes(q[1]))H.push(q[1]);z.debug(`Inferred file extensions: ${H.join(", ")}`)}z.info(`Fetching content for ${Q.length} files`);let G={};for(let W of Q)try{if(X)G[W]=await X(W);else G[W]=await c7(W);z.debug(`Fetched content for ${W}`)}catch(Y){z.warn(`Failed to fetch content for ${W}`,Y)}return G}catch(Q){return z.error("Error getting files for analysis",Q),{}}}function d7($){let J={};try{let X=/---\s*([\w./-]+)\s*---\s*```[\w]*\n?([\s\S]*?)```/gm,Q;while((Q=X.exec($))!==null){let[,G,W]=Q;if(G&&W)J[G]=W.trim()}if(Object.keys(J).length===0){let G=/```(\w+)\s+([\w./-]+)\n([\s\S]*?)```/gm;while((Q=G.exec($))!==null){let[,,W,Y]=Q;if(W&&Y)J[W]=Y.trim()}}if(Object.keys(J).length===0){let G=/([\w./-]+):\s*```[\w]*\n?([\s\S]*?)```/gm;while((Q=G.exec($))!==null){let[,W,Y]=Q;if(W&&Y)J[W]=Y.trim()}}if(Object.keys(J).length===0){let G=/```[\w]*\n?([\s\S]*?)```/gm,W=/([\w./-]+\.\w+)/;while((Q=G.exec($))!==null){let Y=Q[1],H=Math.max(0,Q.index-100),B=$.substring(H,Q.index).match(W);if(B&&Y)J[B[1]]=Y.trim()}}return J}catch(X){return z.error("Error parsing solution response",X),{}}}async function c7($){switch(await new Promise((X)=>setTimeout(X,100)),$.split(".").pop()?.toLowerCase()){case"js":return`// Example JavaScript file content for ${$}
function processData(input) {
  // TODO: Implement proper validation
  return input.map(item => item.value);
}

module.exports = { processData };
`;case"ts":return`// Example TypeScript file content for ${$}
interface DataItem {
  id: string;
  value: number;
}

function processData(input: DataItem[]): number[] {
  // TODO: Implement proper validation
  return input.map(item => item.value);
}

export { DataItem, processData };
`;case"py":return`# Example Python file content for ${$}
def process_data(input_data):
    # TODO: Implement proper validation
    return [item['value'] for item in input_data]

if __name__ == "__main__":
    print(process_data([{'value': 1}, {'value': 2}]))
`;case"md":return`# Documentation for ${$.split("/").pop()?.replace(".md","")}

## Overview

This documentation describes the usage and implementation details.

## Installation

\`\`\`bash
npm install example-package
\`\`\`

## Usage

\`\`\`javascript
const { processData } = require('example-package');
const result = processData([{ id: '1', value: 42 }]);
\`\`\`
`;default:return`// Example file content for ${$}
// This is a placeholder for demonstration purposes
`}}v();m0();class v1{baseUrl;apiKey;constructor($){if(typeof $==="string")this.apiKey=$,this.baseUrl=process.env.RSOLV_API_URL||"https://api.rsolv.dev";else this.baseUrl=$.baseUrl,this.apiKey=$.apiKey}async createFixAttempt($){let J={github_org:$.repository_full_name?.split("/")[0]||"unknown",repo_name:$.repository_full_name?.split("/")[1]||"unknown",issue_number:$.issue_number,pr_number:parseInt($.github_pr_url?.split("/").pop()||"0"),pr_title:$.issue_title||"RSOLV Fix",pr_url:$.github_pr_url,issue_title:$.issue_title,issue_url:$.github_issue_url,api_key_used:this.apiKey,metadata:{ai_provider:$.ai_provider,ai_model:$.ai_model,security_vulnerabilities_found:$.security_vulnerabilities_found,estimated_time_saved_hours:$.estimated_time_saved_hours}};return this.recordFixAttempt(J)}async recordFixAttempt($){try{let J=await fetch(`${this.baseUrl}/api/v1/fix-attempts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`},body:JSON.stringify($)});if(J.ok)return{success:!0,data:await J.json()};else{let X=await J.json();return{success:!1,error:`API Error: ${J.status} - ${JSON.stringify(X)}`}}}catch(J){return{success:!1,error:J instanceof Error?J.message:"Unknown error"}}}}async function f6($,J,X,Q,G,W){try{z.info(`Creating pull request for issue #${$.number}`);let Y=await l7($);await n7(Y,J,$);let H=await r7($,X,J,Q,G,W),q=await o7($,Y,H,X);return z.info(`Successfully created PR #${q.pullRequestNumber} for issue #${$.number}`),q}catch(Y){return z.error(`Error creating pull request for issue #${$.number}`,Y),{success:!1,message:`Error creating pull request: ${Y instanceof Error?Y.message:String(Y)}`,error:String(Y)}}}async function l7($){let J=$.title.toLowerCase().replace(/[^\w\s-]/g,"").trim().replace(/[\s]+/g,"-").substring(0,30),X=`rsolv/${$.number}-${J}`;try{z.info(`Creating branch: ${X}`);let Q=l(),{owner:G,name:W}=$.repository;try{await Q.git.createRef({owner:G,repo:W,ref:`refs/heads/${X}`,sha:await p7(G,W,$.repository.defaultBranch)}),z.info(`Branch ${X} created successfully`)}catch(Y){if(Y.status===422)z.warn(`Branch ${X} already exists, using existing branch`);else throw Y}return X}catch(Q){return z.error(`Error creating branch ${X}`,Q),z.warn("Development mode: continuing with simulated branch"),X;throw new Error(`Failed to create branch: ${Q instanceof Error?Q.message:String(Q)}`)}}async function p7($,J,X){try{let Q=l(),{data:G}=await Q.git.getRef({owner:$,repo:J,ref:`heads/${X}`});return G.object.sha}catch(Q){throw z.error(`Error getting SHA for ${X}`,Q),new Error(`Failed to get SHA for ${X}: ${Q instanceof Error?Q.message:String(Q)}`)}}async function n7($,J,X){try{z.info(`Applying ${Object.keys(J).length} file changes to branch ${$}`);let Q=l(),{owner:G,name:W}=X.repository,Y=5,H=Object.keys(J);for(let q=0;q<H.length;q+=Y){let B=H.slice(q,q+Y);if(await Promise.all(B.map(async(U)=>{try{let M;try{let F=await Q.repos.getContent({owner:G,repo:W,path:U,ref:$});if(!Array.isArray(F.data))M=F.data.sha}catch(F){if(F.status!==404)throw F}await Q.repos.createOrUpdateFileContents({owner:G,repo:W,path:U,message:`Update ${U} for issue #${X.number}`,content:Buffer.from(J[U]).toString("base64"),branch:$,sha:M}),z.debug(`Updated file: ${U}`)}catch(M){throw z.error(`Error updating file ${U}`,M),M}})),q+Y<H.length)await new Promise((U)=>setTimeout(U,200))}z.info("All changes applied successfully")}catch(Q){z.error("Error applying changes to branch",Q),z.warn("Development mode: continuing despite errors in applying changes");return}}async function r7($,J,X,Q,G,W){try{z.info(`Generating PR description for issue #${$.number}`);let Y=i$(Q.aiProvider),H=I6($,J,X),B=await Y.complete(H,{temperature:0.3,maxTokens:1000,model:Q.aiProvider.model});if(G&&G.vulnerabilities&&G.vulnerabilities.length>0)B+=`

## \uD83D\uDD12 Security Fixes

This PR addresses the following security vulnerabilities:

`,G.vulnerabilities.forEach((U)=>{B+=`- **${U.severity}**: ${U.type} in \`${U.file}:${U.line}\`
`,B+=`  - Risk: ${U.risk}
`,B+=`  - Fixed by: ${U.recommendation}

`}),B+=`
### Security Impact
`,B+=`- **Vulnerabilities Fixed**: ${G.vulnerabilities.length}
`,B+=`- **Risk Level**: ${G.riskLevel||"Medium"}
`,B+=`- **Compliance**: OWASP Top 10 coverage
`;if(W){z.info("Including three-tier explanations in PR description"),B+=`

## \uD83D\uDCDA Educational Explanations

`;let U=W.businessLevelExplanation;if(B+=`### Executive Summary

`,B+=`**Risk Score**: ${U.riskScore}/100

`,B+=`${U.content}

`,B+=`**Key Business Impacts:**
`,B+=`- \uD83D\uDCB0 Financial: ${U.businessImpact.financialImpact}
`,B+=`- \uD83C\uDFE2 Reputation: ${U.businessImpact.reputationalDamage}
`,B+=`- \uD83D\uDCCA Operations: ${U.businessImpact.operationalDisruption}
`,B+=`- \uD83D\uDD12 Data: ${U.businessImpact.dataLoss}

`,U.priorities.length>0)B+=`**Recommended Actions:**
`,U.priorities.forEach((M)=>{B+=`- ${M}
`}),B+=`
`;if(B+=`<details>
<summary>View detailed technical explanations</summary>

`,W.conceptLevelExplanations.length>0)B+=`### Security Concepts

`,W.conceptLevelExplanations.forEach((M)=>{if(B+=`**${M.title}**
`,B+=`${M.content}

`,M.preventionMethods.length>0)B+=`Prevention methods:
`,M.preventionMethods.forEach((F)=>{B+=`- ${F}
`}),B+=`
`});B+=`</details>
`}return B+=`

This PR was automatically generated by [RSOLV](https://rsolv.dev) to address issue #${$.number}.`,B}catch(Y){return z.error("Error generating PR description",Y),`Fix for issue #${$.number}

This PR addresses the issue "${$.title}" by making changes to ${Object.keys(X).length} files.

This PR was automatically generated by [RSOLV](https://rsolv.dev).`}}async function o7($,J,X,Q){try{let G=`[RSOLV] ${$.title} (fixes #${$.number})`;z.info(`Creating PR: ${G}`);let W=l(),{owner:Y,name:H}=$.repository,{data:q}=await W.pulls.create({owner:Y,repo:H,title:G,body:X,head:J,base:$.repository.defaultBranch,draft:!1});return z.info(`Pull request created: ${q.html_url}`),await W.issues.addLabels({owner:Y,repo:H,issue_number:q.number,labels:["rsolv:automated",`type:${Q.issueType}`]}),await W.issues.createComment({owner:Y,repo:H,issue_number:$.number,body:`I've created a pull request to address this issue: ${q.html_url}

This was automatically generated by [RSOLV](https://rsolv.dev).`}),await i7($,q,G,config),{success:!0,message:"Pull request created successfully",pullRequestUrl:q.html_url,pullRequestNumber:q.number}}catch(G){z.error("Error creating GitHub PR",G);{z.warn("Development mode: returning mock PR due to error");let W=Math.floor(Math.random()*1000)+1;return{success:!0,message:"Pull request created successfully (dev fallback)",pullRequestUrl:`https://github.com/${$.repository.fullName}/pull/${W}`,pullRequestNumber:W}}throw new Error(`Failed to create GitHub PR: ${G instanceof Error?G.message:String(G)}`)}}async function i7($,J,X,Q){try{let G=process.env.RSOLV_API_URL||"https://api.rsolv.dev",W=process.env.RSOLV_API_KEY||Q.rsolvApiKey;if(!W){z.warn("RSOLV API key not configured, skipping fix attempt recording");return}let Y=new v1({baseUrl:G,apiKey:W}),H={github_org:$.repository.owner,repo_name:$.repository.name,issue_number:$.number,pr_number:J.number,pr_title:X,pr_url:J.html_url,issue_title:$.title,issue_url:$.url,api_key_used:W,metadata:{branch:J.head?.ref||`rsolv/${$.number}`,labels:["rsolv:automated"],created_by:"rsolv-action"}};z.info(`Recording fix attempt for PR #${J.number}`);let q=await Y.recordFixAttempt(H);if(q.success)z.info(`Fix attempt recorded successfully: ID ${q.data?.id}`);else z.error(`Failed to record fix attempt: ${q.error}`)}catch(G){z.error("Error recording fix attempt",G)}}v();import b1 from"fs";import x6 from"path";class f1 extends w0{contextCache=new Map;cacheTimeout=3600000;constructor($,J=process.cwd(),X){super($,J,X);if($.claudeCodeConfig?.contextCacheDuration)this.cacheTimeout=$.claudeCodeConfig.contextCacheDuration}async gatherDeepContext($,J){let X=`${$.repository.fullName}-${J.contextDepth}`;if(this.contextCache.has(X)){let G=this.contextCache.get(X);return z.info("Using cached repository context"),G}z.info(`Starting deep context gathering with depth: ${J.contextDepth}`);let Q=Date.now();try{let G=this.buildContextGatheringPrompt($,J),W=x6.join(this.tempDir,`context-prompt-${Date.now()}.txt`);b1.writeFileSync(W,G);let Y=x6.join(this.tempDir,`context-${Date.now()}.json`),H=await this.executeClaudeCode(W,Y,{startTime:Q,issueId:$.id,successful:!1},J.maxExplorationTime),q=await this.parseContextResult(H);this.contextCache.set(X,q),this.cleanupTempFiles([W,Y]);let B=Date.now()-Q;return z.info(`Deep context gathering completed in ${B}ms`),q}catch(G){return z.error("Error gathering deep context",G),this.createMinimalContext()}}async generateEnhancedSolution($,J,X){z.info("Generating enhanced solution with deep context");let Q=await this.gatherDeepContext($,{enableUltraThink:!0,maxExplorationTime:this.config.claudeCodeConfig?.contextGatheringTimeout||300000,contextDepth:this.config.claudeCodeConfig?.contextDepth||"deep",includeArchitectureAnalysis:!0,includeTestPatterns:!0,includeStyleGuide:!0,includeDependencyAnalysis:!0}),G=this.buildEnhancedSolutionPrompt($,J,Q,X);return await this.generateSolution($,J,G)}buildContextGatheringPrompt($,J){return`${J.enableUltraThink?`ultrathink

`:""}I need you to perform a comprehensive analysis of this repository to gather deep context for solving an issue.

Issue Context:
Title: ${$.title}
Description: ${$.body}

Repository: ${$.repository.fullName}
Language: ${$.repository.language||"Unknown"}

Exploration Depth: ${J.contextDepth}

Please analyze the repository and provide detailed information about:

1. Architecture and Design Patterns
   - Overall architecture style
   - Main design patterns used
   - Component organization
   - Module structure

2. Code Conventions and Style
   - Naming conventions for files, functions, variables
   - Import/export patterns
   - Comment and documentation style
   - Error handling patterns

3. Testing Framework and Patterns
   - Test framework(s) used
   - Test file organization
   - Test naming conventions
   - Mocking strategies

4. Dependencies and External Libraries
   - Runtime dependencies and their usage
   - Development dependencies
   - Build tools and configurations
   - External API integrations

5. Related Components
   - Files likely to be affected by this issue
   - Related modules and interfaces
   - Shared utilities or helpers
   - Configuration files

${J.includeStyleGuide?`6. Style Guide and Best Practices
   - Code formatting rules
   - Documentation requirements
   - Security practices
   - Performance considerations
`:""}

Explore the repository comprehensively, examining:
- Configuration files (package.json, tsconfig.json, etc.)
- README and documentation
- Build and CI/CD configurations
- Test suites and examples
- Similar implementations to the requested feature

Take your time to understand the codebase deeply. Look for patterns, conventions, and architectural decisions that should be followed when implementing the solution.

Format your response as a JSON object with the structure defined in the RepositoryContext interface.`}buildEnhancedSolutionPrompt($,J,X,Q){if(Q)return`ultrathink

${Q}

Additional Repository Context:
${JSON.stringify(X,null,2)}

Use this deep understanding of the repository to ensure your solution:
- Follows all established patterns and conventions
- Integrates seamlessly with existing architecture
- Includes tests that match the project's testing style
- Handles errors consistently with the rest of the codebase`;return`ultrathink

Using the comprehensive repository context I've gathered, generate a solution for:

Issue: ${$.title}
Description: ${$.body}

Repository Context Summary:
- Architecture: ${X.architecture.patterns.join(", ")}
- Main Components: ${X.architecture.mainComponents.join(", ")}
- Testing Framework: ${X.testingPatterns.framework}
- Code Style: ${X.codeConventions.namingPatterns.join(", ")}
- Error Handling: ${X.styleGuide.errorHandling}

Related Components that may need updates:
${X.relatedComponents.files.join(`
`)}

Generate a solution that:
1. Follows the exact patterns found in: ${X.codeConventions.fileOrganization}
2. Uses the same naming conventions as existing code
3. Includes comprehensive tests matching the style in the test directory
4. Handles errors using the pattern: ${X.styleGuide.errorHandling}
5. Updates all related components identified above
6. Maintains architectural consistency with the ${X.architecture.structure} structure
7. Uses appropriate dependencies from: ${X.dependencies.runtime.join(", ")}

Take time to think through all implications and create a production-ready solution that feels native to this codebase.

Format your response as a JSON object with title, description, files, and tests.`}async parseContextResult($){try{let J;if($.includes(`
`)){let X=$.split(`
`).filter((G)=>G.trim()),Q=X[X.length-1];J=JSON.parse(Q)}else J=JSON.parse($);return{architecture:J.architecture||this.createMinimalContext().architecture,codeConventions:J.codeConventions||this.createMinimalContext().codeConventions,testingPatterns:J.testingPatterns||this.createMinimalContext().testingPatterns,dependencies:J.dependencies||this.createMinimalContext().dependencies,relatedComponents:J.relatedComponents||this.createMinimalContext().relatedComponents,styleGuide:J.styleGuide||this.createMinimalContext().styleGuide}}catch(J){return z.error("Error parsing context result",J),this.createMinimalContext()}}createMinimalContext(){return{architecture:{patterns:["Unknown"],structure:"Standard",mainComponents:[]},codeConventions:{namingPatterns:["camelCase"],fileOrganization:"Standard",importPatterns:[]},testingPatterns:{framework:"Unknown",structure:"Standard",conventions:[]},dependencies:{runtime:[],dev:[],patterns:[]},relatedComponents:{files:[],modules:[],interfaces:[]},styleGuide:{formatting:"Standard",documentation:"JSDoc",errorHandling:"try-catch"}}}cleanupTempFiles($){for(let J of $)try{if(b1.existsSync(J))b1.unlinkSync(J)}catch(X){z.warn(`Failed to clean up temp file: ${J}`,X)}}clearContextCache(){this.contextCache.clear(),z.info("Context cache cleared")}getCacheStats(){return{size:this.contextCache.size,keys:Array.from(this.contextCache.keys())}}}async function h6($,J,X={},Q){z.info(`Processing ${$.length} issues with AI`);let G=[];for(let W of $)try{z.info(`Processing issue #${W.number}: ${W.title}`);let Y=await a7(W,J,X,Q);if(G.push(Y),Y.success)z.info(`Successfully processed issue #${W.number}. PR: ${Y.pullRequestUrl}`);else z.warn(`Failed to process issue #${W.number}: ${Y.message}`)}catch(Y){z.error(`Error processing issue #${W.number}`,Y),G.push({issueId:W.id,success:!1,message:p(`Error processing issue: ${Y instanceof Error?Y.message:String(Y)}`),error:p(String(Y))})}return G}async function a7($,J,X={},Q){let G=Date.now();try{z.info(`Analyzing issue #${$.number}`);let W,Y;if(X.enableSecurityAnalysis&&J.enableSecurityAnalysis!==!1){z.info(`Using security-aware analysis for issue #${$.number}`);let F=await new Z1().analyzeWithSecurity($,J);W=F,Y=F.securityAnalysis}else W=await S1($,J,Q?.aiClient);if(!W||!W.canBeFixed)return{issueId:$.id,success:!1,message:"Issue cannot be automatically fixed based on analysis"};z.info(`Generating solution for issue #${$.number}`);let H,q,B;if(X.enableEnhancedContext&&J.aiProvider.provider==="claude-code"){let M={provider:J.aiProvider.provider,apiKey:J.aiProvider.apiKey,model:J.aiProvider.model,temperature:J.aiProvider.temperature,maxTokens:J.aiProvider.maxTokens,useVendedCredentials:J.aiProvider.useVendedCredentials,claudeCodeConfig:{...J.claudeCodeConfig,enableDeepContext:!0,enableUltraThink:X.contextDepth==="ultra",contextDepth:X.contextDepth||"deep",contextGatheringTimeout:X.contextGatheringTimeout||600000,verboseLogging:X.verboseLogging||!1}},F;if(z.info(`Enhanced context setup - useVendedCredentials: ${J.aiProvider.useVendedCredentials}, rsolvApiKey: ${J.rsolvApiKey?"present":"missing"}`),J.aiProvider.useVendedCredentials&&J.rsolvApiKey){z.info("Creating credential manager for vended credentials");let{RSOLVCredentialManager:S}=await Promise.resolve().then(() => (h0(),N1));F=new S,await F.initialize(J.rsolvApiKey),z.info("Credential manager initialized successfully")}else z.info(`Skipping credential manager - useVended: ${J.aiProvider.useVendedCredentials}, apiKey: ${J.rsolvApiKey?"present":"missing"}`);let O=Date.now();z.info(`Creating EnhancedClaudeCodeAdapter with credentialManager: ${!!F}`),B=await new f1(M,process.cwd(),F).gatherDeepContext($,{contextDepth:X.contextDepth||"standard",maxExplorationTime:X.contextGatheringTimeout||600000,includeTests:!0,includeStyleGuide:!0}),q=Date.now()-O,H=await T1($,W,J,Q?.aiClient,Q?.fileGetter,Y)}else H=await T1($,W,J,Q?.aiClient,Q?.fileGetter,Y);if(!H||!H.success||!H.changes||Object.keys(H.changes).length===0)return{issueId:$.id,success:!1,message:H?.message||"No solution generated"};z.info(`Creating pull request for issue #${$.number}`);let U=await f6($,H.changes,W,J,Y,H.explanations);return{issueId:$.id,success:U.success,pullRequestUrl:U.pullRequestUrl,message:U.message,analysisData:W,contextGatheringTime:q,deepContext:X.verboseLogging?B:void 0,enhancedSolution:X.enableEnhancedContext,securityAnalysis:Y}}catch(W){return z.error(`Error processing issue #${$.number}`,W),{issueId:$.id,success:!1,message:p(`Error processing issue: ${W instanceof Error?W.message:String(W)}`),error:p(String(W)),processingTime:Date.now()-G}}}v();v();import{exec as s7}from"child_process";import{promisify as t7}from"util";var R0=t7(s7);class m6{async checkAvailability(){let{stdout:$}=await R0('docker version --format "{{.Server.Version}}"');return $.trim()}async pullImage($){let{stdout:J,stderr:X}=await R0(`docker pull ${$}`);if(z.debug(`Docker pull output: ${J}`),X)z.warn(`Docker pull stderr: ${X}`)}async runContainer($){return await R0($)}async stopContainer($){await R0(`docker stop ${$}`)}async removeContainer($){await R0(`docker rm ${$}`)}}function y6(){return new m6}async function g6($,J){try{if(!$.containerConfig.enabled){z.info("Container analysis is disabled, skipping container setup");return}z.info("Setting up analysis container"),e7($.containerConfig);let X=J||y6();try{await $X(X)}catch(Q){z.warn("Docker not available, disabling container analysis",Q),$.containerConfig.enabled=!1;return}await JX($.containerConfig,X),await XX($.containerConfig,$.securitySettings),z.info("Container setup completed successfully")}catch(X){throw z.error("Container setup failed",X),new Error(`Failed to set up analysis container: ${X instanceof Error?X.message:String(X)}`)}}function e7($){if(!$.image)throw new Error("Container image is required when container analysis is enabled");if($.memoryLimit&&!/^\d+[gmk]?b?$/i.test($.memoryLimit))throw new Error(`Invalid memory limit format: ${$.memoryLimit}`);if($.cpuLimit&&!/^\d+(\.\d+)?$/i.test($.cpuLimit))throw new Error(`Invalid CPU limit format: ${$.cpuLimit}`);if($.timeout&&(typeof $.timeout!=="number"||$.timeout<=0))throw new Error(`Invalid timeout value: ${$.timeout}`)}async function $X($){try{z.debug("Checking Docker availability");let J=await $.checkAvailability();z.debug(`Docker version: ${J}`)}catch(J){throw z.error("Docker is not available",J),new Error("Docker is required for container analysis but is not available or running")}}async function JX($,J){try{let X=$.image||"rsolv/code-analysis:latest";z.info(`Pulling container image: ${X}`);try{await J.pullImage(X)}catch(Q){z.warn(`Failed to pull image but continuing in development mode: ${Q instanceof Error?Q.message:String(Q)}`)}z.info(`Container image ${X} is ready`)}catch(X){throw z.error("Failed to pull container image",X),new Error(`Failed to pull container image: ${X instanceof Error?X.message:String(X)}`)}}async function XX($,J){try{switch(z.info("Configuring container with security settings"),$.securityProfile||"default"){case"strict":z.info("Applying strict security profile to container");break;case"relaxed":z.info("Applying relaxed security profile to container");break;case"default":default:z.info("Applying default security profile to container");break}if(J.disableNetworkAccess)z.info("Disabling network access for container");else if(J.allowedDomains&&J.allowedDomains.length>0)z.info(`Restricting network access to domains: ${J.allowedDomains.join(", ")}`);if($.memoryLimit)z.info(`Setting container memory limit: ${$.memoryLimit}`);if($.cpuLimit)z.info(`Setting container CPU limit: ${$.cpuLimit}`);if($.environmentVariables&&Object.keys($.environmentVariables).length>0)z.info(`Setting ${Object.keys($.environmentVariables).length} environment variables`);z.info("Container configuration completed")}catch(X){throw z.error("Failed to configure container",X),new Error(`Failed to configure container: ${X instanceof Error?X.message:String(X)}`)}}v();class x1{detector;github;constructor(){this.detector=new w$(j$()),this.github=l()}async scan($){z.info(`Starting vulnerability scan for ${$.repository.owner}/${$.repository.name}`);let J=Date.now(),X=await this.getRepositoryFiles($),Q=[];z.info(`Found ${X.length} files to scan`);for(let Y of X)if(Y.language&&this.isSupportedLanguage(Y.language))try{let H=await this.detector.detect(Y.content,Y.language);if(H.forEach((q)=>{q.filePath=Y.path}),Q.push(...H),H.length>0)z.info(`Found ${H.length} vulnerabilities in ${Y.path}`)}catch(H){z.error(`Error scanning file ${Y.path}:`,H)}let G=this.groupVulnerabilities(Q),W=Date.now()-J;return z.info(`Scan completed in ${W}ms. Found ${Q.length} vulnerabilities`),{repository:`${$.repository.owner}/${$.repository.name}`,branch:$.repository.defaultBranch,scanDate:new Date().toISOString(),totalFiles:X.length,scannedFiles:X.filter((Y)=>Y.language&&this.isSupportedLanguage(Y.language)).length,vulnerabilities:Q,groupedVulnerabilities:G,createdIssues:[]}}async getRepositoryFiles($){let J=[];try{let{data:X}=await this.github.git.getTree({owner:$.repository.owner,repo:$.repository.name,tree_sha:$.repository.defaultBranch,recursive:"1"}),Q=X.tree.filter((G)=>G.type==="blob"&&G.path&&this.isCodeFile(G.path)&&G.size&&G.size<1e6);for(let G of Q){if(!G.path||!G.sha)continue;try{let{data:W}=await this.github.git.getBlob({owner:$.repository.owner,repo:$.repository.name,file_sha:G.sha}),Y=Buffer.from(W.content,"base64").toString("utf-8"),H=this.detectLanguage(G.path);if(H)J.push({path:G.path,content:Y,language:H})}catch(W){z.error(`Error fetching content for ${G.path}:`,W)}}}catch(X){throw z.error("Error getting repository files:",X),X}return J}isCodeFile($){return[".js",".jsx",".ts",".tsx",".mjs",".cjs",".py",".pyw",".rb",".rake",".java",".php",".phtml",".ex",".exs"].some((X)=>$.endsWith(X))}detectLanguage($){let J={".js":"javascript",".jsx":"javascript",".ts":"typescript",".tsx":"typescript",".mjs":"javascript",".cjs":"javascript",".py":"python",".pyw":"python",".rb":"ruby",".rake":"ruby",".java":"java",".php":"php",".phtml":"php",".ex":"elixir",".exs":"elixir"},X=$.substring($.lastIndexOf("."));return J[X]||null}isSupportedLanguage($){return["javascript","typescript","python","ruby","java","php","elixir"].includes($.toLowerCase())}groupVulnerabilities($){let J=new Map;for(let X of $){let Q=`${X.type}-${X.severity}`;if(!J.has(Q))J.set(Q,{type:X.type,severity:X.severity,count:0,files:[],vulnerabilities:[]});let G=J.get(Q);if(G.count++,G.vulnerabilities.push(X),X.filePath&&!G.files.includes(X.filePath))G.files.push(X.filePath)}return Array.from(J.values()).sort((X,Q)=>{let G={high:0,medium:1,low:2},W=G[X.severity]-G[Q.severity];return W!==0?W:Q.count-X.count})}}v();class h1{github;constructor(){this.github=l()}async createIssuesFromGroups($,J){let X=[];if(!J.createIssues)return z.info("Issue creation disabled, skipping"),X;z.info(`Creating issues for ${$.length} vulnerability groups`);for(let Q of $)try{let G=await this.createIssueForGroup(Q,J);X.push(G),z.info(`Created issue #${G.number} for ${Q.type} vulnerabilities`)}catch(G){z.error(`Failed to create issue for ${Q.type}:`,G)}return X}async createIssueForGroup($,J){let X=this.generateIssueTitle($),Q=this.generateIssueBody($,J),{data:G}=await this.github.issues.create({owner:J.repository.owner,repo:J.repository.name,title:X,body:Q,labels:[J.issueLabel,"security",$.severity,"automated-scan"]});return{number:G.number,title:G.title,url:G.html_url,vulnerabilityType:$.type,fileCount:$.files.length}}generateIssueTitle($){let J={"sql-injection":"SQL Injection",xss:"Cross-Site Scripting (XSS)","command-injection":"Command Injection","path-traversal":"Path Traversal","weak-crypto":"Weak Cryptography","hardcoded-secret":"Hardcoded Secrets","insecure-random":"Insecure Random Number Generation","open-redirect":"Open Redirect",xxe:"XML External Entity (XXE)",ssrf:"Server-Side Request Forgery (SSRF)","nosql-injection":"NoSQL Injection","ldap-injection":"LDAP Injection","xpath-injection":"XPath Injection","weak-hash":"Weak Hashing Algorithm","insecure-deserialization":"Insecure Deserialization"},X=$.type||"security-vulnerability",Q=J[X]||X.replace(/-/g," ").replace(/\b\w/g,(Y)=>Y.toUpperCase()),G=$.files.length;return`\uD83D\uDD12 ${Q} vulnerabilities found in ${G} ${G===1?"file":"files"}`}generateIssueBody($,J){let X=[];X.push("## Security Vulnerability Report"),X.push("");let Q=$.type||"security-vulnerability";X.push(`**Type**: ${Q.replace(/-/g," ").replace(/\b\w/g,(W)=>W.toUpperCase())}`),X.push(`**Severity**: ${$.severity.toUpperCase()}`),X.push(`**Total Instances**: ${$.count}`),X.push(`**Affected Files**: ${$.files.length}`),X.push(""),X.push("### Description"),X.push(this.getVulnerabilityDescription(Q)),X.push(""),X.push("### Affected Files"),X.push("");let G=new Map;for(let W of $.vulnerabilities){if(!W.filePath)continue;if(!G.has(W.filePath))G.set(W.filePath,[]);G.get(W.filePath).push(W)}for(let[W,Y]of G){X.push(`#### \`${W}\``),X.push("");for(let H of Y.slice(0,3))if(X.push(`- **Line ${H.line}**: ${H.description}`),H.snippet)X.push("  ```"+this.detectLanguageFromPath(W)),X.push("  "+H.snippet.trim()),X.push("  ```");if(Y.length>3)X.push(`- ... and ${Y.length-3} more instances`);X.push("")}return X.push("### Recommendation"),X.push(this.getVulnerabilityRecommendation(Q)),X.push(""),X.push("---"),X.push("*This issue was automatically generated by RSOLV security scanner*"),X.push(`*Repository: ${J.repository.owner}/${J.repository.name}*`),X.push(`*Branch: ${J.repository.defaultBranch}*`),X.push(`*Scan Date: ${new Date().toISOString()}*`),X.join(`
`)}getVulnerabilityDescription($){return{"sql-injection":"SQL injection vulnerabilities occur when user input is directly concatenated into SQL queries without proper sanitization or parameterization. This can allow attackers to execute arbitrary SQL commands.",xss:"Cross-Site Scripting (XSS) vulnerabilities occur when user input is rendered in HTML without proper escaping. This can allow attackers to inject malicious scripts that execute in other users' browsers.","command-injection":"Command injection vulnerabilities occur when user input is passed directly to system commands. This can allow attackers to execute arbitrary system commands on the server.","path-traversal":"Path traversal vulnerabilities occur when user input is used to construct file paths without proper validation. This can allow attackers to access files outside the intended directory.","weak-crypto":"Weak cryptography vulnerabilities occur when outdated or insecure cryptographic algorithms are used. This can make encrypted data vulnerable to decryption by attackers.","hardcoded-secret":"Hardcoded secrets in source code can be exposed if the code is leaked or accessed by unauthorized parties. This includes API keys, passwords, and other sensitive credentials.","insecure-random":"Using insecure random number generators for security-critical operations can make systems predictable and vulnerable to attacks.","open-redirect":"Open redirect vulnerabilities occur when user input is used to construct redirect URLs without validation. This can be used in phishing attacks.",xxe:"XML External Entity (XXE) vulnerabilities occur when XML parsers process external entity references. This can lead to file disclosure, SSRF, or denial of service.",ssrf:"Server-Side Request Forgery (SSRF) vulnerabilities occur when user input is used to make HTTP requests from the server. This can allow access to internal resources.","nosql-injection":"NoSQL injection vulnerabilities occur when user input is used in NoSQL queries without proper sanitization. This can allow attackers to manipulate queries and access unauthorized data.","ldap-injection":"LDAP injection vulnerabilities occur when user input is used in LDAP queries without proper escaping. This can allow attackers to modify LDAP queries and bypass authentication.","xpath-injection":"XPath injection vulnerabilities occur when user input is used in XPath queries without proper sanitization. This can allow attackers to extract sensitive data from XML documents.","weak-hash":"Weak hashing algorithms like MD5 or SHA1 are vulnerable to collision attacks and should not be used for security-critical operations.","insecure-deserialization":"Insecure deserialization vulnerabilities occur when untrusted data is deserialized without proper validation. This can lead to remote code execution."}[$]||"This type of vulnerability can compromise the security of your application."}getVulnerabilityRecommendation($){return{"sql-injection":"Use parameterized queries or prepared statements instead of string concatenation. Never trust user input and always validate and sanitize it before use in SQL queries.",xss:"Always escape user input before rendering it in HTML. Use context-appropriate escaping functions and consider using a templating engine that provides automatic escaping.","command-injection":"Avoid executing system commands with user input. If necessary, use a whitelist of allowed values and escape shell metacharacters. Consider using language-specific APIs instead of shell commands.","path-traversal":"Validate and sanitize file paths. Use a whitelist of allowed directories and files. Resolve paths to their canonical form and ensure they stay within allowed boundaries.","weak-crypto":"Replace weak cryptographic algorithms with strong, modern alternatives. Use AES for encryption, SHA-256 or better for hashing, and ensure proper key management.","hardcoded-secret":"Remove hardcoded secrets from source code. Use environment variables, secure key management systems, or configuration files that are not committed to version control.","insecure-random":"Use cryptographically secure random number generators (CSPRNGs) for security-critical operations. Most languages provide secure alternatives to standard random functions.","open-redirect":"Validate redirect URLs against a whitelist of allowed domains. Avoid using user input directly in redirect locations.",xxe:"Disable XML external entity processing in XML parsers. Configure parsers to not resolve external entities or DTDs.",ssrf:"Validate and whitelist URLs before making requests. Implement network segmentation to limit access to internal resources.","nosql-injection":"Sanitize and validate user input before using it in NoSQL queries. Use parameterized queries where available and avoid string concatenation.","ldap-injection":"Escape special LDAP characters in user input. Use parameterized LDAP queries and validate input against expected patterns.","xpath-injection":"Use parameterized XPath queries or escape user input properly. Validate input against expected patterns and avoid dynamic query construction.","weak-hash":"Replace MD5 and SHA1 with SHA-256 or better for security operations. For password hashing, use bcrypt, scrypt, or Argon2.","insecure-deserialization":"Avoid deserializing untrusted data. If necessary, use safe serialization formats like JSON and validate the structure before processing."}[$]||"Review and fix the identified vulnerabilities according to security best practices."}detectLanguageFromPath($){let J=$.substring($.lastIndexOf("."));return{".js":"javascript",".jsx":"javascript",".ts":"typescript",".tsx":"typescript",".py":"python",".rb":"ruby",".java":"java",".php":"php",".ex":"elixir",".exs":"elixir"}[J]||""}}v();class g0{scanner;issueCreator;constructor(){this.scanner=new x1,this.issueCreator=new h1}async performScan($){z.info("Starting proactive security scan");try{let J=await this.scanner.scan($);if($.createIssues&&J.groupedVulnerabilities.length>0){z.info(`Creating issues for ${J.groupedVulnerabilities.length} vulnerability groups`);let X=await this.issueCreator.createIssuesFromGroups(J.groupedVulnerabilities,$);J.createdIssues=X,z.info(`Created ${X.length} issues`)}return this.logScanSummary(J),J}catch(J){throw z.error("Scan failed:",J),J}}logScanSummary($){if(z.info(""),z.info("=== SECURITY SCAN SUMMARY ==="),z.info(`Repository: ${$.repository}`),z.info(`Branch: ${$.branch}`),z.info(`Files scanned: ${$.scannedFiles}/${$.totalFiles}`),z.info(`Total vulnerabilities: ${$.vulnerabilities.length}`),z.info(""),$.groupedVulnerabilities.length>0){z.info("Vulnerabilities by type:");for(let J of $.groupedVulnerabilities)z.info(`  - ${J.type} (${J.severity}): ${J.count} instances in ${J.files.length} files`);z.info("")}if($.createdIssues.length>0){z.info("Created issues:");for(let J of $.createdIssues)z.info(`  - #${J.number}: ${J.title}`),z.info(`    ${J.url}`);z.info("")}z.info("=============================")}}async function QX(){try{z.info("Starting RSOLV action v2.0 - Enhanced Logging Active"),z.info(`Build timestamp: ${new Date().toISOString()}`);let $=await uJ();if(z.info("Configuration loaded successfully"),(process.env.RSOLV_SCAN_MODE||"fix")==="scan"){z.info("Running in SCAN mode - proactive vulnerability detection");let H=process.env.GITHUB_REPOSITORY;if(!H)throw new Error("GITHUB_REPOSITORY environment variable not set");let[q,B]=H.split("/"),U=await b0(q,B),F=await new g0().performScan({mode:"scan",repository:{owner:q,name:B,defaultBranch:U.defaultBranch||"main"},createIssues:!0,batchSimilar:!0,issueLabel:$.issueLabel||"rsolv:automate"});if(process.env.GITHUB_OUTPUT){let O=await import("fs");O.appendFileSync(process.env.GITHUB_OUTPUT,`scan_results=${JSON.stringify(F)}
`),O.appendFileSync(process.env.GITHUB_OUTPUT,`created_issues=${JSON.stringify(F.createdIssues)}
`)}return{success:!0,message:`Security scan completed. Found ${F.vulnerabilities.length} vulnerabilities and created ${F.createdIssues.length} issues.`}}z.info("Running in FIX mode - processing existing issues"),await A6($),z.info("Security check passed"),await g6($),z.info("Analysis container ready");let X=await O6($);if(z.info(`Found ${X.length} issues for automation across all platforms`),X.length===0)return z.info("No issues to process, exiting"),{success:!0,message:"No issues found for automation"};if($.maxIssues&&$.maxIssues>0&&X.length>$.maxIssues)z.info(`Limiting processing to ${$.maxIssues} issue(s) as configured`),X=X.slice(0,$.maxIssues);let Q={enableSecurityAnalysis:$.enableSecurityAnalysis!==!1,enableEnhancedContext:!0,verboseLogging:process.env.DEBUG==="true"},G=1200000,W=new Promise((H,q)=>{setTimeout(()=>{q(new Error(`Workflow timeout: Processing ${X.length} issues took longer than ${G/1000} seconds`))},G)}),Y=await Promise.race([h6(X,$,Q),W]);return z.info(`Successfully processed ${Y.filter((H)=>H.success).length}/${X.length} issues`),{success:!0,message:`RSOLV action completed successfully. Processed ${Y.length} issues.`}}catch($){return z.error("Action failed",$),{success:!1,message:`RSOLV action failed: ${$ instanceof Error?$.message:String($)}`}}}QX().then(($)=>{if($.success)process.exit(0);else process.exit(1)});
