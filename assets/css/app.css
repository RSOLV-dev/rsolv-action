@import "tailwindcss/base";
@import "tailwindcss/components";

/* Dark mode typography overrides using Tailwind Typography plugin */
@layer components {
  /* Use Tailwind's prose-invert for dark mode with custom color overrides */
  .dark .prose {
    --tw-prose-body: theme('colors.gray.300');
    --tw-prose-headings: theme('colors.gray.100');
    --tw-prose-lead: theme('colors.gray.300');
    --tw-prose-links: theme('colors.blue.400');
    --tw-prose-bold: theme('colors.gray.100');
    --tw-prose-counters: theme('colors.gray.400');
    --tw-prose-bullets: theme('colors.gray.400');
    --tw-prose-hr: theme('colors.gray.700');
    --tw-prose-quotes: theme('colors.gray.100');
    --tw-prose-quote-borders: theme('colors.gray.700');
    --tw-prose-captions: theme('colors.gray.400');
    --tw-prose-code: theme('colors.gray.100');
    --tw-prose-pre-code: theme('colors.gray.300');
    --tw-prose-pre-bg: theme('colors.gray.900');
    --tw-prose-th-borders: theme('colors.gray.600');
    --tw-prose-td-borders: theme('colors.gray.700');
  }
}

@import "tailwindcss/utilities";

/* Import fonts */
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;700&display=swap');

@font-face {
  font-family: 'Iosevka';
  src: url('/fonts/iosevka-regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Iosevka';
  src: url('/fonts/iosevka-bold.woff2') format('woff2');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* CSS Custom Properties for semantic colors */
@layer base {
  :root {
    /* Use Tailwind theme colors for consistency */
    --color-bg-canvas: theme('colors.brand.light');  /* #F5F5F5 */
    --color-bg-default: #fafafa;
    --color-bg-subtle: #f0f0f0;
    --color-border-default: theme('colors.gray.300');
    --color-border-muted: theme('colors.gray.200');
  }

  .dark {
    /* Dark mode using Tailwind's slate color palette */
    --color-bg-canvas: theme('colors.slate.950');     /* #020617 */
    --color-bg-default: theme('colors.slate.900');    /* #0f172a */
    --color-bg-subtle: theme('colors.slate.800');     /* #1e293b */
    --color-border-default: theme('colors.slate.700');
    --color-border-muted: theme('colors.slate.800');
  }

  /* Apply semantic backgrounds using Tailwind utilities */
  body {
    @apply font-sans text-gray-900 dark:text-gray-100 transition-colors;
    background-color: var(--color-bg-canvas);
  }
}

/* Utility classes that use our semantic colors */
@layer utilities {
  .bg-canvas {
    background-color: var(--color-bg-canvas);
  }
  
  .bg-DEFAULT {
    background-color: var(--color-bg-default);
  }
  
  .bg-subtle {
    background-color: var(--color-bg-subtle);
  }
  
  .border-DEFAULT {
    border-color: var(--color-border-default);
  }
  
  .border-muted {
    border-color: var(--color-border-muted);
  }
}

/* Component-specific styles using Tailwind */
@layer components {
  /* Buttons using Tailwind utilities */
  .btn-primary {
    @apply bg-brand-blue text-white font-medium py-2 px-6 rounded-md hover:bg-opacity-90 transition-colors;
  }

  .btn-success {
    @apply bg-brand-green text-white font-medium py-2 px-6 rounded-md hover:bg-opacity-90 transition-colors;
  }

  .btn-outline {
    @apply border-2 border-brand-blue text-brand-blue font-medium py-2 px-6 rounded-md hover:bg-brand-blue hover:bg-opacity-10 transition-colors;
  }

  /* Form inputs using Tailwind */
  .email-input {
    @apply w-full px-4 py-3 rounded-md bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-brand-blue;
  }

  /* Cards using semantic colors */
  .card {
    @apply rounded-lg shadow-sm transition-shadow;
    background-color: var(--color-bg-default);
    border: 1px solid var(--color-border-default);
  }

  /* Code blocks using Tailwind Typography */
  .prose pre {
    @apply rounded-2xl shadow-lg my-8 p-6;
  }

  .prose code {
    @apply rounded-md px-1 py-0.5;
    background-color: var(--color-bg-subtle);
    border: 1px solid var(--color-border-muted);
  }

  /* Header styles */
  .dark header {
    @apply bg-gray-900 border-gray-800;
  }

  /* Hero section gradient */
  .hero-gradient {
    background: linear-gradient(135deg, theme('colors.brand.blue') 0%, #5b89ff 100%);
  }
}

/* Smooth transitions */
* {
  @apply transition-colors duration-300;
}

/* Focus states */
@layer utilities {
  input:focus,
  textarea:focus,
  select:focus {
    @apply outline-none ring-2 ring-brand-blue;
  }
}

/* Loading states */
.spinner {
  @apply inline-block w-8 h-8 border-4 border-gray-200 dark:border-gray-700 border-t-brand-blue rounded-full animate-spin;
}

/* Screen reader only */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
  clip: rect(0, 0, 0, 0);
}